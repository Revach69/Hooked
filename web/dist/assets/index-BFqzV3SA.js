function tD(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function l0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var $g={exports:{}},gu={},zg={exports:{}},We={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sb;function nD(){if(Sb)return We;Sb=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function w(W){return W===null||typeof W!="object"?null:(W=g&&W[g]||W["@@iterator"],typeof W=="function"?W:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,T={};function k(W,X,ne){this.props=W,this.context=X,this.refs=T,this.updater=ne||E}k.prototype.isReactComponent={},k.prototype.setState=function(W,X){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,X,"setState")},k.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function P(){}P.prototype=k.prototype;function R(W,X,ne){this.props=W,this.context=X,this.refs=T,this.updater=ne||E}var M=R.prototype=new P;M.constructor=R,S(M,k.prototype),M.isPureReactComponent=!0;var j=Array.isArray,B=Object.prototype.hasOwnProperty,K={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function C(W,X,ne){var fe,Ee={},we=null,ue=null;if(X!=null)for(fe in X.ref!==void 0&&(ue=X.ref),X.key!==void 0&&(we=""+X.key),X)B.call(X,fe)&&!D.hasOwnProperty(fe)&&(Ee[fe]=X[fe]);var xe=arguments.length-2;if(xe===1)Ee.children=ne;else if(1<xe){for(var Re=Array(xe),Pe=0;Pe<xe;Pe++)Re[Pe]=arguments[Pe+2];Ee.children=Re}if(W&&W.defaultProps)for(fe in xe=W.defaultProps,xe)Ee[fe]===void 0&&(Ee[fe]=xe[fe]);return{$$typeof:t,type:W,key:we,ref:ue,props:Ee,_owner:K.current}}function V(W,X){return{$$typeof:t,type:W.type,key:X,ref:W.ref,props:W.props,_owner:W._owner}}function L(W){return typeof W=="object"&&W!==null&&W.$$typeof===t}function F(W){var X={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(ne){return X[ne]})}var $=/\/+/g;function N(W,X){return typeof W=="object"&&W!==null&&W.key!=null?F(""+W.key):X.toString(36)}function se(W,X,ne,fe,Ee){var we=typeof W;(we==="undefined"||we==="boolean")&&(W=null);var ue=!1;if(W===null)ue=!0;else switch(we){case"string":case"number":ue=!0;break;case"object":switch(W.$$typeof){case t:case e:ue=!0}}if(ue)return ue=W,Ee=Ee(ue),W=fe===""?"."+N(ue,0):fe,j(Ee)?(ne="",W!=null&&(ne=W.replace($,"$&/")+"/"),se(Ee,X,ne,"",function(Pe){return Pe})):Ee!=null&&(L(Ee)&&(Ee=V(Ee,ne+(!Ee.key||ue&&ue.key===Ee.key?"":(""+Ee.key).replace($,"$&/")+"/")+W)),X.push(Ee)),1;if(ue=0,fe=fe===""?".":fe+":",j(W))for(var xe=0;xe<W.length;xe++){we=W[xe];var Re=fe+N(we,xe);ue+=se(we,X,ne,Re,Ee)}else if(Re=w(W),typeof Re=="function")for(W=Re.call(W),xe=0;!(we=W.next()).done;)we=we.value,Re=fe+N(we,xe++),ue+=se(we,X,ne,Re,Ee);else if(we==="object")throw X=String(W),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return ue}function ie(W,X,ne){if(W==null)return W;var fe=[],Ee=0;return se(W,fe,"","",function(we){return X.call(ne,we,Ee++)}),fe}function ee(W){if(W._status===-1){var X=W._result;X=X(),X.then(function(ne){(W._status===0||W._status===-1)&&(W._status=1,W._result=ne)},function(ne){(W._status===0||W._status===-1)&&(W._status=2,W._result=ne)}),W._status===-1&&(W._status=0,W._result=X)}if(W._status===1)return W._result.default;throw W._result}var te={current:null},z={transition:null},oe={ReactCurrentDispatcher:te,ReactCurrentBatchConfig:z,ReactCurrentOwner:K};function le(){throw Error("act(...) is not supported in production builds of React.")}return We.Children={map:ie,forEach:function(W,X,ne){ie(W,function(){X.apply(this,arguments)},ne)},count:function(W){var X=0;return ie(W,function(){X++}),X},toArray:function(W){return ie(W,function(X){return X})||[]},only:function(W){if(!L(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},We.Component=k,We.Fragment=n,We.Profiler=s,We.PureComponent=R,We.StrictMode=r,We.Suspense=d,We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oe,We.act=le,We.cloneElement=function(W,X,ne){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var fe=S({},W.props),Ee=W.key,we=W.ref,ue=W._owner;if(X!=null){if(X.ref!==void 0&&(we=X.ref,ue=K.current),X.key!==void 0&&(Ee=""+X.key),W.type&&W.type.defaultProps)var xe=W.type.defaultProps;for(Re in X)B.call(X,Re)&&!D.hasOwnProperty(Re)&&(fe[Re]=X[Re]===void 0&&xe!==void 0?xe[Re]:X[Re])}var Re=arguments.length-2;if(Re===1)fe.children=ne;else if(1<Re){xe=Array(Re);for(var Pe=0;Pe<Re;Pe++)xe[Pe]=arguments[Pe+2];fe.children=xe}return{$$typeof:t,type:W.type,key:Ee,ref:we,props:fe,_owner:ue}},We.createContext=function(W){return W={$$typeof:l,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:o,_context:W},W.Consumer=W},We.createElement=C,We.createFactory=function(W){var X=C.bind(null,W);return X.type=W,X},We.createRef=function(){return{current:null}},We.forwardRef=function(W){return{$$typeof:c,render:W}},We.isValidElement=L,We.lazy=function(W){return{$$typeof:m,_payload:{_status:-1,_result:W},_init:ee}},We.memo=function(W,X){return{$$typeof:h,type:W,compare:X===void 0?null:X}},We.startTransition=function(W){var X=z.transition;z.transition={};try{W()}finally{z.transition=X}},We.unstable_act=le,We.useCallback=function(W,X){return te.current.useCallback(W,X)},We.useContext=function(W){return te.current.useContext(W)},We.useDebugValue=function(){},We.useDeferredValue=function(W){return te.current.useDeferredValue(W)},We.useEffect=function(W,X){return te.current.useEffect(W,X)},We.useId=function(){return te.current.useId()},We.useImperativeHandle=function(W,X,ne){return te.current.useImperativeHandle(W,X,ne)},We.useInsertionEffect=function(W,X){return te.current.useInsertionEffect(W,X)},We.useLayoutEffect=function(W,X){return te.current.useLayoutEffect(W,X)},We.useMemo=function(W,X){return te.current.useMemo(W,X)},We.useReducer=function(W,X,ne){return te.current.useReducer(W,X,ne)},We.useRef=function(W){return te.current.useRef(W)},We.useState=function(W){return te.current.useState(W)},We.useSyncExternalStore=function(W,X,ne){return te.current.useSyncExternalStore(W,X,ne)},We.useTransition=function(){return te.current.useTransition()},We.version="18.3.1",We}var kb;function c0(){return kb||(kb=1,zg.exports=nD()),zg.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ib;function rD(){if(Ib)return gu;Ib=1;var t=c0(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,h){var m,g={},w=null,E=null;h!==void 0&&(w=""+h),d.key!==void 0&&(w=""+d.key),d.ref!==void 0&&(E=d.ref);for(m in d)r.call(d,m)&&!o.hasOwnProperty(m)&&(g[m]=d[m]);if(c&&c.defaultProps)for(m in d=c.defaultProps,d)g[m]===void 0&&(g[m]=d[m]);return{$$typeof:e,type:c,key:w,ref:E,props:g,_owner:s.current}}return gu.Fragment=n,gu.jsx=l,gu.jsxs=l,gu}var Cb;function sD(){return Cb||(Cb=1,$g.exports=rD()),$g.exports}var y=sD(),b=c0();const me=l0(b),x1=tD({__proto__:null,default:me},[b]);var Jh={},Wg={exports:{}},rr={},Hg={exports:{}},qg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pb;function iD(){return Pb||(Pb=1,function(t){function e(z,oe){var le=z.length;z.push(oe);e:for(;0<le;){var W=le-1>>>1,X=z[W];if(0<s(X,oe))z[W]=oe,z[le]=X,le=W;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var oe=z[0],le=z.pop();if(le!==oe){z[0]=le;e:for(var W=0,X=z.length,ne=X>>>1;W<ne;){var fe=2*(W+1)-1,Ee=z[fe],we=fe+1,ue=z[we];if(0>s(Ee,le))we<X&&0>s(ue,Ee)?(z[W]=ue,z[we]=le,W=we):(z[W]=Ee,z[fe]=le,W=fe);else if(we<X&&0>s(ue,le))z[W]=ue,z[we]=le,W=we;else break e}}return oe}function s(z,oe){var le=z.sortIndex-oe.sortIndex;return le!==0?le:z.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var d=[],h=[],m=1,g=null,w=3,E=!1,S=!1,T=!1,k=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(z){for(var oe=n(h);oe!==null;){if(oe.callback===null)r(h);else if(oe.startTime<=z)r(h),oe.sortIndex=oe.expirationTime,e(d,oe);else break;oe=n(h)}}function j(z){if(T=!1,M(z),!S)if(n(d)!==null)S=!0,ee(B);else{var oe=n(h);oe!==null&&te(j,oe.startTime-z)}}function B(z,oe){S=!1,T&&(T=!1,P(C),C=-1),E=!0;var le=w;try{for(M(oe),g=n(d);g!==null&&(!(g.expirationTime>oe)||z&&!F());){var W=g.callback;if(typeof W=="function"){g.callback=null,w=g.priorityLevel;var X=W(g.expirationTime<=oe);oe=t.unstable_now(),typeof X=="function"?g.callback=X:g===n(d)&&r(d),M(oe)}else r(d);g=n(d)}if(g!==null)var ne=!0;else{var fe=n(h);fe!==null&&te(j,fe.startTime-oe),ne=!1}return ne}finally{g=null,w=le,E=!1}}var K=!1,D=null,C=-1,V=5,L=-1;function F(){return!(t.unstable_now()-L<V)}function $(){if(D!==null){var z=t.unstable_now();L=z;var oe=!0;try{oe=D(!0,z)}finally{oe?N():(K=!1,D=null)}}else K=!1}var N;if(typeof R=="function")N=function(){R($)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,ie=se.port2;se.port1.onmessage=$,N=function(){ie.postMessage(null)}}else N=function(){k($,0)};function ee(z){D=z,K||(K=!0,N())}function te(z,oe){C=k(function(){z(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){S||E||(S=!0,ee(B))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(z){switch(w){case 1:case 2:case 3:var oe=3;break;default:oe=w}var le=w;w=oe;try{return z()}finally{w=le}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,oe){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var le=w;w=z;try{return oe()}finally{w=le}},t.unstable_scheduleCallback=function(z,oe,le){var W=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?W+le:W):le=W,z){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=le+X,z={id:m++,callback:oe,priorityLevel:z,startTime:le,expirationTime:X,sortIndex:-1},le>W?(z.sortIndex=le,e(h,z),n(d)===null&&z===n(h)&&(T?(P(C),C=-1):T=!0,te(j,le-W))):(z.sortIndex=X,e(d,z),S||E||(S=!0,ee(B))),z},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(z){var oe=w;return function(){var le=w;w=oe;try{return z.apply(this,arguments)}finally{w=le}}}}(qg)),qg}var Ab;function oD(){return Ab||(Ab=1,Hg.exports=iD()),Hg.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rb;function aD(){if(Rb)return rr;Rb=1;var t=c0(),e=oD();function n(i){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function o(i,a){l(i,a),l(i+"Capture",a)}function l(i,a){for(s[i]=a,i=0;i<a.length;i++)r.add(a[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},g={};function w(i){return d.call(g,i)?!0:d.call(m,i)?!1:h.test(i)?g[i]=!0:(m[i]=!0,!1)}function E(i,a,u,p){if(u!==null&&u.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return p?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function S(i,a,u,p){if(a===null||typeof a>"u"||E(i,a,u,p))return!0;if(p)return!1;if(u!==null)switch(u.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function T(i,a,u,p,v,x,A){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=p,this.attributeNamespace=v,this.mustUseProperty=u,this.propertyName=i,this.type=a,this.sanitizeURL=x,this.removeEmptyString=A}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){k[i]=new T(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var a=i[0];k[a]=new T(a,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){k[i]=new T(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){k[i]=new T(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){k[i]=new T(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){k[i]=new T(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){k[i]=new T(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){k[i]=new T(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){k[i]=new T(i,5,!1,i.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function R(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var a=i.replace(P,R);k[a]=new T(a,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var a=i.replace(P,R);k[a]=new T(a,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var a=i.replace(P,R);k[a]=new T(a,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){k[i]=new T(i,1,!1,i.toLowerCase(),null,!1,!1)}),k.xlinkHref=new T("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){k[i]=new T(i,1,!1,i.toLowerCase(),null,!0,!0)});function M(i,a,u,p){var v=k.hasOwnProperty(a)?k[a]:null;(v!==null?v.type!==0:p||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(S(a,u,v,p)&&(u=null),p||v===null?w(a)&&(u===null?i.removeAttribute(a):i.setAttribute(a,""+u)):v.mustUseProperty?i[v.propertyName]=u===null?v.type===3?!1:"":u:(a=v.attributeName,p=v.attributeNamespace,u===null?i.removeAttribute(a):(v=v.type,u=v===3||v===4&&u===!0?"":""+u,p?i.setAttributeNS(p,a,u):i.setAttribute(a,u))))}var j=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),K=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),F=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),ie=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),te=Symbol.for("react.offscreen"),z=Symbol.iterator;function oe(i){return i===null||typeof i!="object"?null:(i=z&&i[z]||i["@@iterator"],typeof i=="function"?i:null)}var le=Object.assign,W;function X(i){if(W===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);W=a&&a[1]||""}return`
`+W+i}var ne=!1;function fe(i,a){if(!i||ne)return"";ne=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(J){var p=J}Reflect.construct(i,[],a)}else{try{a.call()}catch(J){p=J}i.call(a.prototype)}else{try{throw Error()}catch(J){p=J}i()}}catch(J){if(J&&p&&typeof J.stack=="string"){for(var v=J.stack.split(`
`),x=p.stack.split(`
`),A=v.length-1,U=x.length-1;1<=A&&0<=U&&v[A]!==x[U];)U--;for(;1<=A&&0<=U;A--,U--)if(v[A]!==x[U]){if(A!==1||U!==1)do if(A--,U--,0>U||v[A]!==x[U]){var H=`
`+v[A].replace(" at new "," at ");return i.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",i.displayName)),H}while(1<=A&&0<=U);break}}}finally{ne=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?X(i):""}function Ee(i){switch(i.tag){case 5:return X(i.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return i=fe(i.type,!1),i;case 11:return i=fe(i.type.render,!1),i;case 1:return i=fe(i.type,!0),i;default:return""}}function we(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case D:return"Fragment";case K:return"Portal";case V:return"Profiler";case C:return"StrictMode";case N:return"Suspense";case se:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case F:return(i.displayName||"Context")+".Consumer";case L:return(i._context.displayName||"Context")+".Provider";case $:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case ie:return a=i.displayName||null,a!==null?a:we(i.type)||"Memo";case ee:a=i._payload,i=i._init;try{return we(i(a))}catch{}}return null}function ue(i){var a=i.type;switch(i.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=a.render,i=i.displayName||i.name||"",a.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return we(a);case 8:return a===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function xe(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Re(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Pe(i){var a=Re(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),p=""+i[a];if(!i.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var v=u.get,x=u.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return v.call(this)},set:function(A){p=""+A,x.call(this,A)}}),Object.defineProperty(i,a,{enumerable:u.enumerable}),{getValue:function(){return p},setValue:function(A){p=""+A},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function Ue(i){i._valueTracker||(i._valueTracker=Pe(i))}function $e(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var u=a.getValue(),p="";return i&&(p=Re(i)?i.checked?"true":"false":i.value),i=p,i!==u?(a.setValue(i),!0):!1}function vt(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Dt(i,a){var u=a.checked;return le({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function Wn(i,a){var u=a.defaultValue==null?"":a.defaultValue,p=a.checked!=null?a.checked:a.defaultChecked;u=xe(a.value!=null?a.value:u),i._wrapperState={initialChecked:p,initialValue:u,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Hn(i,a){a=a.checked,a!=null&&M(i,"checked",a,!1)}function pn(i,a){Hn(i,a);var u=xe(a.value),p=a.type;if(u!=null)p==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(p==="submit"||p==="reset"){i.removeAttribute("value");return}a.hasOwnProperty("value")?Ft(i,a.type,u):a.hasOwnProperty("defaultValue")&&Ft(i,a.type,xe(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(i.defaultChecked=!!a.defaultChecked)}function ei(i,a,u){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var p=a.type;if(!(p!=="submit"&&p!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+i._wrapperState.initialValue,u||a===i.value||(i.value=a),i.defaultValue=a}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function Ft(i,a,u){(a!=="number"||vt(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var Ur=Array.isArray;function Br(i,a,u,p){if(i=i.options,a){a={};for(var v=0;v<u.length;v++)a["$"+u[v]]=!0;for(u=0;u<i.length;u++)v=a.hasOwnProperty("$"+i[u].value),i[u].selected!==v&&(i[u].selected=v),v&&p&&(i[u].defaultSelected=!0)}else{for(u=""+xe(u),a=null,v=0;v<i.length;v++){if(i[v].value===u){i[v].selected=!0,p&&(i[v].defaultSelected=!0);return}a!==null||i[v].disabled||(a=i[v])}a!==null&&(a.selected=!0)}}function Jt(i,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return le({},a,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function cr(i,a){var u=a.value;if(u==null){if(u=a.children,a=a.defaultValue,u!=null){if(a!=null)throw Error(n(92));if(Ur(u)){if(1<u.length)throw Error(n(93));u=u[0]}a=u}a==null&&(a=""),u=a}i._wrapperState={initialValue:xe(u)}}function Vi(i,a){var u=xe(a.value),p=xe(a.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),a.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),p!=null&&(i.defaultValue=""+p)}function qo(i){var a=i.textContent;a===i._wrapperState.initialValue&&a!==""&&a!==null&&(i.value=a)}function wt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ut(i,a){return i==null||i==="http://www.w3.org/1999/xhtml"?wt(a):i==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Tr,ti=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,u,p,v){MSApp.execUnsafeLocalFunction(function(){return i(a,u,p,v)})}:i}(function(i,a){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=a;else{for(Tr=Tr||document.createElement("div"),Tr.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Tr.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;a.firstChild;)i.appendChild(a.firstChild)}});function Mn(i,a){if(a){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=a;return}}i.textContent=a}var gs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qn=["Webkit","ms","Moz","O"];Object.keys(gs).forEach(function(i){qn.forEach(function(a){a=a+i.charAt(0).toUpperCase()+i.substring(1),gs[a]=gs[i]})});function Ko(i,a,u){return a==null||typeof a=="boolean"||a===""?"":u||typeof a!="number"||a===0||gs.hasOwnProperty(i)&&gs[i]?(""+a).trim():a+"px"}function Go(i,a){i=i.style;for(var u in a)if(a.hasOwnProperty(u)){var p=u.indexOf("--")===0,v=Ko(u,a[u],p);u==="float"&&(u="cssFloat"),p?i.setProperty(u,v):i[u]=v}}var Li=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ji(i,a){if(a){if(Li[i]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function Yo(i,a){if(i.indexOf("-")===-1)return typeof a.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $r=null;function On(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Fi=null,Kn=null,ur=null;function ni(i){if(i=tu(i)){if(typeof Fi!="function")throw Error(n(280));var a=i.stateNode;a&&(a=fh(a),Fi(i.stateNode,i.type,a))}}function Ne(i){Kn?ur?ur.push(i):ur=[i]:Kn=i}function _t(){if(Kn){var i=Kn,a=ur;if(ur=Kn=null,ni(i),a)for(i=0;i<a.length;i++)ni(a[i])}}function xt(i,a){return i(a)}function Zt(){}var Gn=!1;function St(i,a,u){if(Gn)return i(a,u);Gn=!0;try{return xt(i,a,u)}finally{Gn=!1,(Kn!==null||ur!==null)&&(Zt(),_t())}}function Qe(i,a){var u=i.stateNode;if(u===null)return null;var p=fh(u);if(p===null)return null;u=p[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(n(231,a,typeof u));return u}var zr=!1;if(c)try{var kt={};Object.defineProperty(kt,"passive",{get:function(){zr=!0}}),window.addEventListener("test",kt,kt),window.removeEventListener("test",kt,kt)}catch{zr=!1}function en(i,a,u,p,v,x,A,U,H){var J=Array.prototype.slice.call(arguments,3);try{a.apply(u,J)}catch(de){this.onError(de)}}var ys=!1,Yn=null,Sr=!1,Oc=null,gm={onError:function(i){ys=!0,Yn=i}};function Qa(i,a,u,p,v,x,A,U,H){ys=!1,Yn=null,en.apply(gm,arguments)}function jd(i,a,u,p,v,x,A,U,H){if(Qa.apply(this,arguments),ys){if(ys){var J=Yn;ys=!1,Yn=null}else throw Error(n(198));Sr||(Sr=!0,Oc=J)}}function Wr(i){var a=i,u=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(u=a.return),i=a.return;while(i)}return a.tag===3?u:null}function Qo(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function Hr(i){if(Wr(i)!==i)throw Error(n(188))}function Fd(i){var a=i.alternate;if(!a){if(a=Wr(i),a===null)throw Error(n(188));return a!==i?null:i}for(var u=i,p=a;;){var v=u.return;if(v===null)break;var x=v.alternate;if(x===null){if(p=v.return,p!==null){u=p;continue}break}if(v.child===x.child){for(x=v.child;x;){if(x===u)return Hr(v),i;if(x===p)return Hr(v),a;x=x.sibling}throw Error(n(188))}if(u.return!==p.return)u=v,p=x;else{for(var A=!1,U=v.child;U;){if(U===u){A=!0,u=v,p=x;break}if(U===p){A=!0,p=v,u=x;break}U=U.sibling}if(!A){for(U=x.child;U;){if(U===u){A=!0,u=x,p=v;break}if(U===p){A=!0,p=x,u=v;break}U=U.sibling}if(!A)throw Error(n(189))}}if(u.alternate!==p)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?i:a}function Vc(i){return i=Fd(i),i!==null?Xa(i):null}function Xa(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var a=Xa(i);if(a!==null)return a;i=i.sibling}return null}var Ja=e.unstable_scheduleCallback,Lc=e.unstable_cancelCallback,Ud=e.unstable_shouldYield,ym=e.unstable_requestPaint,dt=e.unstable_now,Bd=e.unstable_getCurrentPriorityLevel,Xo=e.unstable_ImmediatePriority,Ui=e.unstable_UserBlockingPriority,kr=e.unstable_NormalPriority,jc=e.unstable_LowPriority,$d=e.unstable_IdlePriority,Jo=null,dr=null;function zd(i){if(dr&&typeof dr.onCommitFiberRoot=="function")try{dr.onCommitFiberRoot(Jo,i,void 0,(i.current.flags&128)===128)}catch{}}var Vn=Math.clz32?Math.clz32:Hd,Fc=Math.log,Wd=Math.LN2;function Hd(i){return i>>>=0,i===0?32:31-(Fc(i)/Wd|0)|0}var Za=64,el=4194304;function Bi(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Zo(i,a){var u=i.pendingLanes;if(u===0)return 0;var p=0,v=i.suspendedLanes,x=i.pingedLanes,A=u&268435455;if(A!==0){var U=A&~v;U!==0?p=Bi(U):(x&=A,x!==0&&(p=Bi(x)))}else A=u&~v,A!==0?p=Bi(A):x!==0&&(p=Bi(x));if(p===0)return 0;if(a!==0&&a!==p&&(a&v)===0&&(v=p&-p,x=a&-a,v>=x||v===16&&(x&4194240)!==0))return a;if((p&4)!==0&&(p|=u&16),a=i.entangledLanes,a!==0)for(i=i.entanglements,a&=p;0<a;)u=31-Vn(a),v=1<<u,p|=i[u],a&=~v;return p}function vm(i,a){switch(i){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ri(i,a){for(var u=i.suspendedLanes,p=i.pingedLanes,v=i.expirationTimes,x=i.pendingLanes;0<x;){var A=31-Vn(x),U=1<<A,H=v[A];H===-1?((U&u)===0||(U&p)!==0)&&(v[A]=vm(U,a)):H<=a&&(i.expiredLanes|=U),x&=~U}}function hr(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function ea(){var i=Za;return Za<<=1,(Za&4194240)===0&&(Za=64),i}function $i(i){for(var a=[],u=0;31>u;u++)a.push(i);return a}function zi(i,a,u){i.pendingLanes|=a,a!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,a=31-Vn(a),i[a]=u}function ut(i,a){var u=i.pendingLanes&~a;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=a,i.mutableReadLanes&=a,i.entangledLanes&=a,a=i.entanglements;var p=i.eventTimes;for(i=i.expirationTimes;0<u;){var v=31-Vn(u),x=1<<v;a[v]=0,p[v]=-1,i[v]=-1,u&=~x}}function Wi(i,a){var u=i.entangledLanes|=a;for(i=i.entanglements;u;){var p=31-Vn(u),v=1<<p;v&a|i[p]&a&&(i[p]|=a),u&=~v}}var Ye=0;function Hi(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var qd,tl,Kd,Gd,Yd,Uc=!1,vs=[],mn=null,qr=null,Kr=null,qi=new Map,Ir=new Map,ws=[],wm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qd(i,a){switch(i){case"focusin":case"focusout":mn=null;break;case"dragenter":case"dragleave":qr=null;break;case"mouseover":case"mouseout":Kr=null;break;case"pointerover":case"pointerout":qi.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ir.delete(a.pointerId)}}function Qn(i,a,u,p,v,x){return i===null||i.nativeEvent!==x?(i={blockedOn:a,domEventName:u,eventSystemFlags:p,nativeEvent:x,targetContainers:[v]},a!==null&&(a=tu(a),a!==null&&tl(a)),i):(i.eventSystemFlags|=p,a=i.targetContainers,v!==null&&a.indexOf(v)===-1&&a.push(v),i)}function _m(i,a,u,p,v){switch(a){case"focusin":return mn=Qn(mn,i,a,u,p,v),!0;case"dragenter":return qr=Qn(qr,i,a,u,p,v),!0;case"mouseover":return Kr=Qn(Kr,i,a,u,p,v),!0;case"pointerover":var x=v.pointerId;return qi.set(x,Qn(qi.get(x)||null,i,a,u,p,v)),!0;case"gotpointercapture":return x=v.pointerId,Ir.set(x,Qn(Ir.get(x)||null,i,a,u,p,v)),!0}return!1}function Xd(i){var a=ia(i.target);if(a!==null){var u=Wr(a);if(u!==null){if(a=u.tag,a===13){if(a=Qo(u),a!==null){i.blockedOn=a,Yd(i.priority,function(){Kd(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function si(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var u=nl(i.domEventName,i.eventSystemFlags,a[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var p=new u.constructor(u.type,u);$r=p,u.target.dispatchEvent(p),$r=null}else return a=tu(u),a!==null&&tl(a),i.blockedOn=u,!1;a.shift()}return!0}function ta(i,a,u){si(i)&&u.delete(a)}function Jd(){Uc=!1,mn!==null&&si(mn)&&(mn=null),qr!==null&&si(qr)&&(qr=null),Kr!==null&&si(Kr)&&(Kr=null),qi.forEach(ta),Ir.forEach(ta)}function Gr(i,a){i.blockedOn===a&&(i.blockedOn=null,Uc||(Uc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Jd)))}function Yr(i){function a(v){return Gr(v,i)}if(0<vs.length){Gr(vs[0],i);for(var u=1;u<vs.length;u++){var p=vs[u];p.blockedOn===i&&(p.blockedOn=null)}}for(mn!==null&&Gr(mn,i),qr!==null&&Gr(qr,i),Kr!==null&&Gr(Kr,i),qi.forEach(a),Ir.forEach(a),u=0;u<ws.length;u++)p=ws[u],p.blockedOn===i&&(p.blockedOn=null);for(;0<ws.length&&(u=ws[0],u.blockedOn===null);)Xd(u),u.blockedOn===null&&ws.shift()}var ii=j.ReactCurrentBatchConfig,Ki=!0;function bt(i,a,u,p){var v=Ye,x=ii.transition;ii.transition=null;try{Ye=1,Bc(i,a,u,p)}finally{Ye=v,ii.transition=x}}function xm(i,a,u,p){var v=Ye,x=ii.transition;ii.transition=null;try{Ye=4,Bc(i,a,u,p)}finally{Ye=v,ii.transition=x}}function Bc(i,a,u,p){if(Ki){var v=nl(i,a,u,p);if(v===null)Nm(i,a,p,na,u),Qd(i,p);else if(_m(v,i,a,u,p))p.stopPropagation();else if(Qd(i,p),a&4&&-1<wm.indexOf(i)){for(;v!==null;){var x=tu(v);if(x!==null&&qd(x),x=nl(i,a,u,p),x===null&&Nm(i,a,p,na,u),x===v)break;v=x}v!==null&&p.stopPropagation()}else Nm(i,a,p,null,u)}}var na=null;function nl(i,a,u,p){if(na=null,i=On(p),i=ia(i),i!==null)if(a=Wr(i),a===null)i=null;else if(u=a.tag,u===13){if(i=Qo(a),i!==null)return i;i=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null);return na=i,null}function $c(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Bd()){case Xo:return 1;case Ui:return 4;case kr:case jc:return 16;case $d:return 536870912;default:return 16}default:return 16}}var fr=null,rl=null,Xn=null;function zc(){if(Xn)return Xn;var i,a=rl,u=a.length,p,v="value"in fr?fr.value:fr.textContent,x=v.length;for(i=0;i<u&&a[i]===v[i];i++);var A=u-i;for(p=1;p<=A&&a[u-p]===v[x-p];p++);return Xn=v.slice(i,1<p?1-p:void 0)}function sl(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function _s(){return!0}function Wc(){return!1}function gn(i){function a(u,p,v,x,A){this._reactName=u,this._targetInst=v,this.type=p,this.nativeEvent=x,this.target=A,this.currentTarget=null;for(var U in i)i.hasOwnProperty(U)&&(u=i[U],this[U]=u?u(x):x[U]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?_s:Wc,this.isPropagationStopped=Wc,this}return le(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=_s)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=_s)},persist:function(){},isPersistent:_s}),a}var Qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},il=gn(Qr),xs=le({},Qr,{view:0,detail:0}),bm=gn(xs),ol,oi,Gi,ra=le({},xs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bs,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Gi&&(Gi&&i.type==="mousemove"?(ol=i.screenX-Gi.screenX,oi=i.screenY-Gi.screenY):oi=ol=0,Gi=i),ol)},movementY:function(i){return"movementY"in i?i.movementY:oi}}),al=gn(ra),Hc=le({},ra,{dataTransfer:0}),Zd=gn(Hc),ll=le({},xs,{relatedTarget:0}),cl=gn(ll),eh=le({},Qr,{animationName:0,elapsedTime:0,pseudoElement:0}),ai=gn(eh),th=le({},Qr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),nh=gn(th),rh=le({},Qr,{data:0}),qc=gn(rh),ul={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ln={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ih(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=sh[i])?!!a[i]:!1}function bs(){return ih}var f=le({},xs,{key:function(i){if(i.key){var a=ul[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=sl(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Ln[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bs,charCode:function(i){return i.type==="keypress"?sl(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?sl(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),_=gn(f),I=le({},ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),O=gn(I),G=le({},xs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bs}),Z=gn(G),ge=le({},Qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),at=gn(ge),tn=le({},ra,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Xe=gn(tn),an=[9,13,27,32],Ht=c&&"CompositionEvent"in window,Cr=null;c&&"documentMode"in document&&(Cr=document.documentMode);var pr=c&&"TextEvent"in window&&!Cr,sa=c&&(!Ht||Cr&&8<Cr&&11>=Cr),dl=" ",w_=!1;function __(i,a){switch(i){case"keyup":return an.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function x_(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var hl=!1;function JN(i,a){switch(i){case"compositionend":return x_(a);case"keypress":return a.which!==32?null:(w_=!0,dl);case"textInput":return i=a.data,i===dl&&w_?null:i;default:return null}}function ZN(i,a){if(hl)return i==="compositionend"||!Ht&&__(i,a)?(i=zc(),Xn=rl=fr=null,hl=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return sa&&a.locale!=="ko"?null:a.data;default:return null}}var e2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function b_(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!e2[i.type]:a==="textarea"}function E_(i,a,u,p){Ne(p),a=uh(a,"onChange"),0<a.length&&(u=new il("onChange","change",null,u,p),i.push({event:u,listeners:a}))}var Kc=null,Gc=null;function t2(i){B_(i,0)}function oh(i){var a=yl(i);if($e(a))return i}function n2(i,a){if(i==="change")return a}var T_=!1;if(c){var Em;if(c){var Tm="oninput"in document;if(!Tm){var S_=document.createElement("div");S_.setAttribute("oninput","return;"),Tm=typeof S_.oninput=="function"}Em=Tm}else Em=!1;T_=Em&&(!document.documentMode||9<document.documentMode)}function k_(){Kc&&(Kc.detachEvent("onpropertychange",I_),Gc=Kc=null)}function I_(i){if(i.propertyName==="value"&&oh(Gc)){var a=[];E_(a,Gc,i,On(i)),St(t2,a)}}function r2(i,a,u){i==="focusin"?(k_(),Kc=a,Gc=u,Kc.attachEvent("onpropertychange",I_)):i==="focusout"&&k_()}function s2(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return oh(Gc)}function i2(i,a){if(i==="click")return oh(a)}function o2(i,a){if(i==="input"||i==="change")return oh(a)}function a2(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var Xr=typeof Object.is=="function"?Object.is:a2;function Yc(i,a){if(Xr(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var u=Object.keys(i),p=Object.keys(a);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var v=u[p];if(!d.call(a,v)||!Xr(i[v],a[v]))return!1}return!0}function C_(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function P_(i,a){var u=C_(i);i=0;for(var p;u;){if(u.nodeType===3){if(p=i+u.textContent.length,i<=a&&p>=a)return{node:u,offset:a-i};i=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=C_(u)}}function A_(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?A_(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function R_(){for(var i=window,a=vt();a instanceof i.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)i=a.contentWindow;else break;a=vt(i.document)}return a}function Sm(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}function l2(i){var a=R_(),u=i.focusedElem,p=i.selectionRange;if(a!==u&&u&&u.ownerDocument&&A_(u.ownerDocument.documentElement,u)){if(p!==null&&Sm(u)){if(a=p.start,i=p.end,i===void 0&&(i=a),"selectionStart"in u)u.selectionStart=a,u.selectionEnd=Math.min(i,u.value.length);else if(i=(a=u.ownerDocument||document)&&a.defaultView||window,i.getSelection){i=i.getSelection();var v=u.textContent.length,x=Math.min(p.start,v);p=p.end===void 0?x:Math.min(p.end,v),!i.extend&&x>p&&(v=p,p=x,x=v),v=P_(u,x);var A=P_(u,p);v&&A&&(i.rangeCount!==1||i.anchorNode!==v.node||i.anchorOffset!==v.offset||i.focusNode!==A.node||i.focusOffset!==A.offset)&&(a=a.createRange(),a.setStart(v.node,v.offset),i.removeAllRanges(),x>p?(i.addRange(a),i.extend(A.node,A.offset)):(a.setEnd(A.node,A.offset),i.addRange(a)))}}for(a=[],i=u;i=i.parentNode;)i.nodeType===1&&a.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<a.length;u++)i=a[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var c2=c&&"documentMode"in document&&11>=document.documentMode,fl=null,km=null,Qc=null,Im=!1;function N_(i,a,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Im||fl==null||fl!==vt(p)||(p=fl,"selectionStart"in p&&Sm(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Qc&&Yc(Qc,p)||(Qc=p,p=uh(km,"onSelect"),0<p.length&&(a=new il("onSelect","select",null,a,u),i.push({event:a,listeners:p}),a.target=fl)))}function ah(i,a){var u={};return u[i.toLowerCase()]=a.toLowerCase(),u["Webkit"+i]="webkit"+a,u["Moz"+i]="moz"+a,u}var pl={animationend:ah("Animation","AnimationEnd"),animationiteration:ah("Animation","AnimationIteration"),animationstart:ah("Animation","AnimationStart"),transitionend:ah("Transition","TransitionEnd")},Cm={},D_={};c&&(D_=document.createElement("div").style,"AnimationEvent"in window||(delete pl.animationend.animation,delete pl.animationiteration.animation,delete pl.animationstart.animation),"TransitionEvent"in window||delete pl.transitionend.transition);function lh(i){if(Cm[i])return Cm[i];if(!pl[i])return i;var a=pl[i],u;for(u in a)if(a.hasOwnProperty(u)&&u in D_)return Cm[i]=a[u];return i}var M_=lh("animationend"),O_=lh("animationiteration"),V_=lh("animationstart"),L_=lh("transitionend"),j_=new Map,F_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yi(i,a){j_.set(i,a),o(a,[i])}for(var Pm=0;Pm<F_.length;Pm++){var Am=F_[Pm],u2=Am.toLowerCase(),d2=Am[0].toUpperCase()+Am.slice(1);Yi(u2,"on"+d2)}Yi(M_,"onAnimationEnd"),Yi(O_,"onAnimationIteration"),Yi(V_,"onAnimationStart"),Yi("dblclick","onDoubleClick"),Yi("focusin","onFocus"),Yi("focusout","onBlur"),Yi(L_,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),h2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xc));function U_(i,a,u){var p=i.type||"unknown-event";i.currentTarget=u,jd(p,a,void 0,i),i.currentTarget=null}function B_(i,a){a=(a&4)!==0;for(var u=0;u<i.length;u++){var p=i[u],v=p.event;p=p.listeners;e:{var x=void 0;if(a)for(var A=p.length-1;0<=A;A--){var U=p[A],H=U.instance,J=U.currentTarget;if(U=U.listener,H!==x&&v.isPropagationStopped())break e;U_(v,U,J),x=H}else for(A=0;A<p.length;A++){if(U=p[A],H=U.instance,J=U.currentTarget,U=U.listener,H!==x&&v.isPropagationStopped())break e;U_(v,U,J),x=H}}}if(Sr)throw i=Oc,Sr=!1,Oc=null,i}function mt(i,a){var u=a[jm];u===void 0&&(u=a[jm]=new Set);var p=i+"__bubble";u.has(p)||($_(a,i,2,!1),u.add(p))}function Rm(i,a,u){var p=0;a&&(p|=4),$_(u,i,p,a)}var ch="_reactListening"+Math.random().toString(36).slice(2);function Jc(i){if(!i[ch]){i[ch]=!0,r.forEach(function(u){u!=="selectionchange"&&(h2.has(u)||Rm(u,!1,i),Rm(u,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[ch]||(a[ch]=!0,Rm("selectionchange",!1,a))}}function $_(i,a,u,p){switch($c(a)){case 1:var v=bt;break;case 4:v=xm;break;default:v=Bc}u=v.bind(null,a,u,i),v=void 0,!zr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(v=!0),p?v!==void 0?i.addEventListener(a,u,{capture:!0,passive:v}):i.addEventListener(a,u,!0):v!==void 0?i.addEventListener(a,u,{passive:v}):i.addEventListener(a,u,!1)}function Nm(i,a,u,p,v){var x=p;if((a&1)===0&&(a&2)===0&&p!==null)e:for(;;){if(p===null)return;var A=p.tag;if(A===3||A===4){var U=p.stateNode.containerInfo;if(U===v||U.nodeType===8&&U.parentNode===v)break;if(A===4)for(A=p.return;A!==null;){var H=A.tag;if((H===3||H===4)&&(H=A.stateNode.containerInfo,H===v||H.nodeType===8&&H.parentNode===v))return;A=A.return}for(;U!==null;){if(A=ia(U),A===null)return;if(H=A.tag,H===5||H===6){p=x=A;continue e}U=U.parentNode}}p=p.return}St(function(){var J=x,de=On(u),he=[];e:{var ce=j_.get(i);if(ce!==void 0){var ve=il,Te=i;switch(i){case"keypress":if(sl(u)===0)break e;case"keydown":case"keyup":ve=_;break;case"focusin":Te="focus",ve=cl;break;case"focusout":Te="blur",ve=cl;break;case"beforeblur":case"afterblur":ve=cl;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=al;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=Zd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=Z;break;case M_:case O_:case V_:ve=ai;break;case L_:ve=at;break;case"scroll":ve=bm;break;case"wheel":ve=Xe;break;case"copy":case"cut":case"paste":ve=nh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=O}var Ie=(a&4)!==0,Bt=!Ie&&i==="scroll",Y=Ie?ce!==null?ce+"Capture":null:ce;Ie=[];for(var q=J,Q;q!==null;){Q=q;var pe=Q.stateNode;if(Q.tag===5&&pe!==null&&(Q=pe,Y!==null&&(pe=Qe(q,Y),pe!=null&&Ie.push(Zc(q,pe,Q)))),Bt)break;q=q.return}0<Ie.length&&(ce=new ve(ce,Te,null,u,de),he.push({event:ce,listeners:Ie}))}}if((a&7)===0){e:{if(ce=i==="mouseover"||i==="pointerover",ve=i==="mouseout"||i==="pointerout",ce&&u!==$r&&(Te=u.relatedTarget||u.fromElement)&&(ia(Te)||Te[li]))break e;if((ve||ce)&&(ce=de.window===de?de:(ce=de.ownerDocument)?ce.defaultView||ce.parentWindow:window,ve?(Te=u.relatedTarget||u.toElement,ve=J,Te=Te?ia(Te):null,Te!==null&&(Bt=Wr(Te),Te!==Bt||Te.tag!==5&&Te.tag!==6)&&(Te=null)):(ve=null,Te=J),ve!==Te)){if(Ie=al,pe="onMouseLeave",Y="onMouseEnter",q="mouse",(i==="pointerout"||i==="pointerover")&&(Ie=O,pe="onPointerLeave",Y="onPointerEnter",q="pointer"),Bt=ve==null?ce:yl(ve),Q=Te==null?ce:yl(Te),ce=new Ie(pe,q+"leave",ve,u,de),ce.target=Bt,ce.relatedTarget=Q,pe=null,ia(de)===J&&(Ie=new Ie(Y,q+"enter",Te,u,de),Ie.target=Q,Ie.relatedTarget=Bt,pe=Ie),Bt=pe,ve&&Te)t:{for(Ie=ve,Y=Te,q=0,Q=Ie;Q;Q=ml(Q))q++;for(Q=0,pe=Y;pe;pe=ml(pe))Q++;for(;0<q-Q;)Ie=ml(Ie),q--;for(;0<Q-q;)Y=ml(Y),Q--;for(;q--;){if(Ie===Y||Y!==null&&Ie===Y.alternate)break t;Ie=ml(Ie),Y=ml(Y)}Ie=null}else Ie=null;ve!==null&&z_(he,ce,ve,Ie,!1),Te!==null&&Bt!==null&&z_(he,Bt,Te,Ie,!0)}}e:{if(ce=J?yl(J):window,ve=ce.nodeName&&ce.nodeName.toLowerCase(),ve==="select"||ve==="input"&&ce.type==="file")var Ce=n2;else if(b_(ce))if(T_)Ce=o2;else{Ce=s2;var De=r2}else(ve=ce.nodeName)&&ve.toLowerCase()==="input"&&(ce.type==="checkbox"||ce.type==="radio")&&(Ce=i2);if(Ce&&(Ce=Ce(i,J))){E_(he,Ce,u,de);break e}De&&De(i,ce,J),i==="focusout"&&(De=ce._wrapperState)&&De.controlled&&ce.type==="number"&&Ft(ce,"number",ce.value)}switch(De=J?yl(J):window,i){case"focusin":(b_(De)||De.contentEditable==="true")&&(fl=De,km=J,Qc=null);break;case"focusout":Qc=km=fl=null;break;case"mousedown":Im=!0;break;case"contextmenu":case"mouseup":case"dragend":Im=!1,N_(he,u,de);break;case"selectionchange":if(c2)break;case"keydown":case"keyup":N_(he,u,de)}var Me;if(Ht)e:{switch(i){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else hl?__(i,u)&&(je="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(je="onCompositionStart");je&&(sa&&u.locale!=="ko"&&(hl||je!=="onCompositionStart"?je==="onCompositionEnd"&&hl&&(Me=zc()):(fr=de,rl="value"in fr?fr.value:fr.textContent,hl=!0)),De=uh(J,je),0<De.length&&(je=new qc(je,i,null,u,de),he.push({event:je,listeners:De}),Me?je.data=Me:(Me=x_(u),Me!==null&&(je.data=Me)))),(Me=pr?JN(i,u):ZN(i,u))&&(J=uh(J,"onBeforeInput"),0<J.length&&(de=new qc("onBeforeInput","beforeinput",null,u,de),he.push({event:de,listeners:J}),de.data=Me))}B_(he,a)})}function Zc(i,a,u){return{instance:i,listener:a,currentTarget:u}}function uh(i,a){for(var u=a+"Capture",p=[];i!==null;){var v=i,x=v.stateNode;v.tag===5&&x!==null&&(v=x,x=Qe(i,u),x!=null&&p.unshift(Zc(i,x,v)),x=Qe(i,a),x!=null&&p.push(Zc(i,x,v))),i=i.return}return p}function ml(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function z_(i,a,u,p,v){for(var x=a._reactName,A=[];u!==null&&u!==p;){var U=u,H=U.alternate,J=U.stateNode;if(H!==null&&H===p)break;U.tag===5&&J!==null&&(U=J,v?(H=Qe(u,x),H!=null&&A.unshift(Zc(u,H,U))):v||(H=Qe(u,x),H!=null&&A.push(Zc(u,H,U)))),u=u.return}A.length!==0&&i.push({event:a,listeners:A})}var f2=/\r\n?/g,p2=/\u0000|\uFFFD/g;function W_(i){return(typeof i=="string"?i:""+i).replace(f2,`
`).replace(p2,"")}function dh(i,a,u){if(a=W_(a),W_(i)!==a&&u)throw Error(n(425))}function hh(){}var Dm=null,Mm=null;function Om(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Vm=typeof setTimeout=="function"?setTimeout:void 0,m2=typeof clearTimeout=="function"?clearTimeout:void 0,H_=typeof Promise=="function"?Promise:void 0,g2=typeof queueMicrotask=="function"?queueMicrotask:typeof H_<"u"?function(i){return H_.resolve(null).then(i).catch(y2)}:Vm;function y2(i){setTimeout(function(){throw i})}function Lm(i,a){var u=a,p=0;do{var v=u.nextSibling;if(i.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"){if(p===0){i.removeChild(v),Yr(a);return}p--}else u!=="$"&&u!=="$?"&&u!=="$!"||p++;u=v}while(u);Yr(a)}function Qi(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return i}function q_(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return i;a--}else u==="/$"&&a++}i=i.previousSibling}return null}var gl=Math.random().toString(36).slice(2),Es="__reactFiber$"+gl,eu="__reactProps$"+gl,li="__reactContainer$"+gl,jm="__reactEvents$"+gl,v2="__reactListeners$"+gl,w2="__reactHandles$"+gl;function ia(i){var a=i[Es];if(a)return a;for(var u=i.parentNode;u;){if(a=u[li]||u[Es]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(i=q_(i);i!==null;){if(u=i[Es])return u;i=q_(i)}return a}i=u,u=i.parentNode}return null}function tu(i){return i=i[Es]||i[li],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function yl(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function fh(i){return i[eu]||null}var Fm=[],vl=-1;function Xi(i){return{current:i}}function gt(i){0>vl||(i.current=Fm[vl],Fm[vl]=null,vl--)}function ht(i,a){vl++,Fm[vl]=i.current,i.current=a}var Ji={},En=Xi(Ji),Jn=Xi(!1),oa=Ji;function wl(i,a){var u=i.type.contextTypes;if(!u)return Ji;var p=i.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===a)return p.__reactInternalMemoizedMaskedChildContext;var v={},x;for(x in u)v[x]=a[x];return p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=a,i.__reactInternalMemoizedMaskedChildContext=v),v}function Zn(i){return i=i.childContextTypes,i!=null}function ph(){gt(Jn),gt(En)}function K_(i,a,u){if(En.current!==Ji)throw Error(n(168));ht(En,a),ht(Jn,u)}function G_(i,a,u){var p=i.stateNode;if(a=a.childContextTypes,typeof p.getChildContext!="function")return u;p=p.getChildContext();for(var v in p)if(!(v in a))throw Error(n(108,ue(i)||"Unknown",v));return le({},u,p)}function mh(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Ji,oa=En.current,ht(En,i),ht(Jn,Jn.current),!0}function Y_(i,a,u){var p=i.stateNode;if(!p)throw Error(n(169));u?(i=G_(i,a,oa),p.__reactInternalMemoizedMergedChildContext=i,gt(Jn),gt(En),ht(En,i)):gt(Jn),ht(Jn,u)}var ci=null,gh=!1,Um=!1;function Q_(i){ci===null?ci=[i]:ci.push(i)}function _2(i){gh=!0,Q_(i)}function Zi(){if(!Um&&ci!==null){Um=!0;var i=0,a=Ye;try{var u=ci;for(Ye=1;i<u.length;i++){var p=u[i];do p=p(!0);while(p!==null)}ci=null,gh=!1}catch(v){throw ci!==null&&(ci=ci.slice(i+1)),Ja(Xo,Zi),v}finally{Ye=a,Um=!1}}return null}var _l=[],xl=0,yh=null,vh=0,Pr=[],Ar=0,aa=null,ui=1,di="";function la(i,a){_l[xl++]=vh,_l[xl++]=yh,yh=i,vh=a}function X_(i,a,u){Pr[Ar++]=ui,Pr[Ar++]=di,Pr[Ar++]=aa,aa=i;var p=ui;i=di;var v=32-Vn(p)-1;p&=~(1<<v),u+=1;var x=32-Vn(a)+v;if(30<x){var A=v-v%5;x=(p&(1<<A)-1).toString(32),p>>=A,v-=A,ui=1<<32-Vn(a)+v|u<<v|p,di=x+i}else ui=1<<x|u<<v|p,di=i}function Bm(i){i.return!==null&&(la(i,1),X_(i,1,0))}function $m(i){for(;i===yh;)yh=_l[--xl],_l[xl]=null,vh=_l[--xl],_l[xl]=null;for(;i===aa;)aa=Pr[--Ar],Pr[Ar]=null,di=Pr[--Ar],Pr[Ar]=null,ui=Pr[--Ar],Pr[Ar]=null}var mr=null,gr=null,Et=!1,Jr=null;function J_(i,a){var u=Mr(5,null,null,0);u.elementType="DELETED",u.stateNode=a,u.return=i,a=i.deletions,a===null?(i.deletions=[u],i.flags|=16):a.push(u)}function Z_(i,a){switch(i.tag){case 5:var u=i.type;return a=a.nodeType!==1||u.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(i.stateNode=a,mr=i,gr=Qi(a.firstChild),!0):!1;case 6:return a=i.pendingProps===""||a.nodeType!==3?null:a,a!==null?(i.stateNode=a,mr=i,gr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(u=aa!==null?{id:ui,overflow:di}:null,i.memoizedState={dehydrated:a,treeContext:u,retryLane:1073741824},u=Mr(18,null,null,0),u.stateNode=a,u.return=i,i.child=u,mr=i,gr=null,!0):!1;default:return!1}}function zm(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Wm(i){if(Et){var a=gr;if(a){var u=a;if(!Z_(i,a)){if(zm(i))throw Error(n(418));a=Qi(u.nextSibling);var p=mr;a&&Z_(i,a)?J_(p,u):(i.flags=i.flags&-4097|2,Et=!1,mr=i)}}else{if(zm(i))throw Error(n(418));i.flags=i.flags&-4097|2,Et=!1,mr=i}}}function ex(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;mr=i}function wh(i){if(i!==mr)return!1;if(!Et)return ex(i),Et=!0,!1;var a;if((a=i.tag!==3)&&!(a=i.tag!==5)&&(a=i.type,a=a!=="head"&&a!=="body"&&!Om(i.type,i.memoizedProps)),a&&(a=gr)){if(zm(i))throw tx(),Error(n(418));for(;a;)J_(i,a),a=Qi(a.nextSibling)}if(ex(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(a===0){gr=Qi(i.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++}i=i.nextSibling}gr=null}}else gr=mr?Qi(i.stateNode.nextSibling):null;return!0}function tx(){for(var i=gr;i;)i=Qi(i.nextSibling)}function bl(){gr=mr=null,Et=!1}function Hm(i){Jr===null?Jr=[i]:Jr.push(i)}var x2=j.ReactCurrentBatchConfig;function nu(i,a,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var p=u.stateNode}if(!p)throw Error(n(147,i));var v=p,x=""+i;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===x?a.ref:(a=function(A){var U=v.refs;A===null?delete U[x]:U[x]=A},a._stringRef=x,a)}if(typeof i!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,i))}return i}function _h(i,a){throw i=Object.prototype.toString.call(a),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i))}function nx(i){var a=i._init;return a(i._payload)}function rx(i){function a(Y,q){if(i){var Q=Y.deletions;Q===null?(Y.deletions=[q],Y.flags|=16):Q.push(q)}}function u(Y,q){if(!i)return null;for(;q!==null;)a(Y,q),q=q.sibling;return null}function p(Y,q){for(Y=new Map;q!==null;)q.key!==null?Y.set(q.key,q):Y.set(q.index,q),q=q.sibling;return Y}function v(Y,q){return Y=ao(Y,q),Y.index=0,Y.sibling=null,Y}function x(Y,q,Q){return Y.index=Q,i?(Q=Y.alternate,Q!==null?(Q=Q.index,Q<q?(Y.flags|=2,q):Q):(Y.flags|=2,q)):(Y.flags|=1048576,q)}function A(Y){return i&&Y.alternate===null&&(Y.flags|=2),Y}function U(Y,q,Q,pe){return q===null||q.tag!==6?(q=Vg(Q,Y.mode,pe),q.return=Y,q):(q=v(q,Q),q.return=Y,q)}function H(Y,q,Q,pe){var Ce=Q.type;return Ce===D?de(Y,q,Q.props.children,pe,Q.key):q!==null&&(q.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===ee&&nx(Ce)===q.type)?(pe=v(q,Q.props),pe.ref=nu(Y,q,Q),pe.return=Y,pe):(pe=Wh(Q.type,Q.key,Q.props,null,Y.mode,pe),pe.ref=nu(Y,q,Q),pe.return=Y,pe)}function J(Y,q,Q,pe){return q===null||q.tag!==4||q.stateNode.containerInfo!==Q.containerInfo||q.stateNode.implementation!==Q.implementation?(q=Lg(Q,Y.mode,pe),q.return=Y,q):(q=v(q,Q.children||[]),q.return=Y,q)}function de(Y,q,Q,pe,Ce){return q===null||q.tag!==7?(q=ga(Q,Y.mode,pe,Ce),q.return=Y,q):(q=v(q,Q),q.return=Y,q)}function he(Y,q,Q){if(typeof q=="string"&&q!==""||typeof q=="number")return q=Vg(""+q,Y.mode,Q),q.return=Y,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case B:return Q=Wh(q.type,q.key,q.props,null,Y.mode,Q),Q.ref=nu(Y,null,q),Q.return=Y,Q;case K:return q=Lg(q,Y.mode,Q),q.return=Y,q;case ee:var pe=q._init;return he(Y,pe(q._payload),Q)}if(Ur(q)||oe(q))return q=ga(q,Y.mode,Q,null),q.return=Y,q;_h(Y,q)}return null}function ce(Y,q,Q,pe){var Ce=q!==null?q.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Ce!==null?null:U(Y,q,""+Q,pe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case B:return Q.key===Ce?H(Y,q,Q,pe):null;case K:return Q.key===Ce?J(Y,q,Q,pe):null;case ee:return Ce=Q._init,ce(Y,q,Ce(Q._payload),pe)}if(Ur(Q)||oe(Q))return Ce!==null?null:de(Y,q,Q,pe,null);_h(Y,Q)}return null}function ve(Y,q,Q,pe,Ce){if(typeof pe=="string"&&pe!==""||typeof pe=="number")return Y=Y.get(Q)||null,U(q,Y,""+pe,Ce);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case B:return Y=Y.get(pe.key===null?Q:pe.key)||null,H(q,Y,pe,Ce);case K:return Y=Y.get(pe.key===null?Q:pe.key)||null,J(q,Y,pe,Ce);case ee:var De=pe._init;return ve(Y,q,Q,De(pe._payload),Ce)}if(Ur(pe)||oe(pe))return Y=Y.get(Q)||null,de(q,Y,pe,Ce,null);_h(q,pe)}return null}function Te(Y,q,Q,pe){for(var Ce=null,De=null,Me=q,je=q=0,un=null;Me!==null&&je<Q.length;je++){Me.index>je?(un=Me,Me=null):un=Me.sibling;var rt=ce(Y,Me,Q[je],pe);if(rt===null){Me===null&&(Me=un);break}i&&Me&&rt.alternate===null&&a(Y,Me),q=x(rt,q,je),De===null?Ce=rt:De.sibling=rt,De=rt,Me=un}if(je===Q.length)return u(Y,Me),Et&&la(Y,je),Ce;if(Me===null){for(;je<Q.length;je++)Me=he(Y,Q[je],pe),Me!==null&&(q=x(Me,q,je),De===null?Ce=Me:De.sibling=Me,De=Me);return Et&&la(Y,je),Ce}for(Me=p(Y,Me);je<Q.length;je++)un=ve(Me,Y,je,Q[je],pe),un!==null&&(i&&un.alternate!==null&&Me.delete(un.key===null?je:un.key),q=x(un,q,je),De===null?Ce=un:De.sibling=un,De=un);return i&&Me.forEach(function(lo){return a(Y,lo)}),Et&&la(Y,je),Ce}function Ie(Y,q,Q,pe){var Ce=oe(Q);if(typeof Ce!="function")throw Error(n(150));if(Q=Ce.call(Q),Q==null)throw Error(n(151));for(var De=Ce=null,Me=q,je=q=0,un=null,rt=Q.next();Me!==null&&!rt.done;je++,rt=Q.next()){Me.index>je?(un=Me,Me=null):un=Me.sibling;var lo=ce(Y,Me,rt.value,pe);if(lo===null){Me===null&&(Me=un);break}i&&Me&&lo.alternate===null&&a(Y,Me),q=x(lo,q,je),De===null?Ce=lo:De.sibling=lo,De=lo,Me=un}if(rt.done)return u(Y,Me),Et&&la(Y,je),Ce;if(Me===null){for(;!rt.done;je++,rt=Q.next())rt=he(Y,rt.value,pe),rt!==null&&(q=x(rt,q,je),De===null?Ce=rt:De.sibling=rt,De=rt);return Et&&la(Y,je),Ce}for(Me=p(Y,Me);!rt.done;je++,rt=Q.next())rt=ve(Me,Y,je,rt.value,pe),rt!==null&&(i&&rt.alternate!==null&&Me.delete(rt.key===null?je:rt.key),q=x(rt,q,je),De===null?Ce=rt:De.sibling=rt,De=rt);return i&&Me.forEach(function(eD){return a(Y,eD)}),Et&&la(Y,je),Ce}function Bt(Y,q,Q,pe){if(typeof Q=="object"&&Q!==null&&Q.type===D&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case B:e:{for(var Ce=Q.key,De=q;De!==null;){if(De.key===Ce){if(Ce=Q.type,Ce===D){if(De.tag===7){u(Y,De.sibling),q=v(De,Q.props.children),q.return=Y,Y=q;break e}}else if(De.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===ee&&nx(Ce)===De.type){u(Y,De.sibling),q=v(De,Q.props),q.ref=nu(Y,De,Q),q.return=Y,Y=q;break e}u(Y,De);break}else a(Y,De);De=De.sibling}Q.type===D?(q=ga(Q.props.children,Y.mode,pe,Q.key),q.return=Y,Y=q):(pe=Wh(Q.type,Q.key,Q.props,null,Y.mode,pe),pe.ref=nu(Y,q,Q),pe.return=Y,Y=pe)}return A(Y);case K:e:{for(De=Q.key;q!==null;){if(q.key===De)if(q.tag===4&&q.stateNode.containerInfo===Q.containerInfo&&q.stateNode.implementation===Q.implementation){u(Y,q.sibling),q=v(q,Q.children||[]),q.return=Y,Y=q;break e}else{u(Y,q);break}else a(Y,q);q=q.sibling}q=Lg(Q,Y.mode,pe),q.return=Y,Y=q}return A(Y);case ee:return De=Q._init,Bt(Y,q,De(Q._payload),pe)}if(Ur(Q))return Te(Y,q,Q,pe);if(oe(Q))return Ie(Y,q,Q,pe);_h(Y,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,q!==null&&q.tag===6?(u(Y,q.sibling),q=v(q,Q),q.return=Y,Y=q):(u(Y,q),q=Vg(Q,Y.mode,pe),q.return=Y,Y=q),A(Y)):u(Y,q)}return Bt}var El=rx(!0),sx=rx(!1),xh=Xi(null),bh=null,Tl=null,qm=null;function Km(){qm=Tl=bh=null}function Gm(i){var a=xh.current;gt(xh),i._currentValue=a}function Ym(i,a,u){for(;i!==null;){var p=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,p!==null&&(p.childLanes|=a)):p!==null&&(p.childLanes&a)!==a&&(p.childLanes|=a),i===u)break;i=i.return}}function Sl(i,a){bh=i,qm=Tl=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&a)!==0&&(er=!0),i.firstContext=null)}function Rr(i){var a=i._currentValue;if(qm!==i)if(i={context:i,memoizedValue:a,next:null},Tl===null){if(bh===null)throw Error(n(308));Tl=i,bh.dependencies={lanes:0,firstContext:i}}else Tl=Tl.next=i;return a}var ca=null;function Qm(i){ca===null?ca=[i]:ca.push(i)}function ix(i,a,u,p){var v=a.interleaved;return v===null?(u.next=u,Qm(a)):(u.next=v.next,v.next=u),a.interleaved=u,hi(i,p)}function hi(i,a){i.lanes|=a;var u=i.alternate;for(u!==null&&(u.lanes|=a),u=i,i=i.return;i!==null;)i.childLanes|=a,u=i.alternate,u!==null&&(u.childLanes|=a),u=i,i=i.return;return u.tag===3?u.stateNode:null}var eo=!1;function Xm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ox(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function fi(i,a){return{eventTime:i,lane:a,tag:0,payload:null,callback:null,next:null}}function to(i,a,u){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,(et&2)!==0){var v=p.pending;return v===null?a.next=a:(a.next=v.next,v.next=a),p.pending=a,hi(i,u)}return v=p.interleaved,v===null?(a.next=a,Qm(p)):(a.next=v.next,v.next=a),p.interleaved=a,hi(i,u)}function Eh(i,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194240)!==0)){var p=a.lanes;p&=i.pendingLanes,u|=p,a.lanes=u,Wi(i,u)}}function ax(i,a){var u=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var v=null,x=null;if(u=u.firstBaseUpdate,u!==null){do{var A={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};x===null?v=x=A:x=x.next=A,u=u.next}while(u!==null);x===null?v=x=a:x=x.next=a}else v=x=a;u={baseState:p.baseState,firstBaseUpdate:v,lastBaseUpdate:x,shared:p.shared,effects:p.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=a:i.next=a,u.lastBaseUpdate=a}function Th(i,a,u,p){var v=i.updateQueue;eo=!1;var x=v.firstBaseUpdate,A=v.lastBaseUpdate,U=v.shared.pending;if(U!==null){v.shared.pending=null;var H=U,J=H.next;H.next=null,A===null?x=J:A.next=J,A=H;var de=i.alternate;de!==null&&(de=de.updateQueue,U=de.lastBaseUpdate,U!==A&&(U===null?de.firstBaseUpdate=J:U.next=J,de.lastBaseUpdate=H))}if(x!==null){var he=v.baseState;A=0,de=J=H=null,U=x;do{var ce=U.lane,ve=U.eventTime;if((p&ce)===ce){de!==null&&(de=de.next={eventTime:ve,lane:0,tag:U.tag,payload:U.payload,callback:U.callback,next:null});e:{var Te=i,Ie=U;switch(ce=a,ve=u,Ie.tag){case 1:if(Te=Ie.payload,typeof Te=="function"){he=Te.call(ve,he,ce);break e}he=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=Ie.payload,ce=typeof Te=="function"?Te.call(ve,he,ce):Te,ce==null)break e;he=le({},he,ce);break e;case 2:eo=!0}}U.callback!==null&&U.lane!==0&&(i.flags|=64,ce=v.effects,ce===null?v.effects=[U]:ce.push(U))}else ve={eventTime:ve,lane:ce,tag:U.tag,payload:U.payload,callback:U.callback,next:null},de===null?(J=de=ve,H=he):de=de.next=ve,A|=ce;if(U=U.next,U===null){if(U=v.shared.pending,U===null)break;ce=U,U=ce.next,ce.next=null,v.lastBaseUpdate=ce,v.shared.pending=null}}while(!0);if(de===null&&(H=he),v.baseState=H,v.firstBaseUpdate=J,v.lastBaseUpdate=de,a=v.shared.interleaved,a!==null){v=a;do A|=v.lane,v=v.next;while(v!==a)}else x===null&&(v.shared.lanes=0);ha|=A,i.lanes=A,i.memoizedState=he}}function lx(i,a,u){if(i=a.effects,a.effects=null,i!==null)for(a=0;a<i.length;a++){var p=i[a],v=p.callback;if(v!==null){if(p.callback=null,p=u,typeof v!="function")throw Error(n(191,v));v.call(p)}}}var ru={},Ts=Xi(ru),su=Xi(ru),iu=Xi(ru);function ua(i){if(i===ru)throw Error(n(174));return i}function Jm(i,a){switch(ht(iu,a),ht(su,i),ht(Ts,ru),i=a.nodeType,i){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Ut(null,"");break;default:i=i===8?a.parentNode:a,a=i.namespaceURI||null,i=i.tagName,a=Ut(a,i)}gt(Ts),ht(Ts,a)}function kl(){gt(Ts),gt(su),gt(iu)}function cx(i){ua(iu.current);var a=ua(Ts.current),u=Ut(a,i.type);a!==u&&(ht(su,i),ht(Ts,u))}function Zm(i){su.current===i&&(gt(Ts),gt(su))}var It=Xi(0);function Sh(i){for(var a=i;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var eg=[];function tg(){for(var i=0;i<eg.length;i++)eg[i]._workInProgressVersionPrimary=null;eg.length=0}var kh=j.ReactCurrentDispatcher,ng=j.ReactCurrentBatchConfig,da=0,Ct=null,nn=null,ln=null,Ih=!1,ou=!1,au=0,b2=0;function Tn(){throw Error(n(321))}function rg(i,a){if(a===null)return!1;for(var u=0;u<a.length&&u<i.length;u++)if(!Xr(i[u],a[u]))return!1;return!0}function sg(i,a,u,p,v,x){if(da=x,Ct=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,kh.current=i===null||i.memoizedState===null?k2:I2,i=u(p,v),ou){x=0;do{if(ou=!1,au=0,25<=x)throw Error(n(301));x+=1,ln=nn=null,a.updateQueue=null,kh.current=C2,i=u(p,v)}while(ou)}if(kh.current=Ah,a=nn!==null&&nn.next!==null,da=0,ln=nn=Ct=null,Ih=!1,a)throw Error(n(300));return i}function ig(){var i=au!==0;return au=0,i}function Ss(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ln===null?Ct.memoizedState=ln=i:ln=ln.next=i,ln}function Nr(){if(nn===null){var i=Ct.alternate;i=i!==null?i.memoizedState:null}else i=nn.next;var a=ln===null?Ct.memoizedState:ln.next;if(a!==null)ln=a,nn=i;else{if(i===null)throw Error(n(310));nn=i,i={memoizedState:nn.memoizedState,baseState:nn.baseState,baseQueue:nn.baseQueue,queue:nn.queue,next:null},ln===null?Ct.memoizedState=ln=i:ln=ln.next=i}return ln}function lu(i,a){return typeof a=="function"?a(i):a}function og(i){var a=Nr(),u=a.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var p=nn,v=p.baseQueue,x=u.pending;if(x!==null){if(v!==null){var A=v.next;v.next=x.next,x.next=A}p.baseQueue=v=x,u.pending=null}if(v!==null){x=v.next,p=p.baseState;var U=A=null,H=null,J=x;do{var de=J.lane;if((da&de)===de)H!==null&&(H=H.next={lane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),p=J.hasEagerState?J.eagerState:i(p,J.action);else{var he={lane:de,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null};H===null?(U=H=he,A=p):H=H.next=he,Ct.lanes|=de,ha|=de}J=J.next}while(J!==null&&J!==x);H===null?A=p:H.next=U,Xr(p,a.memoizedState)||(er=!0),a.memoizedState=p,a.baseState=A,a.baseQueue=H,u.lastRenderedState=p}if(i=u.interleaved,i!==null){v=i;do x=v.lane,Ct.lanes|=x,ha|=x,v=v.next;while(v!==i)}else v===null&&(u.lanes=0);return[a.memoizedState,u.dispatch]}function ag(i){var a=Nr(),u=a.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var p=u.dispatch,v=u.pending,x=a.memoizedState;if(v!==null){u.pending=null;var A=v=v.next;do x=i(x,A.action),A=A.next;while(A!==v);Xr(x,a.memoizedState)||(er=!0),a.memoizedState=x,a.baseQueue===null&&(a.baseState=x),u.lastRenderedState=x}return[x,p]}function ux(){}function dx(i,a){var u=Ct,p=Nr(),v=a(),x=!Xr(p.memoizedState,v);if(x&&(p.memoizedState=v,er=!0),p=p.queue,lg(px.bind(null,u,p,i),[i]),p.getSnapshot!==a||x||ln!==null&&ln.memoizedState.tag&1){if(u.flags|=2048,cu(9,fx.bind(null,u,p,v,a),void 0,null),cn===null)throw Error(n(349));(da&30)!==0||hx(u,a,v)}return v}function hx(i,a,u){i.flags|=16384,i={getSnapshot:a,value:u},a=Ct.updateQueue,a===null?(a={lastEffect:null,stores:null},Ct.updateQueue=a,a.stores=[i]):(u=a.stores,u===null?a.stores=[i]:u.push(i))}function fx(i,a,u,p){a.value=u,a.getSnapshot=p,mx(a)&&gx(i)}function px(i,a,u){return u(function(){mx(a)&&gx(i)})}function mx(i){var a=i.getSnapshot;i=i.value;try{var u=a();return!Xr(i,u)}catch{return!0}}function gx(i){var a=hi(i,1);a!==null&&ns(a,i,1,-1)}function yx(i){var a=Ss();return typeof i=="function"&&(i=i()),a.memoizedState=a.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lu,lastRenderedState:i},a.queue=i,i=i.dispatch=S2.bind(null,Ct,i),[a.memoizedState,i]}function cu(i,a,u,p){return i={tag:i,create:a,destroy:u,deps:p,next:null},a=Ct.updateQueue,a===null?(a={lastEffect:null,stores:null},Ct.updateQueue=a,a.lastEffect=i.next=i):(u=a.lastEffect,u===null?a.lastEffect=i.next=i:(p=u.next,u.next=i,i.next=p,a.lastEffect=i)),i}function vx(){return Nr().memoizedState}function Ch(i,a,u,p){var v=Ss();Ct.flags|=i,v.memoizedState=cu(1|a,u,void 0,p===void 0?null:p)}function Ph(i,a,u,p){var v=Nr();p=p===void 0?null:p;var x=void 0;if(nn!==null){var A=nn.memoizedState;if(x=A.destroy,p!==null&&rg(p,A.deps)){v.memoizedState=cu(a,u,x,p);return}}Ct.flags|=i,v.memoizedState=cu(1|a,u,x,p)}function wx(i,a){return Ch(8390656,8,i,a)}function lg(i,a){return Ph(2048,8,i,a)}function _x(i,a){return Ph(4,2,i,a)}function xx(i,a){return Ph(4,4,i,a)}function bx(i,a){if(typeof a=="function")return i=i(),a(i),function(){a(null)};if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function Ex(i,a,u){return u=u!=null?u.concat([i]):null,Ph(4,4,bx.bind(null,a,i),u)}function cg(){}function Tx(i,a){var u=Nr();a=a===void 0?null:a;var p=u.memoizedState;return p!==null&&a!==null&&rg(a,p[1])?p[0]:(u.memoizedState=[i,a],i)}function Sx(i,a){var u=Nr();a=a===void 0?null:a;var p=u.memoizedState;return p!==null&&a!==null&&rg(a,p[1])?p[0]:(i=i(),u.memoizedState=[i,a],i)}function kx(i,a,u){return(da&21)===0?(i.baseState&&(i.baseState=!1,er=!0),i.memoizedState=u):(Xr(u,a)||(u=ea(),Ct.lanes|=u,ha|=u,i.baseState=!0),a)}function E2(i,a){var u=Ye;Ye=u!==0&&4>u?u:4,i(!0);var p=ng.transition;ng.transition={};try{i(!1),a()}finally{Ye=u,ng.transition=p}}function Ix(){return Nr().memoizedState}function T2(i,a,u){var p=io(i);if(u={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null},Cx(i))Px(a,u);else if(u=ix(i,a,u,p),u!==null){var v=Fn();ns(u,i,p,v),Ax(u,a,p)}}function S2(i,a,u){var p=io(i),v={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null};if(Cx(i))Px(a,v);else{var x=i.alternate;if(i.lanes===0&&(x===null||x.lanes===0)&&(x=a.lastRenderedReducer,x!==null))try{var A=a.lastRenderedState,U=x(A,u);if(v.hasEagerState=!0,v.eagerState=U,Xr(U,A)){var H=a.interleaved;H===null?(v.next=v,Qm(a)):(v.next=H.next,H.next=v),a.interleaved=v;return}}catch{}finally{}u=ix(i,a,v,p),u!==null&&(v=Fn(),ns(u,i,p,v),Ax(u,a,p))}}function Cx(i){var a=i.alternate;return i===Ct||a!==null&&a===Ct}function Px(i,a){ou=Ih=!0;var u=i.pending;u===null?a.next=a:(a.next=u.next,u.next=a),i.pending=a}function Ax(i,a,u){if((u&4194240)!==0){var p=a.lanes;p&=i.pendingLanes,u|=p,a.lanes=u,Wi(i,u)}}var Ah={readContext:Rr,useCallback:Tn,useContext:Tn,useEffect:Tn,useImperativeHandle:Tn,useInsertionEffect:Tn,useLayoutEffect:Tn,useMemo:Tn,useReducer:Tn,useRef:Tn,useState:Tn,useDebugValue:Tn,useDeferredValue:Tn,useTransition:Tn,useMutableSource:Tn,useSyncExternalStore:Tn,useId:Tn,unstable_isNewReconciler:!1},k2={readContext:Rr,useCallback:function(i,a){return Ss().memoizedState=[i,a===void 0?null:a],i},useContext:Rr,useEffect:wx,useImperativeHandle:function(i,a,u){return u=u!=null?u.concat([i]):null,Ch(4194308,4,bx.bind(null,a,i),u)},useLayoutEffect:function(i,a){return Ch(4194308,4,i,a)},useInsertionEffect:function(i,a){return Ch(4,2,i,a)},useMemo:function(i,a){var u=Ss();return a=a===void 0?null:a,i=i(),u.memoizedState=[i,a],i},useReducer:function(i,a,u){var p=Ss();return a=u!==void 0?u(a):a,p.memoizedState=p.baseState=a,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:a},p.queue=i,i=i.dispatch=T2.bind(null,Ct,i),[p.memoizedState,i]},useRef:function(i){var a=Ss();return i={current:i},a.memoizedState=i},useState:yx,useDebugValue:cg,useDeferredValue:function(i){return Ss().memoizedState=i},useTransition:function(){var i=yx(!1),a=i[0];return i=E2.bind(null,i[1]),Ss().memoizedState=i,[a,i]},useMutableSource:function(){},useSyncExternalStore:function(i,a,u){var p=Ct,v=Ss();if(Et){if(u===void 0)throw Error(n(407));u=u()}else{if(u=a(),cn===null)throw Error(n(349));(da&30)!==0||hx(p,a,u)}v.memoizedState=u;var x={value:u,getSnapshot:a};return v.queue=x,wx(px.bind(null,p,x,i),[i]),p.flags|=2048,cu(9,fx.bind(null,p,x,u,a),void 0,null),u},useId:function(){var i=Ss(),a=cn.identifierPrefix;if(Et){var u=di,p=ui;u=(p&~(1<<32-Vn(p)-1)).toString(32)+u,a=":"+a+"R"+u,u=au++,0<u&&(a+="H"+u.toString(32)),a+=":"}else u=b2++,a=":"+a+"r"+u.toString(32)+":";return i.memoizedState=a},unstable_isNewReconciler:!1},I2={readContext:Rr,useCallback:Tx,useContext:Rr,useEffect:lg,useImperativeHandle:Ex,useInsertionEffect:_x,useLayoutEffect:xx,useMemo:Sx,useReducer:og,useRef:vx,useState:function(){return og(lu)},useDebugValue:cg,useDeferredValue:function(i){var a=Nr();return kx(a,nn.memoizedState,i)},useTransition:function(){var i=og(lu)[0],a=Nr().memoizedState;return[i,a]},useMutableSource:ux,useSyncExternalStore:dx,useId:Ix,unstable_isNewReconciler:!1},C2={readContext:Rr,useCallback:Tx,useContext:Rr,useEffect:lg,useImperativeHandle:Ex,useInsertionEffect:_x,useLayoutEffect:xx,useMemo:Sx,useReducer:ag,useRef:vx,useState:function(){return ag(lu)},useDebugValue:cg,useDeferredValue:function(i){var a=Nr();return nn===null?a.memoizedState=i:kx(a,nn.memoizedState,i)},useTransition:function(){var i=ag(lu)[0],a=Nr().memoizedState;return[i,a]},useMutableSource:ux,useSyncExternalStore:dx,useId:Ix,unstable_isNewReconciler:!1};function Zr(i,a){if(i&&i.defaultProps){a=le({},a),i=i.defaultProps;for(var u in i)a[u]===void 0&&(a[u]=i[u]);return a}return a}function ug(i,a,u,p){a=i.memoizedState,u=u(p,a),u=u==null?a:le({},a,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Rh={isMounted:function(i){return(i=i._reactInternals)?Wr(i)===i:!1},enqueueSetState:function(i,a,u){i=i._reactInternals;var p=Fn(),v=io(i),x=fi(p,v);x.payload=a,u!=null&&(x.callback=u),a=to(i,x,v),a!==null&&(ns(a,i,v,p),Eh(a,i,v))},enqueueReplaceState:function(i,a,u){i=i._reactInternals;var p=Fn(),v=io(i),x=fi(p,v);x.tag=1,x.payload=a,u!=null&&(x.callback=u),a=to(i,x,v),a!==null&&(ns(a,i,v,p),Eh(a,i,v))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var u=Fn(),p=io(i),v=fi(u,p);v.tag=2,a!=null&&(v.callback=a),a=to(i,v,p),a!==null&&(ns(a,i,p,u),Eh(a,i,p))}};function Rx(i,a,u,p,v,x,A){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,x,A):a.prototype&&a.prototype.isPureReactComponent?!Yc(u,p)||!Yc(v,x):!0}function Nx(i,a,u){var p=!1,v=Ji,x=a.contextType;return typeof x=="object"&&x!==null?x=Rr(x):(v=Zn(a)?oa:En.current,p=a.contextTypes,x=(p=p!=null)?wl(i,v):Ji),a=new a(u,x),i.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Rh,i.stateNode=a,a._reactInternals=i,p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=v,i.__reactInternalMemoizedMaskedChildContext=x),a}function Dx(i,a,u,p){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,p),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,p),a.state!==i&&Rh.enqueueReplaceState(a,a.state,null)}function dg(i,a,u,p){var v=i.stateNode;v.props=u,v.state=i.memoizedState,v.refs={},Xm(i);var x=a.contextType;typeof x=="object"&&x!==null?v.context=Rr(x):(x=Zn(a)?oa:En.current,v.context=wl(i,x)),v.state=i.memoizedState,x=a.getDerivedStateFromProps,typeof x=="function"&&(ug(i,a,x,u),v.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(a=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),a!==v.state&&Rh.enqueueReplaceState(v,v.state,null),Th(i,u,v,p),v.state=i.memoizedState),typeof v.componentDidMount=="function"&&(i.flags|=4194308)}function Il(i,a){try{var u="",p=a;do u+=Ee(p),p=p.return;while(p);var v=u}catch(x){v=`
Error generating stack: `+x.message+`
`+x.stack}return{value:i,source:a,stack:v,digest:null}}function hg(i,a,u){return{value:i,source:null,stack:u??null,digest:a??null}}function fg(i,a){try{console.error(a.value)}catch(u){setTimeout(function(){throw u})}}var P2=typeof WeakMap=="function"?WeakMap:Map;function Mx(i,a,u){u=fi(-1,u),u.tag=3,u.payload={element:null};var p=a.value;return u.callback=function(){jh||(jh=!0,Cg=p),fg(i,a)},u}function Ox(i,a,u){u=fi(-1,u),u.tag=3;var p=i.type.getDerivedStateFromError;if(typeof p=="function"){var v=a.value;u.payload=function(){return p(v)},u.callback=function(){fg(i,a)}}var x=i.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(u.callback=function(){fg(i,a),typeof p!="function"&&(ro===null?ro=new Set([this]):ro.add(this));var A=a.stack;this.componentDidCatch(a.value,{componentStack:A!==null?A:""})}),u}function Vx(i,a,u){var p=i.pingCache;if(p===null){p=i.pingCache=new P2;var v=new Set;p.set(a,v)}else v=p.get(a),v===void 0&&(v=new Set,p.set(a,v));v.has(u)||(v.add(u),i=z2.bind(null,i,a,u),a.then(i,i))}function Lx(i){do{var a;if((a=i.tag===13)&&(a=i.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return i;i=i.return}while(i!==null);return null}function jx(i,a,u,p,v){return(i.mode&1)===0?(i===a?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(a=fi(-1,1),a.tag=2,to(u,a,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=v,i)}var A2=j.ReactCurrentOwner,er=!1;function jn(i,a,u,p){a.child=i===null?sx(a,null,u,p):El(a,i.child,u,p)}function Fx(i,a,u,p,v){u=u.render;var x=a.ref;return Sl(a,v),p=sg(i,a,u,p,x,v),u=ig(),i!==null&&!er?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~v,pi(i,a,v)):(Et&&u&&Bm(a),a.flags|=1,jn(i,a,p,v),a.child)}function Ux(i,a,u,p,v){if(i===null){var x=u.type;return typeof x=="function"&&!Og(x)&&x.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(a.tag=15,a.type=x,Bx(i,a,x,p,v)):(i=Wh(u.type,null,p,a,a.mode,v),i.ref=a.ref,i.return=a,a.child=i)}if(x=i.child,(i.lanes&v)===0){var A=x.memoizedProps;if(u=u.compare,u=u!==null?u:Yc,u(A,p)&&i.ref===a.ref)return pi(i,a,v)}return a.flags|=1,i=ao(x,p),i.ref=a.ref,i.return=a,a.child=i}function Bx(i,a,u,p,v){if(i!==null){var x=i.memoizedProps;if(Yc(x,p)&&i.ref===a.ref)if(er=!1,a.pendingProps=p=x,(i.lanes&v)!==0)(i.flags&131072)!==0&&(er=!0);else return a.lanes=i.lanes,pi(i,a,v)}return pg(i,a,u,p,v)}function $x(i,a,u){var p=a.pendingProps,v=p.children,x=i!==null?i.memoizedState:null;if(p.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},ht(Pl,yr),yr|=u;else{if((u&1073741824)===0)return i=x!==null?x.baseLanes|u:u,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:i,cachePool:null,transitions:null},a.updateQueue=null,ht(Pl,yr),yr|=i,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=x!==null?x.baseLanes:u,ht(Pl,yr),yr|=p}else x!==null?(p=x.baseLanes|u,a.memoizedState=null):p=u,ht(Pl,yr),yr|=p;return jn(i,a,v,u),a.child}function zx(i,a){var u=a.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(a.flags|=512,a.flags|=2097152)}function pg(i,a,u,p,v){var x=Zn(u)?oa:En.current;return x=wl(a,x),Sl(a,v),u=sg(i,a,u,p,x,v),p=ig(),i!==null&&!er?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~v,pi(i,a,v)):(Et&&p&&Bm(a),a.flags|=1,jn(i,a,u,v),a.child)}function Wx(i,a,u,p,v){if(Zn(u)){var x=!0;mh(a)}else x=!1;if(Sl(a,v),a.stateNode===null)Dh(i,a),Nx(a,u,p),dg(a,u,p,v),p=!0;else if(i===null){var A=a.stateNode,U=a.memoizedProps;A.props=U;var H=A.context,J=u.contextType;typeof J=="object"&&J!==null?J=Rr(J):(J=Zn(u)?oa:En.current,J=wl(a,J));var de=u.getDerivedStateFromProps,he=typeof de=="function"||typeof A.getSnapshotBeforeUpdate=="function";he||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(U!==p||H!==J)&&Dx(a,A,p,J),eo=!1;var ce=a.memoizedState;A.state=ce,Th(a,p,A,v),H=a.memoizedState,U!==p||ce!==H||Jn.current||eo?(typeof de=="function"&&(ug(a,u,de,p),H=a.memoizedState),(U=eo||Rx(a,u,U,p,ce,H,J))?(he||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(a.flags|=4194308)):(typeof A.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=p,a.memoizedState=H),A.props=p,A.state=H,A.context=J,p=U):(typeof A.componentDidMount=="function"&&(a.flags|=4194308),p=!1)}else{A=a.stateNode,ox(i,a),U=a.memoizedProps,J=a.type===a.elementType?U:Zr(a.type,U),A.props=J,he=a.pendingProps,ce=A.context,H=u.contextType,typeof H=="object"&&H!==null?H=Rr(H):(H=Zn(u)?oa:En.current,H=wl(a,H));var ve=u.getDerivedStateFromProps;(de=typeof ve=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(U!==he||ce!==H)&&Dx(a,A,p,H),eo=!1,ce=a.memoizedState,A.state=ce,Th(a,p,A,v);var Te=a.memoizedState;U!==he||ce!==Te||Jn.current||eo?(typeof ve=="function"&&(ug(a,u,ve,p),Te=a.memoizedState),(J=eo||Rx(a,u,J,p,ce,Te,H)||!1)?(de||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(p,Te,H),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(p,Te,H)),typeof A.componentDidUpdate=="function"&&(a.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof A.componentDidUpdate!="function"||U===i.memoizedProps&&ce===i.memoizedState||(a.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||U===i.memoizedProps&&ce===i.memoizedState||(a.flags|=1024),a.memoizedProps=p,a.memoizedState=Te),A.props=p,A.state=Te,A.context=H,p=J):(typeof A.componentDidUpdate!="function"||U===i.memoizedProps&&ce===i.memoizedState||(a.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||U===i.memoizedProps&&ce===i.memoizedState||(a.flags|=1024),p=!1)}return mg(i,a,u,p,x,v)}function mg(i,a,u,p,v,x){zx(i,a);var A=(a.flags&128)!==0;if(!p&&!A)return v&&Y_(a,u,!1),pi(i,a,x);p=a.stateNode,A2.current=a;var U=A&&typeof u.getDerivedStateFromError!="function"?null:p.render();return a.flags|=1,i!==null&&A?(a.child=El(a,i.child,null,x),a.child=El(a,null,U,x)):jn(i,a,U,x),a.memoizedState=p.state,v&&Y_(a,u,!0),a.child}function Hx(i){var a=i.stateNode;a.pendingContext?K_(i,a.pendingContext,a.pendingContext!==a.context):a.context&&K_(i,a.context,!1),Jm(i,a.containerInfo)}function qx(i,a,u,p,v){return bl(),Hm(v),a.flags|=256,jn(i,a,u,p),a.child}var gg={dehydrated:null,treeContext:null,retryLane:0};function yg(i){return{baseLanes:i,cachePool:null,transitions:null}}function Kx(i,a,u){var p=a.pendingProps,v=It.current,x=!1,A=(a.flags&128)!==0,U;if((U=A)||(U=i!==null&&i.memoizedState===null?!1:(v&2)!==0),U?(x=!0,a.flags&=-129):(i===null||i.memoizedState!==null)&&(v|=1),ht(It,v&1),i===null)return Wm(a),i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((a.mode&1)===0?a.lanes=1:i.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(A=p.children,i=p.fallback,x?(p=a.mode,x=a.child,A={mode:"hidden",children:A},(p&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=A):x=Hh(A,p,0,null),i=ga(i,p,u,null),x.return=a,i.return=a,x.sibling=i,a.child=x,a.child.memoizedState=yg(u),a.memoizedState=gg,i):vg(a,A));if(v=i.memoizedState,v!==null&&(U=v.dehydrated,U!==null))return R2(i,a,A,p,U,v,u);if(x){x=p.fallback,A=a.mode,v=i.child,U=v.sibling;var H={mode:"hidden",children:p.children};return(A&1)===0&&a.child!==v?(p=a.child,p.childLanes=0,p.pendingProps=H,a.deletions=null):(p=ao(v,H),p.subtreeFlags=v.subtreeFlags&14680064),U!==null?x=ao(U,x):(x=ga(x,A,u,null),x.flags|=2),x.return=a,p.return=a,p.sibling=x,a.child=p,p=x,x=a.child,A=i.child.memoizedState,A=A===null?yg(u):{baseLanes:A.baseLanes|u,cachePool:null,transitions:A.transitions},x.memoizedState=A,x.childLanes=i.childLanes&~u,a.memoizedState=gg,p}return x=i.child,i=x.sibling,p=ao(x,{mode:"visible",children:p.children}),(a.mode&1)===0&&(p.lanes=u),p.return=a,p.sibling=null,i!==null&&(u=a.deletions,u===null?(a.deletions=[i],a.flags|=16):u.push(i)),a.child=p,a.memoizedState=null,p}function vg(i,a){return a=Hh({mode:"visible",children:a},i.mode,0,null),a.return=i,i.child=a}function Nh(i,a,u,p){return p!==null&&Hm(p),El(a,i.child,null,u),i=vg(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function R2(i,a,u,p,v,x,A){if(u)return a.flags&256?(a.flags&=-257,p=hg(Error(n(422))),Nh(i,a,A,p)):a.memoizedState!==null?(a.child=i.child,a.flags|=128,null):(x=p.fallback,v=a.mode,p=Hh({mode:"visible",children:p.children},v,0,null),x=ga(x,v,A,null),x.flags|=2,p.return=a,x.return=a,p.sibling=x,a.child=p,(a.mode&1)!==0&&El(a,i.child,null,A),a.child.memoizedState=yg(A),a.memoizedState=gg,x);if((a.mode&1)===0)return Nh(i,a,A,null);if(v.data==="$!"){if(p=v.nextSibling&&v.nextSibling.dataset,p)var U=p.dgst;return p=U,x=Error(n(419)),p=hg(x,p,void 0),Nh(i,a,A,p)}if(U=(A&i.childLanes)!==0,er||U){if(p=cn,p!==null){switch(A&-A){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=(v&(p.suspendedLanes|A))!==0?0:v,v!==0&&v!==x.retryLane&&(x.retryLane=v,hi(i,v),ns(p,i,v,-1))}return Mg(),p=hg(Error(n(421))),Nh(i,a,A,p)}return v.data==="$?"?(a.flags|=128,a.child=i.child,a=W2.bind(null,i),v._reactRetry=a,null):(i=x.treeContext,gr=Qi(v.nextSibling),mr=a,Et=!0,Jr=null,i!==null&&(Pr[Ar++]=ui,Pr[Ar++]=di,Pr[Ar++]=aa,ui=i.id,di=i.overflow,aa=a),a=vg(a,p.children),a.flags|=4096,a)}function Gx(i,a,u){i.lanes|=a;var p=i.alternate;p!==null&&(p.lanes|=a),Ym(i.return,a,u)}function wg(i,a,u,p,v){var x=i.memoizedState;x===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:v}:(x.isBackwards=a,x.rendering=null,x.renderingStartTime=0,x.last=p,x.tail=u,x.tailMode=v)}function Yx(i,a,u){var p=a.pendingProps,v=p.revealOrder,x=p.tail;if(jn(i,a,p.children,u),p=It.current,(p&2)!==0)p=p&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Gx(i,u,a);else if(i.tag===19)Gx(i,u,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}p&=1}if(ht(It,p),(a.mode&1)===0)a.memoizedState=null;else switch(v){case"forwards":for(u=a.child,v=null;u!==null;)i=u.alternate,i!==null&&Sh(i)===null&&(v=u),u=u.sibling;u=v,u===null?(v=a.child,a.child=null):(v=u.sibling,u.sibling=null),wg(a,!1,v,u,x);break;case"backwards":for(u=null,v=a.child,a.child=null;v!==null;){if(i=v.alternate,i!==null&&Sh(i)===null){a.child=v;break}i=v.sibling,v.sibling=u,u=v,v=i}wg(a,!0,u,null,x);break;case"together":wg(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Dh(i,a){(a.mode&1)===0&&i!==null&&(i.alternate=null,a.alternate=null,a.flags|=2)}function pi(i,a,u){if(i!==null&&(a.dependencies=i.dependencies),ha|=a.lanes,(u&a.childLanes)===0)return null;if(i!==null&&a.child!==i.child)throw Error(n(153));if(a.child!==null){for(i=a.child,u=ao(i,i.pendingProps),a.child=u,u.return=a;i.sibling!==null;)i=i.sibling,u=u.sibling=ao(i,i.pendingProps),u.return=a;u.sibling=null}return a.child}function N2(i,a,u){switch(a.tag){case 3:Hx(a),bl();break;case 5:cx(a);break;case 1:Zn(a.type)&&mh(a);break;case 4:Jm(a,a.stateNode.containerInfo);break;case 10:var p=a.type._context,v=a.memoizedProps.value;ht(xh,p._currentValue),p._currentValue=v;break;case 13:if(p=a.memoizedState,p!==null)return p.dehydrated!==null?(ht(It,It.current&1),a.flags|=128,null):(u&a.child.childLanes)!==0?Kx(i,a,u):(ht(It,It.current&1),i=pi(i,a,u),i!==null?i.sibling:null);ht(It,It.current&1);break;case 19:if(p=(u&a.childLanes)!==0,(i.flags&128)!==0){if(p)return Yx(i,a,u);a.flags|=128}if(v=a.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),ht(It,It.current),p)break;return null;case 22:case 23:return a.lanes=0,$x(i,a,u)}return pi(i,a,u)}var Qx,_g,Xx,Jx;Qx=function(i,a){for(var u=a.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},_g=function(){},Xx=function(i,a,u,p){var v=i.memoizedProps;if(v!==p){i=a.stateNode,ua(Ts.current);var x=null;switch(u){case"input":v=Dt(i,v),p=Dt(i,p),x=[];break;case"select":v=le({},v,{value:void 0}),p=le({},p,{value:void 0}),x=[];break;case"textarea":v=Jt(i,v),p=Jt(i,p),x=[];break;default:typeof v.onClick!="function"&&typeof p.onClick=="function"&&(i.onclick=hh)}ji(u,p);var A;u=null;for(J in v)if(!p.hasOwnProperty(J)&&v.hasOwnProperty(J)&&v[J]!=null)if(J==="style"){var U=v[J];for(A in U)U.hasOwnProperty(A)&&(u||(u={}),u[A]="")}else J!=="dangerouslySetInnerHTML"&&J!=="children"&&J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&J!=="autoFocus"&&(s.hasOwnProperty(J)?x||(x=[]):(x=x||[]).push(J,null));for(J in p){var H=p[J];if(U=v!=null?v[J]:void 0,p.hasOwnProperty(J)&&H!==U&&(H!=null||U!=null))if(J==="style")if(U){for(A in U)!U.hasOwnProperty(A)||H&&H.hasOwnProperty(A)||(u||(u={}),u[A]="");for(A in H)H.hasOwnProperty(A)&&U[A]!==H[A]&&(u||(u={}),u[A]=H[A])}else u||(x||(x=[]),x.push(J,u)),u=H;else J==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,U=U?U.__html:void 0,H!=null&&U!==H&&(x=x||[]).push(J,H)):J==="children"?typeof H!="string"&&typeof H!="number"||(x=x||[]).push(J,""+H):J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&(s.hasOwnProperty(J)?(H!=null&&J==="onScroll"&&mt("scroll",i),x||U===H||(x=[])):(x=x||[]).push(J,H))}u&&(x=x||[]).push("style",u);var J=x;(a.updateQueue=J)&&(a.flags|=4)}},Jx=function(i,a,u,p){u!==p&&(a.flags|=4)};function uu(i,a){if(!Et)switch(i.tailMode){case"hidden":a=i.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function Sn(i){var a=i.alternate!==null&&i.alternate.child===i.child,u=0,p=0;if(a)for(var v=i.child;v!==null;)u|=v.lanes|v.childLanes,p|=v.subtreeFlags&14680064,p|=v.flags&14680064,v.return=i,v=v.sibling;else for(v=i.child;v!==null;)u|=v.lanes|v.childLanes,p|=v.subtreeFlags,p|=v.flags,v.return=i,v=v.sibling;return i.subtreeFlags|=p,i.childLanes=u,a}function D2(i,a,u){var p=a.pendingProps;switch($m(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Sn(a),null;case 1:return Zn(a.type)&&ph(),Sn(a),null;case 3:return p=a.stateNode,kl(),gt(Jn),gt(En),tg(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(i===null||i.child===null)&&(wh(a)?a.flags|=4:i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Jr!==null&&(Rg(Jr),Jr=null))),_g(i,a),Sn(a),null;case 5:Zm(a);var v=ua(iu.current);if(u=a.type,i!==null&&a.stateNode!=null)Xx(i,a,u,p,v),i.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!p){if(a.stateNode===null)throw Error(n(166));return Sn(a),null}if(i=ua(Ts.current),wh(a)){p=a.stateNode,u=a.type;var x=a.memoizedProps;switch(p[Es]=a,p[eu]=x,i=(a.mode&1)!==0,u){case"dialog":mt("cancel",p),mt("close",p);break;case"iframe":case"object":case"embed":mt("load",p);break;case"video":case"audio":for(v=0;v<Xc.length;v++)mt(Xc[v],p);break;case"source":mt("error",p);break;case"img":case"image":case"link":mt("error",p),mt("load",p);break;case"details":mt("toggle",p);break;case"input":Wn(p,x),mt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!x.multiple},mt("invalid",p);break;case"textarea":cr(p,x),mt("invalid",p)}ji(u,x),v=null;for(var A in x)if(x.hasOwnProperty(A)){var U=x[A];A==="children"?typeof U=="string"?p.textContent!==U&&(x.suppressHydrationWarning!==!0&&dh(p.textContent,U,i),v=["children",U]):typeof U=="number"&&p.textContent!==""+U&&(x.suppressHydrationWarning!==!0&&dh(p.textContent,U,i),v=["children",""+U]):s.hasOwnProperty(A)&&U!=null&&A==="onScroll"&&mt("scroll",p)}switch(u){case"input":Ue(p),ei(p,x,!0);break;case"textarea":Ue(p),qo(p);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(p.onclick=hh)}p=v,a.updateQueue=p,p!==null&&(a.flags|=4)}else{A=v.nodeType===9?v:v.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=wt(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=A.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof p.is=="string"?i=A.createElement(u,{is:p.is}):(i=A.createElement(u),u==="select"&&(A=i,p.multiple?A.multiple=!0:p.size&&(A.size=p.size))):i=A.createElementNS(i,u),i[Es]=a,i[eu]=p,Qx(i,a,!1,!1),a.stateNode=i;e:{switch(A=Yo(u,p),u){case"dialog":mt("cancel",i),mt("close",i),v=p;break;case"iframe":case"object":case"embed":mt("load",i),v=p;break;case"video":case"audio":for(v=0;v<Xc.length;v++)mt(Xc[v],i);v=p;break;case"source":mt("error",i),v=p;break;case"img":case"image":case"link":mt("error",i),mt("load",i),v=p;break;case"details":mt("toggle",i),v=p;break;case"input":Wn(i,p),v=Dt(i,p),mt("invalid",i);break;case"option":v=p;break;case"select":i._wrapperState={wasMultiple:!!p.multiple},v=le({},p,{value:void 0}),mt("invalid",i);break;case"textarea":cr(i,p),v=Jt(i,p),mt("invalid",i);break;default:v=p}ji(u,v),U=v;for(x in U)if(U.hasOwnProperty(x)){var H=U[x];x==="style"?Go(i,H):x==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,H!=null&&ti(i,H)):x==="children"?typeof H=="string"?(u!=="textarea"||H!=="")&&Mn(i,H):typeof H=="number"&&Mn(i,""+H):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(s.hasOwnProperty(x)?H!=null&&x==="onScroll"&&mt("scroll",i):H!=null&&M(i,x,H,A))}switch(u){case"input":Ue(i),ei(i,p,!1);break;case"textarea":Ue(i),qo(i);break;case"option":p.value!=null&&i.setAttribute("value",""+xe(p.value));break;case"select":i.multiple=!!p.multiple,x=p.value,x!=null?Br(i,!!p.multiple,x,!1):p.defaultValue!=null&&Br(i,!!p.multiple,p.defaultValue,!0);break;default:typeof v.onClick=="function"&&(i.onclick=hh)}switch(u){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Sn(a),null;case 6:if(i&&a.stateNode!=null)Jx(i,a,i.memoizedProps,p);else{if(typeof p!="string"&&a.stateNode===null)throw Error(n(166));if(u=ua(iu.current),ua(Ts.current),wh(a)){if(p=a.stateNode,u=a.memoizedProps,p[Es]=a,(x=p.nodeValue!==u)&&(i=mr,i!==null))switch(i.tag){case 3:dh(p.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&dh(p.nodeValue,u,(i.mode&1)!==0)}x&&(a.flags|=4)}else p=(u.nodeType===9?u:u.ownerDocument).createTextNode(p),p[Es]=a,a.stateNode=p}return Sn(a),null;case 13:if(gt(It),p=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Et&&gr!==null&&(a.mode&1)!==0&&(a.flags&128)===0)tx(),bl(),a.flags|=98560,x=!1;else if(x=wh(a),p!==null&&p.dehydrated!==null){if(i===null){if(!x)throw Error(n(318));if(x=a.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(n(317));x[Es]=a}else bl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Sn(a),x=!1}else Jr!==null&&(Rg(Jr),Jr=null),x=!0;if(!x)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=u,a):(p=p!==null,p!==(i!==null&&i.memoizedState!==null)&&p&&(a.child.flags|=8192,(a.mode&1)!==0&&(i===null||(It.current&1)!==0?rn===0&&(rn=3):Mg())),a.updateQueue!==null&&(a.flags|=4),Sn(a),null);case 4:return kl(),_g(i,a),i===null&&Jc(a.stateNode.containerInfo),Sn(a),null;case 10:return Gm(a.type._context),Sn(a),null;case 17:return Zn(a.type)&&ph(),Sn(a),null;case 19:if(gt(It),x=a.memoizedState,x===null)return Sn(a),null;if(p=(a.flags&128)!==0,A=x.rendering,A===null)if(p)uu(x,!1);else{if(rn!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(A=Sh(i),A!==null){for(a.flags|=128,uu(x,!1),p=A.updateQueue,p!==null&&(a.updateQueue=p,a.flags|=4),a.subtreeFlags=0,p=u,u=a.child;u!==null;)x=u,i=p,x.flags&=14680066,A=x.alternate,A===null?(x.childLanes=0,x.lanes=i,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=A.childLanes,x.lanes=A.lanes,x.child=A.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=A.memoizedProps,x.memoizedState=A.memoizedState,x.updateQueue=A.updateQueue,x.type=A.type,i=A.dependencies,x.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return ht(It,It.current&1|2),a.child}i=i.sibling}x.tail!==null&&dt()>Al&&(a.flags|=128,p=!0,uu(x,!1),a.lanes=4194304)}else{if(!p)if(i=Sh(A),i!==null){if(a.flags|=128,p=!0,u=i.updateQueue,u!==null&&(a.updateQueue=u,a.flags|=4),uu(x,!0),x.tail===null&&x.tailMode==="hidden"&&!A.alternate&&!Et)return Sn(a),null}else 2*dt()-x.renderingStartTime>Al&&u!==1073741824&&(a.flags|=128,p=!0,uu(x,!1),a.lanes=4194304);x.isBackwards?(A.sibling=a.child,a.child=A):(u=x.last,u!==null?u.sibling=A:a.child=A,x.last=A)}return x.tail!==null?(a=x.tail,x.rendering=a,x.tail=a.sibling,x.renderingStartTime=dt(),a.sibling=null,u=It.current,ht(It,p?u&1|2:u&1),a):(Sn(a),null);case 22:case 23:return Dg(),p=a.memoizedState!==null,i!==null&&i.memoizedState!==null!==p&&(a.flags|=8192),p&&(a.mode&1)!==0?(yr&1073741824)!==0&&(Sn(a),a.subtreeFlags&6&&(a.flags|=8192)):Sn(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function M2(i,a){switch($m(a),a.tag){case 1:return Zn(a.type)&&ph(),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return kl(),gt(Jn),gt(En),tg(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 5:return Zm(a),null;case 13:if(gt(It),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(n(340));bl()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return gt(It),null;case 4:return kl(),null;case 10:return Gm(a.type._context),null;case 22:case 23:return Dg(),null;case 24:return null;default:return null}}var Mh=!1,kn=!1,O2=typeof WeakSet=="function"?WeakSet:Set,be=null;function Cl(i,a){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(p){Mt(i,a,p)}else u.current=null}function xg(i,a,u){try{u()}catch(p){Mt(i,a,p)}}var Zx=!1;function V2(i,a){if(Dm=Ki,i=R_(),Sm(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var v=p.anchorOffset,x=p.focusNode;p=p.focusOffset;try{u.nodeType,x.nodeType}catch{u=null;break e}var A=0,U=-1,H=-1,J=0,de=0,he=i,ce=null;t:for(;;){for(var ve;he!==u||v!==0&&he.nodeType!==3||(U=A+v),he!==x||p!==0&&he.nodeType!==3||(H=A+p),he.nodeType===3&&(A+=he.nodeValue.length),(ve=he.firstChild)!==null;)ce=he,he=ve;for(;;){if(he===i)break t;if(ce===u&&++J===v&&(U=A),ce===x&&++de===p&&(H=A),(ve=he.nextSibling)!==null)break;he=ce,ce=he.parentNode}he=ve}u=U===-1||H===-1?null:{start:U,end:H}}else u=null}u=u||{start:0,end:0}}else u=null;for(Mm={focusedElem:i,selectionRange:u},Ki=!1,be=a;be!==null;)if(a=be,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,be=i;else for(;be!==null;){a=be;try{var Te=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Te!==null){var Ie=Te.memoizedProps,Bt=Te.memoizedState,Y=a.stateNode,q=Y.getSnapshotBeforeUpdate(a.elementType===a.type?Ie:Zr(a.type,Ie),Bt);Y.__reactInternalSnapshotBeforeUpdate=q}break;case 3:var Q=a.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(pe){Mt(a,a.return,pe)}if(i=a.sibling,i!==null){i.return=a.return,be=i;break}be=a.return}return Te=Zx,Zx=!1,Te}function du(i,a,u){var p=a.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var v=p=p.next;do{if((v.tag&i)===i){var x=v.destroy;v.destroy=void 0,x!==void 0&&xg(a,u,x)}v=v.next}while(v!==p)}}function Oh(i,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&i)===i){var p=u.create;u.destroy=p()}u=u.next}while(u!==a)}}function bg(i){var a=i.ref;if(a!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof a=="function"?a(i):a.current=i}}function eb(i){var a=i.alternate;a!==null&&(i.alternate=null,eb(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&(delete a[Es],delete a[eu],delete a[jm],delete a[v2],delete a[w2])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function tb(i){return i.tag===5||i.tag===3||i.tag===4}function nb(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||tb(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Eg(i,a,u){var p=i.tag;if(p===5||p===6)i=i.stateNode,a?u.nodeType===8?u.parentNode.insertBefore(i,a):u.insertBefore(i,a):(u.nodeType===8?(a=u.parentNode,a.insertBefore(i,u)):(a=u,a.appendChild(i)),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=hh));else if(p!==4&&(i=i.child,i!==null))for(Eg(i,a,u),i=i.sibling;i!==null;)Eg(i,a,u),i=i.sibling}function Tg(i,a,u){var p=i.tag;if(p===5||p===6)i=i.stateNode,a?u.insertBefore(i,a):u.appendChild(i);else if(p!==4&&(i=i.child,i!==null))for(Tg(i,a,u),i=i.sibling;i!==null;)Tg(i,a,u),i=i.sibling}var yn=null,es=!1;function no(i,a,u){for(u=u.child;u!==null;)rb(i,a,u),u=u.sibling}function rb(i,a,u){if(dr&&typeof dr.onCommitFiberUnmount=="function")try{dr.onCommitFiberUnmount(Jo,u)}catch{}switch(u.tag){case 5:kn||Cl(u,a);case 6:var p=yn,v=es;yn=null,no(i,a,u),yn=p,es=v,yn!==null&&(es?(i=yn,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):yn.removeChild(u.stateNode));break;case 18:yn!==null&&(es?(i=yn,u=u.stateNode,i.nodeType===8?Lm(i.parentNode,u):i.nodeType===1&&Lm(i,u),Yr(i)):Lm(yn,u.stateNode));break;case 4:p=yn,v=es,yn=u.stateNode.containerInfo,es=!0,no(i,a,u),yn=p,es=v;break;case 0:case 11:case 14:case 15:if(!kn&&(p=u.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){v=p=p.next;do{var x=v,A=x.destroy;x=x.tag,A!==void 0&&((x&2)!==0||(x&4)!==0)&&xg(u,a,A),v=v.next}while(v!==p)}no(i,a,u);break;case 1:if(!kn&&(Cl(u,a),p=u.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=u.memoizedProps,p.state=u.memoizedState,p.componentWillUnmount()}catch(U){Mt(u,a,U)}no(i,a,u);break;case 21:no(i,a,u);break;case 22:u.mode&1?(kn=(p=kn)||u.memoizedState!==null,no(i,a,u),kn=p):no(i,a,u);break;default:no(i,a,u)}}function sb(i){var a=i.updateQueue;if(a!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new O2),a.forEach(function(p){var v=H2.bind(null,i,p);u.has(p)||(u.add(p),p.then(v,v))})}}function ts(i,a){var u=a.deletions;if(u!==null)for(var p=0;p<u.length;p++){var v=u[p];try{var x=i,A=a,U=A;e:for(;U!==null;){switch(U.tag){case 5:yn=U.stateNode,es=!1;break e;case 3:yn=U.stateNode.containerInfo,es=!0;break e;case 4:yn=U.stateNode.containerInfo,es=!0;break e}U=U.return}if(yn===null)throw Error(n(160));rb(x,A,v),yn=null,es=!1;var H=v.alternate;H!==null&&(H.return=null),v.return=null}catch(J){Mt(v,a,J)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)ib(a,i),a=a.sibling}function ib(i,a){var u=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(ts(a,i),ks(i),p&4){try{du(3,i,i.return),Oh(3,i)}catch(Ie){Mt(i,i.return,Ie)}try{du(5,i,i.return)}catch(Ie){Mt(i,i.return,Ie)}}break;case 1:ts(a,i),ks(i),p&512&&u!==null&&Cl(u,u.return);break;case 5:if(ts(a,i),ks(i),p&512&&u!==null&&Cl(u,u.return),i.flags&32){var v=i.stateNode;try{Mn(v,"")}catch(Ie){Mt(i,i.return,Ie)}}if(p&4&&(v=i.stateNode,v!=null)){var x=i.memoizedProps,A=u!==null?u.memoizedProps:x,U=i.type,H=i.updateQueue;if(i.updateQueue=null,H!==null)try{U==="input"&&x.type==="radio"&&x.name!=null&&Hn(v,x),Yo(U,A);var J=Yo(U,x);for(A=0;A<H.length;A+=2){var de=H[A],he=H[A+1];de==="style"?Go(v,he):de==="dangerouslySetInnerHTML"?ti(v,he):de==="children"?Mn(v,he):M(v,de,he,J)}switch(U){case"input":pn(v,x);break;case"textarea":Vi(v,x);break;case"select":var ce=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!x.multiple;var ve=x.value;ve!=null?Br(v,!!x.multiple,ve,!1):ce!==!!x.multiple&&(x.defaultValue!=null?Br(v,!!x.multiple,x.defaultValue,!0):Br(v,!!x.multiple,x.multiple?[]:"",!1))}v[eu]=x}catch(Ie){Mt(i,i.return,Ie)}}break;case 6:if(ts(a,i),ks(i),p&4){if(i.stateNode===null)throw Error(n(162));v=i.stateNode,x=i.memoizedProps;try{v.nodeValue=x}catch(Ie){Mt(i,i.return,Ie)}}break;case 3:if(ts(a,i),ks(i),p&4&&u!==null&&u.memoizedState.isDehydrated)try{Yr(a.containerInfo)}catch(Ie){Mt(i,i.return,Ie)}break;case 4:ts(a,i),ks(i);break;case 13:ts(a,i),ks(i),v=i.child,v.flags&8192&&(x=v.memoizedState!==null,v.stateNode.isHidden=x,!x||v.alternate!==null&&v.alternate.memoizedState!==null||(Ig=dt())),p&4&&sb(i);break;case 22:if(de=u!==null&&u.memoizedState!==null,i.mode&1?(kn=(J=kn)||de,ts(a,i),kn=J):ts(a,i),ks(i),p&8192){if(J=i.memoizedState!==null,(i.stateNode.isHidden=J)&&!de&&(i.mode&1)!==0)for(be=i,de=i.child;de!==null;){for(he=be=de;be!==null;){switch(ce=be,ve=ce.child,ce.tag){case 0:case 11:case 14:case 15:du(4,ce,ce.return);break;case 1:Cl(ce,ce.return);var Te=ce.stateNode;if(typeof Te.componentWillUnmount=="function"){p=ce,u=ce.return;try{a=p,Te.props=a.memoizedProps,Te.state=a.memoizedState,Te.componentWillUnmount()}catch(Ie){Mt(p,u,Ie)}}break;case 5:Cl(ce,ce.return);break;case 22:if(ce.memoizedState!==null){lb(he);continue}}ve!==null?(ve.return=ce,be=ve):lb(he)}de=de.sibling}e:for(de=null,he=i;;){if(he.tag===5){if(de===null){de=he;try{v=he.stateNode,J?(x=v.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(U=he.stateNode,H=he.memoizedProps.style,A=H!=null&&H.hasOwnProperty("display")?H.display:null,U.style.display=Ko("display",A))}catch(Ie){Mt(i,i.return,Ie)}}}else if(he.tag===6){if(de===null)try{he.stateNode.nodeValue=J?"":he.memoizedProps}catch(Ie){Mt(i,i.return,Ie)}}else if((he.tag!==22&&he.tag!==23||he.memoizedState===null||he===i)&&he.child!==null){he.child.return=he,he=he.child;continue}if(he===i)break e;for(;he.sibling===null;){if(he.return===null||he.return===i)break e;de===he&&(de=null),he=he.return}de===he&&(de=null),he.sibling.return=he.return,he=he.sibling}}break;case 19:ts(a,i),ks(i),p&4&&sb(i);break;case 21:break;default:ts(a,i),ks(i)}}function ks(i){var a=i.flags;if(a&2){try{e:{for(var u=i.return;u!==null;){if(tb(u)){var p=u;break e}u=u.return}throw Error(n(160))}switch(p.tag){case 5:var v=p.stateNode;p.flags&32&&(Mn(v,""),p.flags&=-33);var x=nb(i);Tg(i,x,v);break;case 3:case 4:var A=p.stateNode.containerInfo,U=nb(i);Eg(i,U,A);break;default:throw Error(n(161))}}catch(H){Mt(i,i.return,H)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function L2(i,a,u){be=i,ob(i)}function ob(i,a,u){for(var p=(i.mode&1)!==0;be!==null;){var v=be,x=v.child;if(v.tag===22&&p){var A=v.memoizedState!==null||Mh;if(!A){var U=v.alternate,H=U!==null&&U.memoizedState!==null||kn;U=Mh;var J=kn;if(Mh=A,(kn=H)&&!J)for(be=v;be!==null;)A=be,H=A.child,A.tag===22&&A.memoizedState!==null?cb(v):H!==null?(H.return=A,be=H):cb(v);for(;x!==null;)be=x,ob(x),x=x.sibling;be=v,Mh=U,kn=J}ab(i)}else(v.subtreeFlags&8772)!==0&&x!==null?(x.return=v,be=x):ab(i)}}function ab(i){for(;be!==null;){var a=be;if((a.flags&8772)!==0){var u=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:kn||Oh(5,a);break;case 1:var p=a.stateNode;if(a.flags&4&&!kn)if(u===null)p.componentDidMount();else{var v=a.elementType===a.type?u.memoizedProps:Zr(a.type,u.memoizedProps);p.componentDidUpdate(v,u.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var x=a.updateQueue;x!==null&&lx(a,x,p);break;case 3:var A=a.updateQueue;if(A!==null){if(u=null,a.child!==null)switch(a.child.tag){case 5:u=a.child.stateNode;break;case 1:u=a.child.stateNode}lx(a,A,u)}break;case 5:var U=a.stateNode;if(u===null&&a.flags&4){u=U;var H=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":H.autoFocus&&u.focus();break;case"img":H.src&&(u.src=H.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var J=a.alternate;if(J!==null){var de=J.memoizedState;if(de!==null){var he=de.dehydrated;he!==null&&Yr(he)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}kn||a.flags&512&&bg(a)}catch(ce){Mt(a,a.return,ce)}}if(a===i){be=null;break}if(u=a.sibling,u!==null){u.return=a.return,be=u;break}be=a.return}}function lb(i){for(;be!==null;){var a=be;if(a===i){be=null;break}var u=a.sibling;if(u!==null){u.return=a.return,be=u;break}be=a.return}}function cb(i){for(;be!==null;){var a=be;try{switch(a.tag){case 0:case 11:case 15:var u=a.return;try{Oh(4,a)}catch(H){Mt(a,u,H)}break;case 1:var p=a.stateNode;if(typeof p.componentDidMount=="function"){var v=a.return;try{p.componentDidMount()}catch(H){Mt(a,v,H)}}var x=a.return;try{bg(a)}catch(H){Mt(a,x,H)}break;case 5:var A=a.return;try{bg(a)}catch(H){Mt(a,A,H)}}}catch(H){Mt(a,a.return,H)}if(a===i){be=null;break}var U=a.sibling;if(U!==null){U.return=a.return,be=U;break}be=a.return}}var j2=Math.ceil,Vh=j.ReactCurrentDispatcher,Sg=j.ReactCurrentOwner,Dr=j.ReactCurrentBatchConfig,et=0,cn=null,qt=null,vn=0,yr=0,Pl=Xi(0),rn=0,hu=null,ha=0,Lh=0,kg=0,fu=null,tr=null,Ig=0,Al=1/0,mi=null,jh=!1,Cg=null,ro=null,Fh=!1,so=null,Uh=0,pu=0,Pg=null,Bh=-1,$h=0;function Fn(){return(et&6)!==0?dt():Bh!==-1?Bh:Bh=dt()}function io(i){return(i.mode&1)===0?1:(et&2)!==0&&vn!==0?vn&-vn:x2.transition!==null?($h===0&&($h=ea()),$h):(i=Ye,i!==0||(i=window.event,i=i===void 0?16:$c(i.type)),i)}function ns(i,a,u,p){if(50<pu)throw pu=0,Pg=null,Error(n(185));zi(i,u,p),((et&2)===0||i!==cn)&&(i===cn&&((et&2)===0&&(Lh|=u),rn===4&&oo(i,vn)),nr(i,p),u===1&&et===0&&(a.mode&1)===0&&(Al=dt()+500,gh&&Zi()))}function nr(i,a){var u=i.callbackNode;ri(i,a);var p=Zo(i,i===cn?vn:0);if(p===0)u!==null&&Lc(u),i.callbackNode=null,i.callbackPriority=0;else if(a=p&-p,i.callbackPriority!==a){if(u!=null&&Lc(u),a===1)i.tag===0?_2(db.bind(null,i)):Q_(db.bind(null,i)),g2(function(){(et&6)===0&&Zi()}),u=null;else{switch(Hi(p)){case 1:u=Xo;break;case 4:u=Ui;break;case 16:u=kr;break;case 536870912:u=$d;break;default:u=kr}u=wb(u,ub.bind(null,i))}i.callbackPriority=a,i.callbackNode=u}}function ub(i,a){if(Bh=-1,$h=0,(et&6)!==0)throw Error(n(327));var u=i.callbackNode;if(Rl()&&i.callbackNode!==u)return null;var p=Zo(i,i===cn?vn:0);if(p===0)return null;if((p&30)!==0||(p&i.expiredLanes)!==0||a)a=zh(i,p);else{a=p;var v=et;et|=2;var x=fb();(cn!==i||vn!==a)&&(mi=null,Al=dt()+500,pa(i,a));do try{B2();break}catch(U){hb(i,U)}while(!0);Km(),Vh.current=x,et=v,qt!==null?a=0:(cn=null,vn=0,a=rn)}if(a!==0){if(a===2&&(v=hr(i),v!==0&&(p=v,a=Ag(i,v))),a===1)throw u=hu,pa(i,0),oo(i,p),nr(i,dt()),u;if(a===6)oo(i,p);else{if(v=i.current.alternate,(p&30)===0&&!F2(v)&&(a=zh(i,p),a===2&&(x=hr(i),x!==0&&(p=x,a=Ag(i,x))),a===1))throw u=hu,pa(i,0),oo(i,p),nr(i,dt()),u;switch(i.finishedWork=v,i.finishedLanes=p,a){case 0:case 1:throw Error(n(345));case 2:ma(i,tr,mi);break;case 3:if(oo(i,p),(p&130023424)===p&&(a=Ig+500-dt(),10<a)){if(Zo(i,0)!==0)break;if(v=i.suspendedLanes,(v&p)!==p){Fn(),i.pingedLanes|=i.suspendedLanes&v;break}i.timeoutHandle=Vm(ma.bind(null,i,tr,mi),a);break}ma(i,tr,mi);break;case 4:if(oo(i,p),(p&4194240)===p)break;for(a=i.eventTimes,v=-1;0<p;){var A=31-Vn(p);x=1<<A,A=a[A],A>v&&(v=A),p&=~x}if(p=v,p=dt()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*j2(p/1960))-p,10<p){i.timeoutHandle=Vm(ma.bind(null,i,tr,mi),p);break}ma(i,tr,mi);break;case 5:ma(i,tr,mi);break;default:throw Error(n(329))}}}return nr(i,dt()),i.callbackNode===u?ub.bind(null,i):null}function Ag(i,a){var u=fu;return i.current.memoizedState.isDehydrated&&(pa(i,a).flags|=256),i=zh(i,a),i!==2&&(a=tr,tr=u,a!==null&&Rg(a)),i}function Rg(i){tr===null?tr=i:tr.push.apply(tr,i)}function F2(i){for(var a=i;;){if(a.flags&16384){var u=a.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var p=0;p<u.length;p++){var v=u[p],x=v.getSnapshot;v=v.value;try{if(!Xr(x(),v))return!1}catch{return!1}}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function oo(i,a){for(a&=~kg,a&=~Lh,i.suspendedLanes|=a,i.pingedLanes&=~a,i=i.expirationTimes;0<a;){var u=31-Vn(a),p=1<<u;i[u]=-1,a&=~p}}function db(i){if((et&6)!==0)throw Error(n(327));Rl();var a=Zo(i,0);if((a&1)===0)return nr(i,dt()),null;var u=zh(i,a);if(i.tag!==0&&u===2){var p=hr(i);p!==0&&(a=p,u=Ag(i,p))}if(u===1)throw u=hu,pa(i,0),oo(i,a),nr(i,dt()),u;if(u===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=a,ma(i,tr,mi),nr(i,dt()),null}function Ng(i,a){var u=et;et|=1;try{return i(a)}finally{et=u,et===0&&(Al=dt()+500,gh&&Zi())}}function fa(i){so!==null&&so.tag===0&&(et&6)===0&&Rl();var a=et;et|=1;var u=Dr.transition,p=Ye;try{if(Dr.transition=null,Ye=1,i)return i()}finally{Ye=p,Dr.transition=u,et=a,(et&6)===0&&Zi()}}function Dg(){yr=Pl.current,gt(Pl)}function pa(i,a){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,m2(u)),qt!==null)for(u=qt.return;u!==null;){var p=u;switch($m(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&ph();break;case 3:kl(),gt(Jn),gt(En),tg();break;case 5:Zm(p);break;case 4:kl();break;case 13:gt(It);break;case 19:gt(It);break;case 10:Gm(p.type._context);break;case 22:case 23:Dg()}u=u.return}if(cn=i,qt=i=ao(i.current,null),vn=yr=a,rn=0,hu=null,kg=Lh=ha=0,tr=fu=null,ca!==null){for(a=0;a<ca.length;a++)if(u=ca[a],p=u.interleaved,p!==null){u.interleaved=null;var v=p.next,x=u.pending;if(x!==null){var A=x.next;x.next=v,p.next=A}u.pending=p}ca=null}return i}function hb(i,a){do{var u=qt;try{if(Km(),kh.current=Ah,Ih){for(var p=Ct.memoizedState;p!==null;){var v=p.queue;v!==null&&(v.pending=null),p=p.next}Ih=!1}if(da=0,ln=nn=Ct=null,ou=!1,au=0,Sg.current=null,u===null||u.return===null){rn=1,hu=a,qt=null;break}e:{var x=i,A=u.return,U=u,H=a;if(a=vn,U.flags|=32768,H!==null&&typeof H=="object"&&typeof H.then=="function"){var J=H,de=U,he=de.tag;if((de.mode&1)===0&&(he===0||he===11||he===15)){var ce=de.alternate;ce?(de.updateQueue=ce.updateQueue,de.memoizedState=ce.memoizedState,de.lanes=ce.lanes):(de.updateQueue=null,de.memoizedState=null)}var ve=Lx(A);if(ve!==null){ve.flags&=-257,jx(ve,A,U,x,a),ve.mode&1&&Vx(x,J,a),a=ve,H=J;var Te=a.updateQueue;if(Te===null){var Ie=new Set;Ie.add(H),a.updateQueue=Ie}else Te.add(H);break e}else{if((a&1)===0){Vx(x,J,a),Mg();break e}H=Error(n(426))}}else if(Et&&U.mode&1){var Bt=Lx(A);if(Bt!==null){(Bt.flags&65536)===0&&(Bt.flags|=256),jx(Bt,A,U,x,a),Hm(Il(H,U));break e}}x=H=Il(H,U),rn!==4&&(rn=2),fu===null?fu=[x]:fu.push(x),x=A;do{switch(x.tag){case 3:x.flags|=65536,a&=-a,x.lanes|=a;var Y=Mx(x,H,a);ax(x,Y);break e;case 1:U=H;var q=x.type,Q=x.stateNode;if((x.flags&128)===0&&(typeof q.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(ro===null||!ro.has(Q)))){x.flags|=65536,a&=-a,x.lanes|=a;var pe=Ox(x,U,a);ax(x,pe);break e}}x=x.return}while(x!==null)}mb(u)}catch(Ce){a=Ce,qt===u&&u!==null&&(qt=u=u.return);continue}break}while(!0)}function fb(){var i=Vh.current;return Vh.current=Ah,i===null?Ah:i}function Mg(){(rn===0||rn===3||rn===2)&&(rn=4),cn===null||(ha&268435455)===0&&(Lh&268435455)===0||oo(cn,vn)}function zh(i,a){var u=et;et|=2;var p=fb();(cn!==i||vn!==a)&&(mi=null,pa(i,a));do try{U2();break}catch(v){hb(i,v)}while(!0);if(Km(),et=u,Vh.current=p,qt!==null)throw Error(n(261));return cn=null,vn=0,rn}function U2(){for(;qt!==null;)pb(qt)}function B2(){for(;qt!==null&&!Ud();)pb(qt)}function pb(i){var a=vb(i.alternate,i,yr);i.memoizedProps=i.pendingProps,a===null?mb(i):qt=a,Sg.current=null}function mb(i){var a=i;do{var u=a.alternate;if(i=a.return,(a.flags&32768)===0){if(u=D2(u,a,yr),u!==null){qt=u;return}}else{if(u=M2(u,a),u!==null){u.flags&=32767,qt=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{rn=6,qt=null;return}}if(a=a.sibling,a!==null){qt=a;return}qt=a=i}while(a!==null);rn===0&&(rn=5)}function ma(i,a,u){var p=Ye,v=Dr.transition;try{Dr.transition=null,Ye=1,$2(i,a,u,p)}finally{Dr.transition=v,Ye=p}return null}function $2(i,a,u,p){do Rl();while(so!==null);if((et&6)!==0)throw Error(n(327));u=i.finishedWork;var v=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var x=u.lanes|u.childLanes;if(ut(i,x),i===cn&&(qt=cn=null,vn=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Fh||(Fh=!0,wb(kr,function(){return Rl(),null})),x=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||x){x=Dr.transition,Dr.transition=null;var A=Ye;Ye=1;var U=et;et|=4,Sg.current=null,V2(i,u),ib(u,i),l2(Mm),Ki=!!Dm,Mm=Dm=null,i.current=u,L2(u),ym(),et=U,Ye=A,Dr.transition=x}else i.current=u;if(Fh&&(Fh=!1,so=i,Uh=v),x=i.pendingLanes,x===0&&(ro=null),zd(u.stateNode),nr(i,dt()),a!==null)for(p=i.onRecoverableError,u=0;u<a.length;u++)v=a[u],p(v.value,{componentStack:v.stack,digest:v.digest});if(jh)throw jh=!1,i=Cg,Cg=null,i;return(Uh&1)!==0&&i.tag!==0&&Rl(),x=i.pendingLanes,(x&1)!==0?i===Pg?pu++:(pu=0,Pg=i):pu=0,Zi(),null}function Rl(){if(so!==null){var i=Hi(Uh),a=Dr.transition,u=Ye;try{if(Dr.transition=null,Ye=16>i?16:i,so===null)var p=!1;else{if(i=so,so=null,Uh=0,(et&6)!==0)throw Error(n(331));var v=et;for(et|=4,be=i.current;be!==null;){var x=be,A=x.child;if((be.flags&16)!==0){var U=x.deletions;if(U!==null){for(var H=0;H<U.length;H++){var J=U[H];for(be=J;be!==null;){var de=be;switch(de.tag){case 0:case 11:case 15:du(8,de,x)}var he=de.child;if(he!==null)he.return=de,be=he;else for(;be!==null;){de=be;var ce=de.sibling,ve=de.return;if(eb(de),de===J){be=null;break}if(ce!==null){ce.return=ve,be=ce;break}be=ve}}}var Te=x.alternate;if(Te!==null){var Ie=Te.child;if(Ie!==null){Te.child=null;do{var Bt=Ie.sibling;Ie.sibling=null,Ie=Bt}while(Ie!==null)}}be=x}}if((x.subtreeFlags&2064)!==0&&A!==null)A.return=x,be=A;else e:for(;be!==null;){if(x=be,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:du(9,x,x.return)}var Y=x.sibling;if(Y!==null){Y.return=x.return,be=Y;break e}be=x.return}}var q=i.current;for(be=q;be!==null;){A=be;var Q=A.child;if((A.subtreeFlags&2064)!==0&&Q!==null)Q.return=A,be=Q;else e:for(A=q;be!==null;){if(U=be,(U.flags&2048)!==0)try{switch(U.tag){case 0:case 11:case 15:Oh(9,U)}}catch(Ce){Mt(U,U.return,Ce)}if(U===A){be=null;break e}var pe=U.sibling;if(pe!==null){pe.return=U.return,be=pe;break e}be=U.return}}if(et=v,Zi(),dr&&typeof dr.onPostCommitFiberRoot=="function")try{dr.onPostCommitFiberRoot(Jo,i)}catch{}p=!0}return p}finally{Ye=u,Dr.transition=a}}return!1}function gb(i,a,u){a=Il(u,a),a=Mx(i,a,1),i=to(i,a,1),a=Fn(),i!==null&&(zi(i,1,a),nr(i,a))}function Mt(i,a,u){if(i.tag===3)gb(i,i,u);else for(;a!==null;){if(a.tag===3){gb(a,i,u);break}else if(a.tag===1){var p=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(ro===null||!ro.has(p))){i=Il(u,i),i=Ox(a,i,1),a=to(a,i,1),i=Fn(),a!==null&&(zi(a,1,i),nr(a,i));break}}a=a.return}}function z2(i,a,u){var p=i.pingCache;p!==null&&p.delete(a),a=Fn(),i.pingedLanes|=i.suspendedLanes&u,cn===i&&(vn&u)===u&&(rn===4||rn===3&&(vn&130023424)===vn&&500>dt()-Ig?pa(i,0):kg|=u),nr(i,a)}function yb(i,a){a===0&&((i.mode&1)===0?a=1:(a=el,el<<=1,(el&130023424)===0&&(el=4194304)));var u=Fn();i=hi(i,a),i!==null&&(zi(i,a,u),nr(i,u))}function W2(i){var a=i.memoizedState,u=0;a!==null&&(u=a.retryLane),yb(i,u)}function H2(i,a){var u=0;switch(i.tag){case 13:var p=i.stateNode,v=i.memoizedState;v!==null&&(u=v.retryLane);break;case 19:p=i.stateNode;break;default:throw Error(n(314))}p!==null&&p.delete(a),yb(i,u)}var vb;vb=function(i,a,u){if(i!==null)if(i.memoizedProps!==a.pendingProps||Jn.current)er=!0;else{if((i.lanes&u)===0&&(a.flags&128)===0)return er=!1,N2(i,a,u);er=(i.flags&131072)!==0}else er=!1,Et&&(a.flags&1048576)!==0&&X_(a,vh,a.index);switch(a.lanes=0,a.tag){case 2:var p=a.type;Dh(i,a),i=a.pendingProps;var v=wl(a,En.current);Sl(a,u),v=sg(null,a,p,i,v,u);var x=ig();return a.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Zn(p)?(x=!0,mh(a)):x=!1,a.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,Xm(a),v.updater=Rh,a.stateNode=v,v._reactInternals=a,dg(a,p,i,u),a=mg(null,a,p,!0,x,u)):(a.tag=0,Et&&x&&Bm(a),jn(null,a,v,u),a=a.child),a;case 16:p=a.elementType;e:{switch(Dh(i,a),i=a.pendingProps,v=p._init,p=v(p._payload),a.type=p,v=a.tag=K2(p),i=Zr(p,i),v){case 0:a=pg(null,a,p,i,u);break e;case 1:a=Wx(null,a,p,i,u);break e;case 11:a=Fx(null,a,p,i,u);break e;case 14:a=Ux(null,a,p,Zr(p.type,i),u);break e}throw Error(n(306,p,""))}return a;case 0:return p=a.type,v=a.pendingProps,v=a.elementType===p?v:Zr(p,v),pg(i,a,p,v,u);case 1:return p=a.type,v=a.pendingProps,v=a.elementType===p?v:Zr(p,v),Wx(i,a,p,v,u);case 3:e:{if(Hx(a),i===null)throw Error(n(387));p=a.pendingProps,x=a.memoizedState,v=x.element,ox(i,a),Th(a,p,null,u);var A=a.memoizedState;if(p=A.element,x.isDehydrated)if(x={element:p,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},a.updateQueue.baseState=x,a.memoizedState=x,a.flags&256){v=Il(Error(n(423)),a),a=qx(i,a,p,u,v);break e}else if(p!==v){v=Il(Error(n(424)),a),a=qx(i,a,p,u,v);break e}else for(gr=Qi(a.stateNode.containerInfo.firstChild),mr=a,Et=!0,Jr=null,u=sx(a,null,p,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(bl(),p===v){a=pi(i,a,u);break e}jn(i,a,p,u)}a=a.child}return a;case 5:return cx(a),i===null&&Wm(a),p=a.type,v=a.pendingProps,x=i!==null?i.memoizedProps:null,A=v.children,Om(p,v)?A=null:x!==null&&Om(p,x)&&(a.flags|=32),zx(i,a),jn(i,a,A,u),a.child;case 6:return i===null&&Wm(a),null;case 13:return Kx(i,a,u);case 4:return Jm(a,a.stateNode.containerInfo),p=a.pendingProps,i===null?a.child=El(a,null,p,u):jn(i,a,p,u),a.child;case 11:return p=a.type,v=a.pendingProps,v=a.elementType===p?v:Zr(p,v),Fx(i,a,p,v,u);case 7:return jn(i,a,a.pendingProps,u),a.child;case 8:return jn(i,a,a.pendingProps.children,u),a.child;case 12:return jn(i,a,a.pendingProps.children,u),a.child;case 10:e:{if(p=a.type._context,v=a.pendingProps,x=a.memoizedProps,A=v.value,ht(xh,p._currentValue),p._currentValue=A,x!==null)if(Xr(x.value,A)){if(x.children===v.children&&!Jn.current){a=pi(i,a,u);break e}}else for(x=a.child,x!==null&&(x.return=a);x!==null;){var U=x.dependencies;if(U!==null){A=x.child;for(var H=U.firstContext;H!==null;){if(H.context===p){if(x.tag===1){H=fi(-1,u&-u),H.tag=2;var J=x.updateQueue;if(J!==null){J=J.shared;var de=J.pending;de===null?H.next=H:(H.next=de.next,de.next=H),J.pending=H}}x.lanes|=u,H=x.alternate,H!==null&&(H.lanes|=u),Ym(x.return,u,a),U.lanes|=u;break}H=H.next}}else if(x.tag===10)A=x.type===a.type?null:x.child;else if(x.tag===18){if(A=x.return,A===null)throw Error(n(341));A.lanes|=u,U=A.alternate,U!==null&&(U.lanes|=u),Ym(A,u,a),A=x.sibling}else A=x.child;if(A!==null)A.return=x;else for(A=x;A!==null;){if(A===a){A=null;break}if(x=A.sibling,x!==null){x.return=A.return,A=x;break}A=A.return}x=A}jn(i,a,v.children,u),a=a.child}return a;case 9:return v=a.type,p=a.pendingProps.children,Sl(a,u),v=Rr(v),p=p(v),a.flags|=1,jn(i,a,p,u),a.child;case 14:return p=a.type,v=Zr(p,a.pendingProps),v=Zr(p.type,v),Ux(i,a,p,v,u);case 15:return Bx(i,a,a.type,a.pendingProps,u);case 17:return p=a.type,v=a.pendingProps,v=a.elementType===p?v:Zr(p,v),Dh(i,a),a.tag=1,Zn(p)?(i=!0,mh(a)):i=!1,Sl(a,u),Nx(a,p,v),dg(a,p,v,u),mg(null,a,p,!0,i,u);case 19:return Yx(i,a,u);case 22:return $x(i,a,u)}throw Error(n(156,a.tag))};function wb(i,a){return Ja(i,a)}function q2(i,a,u,p){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mr(i,a,u,p){return new q2(i,a,u,p)}function Og(i){return i=i.prototype,!(!i||!i.isReactComponent)}function K2(i){if(typeof i=="function")return Og(i)?1:0;if(i!=null){if(i=i.$$typeof,i===$)return 11;if(i===ie)return 14}return 2}function ao(i,a){var u=i.alternate;return u===null?(u=Mr(i.tag,a,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=a,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,a=i.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function Wh(i,a,u,p,v,x){var A=2;if(p=i,typeof i=="function")Og(i)&&(A=1);else if(typeof i=="string")A=5;else e:switch(i){case D:return ga(u.children,v,x,a);case C:A=8,v|=8;break;case V:return i=Mr(12,u,a,v|2),i.elementType=V,i.lanes=x,i;case N:return i=Mr(13,u,a,v),i.elementType=N,i.lanes=x,i;case se:return i=Mr(19,u,a,v),i.elementType=se,i.lanes=x,i;case te:return Hh(u,v,x,a);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case L:A=10;break e;case F:A=9;break e;case $:A=11;break e;case ie:A=14;break e;case ee:A=16,p=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return a=Mr(A,u,a,v),a.elementType=i,a.type=p,a.lanes=x,a}function ga(i,a,u,p){return i=Mr(7,i,p,a),i.lanes=u,i}function Hh(i,a,u,p){return i=Mr(22,i,p,a),i.elementType=te,i.lanes=u,i.stateNode={isHidden:!1},i}function Vg(i,a,u){return i=Mr(6,i,null,a),i.lanes=u,i}function Lg(i,a,u){return a=Mr(4,i.children!==null?i.children:[],i.key,a),a.lanes=u,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}function G2(i,a,u,p,v){this.tag=a,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$i(0),this.expirationTimes=$i(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$i(0),this.identifierPrefix=p,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function jg(i,a,u,p,v,x,A,U,H){return i=new G2(i,a,u,U,H),a===1?(a=1,x===!0&&(a|=8)):a=0,x=Mr(3,null,null,a),i.current=x,x.stateNode=i,x.memoizedState={element:p,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xm(x),i}function Y2(i,a,u){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:K,key:p==null?null:""+p,children:i,containerInfo:a,implementation:u}}function _b(i){if(!i)return Ji;i=i._reactInternals;e:{if(Wr(i)!==i||i.tag!==1)throw Error(n(170));var a=i;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Zn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(i.tag===1){var u=i.type;if(Zn(u))return G_(i,u,a)}return a}function xb(i,a,u,p,v,x,A,U,H){return i=jg(u,p,!0,i,v,x,A,U,H),i.context=_b(null),u=i.current,p=Fn(),v=io(u),x=fi(p,v),x.callback=a??null,to(u,x,v),i.current.lanes=v,zi(i,v,p),nr(i,p),i}function qh(i,a,u,p){var v=a.current,x=Fn(),A=io(v);return u=_b(u),a.context===null?a.context=u:a.pendingContext=u,a=fi(x,A),a.payload={element:i},p=p===void 0?null:p,p!==null&&(a.callback=p),i=to(v,a,A),i!==null&&(ns(i,v,A,x),Eh(i,v,A)),A}function Kh(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function bb(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<a?u:a}}function Fg(i,a){bb(i,a),(i=i.alternate)&&bb(i,a)}function Q2(){return null}var Eb=typeof reportError=="function"?reportError:function(i){console.error(i)};function Ug(i){this._internalRoot=i}Gh.prototype.render=Ug.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(n(409));qh(i,a,null,null)},Gh.prototype.unmount=Ug.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;fa(function(){qh(null,i,null,null)}),a[li]=null}};function Gh(i){this._internalRoot=i}Gh.prototype.unstable_scheduleHydration=function(i){if(i){var a=Gd();i={blockedOn:null,target:i,priority:a};for(var u=0;u<ws.length&&a!==0&&a<ws[u].priority;u++);ws.splice(u,0,i),u===0&&Xd(i)}};function Bg(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Yh(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Tb(){}function X2(i,a,u,p,v){if(v){if(typeof p=="function"){var x=p;p=function(){var J=Kh(A);x.call(J)}}var A=xb(a,p,i,0,null,!1,!1,"",Tb);return i._reactRootContainer=A,i[li]=A.current,Jc(i.nodeType===8?i.parentNode:i),fa(),A}for(;v=i.lastChild;)i.removeChild(v);if(typeof p=="function"){var U=p;p=function(){var J=Kh(H);U.call(J)}}var H=jg(i,0,!1,null,null,!1,!1,"",Tb);return i._reactRootContainer=H,i[li]=H.current,Jc(i.nodeType===8?i.parentNode:i),fa(function(){qh(a,H,u,p)}),H}function Qh(i,a,u,p,v){var x=u._reactRootContainer;if(x){var A=x;if(typeof v=="function"){var U=v;v=function(){var H=Kh(A);U.call(H)}}qh(a,A,i,v)}else A=X2(u,a,i,v,p);return Kh(A)}qd=function(i){switch(i.tag){case 3:var a=i.stateNode;if(a.current.memoizedState.isDehydrated){var u=Bi(a.pendingLanes);u!==0&&(Wi(a,u|1),nr(a,dt()),(et&6)===0&&(Al=dt()+500,Zi()))}break;case 13:fa(function(){var p=hi(i,1);if(p!==null){var v=Fn();ns(p,i,1,v)}}),Fg(i,1)}},tl=function(i){if(i.tag===13){var a=hi(i,134217728);if(a!==null){var u=Fn();ns(a,i,134217728,u)}Fg(i,134217728)}},Kd=function(i){if(i.tag===13){var a=io(i),u=hi(i,a);if(u!==null){var p=Fn();ns(u,i,a,p)}Fg(i,a)}},Gd=function(){return Ye},Yd=function(i,a){var u=Ye;try{return Ye=i,a()}finally{Ye=u}},Fi=function(i,a,u){switch(a){case"input":if(pn(i,u),a=u.name,u.type==="radio"&&a!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<u.length;a++){var p=u[a];if(p!==i&&p.form===i.form){var v=fh(p);if(!v)throw Error(n(90));$e(p),pn(p,v)}}}break;case"textarea":Vi(i,u);break;case"select":a=u.value,a!=null&&Br(i,!!u.multiple,a,!1)}},xt=Ng,Zt=fa;var J2={usingClientEntryPoint:!1,Events:[tu,yl,fh,Ne,_t,Ng]},mu={findFiberByHostInstance:ia,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Z2={bundleType:mu.bundleType,version:mu.version,rendererPackageName:mu.rendererPackageName,rendererConfig:mu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:j.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Vc(i),i===null?null:i.stateNode},findFiberByHostInstance:mu.findFiberByHostInstance||Q2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xh.isDisabled&&Xh.supportsFiber)try{Jo=Xh.inject(Z2),dr=Xh}catch{}}return rr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J2,rr.createPortal=function(i,a){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bg(a))throw Error(n(200));return Y2(i,a,null,u)},rr.createRoot=function(i,a){if(!Bg(i))throw Error(n(299));var u=!1,p="",v=Eb;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(v=a.onRecoverableError)),a=jg(i,1,!1,null,null,u,!1,p,v),i[li]=a.current,Jc(i.nodeType===8?i.parentNode:i),new Ug(a)},rr.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=Vc(a),i=i===null?null:i.stateNode,i},rr.flushSync=function(i){return fa(i)},rr.hydrate=function(i,a,u){if(!Yh(a))throw Error(n(200));return Qh(null,i,a,!0,u)},rr.hydrateRoot=function(i,a,u){if(!Bg(i))throw Error(n(405));var p=u!=null&&u.hydratedSources||null,v=!1,x="",A=Eb;if(u!=null&&(u.unstable_strictMode===!0&&(v=!0),u.identifierPrefix!==void 0&&(x=u.identifierPrefix),u.onRecoverableError!==void 0&&(A=u.onRecoverableError)),a=xb(a,null,i,1,u??null,v,!1,x,A),i[li]=a.current,Jc(i),p)for(i=0;i<p.length;i++)u=p[i],v=u._getVersion,v=v(u._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[u,v]:a.mutableSourceEagerHydrationData.push(u,v);return new Gh(a)},rr.render=function(i,a,u){if(!Yh(a))throw Error(n(200));return Qh(null,i,a,!1,u)},rr.unmountComponentAtNode=function(i){if(!Yh(i))throw Error(n(40));return i._reactRootContainer?(fa(function(){Qh(null,null,i,!1,function(){i._reactRootContainer=null,i[li]=null})}),!0):!1},rr.unstable_batchedUpdates=Ng,rr.unstable_renderSubtreeIntoContainer=function(i,a,u,p){if(!Yh(u))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return Qh(i,a,u,!1,p)},rr.version="18.3.1-next-f1338f8080-20240426",rr}var Nb;function b1(){if(Nb)return Wg.exports;Nb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Wg.exports=aD(),Wg.exports}var Db;function lD(){if(Db)return Jh;Db=1;var t=b1();return Jh.createRoot=t.createRoot,Jh.hydrateRoot=t.hydrateRoot,Jh}var cD=lD();const uD=l0(cD);/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Mb="popstate";function dD(t={}){function e(r,s){let{pathname:o,search:l,hash:c}=r.location;return By("",{pathname:o,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Hu(s)}return fD(e,n,null,t)}function At(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Hs(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hD(){return Math.random().toString(36).substring(2,10)}function Ob(t,e){return{usr:t.state,key:t.key,idx:e}}function By(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?mc(e):e,state:n,key:e&&e.key||r||hD()}}function Hu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function mc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function fD(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:o=!1}=r,l=s.history,c="POP",d=null,h=m();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function m(){return(l.state||{idx:null}).idx}function g(){c="POP";let k=m(),P=k==null?null:k-h;h=k,d&&d({action:c,location:T.location,delta:P})}function w(k,P){c="PUSH";let R=By(T.location,k,P);h=m()+1;let M=Ob(R,h),j=T.createHref(R);try{l.pushState(M,"",j)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;s.location.assign(j)}o&&d&&d({action:c,location:T.location,delta:1})}function E(k,P){c="REPLACE";let R=By(T.location,k,P);h=m();let M=Ob(R,h),j=T.createHref(R);l.replaceState(M,"",j),o&&d&&d({action:c,location:T.location,delta:0})}function S(k){return pD(k)}let T={get action(){return c},get location(){return t(s,l)},listen(k){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(Mb,g),d=k,()=>{s.removeEventListener(Mb,g),d=null}},createHref(k){return e(s,k)},createURL:S,encodeLocation(k){let P=S(k);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:w,replace:E,go(k){return l.go(k)}};return T}function pD(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),At(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Hu(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function E1(t,e,n="/"){return mD(t,e,n,!1)}function mD(t,e,n,r){let s=typeof e=="string"?mc(e):e,o=Ei(s.pathname||"/",n);if(o==null)return null;let l=T1(t);gD(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let h=ID(o);c=SD(l[d],h,r)}return c}function T1(t,e=[],n=[],r=""){let s=(o,l,c)=>{let d={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};d.relativePath.startsWith("/")&&(At(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let h=_i([r,d.relativePath]),m=n.concat(d);o.children&&o.children.length>0&&(At(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),T1(o.children,e,m,h)),!(o.path==null&&!o.index)&&e.push({path:h,score:ED(h,o.index),routesMeta:m})};return t.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))s(o,l);else for(let d of S1(o.path))s(o,l,d)}),e}function S1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let l=S1(r.join("/")),c=[];return c.push(...l.map(d=>d===""?o:[o,d].join("/"))),s&&c.push(...l),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function gD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:TD(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var yD=/^:[\w-]+$/,vD=3,wD=2,_D=1,xD=10,bD=-2,Vb=t=>t==="*";function ED(t,e){let n=t.split("/"),r=n.length;return n.some(Vb)&&(r+=bD),e&&(r+=wD),n.filter(s=>!Vb(s)).reduce((s,o)=>s+(yD.test(o)?vD:o===""?_D:xD),r)}function TD(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function SD(t,e,n=!1){let{routesMeta:r}=t,s={},o="/",l=[];for(let c=0;c<r.length;++c){let d=r[c],h=c===r.length-1,m=o==="/"?e:e.slice(o.length)||"/",g=zf({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},m),w=d.route;if(!g&&h&&n&&!r[r.length-1].route.index&&(g=zf({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!g)return null;Object.assign(s,g.params),l.push({params:s,pathname:_i([o,g.pathname]),pathnameBase:RD(_i([o,g.pathnameBase])),route:w}),g.pathnameBase!=="/"&&(o=_i([o,g.pathnameBase]))}return l}function zf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=kD(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let o=s[0],l=o.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((h,{paramName:m,isOptional:g},w)=>{if(m==="*"){let S=c[w]||"";l=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const E=c[w];return g&&!E?h[m]=void 0:h[m]=(E||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:l,pattern:t}}function kD(t,e=!1,n=!0){Hs(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function ID(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Hs(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ei(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function CD(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?mc(t):t;return{pathname:n?n.startsWith("/")?n:PD(n,e):e,search:ND(r),hash:DD(s)}}function PD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Kg(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function AD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function k1(t){let e=AD(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function I1(t,e,n,r=!1){let s;typeof t=="string"?s=mc(t):(s={...t},At(!s.pathname||!s.pathname.includes("?"),Kg("?","pathname","search",s)),At(!s.pathname||!s.pathname.includes("#"),Kg("#","pathname","hash",s)),At(!s.search||!s.search.includes("#"),Kg("#","search","hash",s)));let o=t===""||s.pathname==="",l=o?"/":s.pathname,c;if(l==null)c=n;else{let g=e.length-1;if(!r&&l.startsWith("..")){let w=l.split("/");for(;w[0]==="..";)w.shift(),g-=1;s.pathname=w.join("/")}c=g>=0?e[g]:"/"}let d=CD(s,c),h=l&&l!=="/"&&l.endsWith("/"),m=(o||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(h||m)&&(d.pathname+="/"),d}var _i=t=>t.join("/").replace(/\/\/+/g,"/"),RD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ND=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,DD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function MD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var C1=["POST","PUT","PATCH","DELETE"];new Set(C1);var OD=["GET",...C1];new Set(OD);var gc=b.createContext(null);gc.displayName="DataRouter";var Ep=b.createContext(null);Ep.displayName="DataRouterState";b.createContext(!1);var P1=b.createContext({isTransitioning:!1});P1.displayName="ViewTransition";var VD=b.createContext(new Map);VD.displayName="Fetchers";var LD=b.createContext(null);LD.displayName="Await";var Qs=b.createContext(null);Qs.displayName="Navigation";var md=b.createContext(null);md.displayName="Location";var Di=b.createContext({outlet:null,matches:[],isDataRoute:!1});Di.displayName="Route";var u0=b.createContext(null);u0.displayName="RouteError";function jD(t,{relative:e}={}){At(gd(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=b.useContext(Qs),{hash:s,pathname:o,search:l}=yd(t,{relative:e}),c=o;return n!=="/"&&(c=o==="/"?n:_i([n,o])),r.createHref({pathname:c,search:l,hash:s})}function gd(){return b.useContext(md)!=null}function Mi(){return At(gd(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(md).location}var A1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function R1(t){b.useContext(Qs).static||b.useLayoutEffect(t)}function Xs(){let{isDataRoute:t}=b.useContext(Di);return t?XD():FD()}function FD(){At(gd(),"useNavigate() may be used only in the context of a <Router> component.");let t=b.useContext(gc),{basename:e,navigator:n}=b.useContext(Qs),{matches:r}=b.useContext(Di),{pathname:s}=Mi(),o=JSON.stringify(k1(r)),l=b.useRef(!1);return R1(()=>{l.current=!0}),b.useCallback((d,h={})=>{if(Hs(l.current,A1),!l.current)return;if(typeof d=="number"){n.go(d);return}let m=I1(d,JSON.parse(o),s,h.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:_i([e,m.pathname])),(h.replace?n.replace:n.push)(m,h.state,h)},[e,n,o,s,t])}b.createContext(null);function yd(t,{relative:e}={}){let{matches:n}=b.useContext(Di),{pathname:r}=Mi(),s=JSON.stringify(k1(n));return b.useMemo(()=>I1(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function UD(t,e){return N1(t,e)}function N1(t,e,n,r){var P;At(gd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=b.useContext(Qs),{matches:o}=b.useContext(Di),l=o[o.length-1],c=l?l.params:{},d=l?l.pathname:"/",h=l?l.pathnameBase:"/",m=l&&l.route;{let R=m&&m.path||"";D1(d,!m||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let g=Mi(),w;if(e){let R=typeof e=="string"?mc(e):e;At(h==="/"||((P=R.pathname)==null?void 0:P.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${R.pathname}" was given in the \`location\` prop.`),w=R}else w=g;let E=w.pathname||"/",S=E;if(h!=="/"){let R=h.replace(/^\//,"").split("/");S="/"+E.replace(/^\//,"").split("/").slice(R.length).join("/")}let T=E1(t,{pathname:S});Hs(m||T!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Hs(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=HD(T&&T.map(R=>Object.assign({},R,{params:Object.assign({},c,R.params),pathname:_i([h,s.encodeLocation?s.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?h:_i([h,s.encodeLocation?s.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),o,n,r);return e&&k?b.createElement(md.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},k):k}function BD(){let t=QD(),e=MD(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=b.createElement(b.Fragment,null,b.createElement("p",null,"💿 Hey developer 👋"),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:o},"ErrorBoundary")," or"," ",b.createElement("code",{style:o},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:s},n):null,l)}var $D=b.createElement(BD,null),zD=class extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?b.createElement(Di.Provider,{value:this.props.routeContext},b.createElement(u0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function WD({routeContext:t,match:e,children:n}){let r=b.useContext(gc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),b.createElement(Di.Provider,{value:t},n)}function HD(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=n==null?void 0:n.errors;if(o!=null){let d=s.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);At(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,c=-1;if(n)for(let d=0;d<s.length;d++){let h=s[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:m,errors:g}=n,w=h.route.loader&&!m.hasOwnProperty(h.route.id)&&(!g||g[h.route.id]===void 0);if(h.route.lazy||w){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((d,h,m)=>{let g,w=!1,E=null,S=null;n&&(g=o&&h.route.id?o[h.route.id]:void 0,E=h.route.errorElement||$D,l&&(c<0&&m===0?(D1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,S=null):c===m&&(w=!0,S=h.route.hydrateFallbackElement||null)));let T=e.concat(s.slice(0,m+1)),k=()=>{let P;return g?P=E:w?P=S:h.route.Component?P=b.createElement(h.route.Component,null):h.route.element?P=h.route.element:P=d,b.createElement(WD,{match:h,routeContext:{outlet:d,matches:T,isDataRoute:n!=null},children:P})};return n&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?b.createElement(zD,{location:n.location,revalidation:n.revalidation,component:E,error:g,children:k(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):k()},null)}function d0(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qD(t){let e=b.useContext(gc);return At(e,d0(t)),e}function KD(t){let e=b.useContext(Ep);return At(e,d0(t)),e}function GD(t){let e=b.useContext(Di);return At(e,d0(t)),e}function h0(t){let e=GD(t),n=e.matches[e.matches.length-1];return At(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function YD(){return h0("useRouteId")}function QD(){var r;let t=b.useContext(u0),e=KD("useRouteError"),n=h0("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function XD(){let{router:t}=qD("useNavigate"),e=h0("useNavigate"),n=b.useRef(!1);return R1(()=>{n.current=!0}),b.useCallback(async(s,o={})=>{Hs(n.current,A1),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...o}))},[t,e])}var Lb={};function D1(t,e,n){!e&&!Lb[t]&&(Lb[t]=!0,Hs(!1,n))}b.memo(JD);function JD({routes:t,future:e,state:n}){return N1(t,void 0,n,e)}function fo(t){At(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ZD({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:o=!1}){At(!gd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=b.useMemo(()=>({basename:l,navigator:s,static:o,future:{}}),[l,s,o]);typeof n=="string"&&(n=mc(n));let{pathname:d="/",search:h="",hash:m="",state:g=null,key:w="default"}=n,E=b.useMemo(()=>{let S=Ei(d,l);return S==null?null:{location:{pathname:S,search:h,hash:m,state:g,key:w},navigationType:r}},[l,d,h,m,g,w,r]);return Hs(E!=null,`<Router basename="${l}"> is not able to match the URL "${d}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:b.createElement(Qs.Provider,{value:c},b.createElement(md.Provider,{children:e,value:E}))}function eM({children:t,location:e}){return UD($y(t),e)}function $y(t,e=[]){let n=[];return b.Children.forEach(t,(r,s)=>{if(!b.isValidElement(r))return;let o=[...e,s];if(r.type===b.Fragment){n.push.apply(n,$y(r.props.children,o));return}At(r.type===fo,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),At(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=$y(r.props.children,o)),n.push(l)}),n}var bf="get",Ef="application/x-www-form-urlencoded";function Tp(t){return t!=null&&typeof t.tagName=="string"}function tM(t){return Tp(t)&&t.tagName.toLowerCase()==="button"}function nM(t){return Tp(t)&&t.tagName.toLowerCase()==="form"}function rM(t){return Tp(t)&&t.tagName.toLowerCase()==="input"}function sM(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function iM(t,e){return t.button===0&&(!e||e==="_self")&&!sM(t)}var Zh=null;function oM(){if(Zh===null)try{new FormData(document.createElement("form"),0),Zh=!1}catch{Zh=!0}return Zh}var aM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Gg(t){return t!=null&&!aM.has(t)?(Hs(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ef}"`),null):t}function lM(t,e){let n,r,s,o,l;if(nM(t)){let c=t.getAttribute("action");r=c?Ei(c,e):null,n=t.getAttribute("method")||bf,s=Gg(t.getAttribute("enctype"))||Ef,o=new FormData(t)}else if(tM(t)||rM(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||c.getAttribute("action");if(r=d?Ei(d,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||bf,s=Gg(t.getAttribute("formenctype"))||Gg(c.getAttribute("enctype"))||Ef,o=new FormData(c,t),!oM()){let{name:h,type:m,value:g}=t;if(m==="image"){let w=h?`${h}.`:"";o.append(`${w}x`,"0"),o.append(`${w}y`,"0")}else h&&o.append(h,g)}}else{if(Tp(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=bf,r=null,s=Ef,l=t}return o&&s==="text/plain"&&(l=o,o=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function f0(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function cM(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Ei(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function uM(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function dM(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function hM(t,e,n){let r=await Promise.all(t.map(async s=>{let o=e.routes[s.route.id];if(o){let l=await uM(o,n);return l.links?l.links():[]}return[]}));return gM(r.flat(1).filter(dM).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function jb(t,e,n,r,s,o){let l=(d,h)=>n[h]?d.route.id!==n[h].route.id:!0,c=(d,h)=>{var m;return n[h].pathname!==d.pathname||((m=n[h].route.path)==null?void 0:m.endsWith("*"))&&n[h].params["*"]!==d.params["*"]};return o==="assets"?e.filter((d,h)=>l(d,h)||c(d,h)):o==="data"?e.filter((d,h)=>{var g;let m=r.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(l(d,h)||c(d,h))return!0;if(d.route.shouldRevalidate){let w=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function fM(t,e,{includeHydrateFallback:n}={}){return pM(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function pM(t){return[...new Set(t)]}function mM(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function gM(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let o=JSON.stringify(mM(s));return n.has(o)||(n.add(o),r.push({key:o,link:s})),r},[])}function M1(){let t=b.useContext(gc);return f0(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function yM(){let t=b.useContext(Ep);return f0(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var p0=b.createContext(void 0);p0.displayName="FrameworkContext";function O1(){let t=b.useContext(p0);return f0(t,"You must render this element inside a <HydratedRouter> element"),t}function vM(t,e){let n=b.useContext(p0),[r,s]=b.useState(!1),[o,l]=b.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:h,onMouseLeave:m,onTouchStart:g}=e,w=b.useRef(null);b.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let T=P=>{P.forEach(R=>{l(R.isIntersecting)})},k=new IntersectionObserver(T,{threshold:.5});return w.current&&k.observe(w.current),()=>{k.disconnect()}}},[t]),b.useEffect(()=>{if(r){let T=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(T)}}},[r]);let E=()=>{s(!0)},S=()=>{s(!1),l(!1)};return n?t!=="intent"?[o,w,{}]:[o,w,{onFocus:yu(c,E),onBlur:yu(d,S),onMouseEnter:yu(h,E),onMouseLeave:yu(m,S),onTouchStart:yu(g,E)}]:[!1,w,{}]}function yu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function wM({page:t,...e}){let{router:n}=M1(),r=b.useMemo(()=>E1(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?b.createElement(xM,{page:t,matches:r,...e}):null}function _M(t){let{manifest:e,routeModules:n}=O1(),[r,s]=b.useState([]);return b.useEffect(()=>{let o=!1;return hM(t,e,n).then(l=>{o||s(l)}),()=>{o=!0}},[t,e,n]),r}function xM({page:t,matches:e,...n}){let r=Mi(),{manifest:s,routeModules:o}=O1(),{basename:l}=M1(),{loaderData:c,matches:d}=yM(),h=b.useMemo(()=>jb(t,e,d,s,r,"data"),[t,e,d,s,r]),m=b.useMemo(()=>jb(t,e,d,s,r,"assets"),[t,e,d,s,r]),g=b.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let S=new Set,T=!1;if(e.forEach(P=>{var M;let R=s.routes[P.route.id];!R||!R.hasLoader||(!h.some(j=>j.route.id===P.route.id)&&P.route.id in c&&((M=o[P.route.id])!=null&&M.shouldRevalidate)||R.hasClientLoader?T=!0:S.add(P.route.id))}),S.size===0)return[];let k=cM(t,l,"data");return T&&S.size>0&&k.searchParams.set("_routes",e.filter(P=>S.has(P.route.id)).map(P=>P.route.id).join(",")),[k.pathname+k.search]},[l,c,r,s,h,e,t,o]),w=b.useMemo(()=>fM(m,s),[m,s]),E=_M(m);return b.createElement(b.Fragment,null,g.map(S=>b.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),w.map(S=>b.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),E.map(({key:S,link:T})=>b.createElement("link",{key:S,...T})))}function bM(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var V1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{V1&&(window.__reactRouterVersion="7.7.1")}catch{}function EM({basename:t,children:e,window:n}){let r=b.useRef();r.current==null&&(r.current=dD({window:n,v5Compat:!0}));let s=r.current,[o,l]=b.useState({action:s.action,location:s.location}),c=b.useCallback(d=>{b.startTransition(()=>l(d))},[l]);return b.useLayoutEffect(()=>s.listen(c),[s,c]),b.createElement(ZD,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:s})}var L1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,j1=b.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:o,replace:l,state:c,target:d,to:h,preventScrollReset:m,viewTransition:g,...w},E){let{basename:S}=b.useContext(Qs),T=typeof h=="string"&&L1.test(h),k,P=!1;if(typeof h=="string"&&T&&(k=h,V1))try{let V=new URL(window.location.href),L=h.startsWith("//")?new URL(V.protocol+h):new URL(h),F=Ei(L.pathname,S);L.origin===V.origin&&F!=null?h=F+L.search+L.hash:P=!0}catch{Hs(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=jD(h,{relative:s}),[M,j,B]=vM(r,w),K=IM(h,{replace:l,state:c,target:d,preventScrollReset:m,relative:s,viewTransition:g});function D(V){e&&e(V),V.defaultPrevented||K(V)}let C=b.createElement("a",{...w,...B,href:k||R,onClick:P||o?e:D,ref:bM(E,j),target:d,"data-discover":!T&&n==="render"?"true":void 0});return M&&!T?b.createElement(b.Fragment,null,C,b.createElement(wM,{page:R})):C});j1.displayName="Link";var TM=b.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:o,to:l,viewTransition:c,children:d,...h},m){let g=yd(l,{relative:h.relative}),w=Mi(),E=b.useContext(Ep),{navigator:S,basename:T}=b.useContext(Qs),k=E!=null&&NM(g)&&c===!0,P=S.encodeLocation?S.encodeLocation(g).pathname:g.pathname,R=w.pathname,M=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;n||(R=R.toLowerCase(),M=M?M.toLowerCase():null,P=P.toLowerCase()),M&&T&&(M=Ei(M,T)||M);const j=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let B=R===P||!s&&R.startsWith(P)&&R.charAt(j)==="/",K=M!=null&&(M===P||!s&&M.startsWith(P)&&M.charAt(P.length)==="/"),D={isActive:B,isPending:K,isTransitioning:k},C=B?e:void 0,V;typeof r=="function"?V=r(D):V=[r,B?"active":null,K?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let L=typeof o=="function"?o(D):o;return b.createElement(j1,{...h,"aria-current":C,className:V,ref:m,style:L,to:l,viewTransition:c},typeof d=="function"?d(D):d)});TM.displayName="NavLink";var SM=b.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:o,method:l=bf,action:c,onSubmit:d,relative:h,preventScrollReset:m,viewTransition:g,...w},E)=>{let S=AM(),T=RM(c,{relative:h}),k=l.toLowerCase()==="get"?"get":"post",P=typeof c=="string"&&L1.test(c),R=M=>{if(d&&d(M),M.defaultPrevented)return;M.preventDefault();let j=M.nativeEvent.submitter,B=(j==null?void 0:j.getAttribute("formmethod"))||l;S(j||M.currentTarget,{fetcherKey:e,method:B,navigate:n,replace:s,state:o,relative:h,preventScrollReset:m,viewTransition:g})};return b.createElement("form",{ref:E,method:k,action:T,onSubmit:r?d:R,...w,"data-discover":!P&&t==="render"?"true":void 0})});SM.displayName="Form";function kM(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function F1(t){let e=b.useContext(gc);return At(e,kM(t)),e}function IM(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:o,viewTransition:l}={}){let c=Xs(),d=Mi(),h=yd(t,{relative:o});return b.useCallback(m=>{if(iM(m,e)){m.preventDefault();let g=n!==void 0?n:Hu(d)===Hu(h);c(t,{replace:g,state:r,preventScrollReset:s,relative:o,viewTransition:l})}},[d,c,h,n,r,e,t,s,o,l])}var CM=0,PM=()=>`__${String(++CM)}__`;function AM(){let{router:t}=F1("useSubmit"),{basename:e}=b.useContext(Qs),n=YD();return b.useCallback(async(r,s={})=>{let{action:o,method:l,encType:c,formData:d,body:h}=lM(r,e);if(s.navigate===!1){let m=s.fetcherKey||PM();await t.fetch(m,n,s.action||o,{preventScrollReset:s.preventScrollReset,formData:d,body:h,formMethod:s.method||l,formEncType:s.encType||c,flushSync:s.flushSync})}else await t.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:d,body:h,formMethod:s.method||l,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function RM(t,{relative:e}={}){let{basename:n}=b.useContext(Qs),r=b.useContext(Di);At(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={...yd(t||".",{relative:e})},l=Mi();if(t==null){o.search=l.search;let c=new URLSearchParams(o.search),d=c.getAll("index");if(d.some(m=>m==="")){c.delete("index"),d.filter(g=>g).forEach(g=>c.append("index",g));let m=c.toString();o.search=m?`?${m}`:""}}return(!t||t===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:_i([n,o.pathname])),Hu(o)}function NM(t,{relative:e}={}){let n=b.useContext(P1);At(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=F1("useViewTransitionState"),s=yd(t,{relative:e});if(!n.isTransitioning)return!1;let o=Ei(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Ei(n.nextLocation.pathname,r)||n.nextLocation.pathname;return zf(s.pathname,l)!=null||zf(s.pathname,o)!=null}var vd=b1();const U1=l0(vd);function tt(t){return"/"+t.toLowerCase().replace(/ /g,"-")}/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DM=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),B1=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var MM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=b.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:l,...c},d)=>b.createElement("svg",{ref:d,...MM,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:B1("lucide",s),...c},[...l.map(([h,m])=>b.createElement(h,m)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=(t,e)=>{const n=b.forwardRef(({className:r,...s},o)=>b.createElement(OM,{ref:o,iconNode:e,className:B1(`lucide-${DM(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],m0=nt("ArrowRight",VM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LM=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],jM=nt("Calendar",LM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FM=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],zy=nt("Camera",FM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UM=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],BM=nt("Check",UM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $M=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],g0=nt("ChevronDown",$M);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zM=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],$1=nt("ChevronUp",zM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],z1=nt("CircleAlert",WM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HM=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],qM=nt("CircleCheckBig",HM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Nl=nt("CircleCheck",KM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],W1=nt("Clock",GM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YM=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],QM=nt("EyeOff",YM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],JM=nt("Eye",XM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]],H1=nt("Filter",ZM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eO=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],q1=nt("Hash",eO);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tO=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],ko=nt("Heart",tO);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nO=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],rO=nt("LogOut",nO);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sO=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],iO=nt("Mail",sO);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oO=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],qu=nt("MessageCircle",oO);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aO=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],lO=nt("PartyPopper",aO);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cO=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],Wy=nt("Phone",cO);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],dO=nt("QrCode",uO);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hO=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],fO=nt("Ruler",hO);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pO=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Yg=nt("Save",pO);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mO=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],gO=nt("Send",mO);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yO=[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]],Fb=nt("Share",yO);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vO=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],wO=nt("Sparkles",vO);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _O=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Qg=nt("SquarePen",_O);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xO=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],bO=nt("Star",xO);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EO=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],TO=nt("Trash2",EO);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SO=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],kO=nt("Upload",SO);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IO=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],wd=nt("User",IO);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CO=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Ku=nt("Users",CO);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PO=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],zn=nt("X",PO),AO=()=>{};var Ub={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},RO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],l=t[n++],c=t[n++],d=((s&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=t[n++],l=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|l&63)}}return e.join("")},G1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const o=t[s],l=s+1<t.length,c=l?t[s+1]:0,d=s+2<t.length,h=d?t[s+2]:0,m=o>>2,g=(o&3)<<4|c>>4;let w=(c&15)<<2|h>>6,E=h&63;d||(E=64,l||(w=64)),r.push(n[m],n[g],n[w],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(K1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):RO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const h=s<t.length?n[t.charAt(s)]:64;++s;const g=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||c==null||h==null||g==null)throw new NO;const w=o<<2|c>>4;if(r.push(w),h!==64){const E=c<<4&240|h>>2;if(r.push(E),g!==64){const S=h<<6&192|g;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class NO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const DO=function(t){const e=K1(t);return G1.encodeByteArray(e,!0)},Wf=function(t){return DO(t).replace(/\./g,"")},Y1=function(t){try{return G1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO=()=>MO().__FIREBASE_DEFAULTS__,VO=()=>{if(typeof process>"u"||typeof Ub>"u")return;const t=Ub.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},LO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Y1(t[1]);return e&&JSON.parse(e)},Sp=()=>{try{return AO()||OO()||VO()||LO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Q1=t=>{var e,n;return(n=(e=Sp())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},X1=t=>{const e=Q1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},J1=()=>{var t;return(t=Sp())==null?void 0:t.config},Z1=t=>{var e;return(e=Sp())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function y0(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ek(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Wf(JSON.stringify(n)),Wf(JSON.stringify(l)),""].join(".")}const Nu={};function FO(){const t={prod:[],emulator:[]};for(const e of Object.keys(Nu))Nu[e]?t.emulator.push(e):t.prod.push(e);return t}function UO(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Bb=!1;function v0(t,e){if(typeof window>"u"||typeof document>"u"||!Fo(window.location.host)||Nu[t]===e||Nu[t]||Bb)return;Nu[t]=e;function n(w){return`__firebase__banner__${w}`}const r="__firebase__banner",o=FO().prod.length>0;function l(){const w=document.getElementById(r);w&&w.remove()}function c(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function d(w,E){w.setAttribute("width","24"),w.setAttribute("id",E),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function h(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{Bb=!0,l()},w}function m(w,E){w.setAttribute("id",E),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function g(){const w=UO(r),E=n("text"),S=document.getElementById(E)||document.createElement("span"),T=n("learnmore"),k=document.getElementById(T)||document.createElement("a"),P=n("preprendIcon"),R=document.getElementById(P)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const M=w.element;c(M),m(k,T);const j=h();d(R,P),M.append(R,S,k,j),document.body.appendChild(M)}o?(S.innerText="Preview backend disconnected.",R.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(R.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nn())}function $O(){var e;const t=(e=Sp())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function WO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function HO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qO(){const t=Nn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function KO(){return!$O()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function GO(){try{return typeof indexedDB=="object"}catch{return!1}}function YO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO="FirebaseError";class Js extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=QO,Object.setPrototypeOf(this,Js.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_d.prototype.create)}}class _d{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],l=o?XO(o,r):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new Js(s,c,r)}}function XO(t,e){return t.replace(JO,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const JO=/\{\$([^}]+)}/g;function ZO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ra(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const o=t[s],l=e[s];if($b(o)&&$b(l)){if(!Ra(o,l))return!1}else if(o!==l)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function $b(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Eu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function Tu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function eV(t,e){const n=new tV(t,e);return n.subscribe.bind(n)}class tV{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");nV(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Xg),s.error===void 0&&(s.error=Xg),s.complete===void 0&&(s.complete=Xg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nV(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Xg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(t){return t&&t._delegate?t._delegate:t}class Io{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new jO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(iV(e))try{this.getOrInitializeService({instanceIdentifier:_a})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=_a){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_a){return this.instances.has(e)}getOptions(e=_a){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&l.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:sV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=_a){return this.component?this.component.multipleInstances?e:_a:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sV(t){return t===_a?void 0:t}function iV(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new rV(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(qe||(qe={}));const aV={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},lV=qe.INFO,cV={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},uV=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=cV[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class w0{constructor(e){this.name=e,this._logLevel=lV,this._logHandler=uV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?aV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const dV=(t,e)=>e.some(n=>t instanceof n);let zb,Wb;function hV(){return zb||(zb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fV(){return Wb||(Wb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tk=new WeakMap,Hy=new WeakMap,nk=new WeakMap,Jg=new WeakMap,_0=new WeakMap;function pV(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(bo(t.result)),s()},l=()=>{r(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&tk.set(n,t)}).catch(()=>{}),_0.set(e,t),e}function mV(t){if(Hy.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),s()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});Hy.set(t,e)}let qy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Hy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||nk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return bo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function gV(t){qy=t(qy)}function yV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Zg(this),e,...n);return nk.set(r,e.sort?e.sort():[e]),bo(r)}:fV().includes(t)?function(...e){return t.apply(Zg(this),e),bo(tk.get(this))}:function(...e){return bo(t.apply(Zg(this),e))}}function vV(t){return typeof t=="function"?yV(t):(t instanceof IDBTransaction&&mV(t),dV(t,hV())?new Proxy(t,qy):t)}function bo(t){if(t instanceof IDBRequest)return pV(t);if(Jg.has(t))return Jg.get(t);const e=vV(t);return e!==t&&(Jg.set(t,e),_0.set(e,t)),e}const Zg=t=>_0.get(t);function wV(t,e,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const l=indexedDB.open(t,e),c=bo(l);return r&&l.addEventListener("upgradeneeded",d=>{r(bo(l.result),d.oldVersion,d.newVersion,bo(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{o&&d.addEventListener("close",()=>o()),s&&d.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const _V=["get","getKey","getAll","getAllKeys","count"],xV=["put","add","delete","clear"],ey=new Map;function Hb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ey.get(e))return ey.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=xV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||_V.includes(n)))return;const o=async function(l,...c){const d=this.transaction(l,s?"readwrite":"readonly");let h=d.store;return r&&(h=h.index(c.shift())),(await Promise.all([h[n](...c),s&&d.done]))[0]};return ey.set(e,o),o}gV(t=>({...t,get:(e,n,r)=>Hb(e,n)||t.get(e,n,r),has:(e,n)=>!!Hb(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(EV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function EV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ky="@firebase/app",qb="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti=new w0("@firebase/app"),TV="@firebase/app-compat",SV="@firebase/analytics-compat",kV="@firebase/analytics",IV="@firebase/app-check-compat",CV="@firebase/app-check",PV="@firebase/auth",AV="@firebase/auth-compat",RV="@firebase/database",NV="@firebase/data-connect",DV="@firebase/database-compat",MV="@firebase/functions",OV="@firebase/functions-compat",VV="@firebase/installations",LV="@firebase/installations-compat",jV="@firebase/messaging",FV="@firebase/messaging-compat",UV="@firebase/performance",BV="@firebase/performance-compat",$V="@firebase/remote-config",zV="@firebase/remote-config-compat",WV="@firebase/storage",HV="@firebase/storage-compat",qV="@firebase/firestore",KV="@firebase/ai",GV="@firebase/firestore-compat",YV="firebase",QV="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy="[DEFAULT]",XV={[Ky]:"fire-core",[TV]:"fire-core-compat",[kV]:"fire-analytics",[SV]:"fire-analytics-compat",[CV]:"fire-app-check",[IV]:"fire-app-check-compat",[PV]:"fire-auth",[AV]:"fire-auth-compat",[RV]:"fire-rtdb",[NV]:"fire-data-connect",[DV]:"fire-rtdb-compat",[MV]:"fire-fn",[OV]:"fire-fn-compat",[VV]:"fire-iid",[LV]:"fire-iid-compat",[jV]:"fire-fcm",[FV]:"fire-fcm-compat",[UV]:"fire-perf",[BV]:"fire-perf-compat",[$V]:"fire-rc",[zV]:"fire-rc-compat",[WV]:"fire-gcs",[HV]:"fire-gcs-compat",[qV]:"fire-fst",[GV]:"fire-fst-compat",[KV]:"fire-vertex","fire-js":"fire-js",[YV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hf=new Map,JV=new Map,Yy=new Map;function Kb(t,e){try{t.container.addComponent(e)}catch(n){Ti.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Na(t){const e=t.name;if(Yy.has(e))return Ti.debug(`There were multiple attempts to register component ${e}.`),!1;Yy.set(e,t);for(const n of Hf.values())Kb(n,t);for(const n of JV.values())Kb(n,t);return!0}function kp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function wr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Eo=new _d("app","Firebase",ZV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Io("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Eo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha=QV;function Qy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Gy,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Eo.create("bad-app-name",{appName:String(s)});if(n||(n=J1()),!n)throw Eo.create("no-options");const o=Hf.get(s);if(o){if(Ra(n,o.options)&&Ra(r,o.config))return o;throw Eo.create("duplicate-app",{appName:s})}const l=new oV(s);for(const d of Yy.values())l.addComponent(d);const c=new eL(n,r,l);return Hf.set(s,c),c}function x0(t=Gy){const e=Hf.get(t);if(!e&&t===Gy&&J1())return Qy();if(!e)throw Eo.create("no-app",{appName:t});return e}function Ds(t,e,n){let r=XV[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${r}" with version "${e}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ti.warn(l.join(" "));return}Na(new Io(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tL="firebase-heartbeat-database",nL=1,Gu="firebase-heartbeat-store";let ty=null;function rk(){return ty||(ty=wV(tL,nL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Gu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Eo.create("idb-open",{originalErrorMessage:t.message})})),ty}async function rL(t){try{const n=(await rk()).transaction(Gu),r=await n.objectStore(Gu).get(sk(t));return await n.done,r}catch(e){if(e instanceof Js)Ti.warn(e.message);else{const n=Eo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ti.warn(n.message)}}}async function Gb(t,e){try{const r=(await rk()).transaction(Gu,"readwrite");await r.objectStore(Gu).put(e,sk(t)),await r.done}catch(n){if(n instanceof Js)Ti.warn(n.message);else{const r=Eo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ti.warn(r.message)}}}function sk(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sL=1024,iL=30;class oL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new lL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Yb();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>iL){const l=cL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ti.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Yb(),{heartbeatsToSend:r,unsentEntries:s}=aL(this._heartbeatsCache.heartbeats),o=Wf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Ti.warn(n),""}}}function Yb(){return new Date().toISOString().substring(0,10)}function aL(t,e=sL){const n=[];let r=t.slice();for(const s of t){const o=n.find(l=>l.agent===s.agent);if(o){if(o.dates.push(s.date),Qb(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Qb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class lL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return GO()?YO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await rL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Gb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Gb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Qb(t){return Wf(JSON.stringify({version:2,heartbeats:t})).length}function cL(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uL(t){Na(new Io("platform-logger",e=>new bV(e),"PRIVATE")),Na(new Io("heartbeat",e=>new oL(e),"PRIVATE")),Ds(Ky,qb,t),Ds(Ky,qb,"esm2020"),Ds("fire-js","")}uL("");var dL="firebase",hL="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ds(dL,hL,"app");function ik(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fL=ik,ok=new _d("auth","Firebase",ik());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qf=new w0("@firebase/auth");function pL(t,...e){qf.logLevel<=qe.WARN&&qf.warn(`Auth (${Ha}): ${t}`,...e)}function Tf(t,...e){qf.logLevel<=qe.ERROR&&qf.error(`Auth (${Ha}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function us(t,...e){throw b0(t,...e)}function Ms(t,...e){return b0(t,...e)}function ak(t,e,n){const r={...fL(),[e]:n};return new _d("auth","Firebase",r).create(e,{appName:t.name})}function xi(t){return ak(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function b0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return ok.create(t,...e)}function Oe(t,e,...n){if(!t)throw b0(e,...n)}function yi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Tf(e),new Error(e)}function Si(t,e){t||yi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xy(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function mL(){return Xb()==="http:"||Xb()==="https:"}function Xb(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(mL()||WO()||"connection"in navigator)?navigator.onLine:!0}function yL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Si(n>e,"Short delay should be less than long delay!"),this.isMobile=BO()||HO()}get(){return gL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(t,e){Si(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],_L=new bd(3e4,6e4);function Uo(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Oi(t,e,n,r,s={}){return ck(t,s,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const c=xd({key:t.config.apiKey,...l}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:d,...o};return zO()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&Fo(t.emulatorConfig.host)&&(h.credentials="include"),lk.fetch()(await uk(t,t.config.apiHost,n,c),h)})}async function ck(t,e,n){t._canInitEmulator=!1;const r={...vL,...e};try{const s=new bL(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw ef(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[d,h]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw ef(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw ef(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw ef(t,"user-disabled",l);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw ak(t,m,h);us(t,m)}}catch(s){if(s instanceof Js)throw s;us(t,"network-request-failed",{message:String(s)})}}async function Ed(t,e,n,r,s={}){const o=await Oi(t,e,n,r,s);return"mfaPendingCredential"in o&&us(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function uk(t,e,n,r){const s=`${e}${n}?${r}`,o=t,l=o.config.emulator?E0(t.config,s):`${t.config.apiScheme}://${s}`;return wL.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function xL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class bL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ms(this.auth,"network-request-failed")),_L.get())})}}function ef(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Ms(t,e,r);return s.customData._tokenResponse=n,s}function Jb(t){return t!==void 0&&t.enterprise!==void 0}class EL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return xL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function TL(t,e){return Oi(t,"GET","/v2/recaptchaConfig",Uo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SL(t,e){return Oi(t,"POST","/v1/accounts:delete",e)}async function Kf(t,e){return Oi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Du(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function kL(t,e=!1){const n=Rt(t),r=await n.getIdToken(e),s=T0(r);Oe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:Du(ny(s.auth_time)),issuedAtTime:Du(ny(s.iat)),expirationTime:Du(ny(s.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function ny(t){return Number(t)*1e3}function T0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Tf("JWT malformed, contained fewer than 3 sections"),null;try{const s=Y1(n);return s?JSON.parse(s):(Tf("Failed to decode base64 JWT payload"),null)}catch(s){return Tf("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Zb(t){const e=T0(t);return Oe(e,"internal-error"),Oe(typeof e.exp<"u","internal-error"),Oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Js&&IL(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function IL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Du(this.lastLoginAt),this.creationTime=Du(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gf(t){var g;const e=t.auth,n=await t.getIdToken(),r=await sc(t,Kf(e,{idToken:n}));Oe(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=(g=s.providerUserInfo)!=null&&g.length?dk(s.providerUserInfo):[],l=AL(t.providerData,o),c=t.isAnonymous,d=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),h=c?d:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new Jy(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,m)}async function PL(t){const e=Rt(t);await Gf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function AL(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function dk(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RL(t,e){const n=await ck(t,{},async()=>{const r=xd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,l=await uk(t,s,"/v1/token",`key=${o}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:c,body:r};return t.emulatorConfig&&Fo(t.emulatorConfig.host)&&(d.credentials="include"),lk.fetch()(l,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function NL(t,e){return Oi(t,"POST","/v2/accounts:revokeToken",Uo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Oe(e.idToken,"internal-error"),Oe(typeof e.idToken<"u","internal-error"),Oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Zb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Oe(e.length!==0,"internal-error");const n=Zb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:o}=await RL(e,n);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:o}=n,l=new Yl;return r&&(Oe(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(Oe(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),o&&(Oe(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Yl,this.toJSON())}_performRefresh(){return yi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function co(t,e){Oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class os{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new CL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Jy(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await sc(this,this.stsTokenManager.getToken(this.auth,e));return Oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return kL(this,e)}reload(){return PL(this)}_assign(e){this!==e&&(Oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new os({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Gf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wr(this.auth.app))return Promise.reject(xi(this.auth));const e=await this.getIdToken();return await sc(this,SL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,o=n.phoneNumber??void 0,l=n.photoURL??void 0,c=n.tenantId??void 0,d=n._redirectEventId??void 0,h=n.createdAt??void 0,m=n.lastLoginAt??void 0,{uid:g,emailVerified:w,isAnonymous:E,providerData:S,stsTokenManager:T}=n;Oe(g&&T,e,"internal-error");const k=Yl.fromJSON(this.name,T);Oe(typeof g=="string",e,"internal-error"),co(r,e.name),co(s,e.name),Oe(typeof w=="boolean",e,"internal-error"),Oe(typeof E=="boolean",e,"internal-error"),co(o,e.name),co(l,e.name),co(c,e.name),co(d,e.name),co(h,e.name),co(m,e.name);const P=new os({uid:g,auth:e,email:s,emailVerified:w,displayName:r,isAnonymous:E,photoURL:l,phoneNumber:o,tenantId:c,stsTokenManager:k,createdAt:h,lastLoginAt:m});return S&&Array.isArray(S)&&(P.providerData=S.map(R=>({...R}))),d&&(P._redirectEventId=d),P}static async _fromIdTokenResponse(e,n,r=!1){const s=new Yl;s.updateFromServerResponse(n);const o=new os({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Gf(o),o}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Oe(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?dk(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),c=new Yl;c.updateFromIdToken(r);const d=new os({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:l}),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Jy(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(d,h),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE=new Map;function vi(t){Si(t instanceof Function,"Expected a class definition");let e=eE.get(t);return e?(Si(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,eE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}hk.type="NONE";const tE=hk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sf(t,e,n){return`firebase:${t}:${e}:${n}`}class Ql{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=Sf(this.userKey,s.apiKey,o),this.fullPersistenceKey=Sf("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Kf(this.auth,{idToken:e}).catch(()=>{});return n?os._fromGetAccountInfoResponse(this.auth,n,e):null}return os._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ql(vi(tE),e,r);const s=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let o=s[0]||vi(tE);const l=Sf(r,e.config.apiKey,e.name);let c=null;for(const h of n)try{const m=await h._get(l);if(m){let g;if(typeof m=="string"){const w=await Kf(e,{idToken:m}).catch(()=>{});if(!w)break;g=await os._fromGetAccountInfoResponse(e,w,m)}else g=os._fromJSON(e,m);h!==o&&(c=g),o=h;break}}catch{}const d=s.filter(h=>h._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new Ql(o,e,r):(o=d[0],c&&await o._set(l,c.toJSON()),await Promise.all(n.map(async h=>{if(h!==o)try{await h._remove(l)}catch{}})),new Ql(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(vk(e))return"Blackberry";if(wk(e))return"Webos";if(pk(e))return"Safari";if((e.includes("chrome/")||mk(e))&&!e.includes("edge/"))return"Chrome";if(yk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function fk(t=Nn()){return/firefox\//i.test(t)}function pk(t=Nn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function mk(t=Nn()){return/crios\//i.test(t)}function gk(t=Nn()){return/iemobile/i.test(t)}function yk(t=Nn()){return/android/i.test(t)}function vk(t=Nn()){return/blackberry/i.test(t)}function wk(t=Nn()){return/webos/i.test(t)}function S0(t=Nn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function DL(t=Nn()){var e;return S0(t)&&!!((e=window.navigator)!=null&&e.standalone)}function ML(){return qO()&&document.documentMode===10}function _k(t=Nn()){return S0(t)||yk(t)||wk(t)||vk(t)||/windows phone/i.test(t)||gk(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xk(t,e=[]){let n;switch(t){case"Browser":n=nE(Nn());break;case"Worker":n=`${nE(Nn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ha}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((l,c)=>{try{const d=e(o);l(d)}catch(d){c(d)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VL(t,e={}){return Oi(t,"GET","/v2/passwordPolicy",Uo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL=6;class jL{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??LL,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rE(this),this.idTokenSubscription=new rE(this),this.beforeStateQueue=new OL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ok,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=vi(n)),this._initializationPromise=this.queue(async()=>{var r,s,o;if(!this._deleted&&(this.persistenceManager=await Ql.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Kf(this,{idToken:e}),r=await os._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(wr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(o=this.redirectUser)==null?void 0:o._redirectEventId,c=r==null?void 0:r._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&(d!=null&&d.user)&&(r=d.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Gf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=yL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(wr(this.app))return Promise.reject(xi(this));const n=e?Rt(e):null;return n&&Oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return wr(this.app)?Promise.reject(xi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return wr(this.app)?Promise.reject(xi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await VL(this),n=new jL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new _d("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await NL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&vi(e)||this._popupRedirectResolver;Oe(n,this,"argument-error"),this.redirectPersistenceManager=await Ql.create(this,[vi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Oe(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,s);return()=>{l=!0,d()}}else{const d=e.addObserver(n);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(wr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&pL(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function qa(t){return Rt(t)}class rE{constructor(e){this.auth=e,this.observer=null,this.addObserver=eV(n=>this.observer=n)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ip={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function UL(t){Ip=t}function bk(t){return Ip.loadJS(t)}function BL(){return Ip.recaptchaEnterpriseScript}function $L(){return Ip.gapiScript}function zL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class WL{constructor(){this.enterprise=new HL}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class HL{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const qL="recaptcha-enterprise",Ek="NO_RECAPTCHA";class KL{constructor(e){this.type=qL,this.auth=qa(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,c)=>{TL(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const h=new EL(d);return o.tenantId==null?o._agentRecaptchaConfig=h:o._tenantRecaptchaConfigs[o.tenantId]=h,l(h.siteKey)}}).catch(d=>{c(d)})})}function s(o,l,c){const d=window.grecaptcha;Jb(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(h=>{l(h)}).catch(()=>{l(Ek)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new WL().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{r(this.auth).then(c=>{if(!n&&Jb(window.grecaptcha))s(c,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=BL();d.length!==0&&(d+=c),bk(d).then(()=>{s(c,o,l)}).catch(h=>{l(h)})}}).catch(c=>{l(c)})})}}async function sE(t,e,n,r=!1,s=!1){const o=new KL(t);let l;if(s)l=Ek;else try{l=await o.verify(n)}catch{l=await o.verify(n,!0)}const c={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const d=c.phoneEnrollmentInfo.phoneNumber,h=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const d=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Zy(t,e,n,r,s){var o;if((o=t._getRecaptchaConfig())!=null&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await sE(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await sE(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GL(t,e){const n=kp(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(Ra(o,e??{}))return s;us(s,"already-initialized")}return n.initialize({options:e})}function YL(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(vi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function QL(t,e,n){const r=qa(t);Oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=Tk(e),{host:l,port:c}=XL(e),d=c===null?"":`:${c}`,h={url:`${o}//${l}${d}/`},m=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Oe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Oe(Ra(h,r.config.emulator)&&Ra(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,Fo(l)?(y0(`${o}//${l}${d}`),v0("Auth",!0)):JL()}function Tk(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function XL(t){const e=Tk(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:iE(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:iE(l)}}}function iE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function JL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return yi("not implemented")}_getIdTokenResponse(e){return yi("not implemented")}_linkToIdToken(e,n){return yi("not implemented")}_getReauthenticationResolver(e){return yi("not implemented")}}async function ZL(t,e){return Oi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ej(t,e){return Ed(t,"POST","/v1/accounts:signInWithPassword",Uo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tj(t,e){return Ed(t,"POST","/v1/accounts:signInWithEmailLink",Uo(t,e))}async function nj(t,e){return Ed(t,"POST","/v1/accounts:signInWithEmailLink",Uo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu extends k0{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Yu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Yu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zy(e,n,"signInWithPassword",ej);case"emailLink":return tj(e,{email:this._email,oobCode:this._password});default:us(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zy(e,r,"signUpPassword",ZL);case"emailLink":return nj(e,{idToken:n,email:this._email,oobCode:this._password});default:us(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xl(t,e){return Ed(t,"POST","/v1/accounts:signInWithIdp",Uo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rj="http://localhost";class Da extends k0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Da(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):us("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...o}=n;if(!r||!s)return null;const l=new Da(r,s);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Xl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Xl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Xl(e,n)}buildRequest(){const e={requestUri:rj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=xd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ij(t){const e=Eu(Tu(t)).link,n=e?Eu(Tu(e)).deep_link_id:null,r=Eu(Tu(t)).deep_link_id;return(r?Eu(Tu(r)).link:null)||r||n||e||t}class I0{constructor(e){const n=Eu(Tu(e)),r=n.apiKey??null,s=n.oobCode??null,o=sj(n.mode??null);Oe(r&&s&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=ij(e);try{return new I0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(){this.providerId=yc.PROVIDER_ID}static credential(e,n){return Yu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=I0.parseLink(n);return Oe(r,"argument-error"),Yu._fromEmailAndCode(e,r.code,r.tenantId)}}yc.PROVIDER_ID="password";yc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";yc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td extends Sk{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go extends Td{constructor(){super("facebook.com")}static credential(e){return Da._fromParams({providerId:go.PROVIDER_ID,signInMethod:go.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return go.credentialFromTaggedObject(e)}static credentialFromError(e){return go.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return go.credential(e.oauthAccessToken)}catch{return null}}}go.FACEBOOK_SIGN_IN_METHOD="facebook.com";go.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo extends Td{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Da._fromParams({providerId:yo.PROVIDER_ID,signInMethod:yo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return yo.credentialFromTaggedObject(e)}static credentialFromError(e){return yo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return yo.credential(n,r)}catch{return null}}}yo.GOOGLE_SIGN_IN_METHOD="google.com";yo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo extends Td{constructor(){super("github.com")}static credential(e){return Da._fromParams({providerId:vo.PROVIDER_ID,signInMethod:vo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vo.credentialFromTaggedObject(e)}static credentialFromError(e){return vo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vo.credential(e.oauthAccessToken)}catch{return null}}}vo.GITHUB_SIGN_IN_METHOD="github.com";vo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo extends Td{constructor(){super("twitter.com")}static credential(e,n){return Da._fromParams({providerId:wo.PROVIDER_ID,signInMethod:wo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return wo.credentialFromTaggedObject(e)}static credentialFromError(e){return wo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return wo.credential(n,r)}catch{return null}}}wo.TWITTER_SIGN_IN_METHOD="twitter.com";wo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oj(t,e){return Ed(t,"POST","/v1/accounts:signUp",Uo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const o=await os._fromIdTokenResponse(e,r,s),l=oE(r);return new Ma({user:o,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=oE(r);return new Ma({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function oE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf extends Js{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Yf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Yf(e,n,r,s)}}function kk(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Yf._fromErrorAndOperation(t,o,e,r):o})}async function aj(t,e,n=!1){const r=await sc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ma._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lj(t,e,n=!1){const{auth:r}=t;if(wr(r.app))return Promise.reject(xi(r));const s="reauthenticate";try{const o=await sc(t,kk(r,s,e,t),n);Oe(o.idToken,r,"internal-error");const l=T0(o.idToken);Oe(l,r,"internal-error");const{sub:c}=l;return Oe(t.uid===c,r,"user-mismatch"),Ma._forOperation(t,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&us(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ik(t,e,n=!1){if(wr(t.app))return Promise.reject(xi(t));const r="signIn",s=await kk(t,r,e),o=await Ma._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(o.user),o}async function cj(t,e){return Ik(qa(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ck(t){const e=qa(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function uj(t,e,n){if(wr(t.app))return Promise.reject(xi(t));const r=qa(t),l=await Zy(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",oj).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&Ck(t),d}),c=await Ma._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(c.user),c}function dj(t,e,n){return wr(t.app)?Promise.reject(xi(t)):cj(Rt(t),yc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Ck(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hj(t,e){return Oi(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fj(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Rt(t),o={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},l=await sc(r,hj(r.auth,o));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const c=r.providerData.find(({providerId:d})=>d==="password");c&&(c.displayName=r.displayName,c.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function pj(t,e,n,r){return Rt(t).onIdTokenChanged(e,n,r)}function mj(t,e,n){return Rt(t).beforeAuthStateChanged(e,n)}function gj(t,e,n,r){return Rt(t).onAuthStateChanged(e,n,r)}function yj(t){return Rt(t).signOut()}const Qf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Qf,"1"),this.storage.removeItem(Qf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vj=1e3,wj=10;class Ak extends Pk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_k(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,d)=>{this.notifyListeners(l,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);ML()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,wj):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},vj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ak.type="LOCAL";const _j=Ak;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk extends Pk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Rk.type="SESSION";const Nk=Rk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Cp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:o}=n.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(l).map(async h=>h(n.origin,o)),d=await xj(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Cp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,l;return new Promise((c,d)=>{const h=C0("",20);s.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(g){const w=g;if(w.data.eventId===h)switch(w.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(w.data.response);break;default:clearTimeout(m),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Os(){return window}function Ej(t){Os().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dk(){return typeof Os().WorkerGlobalScope<"u"&&typeof Os().importScripts=="function"}async function Tj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Sj(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function kj(){return Dk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mk="firebaseLocalStorageDb",Ij=1,Xf="firebaseLocalStorage",Ok="fbase_key";class Sd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Pp(t,e){return t.transaction([Xf],e?"readwrite":"readonly").objectStore(Xf)}function Cj(){const t=indexedDB.deleteDatabase(Mk);return new Sd(t).toPromise()}function ev(){const t=indexedDB.open(Mk,Ij);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Xf,{keyPath:Ok})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Xf)?e(r):(r.close(),await Cj(),e(await ev()))})})}async function aE(t,e,n){const r=Pp(t,!0).put({[Ok]:e,value:n});return new Sd(r).toPromise()}async function Pj(t,e){const n=Pp(t,!1).get(e),r=await new Sd(n).toPromise();return r===void 0?null:r.value}function lE(t,e){const n=Pp(t,!0).delete(e);return new Sd(n).toPromise()}const Aj=800,Rj=3;class Vk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ev(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Rj)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Dk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Cp._getInstance(kj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await Tj(),!this.activeServiceWorker)return;this.sender=new bj(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Sj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ev();return await aE(e,Qf,"1"),await lE(e,Qf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>aE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Pj(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>lE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=Pp(s,!1).getAll();return new Sd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Aj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Vk.type="LOCAL";const Nj=Vk;new bd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dj(t,e){return e?vi(e):(Oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0 extends k0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Xl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Xl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Mj(t){return Ik(t.auth,new P0(t),t.bypassAuthState)}function Oj(t){const{auth:e,user:n}=t;return Oe(n,e,"internal-error"),lj(n,new P0(t),t.bypassAuthState)}async function Vj(t){const{auth:e,user:n}=t;return Oe(n,e,"internal-error"),aj(n,new P0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e,n,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:o,error:l,type:c}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Mj;case"linkViaPopup":case"linkViaRedirect":return Vj;case"reauthViaPopup":case"reauthViaRedirect":return Oj;default:us(this.auth,"internal-error")}}resolve(e){Si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lj=new bd(2e3,1e4);class $l extends Lk{constructor(e,n,r,s,o){super(e,n,s,o),this.provider=r,this.authWindow=null,this.pollId=null,$l.currentPopupAction&&$l.currentPopupAction.cancel(),$l.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Oe(e,this.auth,"internal-error"),e}async onExecution(){Si(this.filter.length===1,"Popup operations only handle one event");const e=C0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ms(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Ms(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$l.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ms(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Lj.get())};e()}}$l.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jj="pendingRedirect",kf=new Map;class Fj extends Lk{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=kf.get(this.auth._key());if(!e){try{const r=await Uj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}kf.set(this.auth._key(),e)}return this.bypassAuthState||kf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Uj(t,e){const n=zj(e),r=$j(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function Bj(t,e){kf.set(t._key(),e)}function $j(t){return vi(t._redirectPersistence)}function zj(t){return Sf(jj,t.config.apiKey,t.name)}async function Wj(t,e,n=!1){if(wr(t.app))return Promise.reject(xi(t));const r=qa(t),s=Dj(r,e),l=await new Fj(r,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hj=600*1e3;class qj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Kj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!jk(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ms(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Hj&&this.cachedEventUids.clear(),this.cachedEventUids.has(cE(e))}saveEventToCache(e){this.cachedEventUids.add(cE(e)),this.lastProcessedEventTime=Date.now()}}function cE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function jk({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Kj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jk(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gj(t,e={}){return Oi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Qj=/^https?/;async function Xj(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Gj(t);for(const n of e)try{if(Jj(n))return}catch{}us(t,"unauthorized-domain")}function Jj(t){const e=Xy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!Qj.test(n))return!1;if(Yj.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zj=new bd(3e4,6e4);function uE(){const t=Os().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function e4(t){return new Promise((e,n)=>{var s,o,l;function r(){uE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{uE(),n(Ms(t,"network-request-failed"))},timeout:Zj.get()})}if((o=(s=Os().gapi)==null?void 0:s.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((l=Os().gapi)!=null&&l.load)r();else{const c=zL("iframefcb");return Os()[c]=()=>{gapi.load?r():n(Ms(t,"network-request-failed"))},bk(`${$L()}?onload=${c}`).catch(d=>n(d))}}).catch(e=>{throw If=null,e})}let If=null;function t4(t){return If=If||e4(t),If}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4=new bd(5e3,15e3),r4="__/auth/iframe",s4="emulator/auth/iframe",i4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},o4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function a4(t){const e=t.config;Oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?E0(e,s4):`https://${t.config.authDomain}/${r4}`,r={apiKey:e.apiKey,appName:t.name,v:Ha},s=o4.get(t.config.apiHost);s&&(r.eid=s);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${xd(r).slice(1)}`}async function l4(t){const e=await t4(t),n=Os().gapi;return Oe(n,t,"internal-error"),e.open({where:document.body,url:a4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:i4,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const l=Ms(t,"network-request-failed"),c=Os().setTimeout(()=>{o(l)},n4.get());function d(){Os().clearTimeout(c),s(r)}r.ping(d).then(d,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},u4=500,d4=600,h4="_blank",f4="http://localhost";class dE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function p4(t,e,n,r=u4,s=d4){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const d={...c4,width:r.toString(),height:s.toString(),top:o,left:l},h=Nn().toLowerCase();n&&(c=mk(h)?h4:n),fk(h)&&(e=e||f4,d.scrollbars="yes");const m=Object.entries(d).reduce((w,[E,S])=>`${w}${E}=${S},`,"");if(DL(h)&&c!=="_self")return m4(e||"",c),new dE(null);const g=window.open(e||"",c,m);Oe(g,t,"popup-blocked");try{g.focus()}catch{}return new dE(g)}function m4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4="__/auth/handler",y4="emulator/auth/handler",v4=encodeURIComponent("fac");async function hE(t,e,n,r,s,o){Oe(t.config.authDomain,t,"auth-domain-config-required"),Oe(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ha,eventId:s};if(e instanceof Sk){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",ZO(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,g]of Object.entries({}))l[m]=g}if(e instanceof Td){const m=e.getScopes().filter(g=>g!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const d=await t._getAppCheckToken(),h=d?`#${v4}=${encodeURIComponent(d)}`:"";return`${w4(t)}?${xd(c).slice(1)}${h}`}function w4({config:t}){return t.emulator?E0(t,y4):`https://${t.authDomain}/${g4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ry="webStorageSupport";class _4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Nk,this._completeRedirectFn=Wj,this._overrideRedirectResult=Bj}async _openPopup(e,n,r,s){var l;Si((l=this.eventManagers[e._key()])==null?void 0:l.manager,"_initialize() not called before _openPopup()");const o=await hE(e,n,r,Xy(),s);return p4(e,o,C0())}async _openRedirect(e,n,r,s){await this._originValidation(e);const o=await hE(e,n,r,Xy(),s);return Ej(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(Si(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await l4(e),r=new qj(e);return n.register("authEvent",s=>(Oe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ry,{type:ry},s=>{var l;const o=(l=s==null?void 0:s[0])==null?void 0:l[ry];o!==void 0&&n(!!o),us(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Xj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return _k()||pk()||S0()}}const x4=_4;var fE="@firebase/auth",pE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function T4(t){Na(new Io("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;Oe(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xk(t)},h=new FL(r,s,o,d);return YL(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Na(new Io("auth-internal",e=>{const n=qa(e.getProvider("auth").getImmediate());return(r=>new b4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ds(fE,pE,E4(t)),Ds(fE,pE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4=300,k4=Z1("authIdTokenMaxAge")||S4;let mE=null;const I4=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>k4)return;const s=n==null?void 0:n.token;mE!==s&&(mE=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function C4(t=x0()){const e=kp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=GL(t,{popupRedirectResolver:x4,persistence:[Nj,_j,Nk]}),r=Z1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=I4(o.toString());mj(n,l,()=>l(n.currentUser)),pj(n,c=>l(c))}}const s=Q1("auth");return s&&QL(n,`http://${s}`),n}function P4(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}UL({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const o=Ms("internal-error");o.customData=s,n(o)},r.type="text/javascript",r.charset="UTF-8",P4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});T4("Browser");var gE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var To,Fk;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,C){function V(){}V.prototype=C.prototype,D.D=C.prototype,D.prototype=new V,D.prototype.constructor=D,D.C=function(L,F,$){for(var N=Array(arguments.length-2),se=2;se<arguments.length;se++)N[se-2]=arguments[se];return C.prototype[F].apply(L,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(D,C,V){V||(V=0);var L=Array(16);if(typeof C=="string")for(var F=0;16>F;++F)L[F]=C.charCodeAt(V++)|C.charCodeAt(V++)<<8|C.charCodeAt(V++)<<16|C.charCodeAt(V++)<<24;else for(F=0;16>F;++F)L[F]=C[V++]|C[V++]<<8|C[V++]<<16|C[V++]<<24;C=D.g[0],V=D.g[1],F=D.g[2];var $=D.g[3],N=C+($^V&(F^$))+L[0]+3614090360&4294967295;C=V+(N<<7&4294967295|N>>>25),N=$+(F^C&(V^F))+L[1]+3905402710&4294967295,$=C+(N<<12&4294967295|N>>>20),N=F+(V^$&(C^V))+L[2]+606105819&4294967295,F=$+(N<<17&4294967295|N>>>15),N=V+(C^F&($^C))+L[3]+3250441966&4294967295,V=F+(N<<22&4294967295|N>>>10),N=C+($^V&(F^$))+L[4]+4118548399&4294967295,C=V+(N<<7&4294967295|N>>>25),N=$+(F^C&(V^F))+L[5]+1200080426&4294967295,$=C+(N<<12&4294967295|N>>>20),N=F+(V^$&(C^V))+L[6]+2821735955&4294967295,F=$+(N<<17&4294967295|N>>>15),N=V+(C^F&($^C))+L[7]+4249261313&4294967295,V=F+(N<<22&4294967295|N>>>10),N=C+($^V&(F^$))+L[8]+1770035416&4294967295,C=V+(N<<7&4294967295|N>>>25),N=$+(F^C&(V^F))+L[9]+2336552879&4294967295,$=C+(N<<12&4294967295|N>>>20),N=F+(V^$&(C^V))+L[10]+4294925233&4294967295,F=$+(N<<17&4294967295|N>>>15),N=V+(C^F&($^C))+L[11]+2304563134&4294967295,V=F+(N<<22&4294967295|N>>>10),N=C+($^V&(F^$))+L[12]+1804603682&4294967295,C=V+(N<<7&4294967295|N>>>25),N=$+(F^C&(V^F))+L[13]+4254626195&4294967295,$=C+(N<<12&4294967295|N>>>20),N=F+(V^$&(C^V))+L[14]+2792965006&4294967295,F=$+(N<<17&4294967295|N>>>15),N=V+(C^F&($^C))+L[15]+1236535329&4294967295,V=F+(N<<22&4294967295|N>>>10),N=C+(F^$&(V^F))+L[1]+4129170786&4294967295,C=V+(N<<5&4294967295|N>>>27),N=$+(V^F&(C^V))+L[6]+3225465664&4294967295,$=C+(N<<9&4294967295|N>>>23),N=F+(C^V&($^C))+L[11]+643717713&4294967295,F=$+(N<<14&4294967295|N>>>18),N=V+($^C&(F^$))+L[0]+3921069994&4294967295,V=F+(N<<20&4294967295|N>>>12),N=C+(F^$&(V^F))+L[5]+3593408605&4294967295,C=V+(N<<5&4294967295|N>>>27),N=$+(V^F&(C^V))+L[10]+38016083&4294967295,$=C+(N<<9&4294967295|N>>>23),N=F+(C^V&($^C))+L[15]+3634488961&4294967295,F=$+(N<<14&4294967295|N>>>18),N=V+($^C&(F^$))+L[4]+3889429448&4294967295,V=F+(N<<20&4294967295|N>>>12),N=C+(F^$&(V^F))+L[9]+568446438&4294967295,C=V+(N<<5&4294967295|N>>>27),N=$+(V^F&(C^V))+L[14]+3275163606&4294967295,$=C+(N<<9&4294967295|N>>>23),N=F+(C^V&($^C))+L[3]+4107603335&4294967295,F=$+(N<<14&4294967295|N>>>18),N=V+($^C&(F^$))+L[8]+1163531501&4294967295,V=F+(N<<20&4294967295|N>>>12),N=C+(F^$&(V^F))+L[13]+2850285829&4294967295,C=V+(N<<5&4294967295|N>>>27),N=$+(V^F&(C^V))+L[2]+4243563512&4294967295,$=C+(N<<9&4294967295|N>>>23),N=F+(C^V&($^C))+L[7]+1735328473&4294967295,F=$+(N<<14&4294967295|N>>>18),N=V+($^C&(F^$))+L[12]+2368359562&4294967295,V=F+(N<<20&4294967295|N>>>12),N=C+(V^F^$)+L[5]+4294588738&4294967295,C=V+(N<<4&4294967295|N>>>28),N=$+(C^V^F)+L[8]+2272392833&4294967295,$=C+(N<<11&4294967295|N>>>21),N=F+($^C^V)+L[11]+1839030562&4294967295,F=$+(N<<16&4294967295|N>>>16),N=V+(F^$^C)+L[14]+4259657740&4294967295,V=F+(N<<23&4294967295|N>>>9),N=C+(V^F^$)+L[1]+2763975236&4294967295,C=V+(N<<4&4294967295|N>>>28),N=$+(C^V^F)+L[4]+1272893353&4294967295,$=C+(N<<11&4294967295|N>>>21),N=F+($^C^V)+L[7]+4139469664&4294967295,F=$+(N<<16&4294967295|N>>>16),N=V+(F^$^C)+L[10]+3200236656&4294967295,V=F+(N<<23&4294967295|N>>>9),N=C+(V^F^$)+L[13]+681279174&4294967295,C=V+(N<<4&4294967295|N>>>28),N=$+(C^V^F)+L[0]+3936430074&4294967295,$=C+(N<<11&4294967295|N>>>21),N=F+($^C^V)+L[3]+3572445317&4294967295,F=$+(N<<16&4294967295|N>>>16),N=V+(F^$^C)+L[6]+76029189&4294967295,V=F+(N<<23&4294967295|N>>>9),N=C+(V^F^$)+L[9]+3654602809&4294967295,C=V+(N<<4&4294967295|N>>>28),N=$+(C^V^F)+L[12]+3873151461&4294967295,$=C+(N<<11&4294967295|N>>>21),N=F+($^C^V)+L[15]+530742520&4294967295,F=$+(N<<16&4294967295|N>>>16),N=V+(F^$^C)+L[2]+3299628645&4294967295,V=F+(N<<23&4294967295|N>>>9),N=C+(F^(V|~$))+L[0]+4096336452&4294967295,C=V+(N<<6&4294967295|N>>>26),N=$+(V^(C|~F))+L[7]+1126891415&4294967295,$=C+(N<<10&4294967295|N>>>22),N=F+(C^($|~V))+L[14]+2878612391&4294967295,F=$+(N<<15&4294967295|N>>>17),N=V+($^(F|~C))+L[5]+4237533241&4294967295,V=F+(N<<21&4294967295|N>>>11),N=C+(F^(V|~$))+L[12]+1700485571&4294967295,C=V+(N<<6&4294967295|N>>>26),N=$+(V^(C|~F))+L[3]+2399980690&4294967295,$=C+(N<<10&4294967295|N>>>22),N=F+(C^($|~V))+L[10]+4293915773&4294967295,F=$+(N<<15&4294967295|N>>>17),N=V+($^(F|~C))+L[1]+2240044497&4294967295,V=F+(N<<21&4294967295|N>>>11),N=C+(F^(V|~$))+L[8]+1873313359&4294967295,C=V+(N<<6&4294967295|N>>>26),N=$+(V^(C|~F))+L[15]+4264355552&4294967295,$=C+(N<<10&4294967295|N>>>22),N=F+(C^($|~V))+L[6]+2734768916&4294967295,F=$+(N<<15&4294967295|N>>>17),N=V+($^(F|~C))+L[13]+1309151649&4294967295,V=F+(N<<21&4294967295|N>>>11),N=C+(F^(V|~$))+L[4]+4149444226&4294967295,C=V+(N<<6&4294967295|N>>>26),N=$+(V^(C|~F))+L[11]+3174756917&4294967295,$=C+(N<<10&4294967295|N>>>22),N=F+(C^($|~V))+L[2]+718787259&4294967295,F=$+(N<<15&4294967295|N>>>17),N=V+($^(F|~C))+L[9]+3951481745&4294967295,D.g[0]=D.g[0]+C&4294967295,D.g[1]=D.g[1]+(F+(N<<21&4294967295|N>>>11))&4294967295,D.g[2]=D.g[2]+F&4294967295,D.g[3]=D.g[3]+$&4294967295}r.prototype.u=function(D,C){C===void 0&&(C=D.length);for(var V=C-this.blockSize,L=this.B,F=this.h,$=0;$<C;){if(F==0)for(;$<=V;)s(this,D,$),$+=this.blockSize;if(typeof D=="string"){for(;$<C;)if(L[F++]=D.charCodeAt($++),F==this.blockSize){s(this,L),F=0;break}}else for(;$<C;)if(L[F++]=D[$++],F==this.blockSize){s(this,L),F=0;break}}this.h=F,this.o+=C},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var C=1;C<D.length-8;++C)D[C]=0;var V=8*this.o;for(C=D.length-8;C<D.length;++C)D[C]=V&255,V/=256;for(this.u(D),D=Array(16),C=V=0;4>C;++C)for(var L=0;32>L;L+=8)D[V++]=this.g[C]>>>L&255;return D};function o(D,C){var V=c;return Object.prototype.hasOwnProperty.call(V,D)?V[D]:V[D]=C(D)}function l(D,C){this.h=C;for(var V=[],L=!0,F=D.length-1;0<=F;F--){var $=D[F]|0;L&&$==C||(V[F]=$,L=!1)}this.g=V}var c={};function d(D){return-128<=D&&128>D?o(D,function(C){return new l([C|0],0>C?-1:0)}):new l([D|0],0>D?-1:0)}function h(D){if(isNaN(D)||!isFinite(D))return g;if(0>D)return k(h(-D));for(var C=[],V=1,L=0;D>=V;L++)C[L]=D/V|0,V*=4294967296;return new l(C,0)}function m(D,C){if(D.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(D.charAt(0)=="-")return k(m(D.substring(1),C));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var V=h(Math.pow(C,8)),L=g,F=0;F<D.length;F+=8){var $=Math.min(8,D.length-F),N=parseInt(D.substring(F,F+$),C);8>$?($=h(Math.pow(C,$)),L=L.j($).add(h(N))):(L=L.j(V),L=L.add(h(N)))}return L}var g=d(0),w=d(1),E=d(16777216);t=l.prototype,t.m=function(){if(T(this))return-k(this).m();for(var D=0,C=1,V=0;V<this.g.length;V++){var L=this.i(V);D+=(0<=L?L:4294967296+L)*C,C*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(S(this))return"0";if(T(this))return"-"+k(this).toString(D);for(var C=h(Math.pow(D,6)),V=this,L="";;){var F=j(V,C).g;V=P(V,F.j(C));var $=((0<V.g.length?V.g[0]:V.h)>>>0).toString(D);if(V=F,S(V))return $+L;for(;6>$.length;)$="0"+$;L=$+L}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function S(D){if(D.h!=0)return!1;for(var C=0;C<D.g.length;C++)if(D.g[C]!=0)return!1;return!0}function T(D){return D.h==-1}t.l=function(D){return D=P(this,D),T(D)?-1:S(D)?0:1};function k(D){for(var C=D.g.length,V=[],L=0;L<C;L++)V[L]=~D.g[L];return new l(V,~D.h).add(w)}t.abs=function(){return T(this)?k(this):this},t.add=function(D){for(var C=Math.max(this.g.length,D.g.length),V=[],L=0,F=0;F<=C;F++){var $=L+(this.i(F)&65535)+(D.i(F)&65535),N=($>>>16)+(this.i(F)>>>16)+(D.i(F)>>>16);L=N>>>16,$&=65535,N&=65535,V[F]=N<<16|$}return new l(V,V[V.length-1]&-2147483648?-1:0)};function P(D,C){return D.add(k(C))}t.j=function(D){if(S(this)||S(D))return g;if(T(this))return T(D)?k(this).j(k(D)):k(k(this).j(D));if(T(D))return k(this.j(k(D)));if(0>this.l(E)&&0>D.l(E))return h(this.m()*D.m());for(var C=this.g.length+D.g.length,V=[],L=0;L<2*C;L++)V[L]=0;for(L=0;L<this.g.length;L++)for(var F=0;F<D.g.length;F++){var $=this.i(L)>>>16,N=this.i(L)&65535,se=D.i(F)>>>16,ie=D.i(F)&65535;V[2*L+2*F]+=N*ie,R(V,2*L+2*F),V[2*L+2*F+1]+=$*ie,R(V,2*L+2*F+1),V[2*L+2*F+1]+=N*se,R(V,2*L+2*F+1),V[2*L+2*F+2]+=$*se,R(V,2*L+2*F+2)}for(L=0;L<C;L++)V[L]=V[2*L+1]<<16|V[2*L];for(L=C;L<2*C;L++)V[L]=0;return new l(V,0)};function R(D,C){for(;(D[C]&65535)!=D[C];)D[C+1]+=D[C]>>>16,D[C]&=65535,C++}function M(D,C){this.g=D,this.h=C}function j(D,C){if(S(C))throw Error("division by zero");if(S(D))return new M(g,g);if(T(D))return C=j(k(D),C),new M(k(C.g),k(C.h));if(T(C))return C=j(D,k(C)),new M(k(C.g),C.h);if(30<D.g.length){if(T(D)||T(C))throw Error("slowDivide_ only works with positive integers.");for(var V=w,L=C;0>=L.l(D);)V=B(V),L=B(L);var F=K(V,1),$=K(L,1);for(L=K(L,2),V=K(V,2);!S(L);){var N=$.add(L);0>=N.l(D)&&(F=F.add(V),$=N),L=K(L,1),V=K(V,1)}return C=P(D,F.j(C)),new M(F,C)}for(F=g;0<=D.l(C);){for(V=Math.max(1,Math.floor(D.m()/C.m())),L=Math.ceil(Math.log(V)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),$=h(V),N=$.j(C);T(N)||0<N.l(D);)V-=L,$=h(V),N=$.j(C);S($)&&($=w),F=F.add($),D=P(D,N)}return new M(F,D)}t.A=function(D){return j(this,D).h},t.and=function(D){for(var C=Math.max(this.g.length,D.g.length),V=[],L=0;L<C;L++)V[L]=this.i(L)&D.i(L);return new l(V,this.h&D.h)},t.or=function(D){for(var C=Math.max(this.g.length,D.g.length),V=[],L=0;L<C;L++)V[L]=this.i(L)|D.i(L);return new l(V,this.h|D.h)},t.xor=function(D){for(var C=Math.max(this.g.length,D.g.length),V=[],L=0;L<C;L++)V[L]=this.i(L)^D.i(L);return new l(V,this.h^D.h)};function B(D){for(var C=D.g.length+1,V=[],L=0;L<C;L++)V[L]=D.i(L)<<1|D.i(L-1)>>>31;return new l(V,D.h)}function K(D,C){var V=C>>5;C%=32;for(var L=D.g.length-V,F=[],$=0;$<L;$++)F[$]=0<C?D.i($+V)>>>C|D.i($+V+1)<<32-C:D.i($+V);return new l(F,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Fk=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=m,To=l}).apply(typeof gE<"u"?gE:typeof self<"u"?self:typeof window<"u"?window:{});var tf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Uk,Su,Bk,Cf,tv,$k,zk,Wk;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,_,I){return f==Array.prototype||f==Object.prototype||(f[_]=I.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof tf=="object"&&tf];for(var _=0;_<f.length;++_){var I=f[_];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=n(this);function s(f,_){if(_)e:{var I=r;f=f.split(".");for(var O=0;O<f.length-1;O++){var G=f[O];if(!(G in I))break e;I=I[G]}f=f[f.length-1],O=I[f],_=_(O),_!=O&&_!=null&&e(I,f,{configurable:!0,writable:!0,value:_})}}function o(f,_){f instanceof String&&(f+="");var I=0,O=!1,G={next:function(){if(!O&&I<f.length){var Z=I++;return{value:_(Z,f[Z]),done:!1}}return O=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}s("Array.prototype.values",function(f){return f||function(){return o(this,function(_,I){return I})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(f){var _=typeof f;return _=_!="object"?_:f?Array.isArray(f)?"array":_:"null",_=="array"||_=="object"&&typeof f.length=="number"}function h(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function m(f,_,I){return f.call.apply(f.bind,arguments)}function g(f,_,I){if(!f)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,O),f.apply(_,G)}}return function(){return f.apply(_,arguments)}}function w(f,_,I){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:g,w.apply(null,arguments)}function E(f,_){var I=Array.prototype.slice.call(arguments,1);return function(){var O=I.slice();return O.push.apply(O,arguments),f.apply(this,O)}}function S(f,_){function I(){}I.prototype=_.prototype,f.aa=_.prototype,f.prototype=new I,f.prototype.constructor=f,f.Qb=function(O,G,Z){for(var ge=Array(arguments.length-2),at=2;at<arguments.length;at++)ge[at-2]=arguments[at];return _.prototype[G].apply(O,ge)}}function T(f){const _=f.length;if(0<_){const I=Array(_);for(let O=0;O<_;O++)I[O]=f[O];return I}return[]}function k(f,_){for(let I=1;I<arguments.length;I++){const O=arguments[I];if(d(O)){const G=f.length||0,Z=O.length||0;f.length=G+Z;for(let ge=0;ge<Z;ge++)f[G+ge]=O[ge]}else f.push(O)}}class P{constructor(_,I){this.i=_,this.j=I,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function R(f){return/^[\s\xa0]*$/.test(f)}function M(){var f=c.navigator;return f&&(f=f.userAgent)?f:""}function j(f){return j[" "](f),f}j[" "]=function(){};var B=M().indexOf("Gecko")!=-1&&!(M().toLowerCase().indexOf("webkit")!=-1&&M().indexOf("Edge")==-1)&&!(M().indexOf("Trident")!=-1||M().indexOf("MSIE")!=-1)&&M().indexOf("Edge")==-1;function K(f,_,I){for(const O in f)_.call(I,f[O],O,f)}function D(f,_){for(const I in f)_.call(void 0,f[I],I,f)}function C(f){const _={};for(const I in f)_[I]=f[I];return _}const V="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(f,_){let I,O;for(let G=1;G<arguments.length;G++){O=arguments[G];for(I in O)f[I]=O[I];for(let Z=0;Z<V.length;Z++)I=V[Z],Object.prototype.hasOwnProperty.call(O,I)&&(f[I]=O[I])}}function F(f){var _=1;f=f.split(":");const I=[];for(;0<_&&f.length;)I.push(f.shift()),_--;return f.length&&I.push(f.join(":")),I}function $(f){c.setTimeout(()=>{throw f},0)}function N(){var f=oe;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class se{constructor(){this.h=this.g=null}add(_,I){const O=ie.get();O.set(_,I),this.h?this.h.next=O:this.g=O,this.h=O}}var ie=new P(()=>new ee,f=>f.reset());class ee{constructor(){this.next=this.g=this.h=null}set(_,I){this.h=_,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let te,z=!1,oe=new se,le=()=>{const f=c.Promise.resolve(void 0);te=()=>{f.then(W)}};var W=()=>{for(var f;f=N();){try{f.h.call(f.g)}catch(I){$(I)}var _=ie;_.j(f),100>_.h&&(_.h++,f.next=_.g,_.g=f)}z=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ne(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}ne.prototype.h=function(){this.defaultPrevented=!0};var fe=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const I=()=>{};c.addEventListener("test",I,_),c.removeEventListener("test",I,_)}catch{}return f}();function Ee(f,_){if(ne.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var I=this.type=f.type,O=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget){if(B){e:{try{j(_.nodeName);var G=!0;break e}catch{}G=!1}G||(_=null)}}else I=="mouseover"?_=f.fromElement:I=="mouseout"&&(_=f.toElement);this.relatedTarget=_,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:we[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Ee.aa.h.call(this)}}S(Ee,ne);var we={2:"touch",3:"pen",4:"mouse"};Ee.prototype.h=function(){Ee.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ue="closure_listenable_"+(1e6*Math.random()|0),xe=0;function Re(f,_,I,O,G){this.listener=f,this.proxy=null,this.src=_,this.type=I,this.capture=!!O,this.ha=G,this.key=++xe,this.da=this.fa=!1}function Pe(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Ue(f){this.src=f,this.g={},this.h=0}Ue.prototype.add=function(f,_,I,O,G){var Z=f.toString();f=this.g[Z],f||(f=this.g[Z]=[],this.h++);var ge=vt(f,_,O,G);return-1<ge?(_=f[ge],I||(_.fa=!1)):(_=new Re(_,this.src,Z,!!O,G),_.fa=I,f.push(_)),_};function $e(f,_){var I=_.type;if(I in f.g){var O=f.g[I],G=Array.prototype.indexOf.call(O,_,void 0),Z;(Z=0<=G)&&Array.prototype.splice.call(O,G,1),Z&&(Pe(_),f.g[I].length==0&&(delete f.g[I],f.h--))}}function vt(f,_,I,O){for(var G=0;G<f.length;++G){var Z=f[G];if(!Z.da&&Z.listener==_&&Z.capture==!!I&&Z.ha==O)return G}return-1}var Dt="closure_lm_"+(1e6*Math.random()|0),Wn={};function Hn(f,_,I,O,G){if(Array.isArray(_)){for(var Z=0;Z<_.length;Z++)Hn(f,_[Z],I,O,G);return null}return I=qo(I),f&&f[ue]?f.K(_,I,h(O)?!!O.capture:!1,G):pn(f,_,I,!1,O,G)}function pn(f,_,I,O,G,Z){if(!_)throw Error("Invalid event type");var ge=h(G)?!!G.capture:!!G,at=cr(f);if(at||(f[Dt]=at=new Ue(f)),I=at.add(_,I,O,ge,Z),I.proxy)return I;if(O=ei(),I.proxy=O,O.src=f,O.listener=I,f.addEventListener)fe||(G=ge),G===void 0&&(G=!1),f.addEventListener(_.toString(),O,G);else if(f.attachEvent)f.attachEvent(Br(_.toString()),O);else if(f.addListener&&f.removeListener)f.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return I}function ei(){function f(I){return _.call(f.src,f.listener,I)}const _=Jt;return f}function Ft(f,_,I,O,G){if(Array.isArray(_))for(var Z=0;Z<_.length;Z++)Ft(f,_[Z],I,O,G);else O=h(O)?!!O.capture:!!O,I=qo(I),f&&f[ue]?(f=f.i,_=String(_).toString(),_ in f.g&&(Z=f.g[_],I=vt(Z,I,O,G),-1<I&&(Pe(Z[I]),Array.prototype.splice.call(Z,I,1),Z.length==0&&(delete f.g[_],f.h--)))):f&&(f=cr(f))&&(_=f.g[_.toString()],f=-1,_&&(f=vt(_,I,O,G)),(I=-1<f?_[f]:null)&&Ur(I))}function Ur(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[ue])$e(_.i,f);else{var I=f.type,O=f.proxy;_.removeEventListener?_.removeEventListener(I,O,f.capture):_.detachEvent?_.detachEvent(Br(I),O):_.addListener&&_.removeListener&&_.removeListener(O),(I=cr(_))?($e(I,f),I.h==0&&(I.src=null,_[Dt]=null)):Pe(f)}}}function Br(f){return f in Wn?Wn[f]:Wn[f]="on"+f}function Jt(f,_){if(f.da)f=!0;else{_=new Ee(_,this);var I=f.listener,O=f.ha||f.src;f.fa&&Ur(f),f=I.call(O,_)}return f}function cr(f){return f=f[Dt],f instanceof Ue?f:null}var Vi="__closure_events_fn_"+(1e9*Math.random()>>>0);function qo(f){return typeof f=="function"?f:(f[Vi]||(f[Vi]=function(_){return f.handleEvent(_)}),f[Vi])}function wt(){X.call(this),this.i=new Ue(this),this.M=this,this.F=null}S(wt,X),wt.prototype[ue]=!0,wt.prototype.removeEventListener=function(f,_,I,O){Ft(this,f,_,I,O)};function Ut(f,_){var I,O=f.F;if(O)for(I=[];O;O=O.F)I.push(O);if(f=f.M,O=_.type||_,typeof _=="string")_=new ne(_,f);else if(_ instanceof ne)_.target=_.target||f;else{var G=_;_=new ne(O,f),L(_,G)}if(G=!0,I)for(var Z=I.length-1;0<=Z;Z--){var ge=_.g=I[Z];G=Tr(ge,O,!0,_)&&G}if(ge=_.g=f,G=Tr(ge,O,!0,_)&&G,G=Tr(ge,O,!1,_)&&G,I)for(Z=0;Z<I.length;Z++)ge=_.g=I[Z],G=Tr(ge,O,!1,_)&&G}wt.prototype.N=function(){if(wt.aa.N.call(this),this.i){var f=this.i,_;for(_ in f.g){for(var I=f.g[_],O=0;O<I.length;O++)Pe(I[O]);delete f.g[_],f.h--}}this.F=null},wt.prototype.K=function(f,_,I,O){return this.i.add(String(f),_,!1,I,O)},wt.prototype.L=function(f,_,I,O){return this.i.add(String(f),_,!0,I,O)};function Tr(f,_,I,O){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();for(var G=!0,Z=0;Z<_.length;++Z){var ge=_[Z];if(ge&&!ge.da&&ge.capture==I){var at=ge.listener,tn=ge.ha||ge.src;ge.fa&&$e(f.i,ge),G=at.call(tn,O)!==!1&&G}}return G&&!O.defaultPrevented}function ti(f,_,I){if(typeof f=="function")I&&(f=w(f,I));else if(f&&typeof f.handleEvent=="function")f=w(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:c.setTimeout(f,_||0)}function Mn(f){f.g=ti(()=>{f.g=null,f.i&&(f.i=!1,Mn(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class gs extends X{constructor(_,I){super(),this.m=_,this.l=I,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Mn(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qn(f){X.call(this),this.h=f,this.g={}}S(qn,X);var Ko=[];function Go(f){K(f.g,function(_,I){this.g.hasOwnProperty(I)&&Ur(_)},f),f.g={}}qn.prototype.N=function(){qn.aa.N.call(this),Go(this)},qn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Li=c.JSON.stringify,ji=c.JSON.parse,Yo=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function $r(){}$r.prototype.h=null;function On(f){return f.h||(f.h=f.i())}function Fi(){}var Kn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ur(){ne.call(this,"d")}S(ur,ne);function ni(){ne.call(this,"c")}S(ni,ne);var Ne={},_t=null;function xt(){return _t=_t||new wt}Ne.La="serverreachability";function Zt(f){ne.call(this,Ne.La,f)}S(Zt,ne);function Gn(f){const _=xt();Ut(_,new Zt(_))}Ne.STAT_EVENT="statevent";function St(f,_){ne.call(this,Ne.STAT_EVENT,f),this.stat=_}S(St,ne);function Qe(f){const _=xt();Ut(_,new St(_,f))}Ne.Ma="timingevent";function zr(f,_){ne.call(this,Ne.Ma,f),this.size=_}S(zr,ne);function kt(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},_)}function en(){this.g=!0}en.prototype.xa=function(){this.g=!1};function ys(f,_,I,O,G,Z){f.info(function(){if(f.g)if(Z)for(var ge="",at=Z.split("&"),tn=0;tn<at.length;tn++){var Xe=at[tn].split("=");if(1<Xe.length){var an=Xe[0];Xe=Xe[1];var Ht=an.split("_");ge=2<=Ht.length&&Ht[1]=="type"?ge+(an+"="+Xe+"&"):ge+(an+"=redacted&")}}else ge=null;else ge=Z;return"XMLHTTP REQ ("+O+") [attempt "+G+"]: "+_+`
`+I+`
`+ge})}function Yn(f,_,I,O,G,Z,ge){f.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+G+"]: "+_+`
`+I+`
`+Z+" "+ge})}function Sr(f,_,I,O){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+gm(f,I)+(O?" "+O:"")})}function Oc(f,_){f.info(function(){return"TIMEOUT: "+_})}en.prototype.info=function(){};function gm(f,_){if(!f.g)return _;if(!_)return null;try{var I=JSON.parse(_);if(I){for(f=0;f<I.length;f++)if(Array.isArray(I[f])){var O=I[f];if(!(2>O.length)){var G=O[1];if(Array.isArray(G)&&!(1>G.length)){var Z=G[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var ge=1;ge<G.length;ge++)G[ge]=""}}}}return Li(I)}catch{return _}}var Qa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},jd={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Wr;function Qo(){}S(Qo,$r),Qo.prototype.g=function(){return new XMLHttpRequest},Qo.prototype.i=function(){return{}},Wr=new Qo;function Hr(f,_,I,O){this.j=f,this.i=_,this.l=I,this.R=O||1,this.U=new qn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Fd}function Fd(){this.i=null,this.g="",this.h=!1}var Vc={},Xa={};function Ja(f,_,I){f.L=1,f.v=Wi(hr(_)),f.m=I,f.P=!0,Lc(f,null)}function Lc(f,_){f.F=Date.now(),dt(f),f.A=hr(f.v);var I=f.A,O=f.R;Array.isArray(O)||(O=[String(O)]),qi(I.i,"t",O),f.C=0,I=f.j.J,f.h=new Fd,f.g=rh(f.j,I?_:null,!f.m),0<f.O&&(f.M=new gs(w(f.Y,f,f.g),f.O)),_=f.U,I=f.g,O=f.ca;var G="readystatechange";Array.isArray(G)||(G&&(Ko[0]=G.toString()),G=Ko);for(var Z=0;Z<G.length;Z++){var ge=Hn(I,G[Z],O||_.handleEvent,!1,_.h||_);if(!ge)break;_.g[ge.key]=ge}_=f.H?C(f.H):{},f.m?(f.u||(f.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,_)):(f.u="GET",f.g.ea(f.A,f.u,null,_)),Gn(),ys(f.i,f.u,f.A,f.l,f.R,f.m)}Hr.prototype.ca=function(f){f=f.target;const _=this.M;_&&Xn(f)==3?_.j():this.Y(f)},Hr.prototype.Y=function(f){try{if(f==this.g)e:{const Ht=Xn(this.g);var _=this.g.Ba();const Cr=this.g.Z();if(!(3>Ht)&&(Ht!=3||this.g&&(this.h.h||this.g.oa()||zc(this.g)))){this.J||Ht!=4||_==7||(_==8||0>=Cr?Gn(3):Gn(2)),Xo(this);var I=this.g.Z();this.X=I;t:if(Ud(this)){var O=zc(this.g);f="";var G=O.length,Z=Xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){kr(this),Ui(this);var ge="";break t}this.h.i=new c.TextDecoder}for(_=0;_<G;_++)this.h.h=!0,f+=this.h.i.decode(O[_],{stream:!(Z&&_==G-1)});O.length=0,this.h.g+=f,this.C=0,ge=this.h.g}else ge=this.g.oa();if(this.o=I==200,Yn(this.i,this.u,this.A,this.l,this.R,Ht,I),this.o){if(this.T&&!this.K){t:{if(this.g){var at,tn=this.g;if((at=tn.g?tn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(at)){var Xe=at;break t}}Xe=null}if(I=Xe)Sr(this.i,this.l,I,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,jc(this,I);else{this.o=!1,this.s=3,Qe(12),kr(this),Ui(this);break e}}if(this.P){I=!0;let pr;for(;!this.J&&this.C<ge.length;)if(pr=ym(this,ge),pr==Xa){Ht==4&&(this.s=4,Qe(14),I=!1),Sr(this.i,this.l,null,"[Incomplete Response]");break}else if(pr==Vc){this.s=4,Qe(15),Sr(this.i,this.l,ge,"[Invalid Chunk]"),I=!1;break}else Sr(this.i,this.l,pr,null),jc(this,pr);if(Ud(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ht!=4||ge.length!=0||this.h.h||(this.s=1,Qe(16),I=!1),this.o=this.o&&I,!I)Sr(this.i,this.l,ge,"[Invalid Chunked Response]"),kr(this),Ui(this);else if(0<ge.length&&!this.W){this.W=!0;var an=this.j;an.g==this&&an.ba&&!an.M&&(an.j.info("Great, no buffering proxy detected. Bytes received: "+ge.length),Hc(an),an.M=!0,Qe(11))}}else Sr(this.i,this.l,ge,null),jc(this,ge);Ht==4&&kr(this),this.o&&!this.J&&(Ht==4?cl(this.j,this):(this.o=!1,dt(this)))}else sl(this.g),I==400&&0<ge.indexOf("Unknown SID")?(this.s=3,Qe(12)):(this.s=0,Qe(13)),kr(this),Ui(this)}}}catch{}finally{}};function Ud(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function ym(f,_){var I=f.C,O=_.indexOf(`
`,I);return O==-1?Xa:(I=Number(_.substring(I,O)),isNaN(I)?Vc:(O+=1,O+I>_.length?Xa:(_=_.slice(O,O+I),f.C=O+I,_)))}Hr.prototype.cancel=function(){this.J=!0,kr(this)};function dt(f){f.S=Date.now()+f.I,Bd(f,f.I)}function Bd(f,_){if(f.B!=null)throw Error("WatchDog timer not null");f.B=kt(w(f.ba,f),_)}function Xo(f){f.B&&(c.clearTimeout(f.B),f.B=null)}Hr.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Oc(this.i,this.A),this.L!=2&&(Gn(),Qe(17)),kr(this),this.s=2,Ui(this)):Bd(this,this.S-f)};function Ui(f){f.j.G==0||f.J||cl(f.j,f)}function kr(f){Xo(f);var _=f.M;_&&typeof _.ma=="function"&&_.ma(),f.M=null,Go(f.U),f.g&&(_=f.g,f.g=null,_.abort(),_.ma())}function jc(f,_){try{var I=f.j;if(I.G!=0&&(I.g==f||Vn(I.h,f))){if(!f.K&&Vn(I.h,f)&&I.G==3){try{var O=I.Da.g.parse(_)}catch{O=null}if(Array.isArray(O)&&O.length==3){var G=O;if(G[0]==0){e:if(!I.u){if(I.g)if(I.g.F+3e3<f.F)ll(I),Qr(I);else break e;al(I),Qe(18)}}else I.za=G[1],0<I.za-I.T&&37500>G[2]&&I.F&&I.v==0&&!I.C&&(I.C=kt(w(I.Za,I),6e3));if(1>=zd(I.h)&&I.ca){try{I.ca()}catch{}I.ca=void 0}}else ai(I,11)}else if((f.K||I.g==f)&&ll(I),!R(_))for(G=I.Da.g.parse(_),_=0;_<G.length;_++){let Xe=G[_];if(I.T=Xe[0],Xe=Xe[1],I.G==2)if(Xe[0]=="c"){I.K=Xe[1],I.ia=Xe[2];const an=Xe[3];an!=null&&(I.la=an,I.j.info("VER="+I.la));const Ht=Xe[4];Ht!=null&&(I.Aa=Ht,I.j.info("SVER="+I.Aa));const Cr=Xe[5];Cr!=null&&typeof Cr=="number"&&0<Cr&&(O=1.5*Cr,I.L=O,I.j.info("backChannelRequestTimeoutMs_="+O)),O=I;const pr=f.g;if(pr){const sa=pr.g?pr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(sa){var Z=O.h;Z.g||sa.indexOf("spdy")==-1&&sa.indexOf("quic")==-1&&sa.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(Fc(Z,Z.h),Z.h=null))}if(O.D){const dl=pr.g?pr.g.getResponseHeader("X-HTTP-Session-Id"):null;dl&&(O.ya=dl,ut(O.I,O.D,dl))}}I.G=3,I.l&&I.l.ua(),I.ba&&(I.R=Date.now()-f.F,I.j.info("Handshake RTT: "+I.R+"ms")),O=I;var ge=f;if(O.qa=nh(O,O.J?O.ia:null,O.W),ge.K){Wd(O.h,ge);var at=ge,tn=O.L;tn&&(at.I=tn),at.B&&(Xo(at),dt(at)),O.g=ge}else ra(O);0<I.i.length&&xs(I)}else Xe[0]!="stop"&&Xe[0]!="close"||ai(I,7);else I.G==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?ai(I,7):gn(I):Xe[0]!="noop"&&I.l&&I.l.ta(Xe),I.v=0)}}Gn(4)}catch{}}var $d=class{constructor(f,_){this.g=f,this.map=_}};function Jo(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function dr(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function zd(f){return f.h?1:f.g?f.g.size:0}function Vn(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function Fc(f,_){f.g?f.g.add(_):f.h=_}function Wd(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}Jo.prototype.cancel=function(){if(this.i=Hd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Hd(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const I of f.g.values())_=_.concat(I.D);return _}return T(f.i)}function Za(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(d(f)){for(var _=[],I=f.length,O=0;O<I;O++)_.push(f[O]);return _}_=[],I=0;for(O in f)_[I++]=f[O];return _}function el(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(d(f)||typeof f=="string"){var _=[];f=f.length;for(var I=0;I<f;I++)_.push(I);return _}_=[],I=0;for(const O in f)_[I++]=O;return _}}}function Bi(f,_){if(f.forEach&&typeof f.forEach=="function")f.forEach(_,void 0);else if(d(f)||typeof f=="string")Array.prototype.forEach.call(f,_,void 0);else for(var I=el(f),O=Za(f),G=O.length,Z=0;Z<G;Z++)_.call(void 0,O[Z],I&&I[Z],f)}var Zo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vm(f,_){if(f){f=f.split("&");for(var I=0;I<f.length;I++){var O=f[I].indexOf("="),G=null;if(0<=O){var Z=f[I].substring(0,O);G=f[I].substring(O+1)}else Z=f[I];_(Z,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function ri(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof ri){this.h=f.h,ea(this,f.j),this.o=f.o,this.g=f.g,$i(this,f.s),this.l=f.l;var _=f.i,I=new vs;I.i=_.i,_.g&&(I.g=new Map(_.g),I.h=_.h),zi(this,I),this.m=f.m}else f&&(_=String(f).match(Zo))?(this.h=!1,ea(this,_[1]||"",!0),this.o=Ye(_[2]||""),this.g=Ye(_[3]||"",!0),$i(this,_[4]),this.l=Ye(_[5]||"",!0),zi(this,_[6]||"",!0),this.m=Ye(_[7]||"")):(this.h=!1,this.i=new vs(null,this.h))}ri.prototype.toString=function(){var f=[],_=this.j;_&&f.push(Hi(_,tl,!0),":");var I=this.g;return(I||_=="file")&&(f.push("//"),(_=this.o)&&f.push(Hi(_,tl,!0),"@"),f.push(encodeURIComponent(String(I)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.s,I!=null&&f.push(":",String(I))),(I=this.l)&&(this.g&&I.charAt(0)!="/"&&f.push("/"),f.push(Hi(I,I.charAt(0)=="/"?Gd:Kd,!0))),(I=this.i.toString())&&f.push("?",I),(I=this.m)&&f.push("#",Hi(I,Uc)),f.join("")};function hr(f){return new ri(f)}function ea(f,_,I){f.j=I?Ye(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function $i(f,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);f.s=_}else f.s=null}function zi(f,_,I){_ instanceof vs?(f.i=_,ws(f.i,f.h)):(I||(_=Hi(_,Yd)),f.i=new vs(_,f.h))}function ut(f,_,I){f.i.set(_,I)}function Wi(f){return ut(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Ye(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Hi(f,_,I){return typeof f=="string"?(f=encodeURI(f).replace(_,qd),I&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function qd(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var tl=/[#\/\?@]/g,Kd=/[#\?:]/g,Gd=/[#\?]/g,Yd=/[#\?@]/g,Uc=/#/g;function vs(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function mn(f){f.g||(f.g=new Map,f.h=0,f.i&&vm(f.i,function(_,I){f.add(decodeURIComponent(_.replace(/\+/g," ")),I)}))}t=vs.prototype,t.add=function(f,_){mn(this),this.i=null,f=Ir(this,f);var I=this.g.get(f);return I||this.g.set(f,I=[]),I.push(_),this.h+=1,this};function qr(f,_){mn(f),_=Ir(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function Kr(f,_){return mn(f),_=Ir(f,_),f.g.has(_)}t.forEach=function(f,_){mn(this),this.g.forEach(function(I,O){I.forEach(function(G){f.call(_,G,O,this)},this)},this)},t.na=function(){mn(this);const f=Array.from(this.g.values()),_=Array.from(this.g.keys()),I=[];for(let O=0;O<_.length;O++){const G=f[O];for(let Z=0;Z<G.length;Z++)I.push(_[O])}return I},t.V=function(f){mn(this);let _=[];if(typeof f=="string")Kr(this,f)&&(_=_.concat(this.g.get(Ir(this,f))));else{f=Array.from(this.g.values());for(let I=0;I<f.length;I++)_=_.concat(f[I])}return _},t.set=function(f,_){return mn(this),this.i=null,f=Ir(this,f),Kr(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},t.get=function(f,_){return f?(f=this.V(f),0<f.length?String(f[0]):_):_};function qi(f,_,I){qr(f,_),0<I.length&&(f.i=null,f.g.set(Ir(f,_),T(I)),f.h+=I.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(var I=0;I<_.length;I++){var O=_[I];const Z=encodeURIComponent(String(O)),ge=this.V(O);for(O=0;O<ge.length;O++){var G=Z;ge[O]!==""&&(G+="="+encodeURIComponent(String(ge[O]))),f.push(G)}}return this.i=f.join("&")};function Ir(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function ws(f,_){_&&!f.j&&(mn(f),f.i=null,f.g.forEach(function(I,O){var G=O.toLowerCase();O!=G&&(qr(this,O),qi(this,G,I))},f)),f.j=_}function wm(f,_){const I=new en;if(c.Image){const O=new Image;O.onload=E(Qn,I,"TestLoadImage: loaded",!0,_,O),O.onerror=E(Qn,I,"TestLoadImage: error",!1,_,O),O.onabort=E(Qn,I,"TestLoadImage: abort",!1,_,O),O.ontimeout=E(Qn,I,"TestLoadImage: timeout",!1,_,O),c.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=f}else _(!1)}function Qd(f,_){const I=new en,O=new AbortController,G=setTimeout(()=>{O.abort(),Qn(I,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:O.signal}).then(Z=>{clearTimeout(G),Z.ok?Qn(I,"TestPingServer: ok",!0,_):Qn(I,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(G),Qn(I,"TestPingServer: error",!1,_)})}function Qn(f,_,I,O,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),O(I)}catch{}}function _m(){this.g=new Yo}function Xd(f,_,I){const O=I||"";try{Bi(f,function(G,Z){let ge=G;h(G)&&(ge=Li(G)),_.push(O+Z+"="+encodeURIComponent(ge))})}catch(G){throw _.push(O+"type="+encodeURIComponent("_badmap")),G}}function si(f){this.l=f.Ub||null,this.j=f.eb||!1}S(si,$r),si.prototype.g=function(){return new ta(this.l,this.j)},si.prototype.i=function(f){return function(){return f}}({});function ta(f,_){wt.call(this),this.D=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(ta,wt),t=ta.prototype,t.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=_,this.readyState=1,Yr(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(_.body=f),(this.D||c).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Gr(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Yr(this)),this.g&&(this.readyState=3,Yr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Jd(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Jd(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?Gr(this):Yr(this),this.readyState==3&&Jd(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,Gr(this))},t.Qa=function(f){this.g&&(this.response=f,Gr(this))},t.ga=function(){this.g&&Gr(this)};function Gr(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Yr(f)}t.setRequestHeader=function(f,_){this.u.append(f,_)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var I=_.next();!I.done;)I=I.value,f.push(I[0]+": "+I[1]),I=_.next();return f.join(`\r
`)};function Yr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(ta.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function ii(f){let _="";return K(f,function(I,O){_+=O,_+=":",_+=I,_+=`\r
`}),_}function Ki(f,_,I){e:{for(O in I){var O=!1;break e}O=!0}O||(I=ii(I),typeof f=="string"?I!=null&&encodeURIComponent(String(I)):ut(f,_,I))}function bt(f){wt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(bt,wt);var xm=/^https?$/i,Bc=["POST","PUT"];t=bt.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,_,I,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Wr.g(),this.v=this.o?On(this.o):On(Wr),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch(Z){na(this,Z);return}if(f=I||"",I=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var G in O)I.set(G,O[G]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const Z of O.keys())I.set(Z,O.get(Z));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(I.keys()).find(Z=>Z.toLowerCase()=="content-type"),G=c.FormData&&f instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Bc,_,void 0))||O||G||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,ge]of I)this.g.setRequestHeader(Z,ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{rl(this),this.u=!0,this.g.send(f),this.u=!1}catch(Z){na(this,Z)}};function na(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.m=5,nl(f),fr(f)}function nl(f){f.A||(f.A=!0,Ut(f,"complete"),Ut(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Ut(this,"complete"),Ut(this,"abort"),fr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fr(this,!0)),bt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?$c(this):this.bb())},t.bb=function(){$c(this)};function $c(f){if(f.h&&typeof l<"u"&&(!f.v[1]||Xn(f)!=4||f.Z()!=2)){if(f.u&&Xn(f)==4)ti(f.Ea,0,f);else if(Ut(f,"readystatechange"),Xn(f)==4){f.h=!1;try{const ge=f.Z();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var I;if(!(I=_)){var O;if(O=ge===0){var G=String(f.D).match(Zo)[1]||null;!G&&c.self&&c.self.location&&(G=c.self.location.protocol.slice(0,-1)),O=!xm.test(G?G.toLowerCase():"")}I=O}if(I)Ut(f,"complete"),Ut(f,"success");else{f.m=6;try{var Z=2<Xn(f)?f.g.statusText:""}catch{Z=""}f.l=Z+" ["+f.Z()+"]",nl(f)}}finally{fr(f)}}}}function fr(f,_){if(f.g){rl(f);const I=f.g,O=f.v[0]?()=>{}:null;f.g=null,f.v=null,_||Ut(f,"ready");try{I.onreadystatechange=O}catch{}}}function rl(f){f.I&&(c.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function Xn(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<Xn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),ji(_)}};function zc(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function sl(f){const _={};f=(f.g&&2<=Xn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<f.length;O++){if(R(f[O]))continue;var I=F(f[O]);const G=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const Z=_[G]||[];_[G]=Z,Z.push(I)}D(_,function(O){return O.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function _s(f,_,I){return I&&I.internalChannelParams&&I.internalChannelParams[f]||_}function Wc(f){this.Aa=0,this.i=[],this.j=new en,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=_s("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=_s("baseRetryDelayMs",5e3,f),this.cb=_s("retryDelaySeedMs",1e4,f),this.Wa=_s("forwardChannelMaxRetries",2,f),this.wa=_s("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Jo(f&&f.concurrentRequestLimit),this.Da=new _m,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Wc.prototype,t.la=8,t.G=1,t.connect=function(f,_,I,O){Qe(0),this.W=f,this.H=_||{},I&&O!==void 0&&(this.H.OSID=I,this.H.OAID=O),this.F=this.X,this.I=nh(this,null,this.W),xs(this)};function gn(f){if(il(f),f.G==3){var _=f.U++,I=hr(f.I);if(ut(I,"SID",f.K),ut(I,"RID",_),ut(I,"TYPE","terminate"),oi(f,I),_=new Hr(f,f.j,_),_.L=2,_.v=Wi(hr(I)),I=!1,c.navigator&&c.navigator.sendBeacon)try{I=c.navigator.sendBeacon(_.v.toString(),"")}catch{}!I&&c.Image&&(new Image().src=_.v,I=!0),I||(_.g=rh(_.j,null),_.g.ea(_.v)),_.F=Date.now(),dt(_)}th(f)}function Qr(f){f.g&&(Hc(f),f.g.cancel(),f.g=null)}function il(f){Qr(f),f.u&&(c.clearTimeout(f.u),f.u=null),ll(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&c.clearTimeout(f.s),f.s=null)}function xs(f){if(!dr(f.h)&&!f.s){f.s=!0;var _=f.Ga;te||le(),z||(te(),z=!0),oe.add(_,f),f.B=0}}function bm(f,_){return zd(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=_.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=kt(w(f.Ga,f,_),eh(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const G=new Hr(this,this.j,f);let Z=this.o;if(this.S&&(Z?(Z=C(Z),L(Z,this.S)):Z=this.S),this.m!==null||this.O||(G.H=Z,Z=null),this.P)e:{for(var _=0,I=0;I<this.i.length;I++){t:{var O=this.i[I];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(_+=O,4096<_){_=I;break e}if(_===4096||I===this.i.length-1){_=I+1;break e}}_=1e3}else _=1e3;_=Gi(this,G,_),I=hr(this.I),ut(I,"RID",f),ut(I,"CVER",22),this.D&&ut(I,"X-HTTP-Session-Id",this.D),oi(this,I),Z&&(this.O?_="headers="+encodeURIComponent(String(ii(Z)))+"&"+_:this.m&&Ki(I,this.m,Z)),Fc(this.h,G),this.Ua&&ut(I,"TYPE","init"),this.P?(ut(I,"$req",_),ut(I,"SID","null"),G.T=!0,Ja(G,I,null)):Ja(G,I,_),this.G=2}}else this.G==3&&(f?ol(this,f):this.i.length==0||dr(this.h)||ol(this))};function ol(f,_){var I;_?I=_.l:I=f.U++;const O=hr(f.I);ut(O,"SID",f.K),ut(O,"RID",I),ut(O,"AID",f.T),oi(f,O),f.m&&f.o&&Ki(O,f.m,f.o),I=new Hr(f,f.j,I,f.B+1),f.m===null&&(I.H=f.o),_&&(f.i=_.D.concat(f.i)),_=Gi(f,I,1e3),I.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Fc(f.h,I),Ja(I,O,_)}function oi(f,_){f.H&&K(f.H,function(I,O){ut(_,O,I)}),f.l&&Bi({},function(I,O){ut(_,O,I)})}function Gi(f,_,I){I=Math.min(f.i.length,I);var O=f.l?w(f.l.Na,f.l,f):null;e:{var G=f.i;let Z=-1;for(;;){const ge=["count="+I];Z==-1?0<I?(Z=G[0].g,ge.push("ofs="+Z)):Z=0:ge.push("ofs="+Z);let at=!0;for(let tn=0;tn<I;tn++){let Xe=G[tn].g;const an=G[tn].map;if(Xe-=Z,0>Xe)Z=Math.max(0,G[tn].g-100),at=!1;else try{Xd(an,ge,"req"+Xe+"_")}catch{O&&O(an)}}if(at){O=ge.join("&");break e}}}return f=f.i.splice(0,I),_.D=f,O}function ra(f){if(!f.g&&!f.u){f.Y=1;var _=f.Fa;te||le(),z||(te(),z=!0),oe.add(_,f),f.v=0}}function al(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=kt(w(f.Fa,f),eh(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,Zd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=kt(w(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Qe(10),Qr(this),Zd(this))};function Hc(f){f.A!=null&&(c.clearTimeout(f.A),f.A=null)}function Zd(f){f.g=new Hr(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var _=hr(f.qa);ut(_,"RID","rpc"),ut(_,"SID",f.K),ut(_,"AID",f.T),ut(_,"CI",f.F?"0":"1"),!f.F&&f.ja&&ut(_,"TO",f.ja),ut(_,"TYPE","xmlhttp"),oi(f,_),f.m&&f.o&&Ki(_,f.m,f.o),f.L&&(f.g.I=f.L);var I=f.g;f=f.ia,I.L=1,I.v=Wi(hr(_)),I.m=null,I.P=!0,Lc(I,f)}t.Za=function(){this.C!=null&&(this.C=null,Qr(this),al(this),Qe(19))};function ll(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function cl(f,_){var I=null;if(f.g==_){ll(f),Hc(f),f.g=null;var O=2}else if(Vn(f.h,_))I=_.D,Wd(f.h,_),O=1;else return;if(f.G!=0){if(_.o)if(O==1){I=_.m?_.m.length:0,_=Date.now()-_.F;var G=f.B;O=xt(),Ut(O,new zr(O,I)),xs(f)}else ra(f);else if(G=_.s,G==3||G==0&&0<_.X||!(O==1&&bm(f,_)||O==2&&al(f)))switch(I&&0<I.length&&(_=f.h,_.i=_.i.concat(I)),G){case 1:ai(f,5);break;case 4:ai(f,10);break;case 3:ai(f,6);break;default:ai(f,2)}}}function eh(f,_){let I=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(I*=2),I*_}function ai(f,_){if(f.j.info("Error code "+_),_==2){var I=w(f.fb,f),O=f.Xa;const G=!O;O=new ri(O||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||ea(O,"https"),Wi(O),G?wm(O.toString(),I):Qd(O.toString(),I)}else Qe(2);f.G=0,f.l&&f.l.sa(_),th(f),il(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Qe(2)):(this.j.info("Failed to ping google.com"),Qe(1))};function th(f){if(f.G=0,f.ka=[],f.l){const _=Hd(f.h);(_.length!=0||f.i.length!=0)&&(k(f.ka,_),k(f.ka,f.i),f.h.i.length=0,T(f.i),f.i.length=0),f.l.ra()}}function nh(f,_,I){var O=I instanceof ri?hr(I):new ri(I);if(O.g!="")_&&(O.g=_+"."+O.g),$i(O,O.s);else{var G=c.location;O=G.protocol,_=_?_+"."+G.hostname:G.hostname,G=+G.port;var Z=new ri(null);O&&ea(Z,O),_&&(Z.g=_),G&&$i(Z,G),I&&(Z.l=I),O=Z}return I=f.D,_=f.ya,I&&_&&ut(O,I,_),ut(O,"VER",f.la),oi(f,O),O}function rh(f,_,I){if(_&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Ca&&!f.pa?new bt(new si({eb:I})):new bt(f.pa),_.Ha(f.J),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function qc(){}t=qc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ul(){}ul.prototype.g=function(f,_){return new Ln(f,_)};function Ln(f,_){wt.call(this),this.g=new Wc(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(f?f["X-WebChannel-Client-Profile"]=_.va:f={"X-WebChannel-Client-Profile":_.va}),this.g.S=f,(f=_&&_.Sb)&&!R(f)&&(this.g.m=f),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!R(_)&&(this.g.D=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new bs(this)}S(Ln,wt),Ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ln.prototype.close=function(){gn(this.g)},Ln.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var I={};I.__data__=f,f=I}else this.u&&(I={},I.__data__=Li(f),f=I);_.i.push(new $d(_.Ya++,f)),_.G==3&&xs(_)},Ln.prototype.N=function(){this.g.l=null,delete this.j,gn(this.g),delete this.g,Ln.aa.N.call(this)};function sh(f){ur.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){e:{for(const I in _){f=I;break e}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}S(sh,ur);function ih(){ni.call(this),this.status=1}S(ih,ni);function bs(f){this.g=f}S(bs,qc),bs.prototype.ua=function(){Ut(this.g,"a")},bs.prototype.ta=function(f){Ut(this.g,new sh(f))},bs.prototype.sa=function(f){Ut(this.g,new ih)},bs.prototype.ra=function(){Ut(this.g,"b")},ul.prototype.createWebChannel=ul.prototype.g,Ln.prototype.send=Ln.prototype.o,Ln.prototype.open=Ln.prototype.m,Ln.prototype.close=Ln.prototype.close,Wk=function(){return new ul},zk=function(){return xt()},$k=Ne,tv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Qa.NO_ERROR=0,Qa.TIMEOUT=8,Qa.HTTP_ERROR=6,Cf=Qa,jd.COMPLETE="complete",Bk=jd,Fi.EventType=Kn,Kn.OPEN="a",Kn.CLOSE="b",Kn.ERROR="c",Kn.MESSAGE="d",wt.prototype.listen=wt.prototype.K,Su=Fi,bt.prototype.listenOnce=bt.prototype.L,bt.prototype.getLastError=bt.prototype.Ka,bt.prototype.getLastErrorCode=bt.prototype.Ba,bt.prototype.getStatus=bt.prototype.Z,bt.prototype.getResponseJson=bt.prototype.Oa,bt.prototype.getResponseText=bt.prototype.oa,bt.prototype.send=bt.prototype.ea,bt.prototype.setWithCredentials=bt.prototype.Ha,Uk=bt}).apply(typeof tf<"u"?tf:typeof self<"u"?self:typeof window<"u"?window:{});const yE="@firebase/firestore",vE="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Cn.UNAUTHENTICATED=new Cn(null),Cn.GOOGLE_CREDENTIALS=new Cn("google-credentials-uid"),Cn.FIRST_PARTY=new Cn("first-party-uid"),Cn.MOCK_USER=new Cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vc="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa=new w0("@firebase/firestore");function jl(){return Oa.logLevel}function _e(t,...e){if(Oa.logLevel<=qe.DEBUG){const n=e.map(A0);Oa.debug(`Firestore (${vc}): ${t}`,...n)}}function ki(t,...e){if(Oa.logLevel<=qe.ERROR){const n=e.map(A0);Oa.error(`Firestore (${vc}): ${t}`,...n)}}function ic(t,...e){if(Oa.logLevel<=qe.WARN){const n=e.map(A0);Oa.warn(`Firestore (${vc}): ${t}`,...n)}}function A0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Hk(t,r,n)}function Hk(t,e,n){let r=`FIRESTORE (${vc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ki(r),new Error(r)}function ot(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||Hk(e,s,r)}function Be(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends Js{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class A4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Cn.UNAUTHENTICATED))}shutdown(){}}class R4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class N4{constructor(e){this.t=e,this.currentUser=Cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ot(this.o===void 0,42304);let r=this.i;const s=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let o=new bi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new bi,e.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const d=o;e.enqueueRetryable(async()=>{await d.promise,await s(this.currentUser)})},c=d=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>c(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new bi)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ot(typeof r.accessToken=="string",31837,{l:r}),new qk(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ot(e===null||typeof e=="string",2055,{h:e}),new Cn(e)}}class D4{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Cn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class M4{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new D4(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Cn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class O4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,wr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ot(this.o===void 0,3512);const r=o=>{o.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,_e("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const s=o=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new wE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ot(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new wE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=V4(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<n&&(r+=e.charAt(s[o]%62))}return r}}function Ke(t,e){return t<e?-1:t>e?1:0}function nv(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),o=e.charAt(r);if(s!==o)return sy(s)===sy(o)?Ke(s,o):sy(s)?1:-1}return Ke(t.length,e.length)}const L4=55296,j4=57343;function sy(t){const e=t.charCodeAt(0);return e>=L4&&e<=j4}function oc(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E="__name__";class Ps{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ve(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ve(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ps.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ps?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const o=Ps.compareSegments(e.get(s),n.get(s));if(o!==0)return o}return Ke(e.length,n.length)}static compareSegments(e,n){const r=Ps.isNumericId(e),s=Ps.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Ps.extractNumericId(e).compare(Ps.extractNumericId(n)):nv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return To.fromString(e.substring(4,e.length-2))}}class ft extends Ps{construct(e,n,r){return new ft(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ye(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new ft(n)}static emptyPath(){return new ft([])}}const F4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xn extends Ps{construct(e,n,r){return new xn(e,n,r)}static isValidIdentifier(e){return F4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_E}static keyField(){return new xn([_E])}static fromServerFormat(e){const n=[];let r="",s=0;const o=()=>{if(r.length===0)throw new ye(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new ye(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ye(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(r+=c,s++):(o(),s++)}if(o(),l)throw new ye(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xn(n)}static emptyPath(){return new xn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(ft.fromString(e))}static fromName(e){return new Ae(ft.fromString(e).popFirst(5))}static empty(){return new Ae(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ft.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new ft(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(t,e,n){if(!n)throw new ye(re.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function U4(t,e,n,r){if(e===!0&&r===!0)throw new ye(re.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function xE(t){if(!Ae.isDocumentKey(t))throw new ye(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function bE(t){if(Ae.isDocumentKey(t))throw new ye(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Gk(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Ap(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ve(12329,{type:typeof t})}function Ii(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ye(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ap(t);throw new ye(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(t,e){const n={typeString:t};return e&&(n.value=e),n}function kd(t,e){if(!Gk(t))throw new ye(re.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(s&&typeof l!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(o!==void 0&&l!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new ye(re.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE=-62135596800,TE=1e6;class yt{static now(){return yt.fromMillis(Date.now())}static fromDate(e){return yt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*TE);return new yt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ye(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ye(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<EE)throw new ye(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/TE}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:yt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(kd(e,yt._jsonSchema))return new yt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-EE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}yt._jsonSchemaVersion="firestore/timestamp/1.0",yt._jsonSchema={type:Qt("string",yt._jsonSchemaVersion),seconds:Qt("number"),nanoseconds:Qt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{static fromTimestamp(e){return new Fe(e)}static min(){return new Fe(new yt(0,0))}static max(){return new Fe(new yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qu=-1;function B4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Fe.fromTimestamp(r===1e9?new yt(n+1,0):new yt(n,r));return new Co(s,Ae.empty(),e)}function $4(t){return new Co(t.readTime,t.key,Qu)}class Co{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Co(Fe.min(),Ae.empty(),Qu)}static max(){return new Co(Fe.max(),Ae.empty(),Qu)}}function z4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ae.comparator(t.documentKey,e.documentKey),n!==0?n:Ke(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class H4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wc(t){if(t.code!==re.FAILED_PRECONDITION||t.message!==W4)throw t;_e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ae((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ae?n:ae.resolve(n)}catch(n){return ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ae.reject(n)}static resolve(e){return new ae((n,r)=>{n(e)})}static reject(e){return new ae((n,r)=>{r(e)})}static waitFor(e){return new ae((n,r)=>{let s=0,o=0,l=!1;e.forEach(c=>{++s,c.next(()=>{++o,l&&o===s&&n()},d=>r(d))}),l=!0,o===s&&n()})}static or(e){let n=ae.resolve(!1);for(const r of e)n=n.next(s=>s?ae.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,o)=>{r.push(n.call(this,s,o))}),this.waitFor(r)}static mapArray(e,n){return new ae((r,s)=>{const o=e.length,l=new Array(o);let c=0;for(let d=0;d<o;d++){const h=d;n(e[h]).next(m=>{l[h]=m,++c,c===o&&r(l)},m=>s(m))}})}static doWhile(e,n){return new ae((r,s)=>{const o=()=>{e()===!0?n().next(()=>{o()},s):r()};o()})}}function q4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _c(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Rp.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0=-1;function Np(t){return t==null}function Jf(t){return t===0&&1/t==-1/0}function K4(t){return typeof t=="number"&&Number.isInteger(t)&&!Jf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yk="";function G4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=SE(e)),e=Y4(t.get(n),e);return SE(e)}function Y4(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const o=t.charAt(s);switch(o){case"\0":n+="";break;case Yk:n+="";break;default:n+=o}}return n}function SE(t){return t+Yk+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Bo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Qk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,n){this.comparator=e,this.root=n||_n.EMPTY}insert(e,n){return new Nt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_n.BLACK,null,null))}remove(e){return new Nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_n.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nf(this.root,e,this.comparator,!1)}getReverseIterator(){return new nf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nf(this.root,e,this.comparator,!0)}}class nf{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _n{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r??_n.RED,this.left=s??_n.EMPTY,this.right=o??_n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,o){return new _n(e??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return _n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return _n.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ve(27949);return e+(this.isRed()?0:1)}}_n.EMPTY=null,_n.RED=!0,_n.BLACK=!1;_n.EMPTY=new class{constructor(){this.size=0}get key(){throw Ve(57766)}get value(){throw Ve(16141)}get color(){throw Ve(16727)}get left(){throw Ve(29726)}get right(){throw Ve(36894)}copy(e,n,r,s,o){return this}insert(e,n,r){return new _n(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.comparator=e,this.data=new Nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new IE(this.data.getIterator())}getIteratorFrom(e){return new IE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof on)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new on(this.comparator);return n.data=e,n}}class IE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e){this.fields=e,e.sort(xn.comparator)}static empty(){return new xr([])}unionWith(e){let n=new on(xn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new xr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return oc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Xk("Invalid base64 string: "+o):o}}(e);return new bn(n)}static fromUint8Array(e){const n=function(s){let o="";for(let l=0;l<s.length;++l)o+=String.fromCharCode(s[l]);return o}(e);return new bn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bn.EMPTY_BYTE_STRING=new bn("");const Q4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Po(t){if(ot(!!t,39018),typeof t=="string"){let e=0;const n=Q4.exec(t);if(ot(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:zt(t.seconds),nanos:zt(t.nanos)}}function zt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ao(t){return typeof t=="string"?bn.fromBase64String(t):bn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jk="server_timestamp",Zk="__type__",eI="__previous_value__",tI="__local_write_time__";function D0(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Zk])==null?void 0:r.stringValue)===Jk}function Dp(t){const e=t.mapValue.fields[eI];return D0(e)?Dp(e):e}function Xu(t){const e=Po(t.mapValue.fields[tI].timestampValue);return new yt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(e,n,r,s,o,l,c,d,h,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=h,this.isUsingEmulator=m}}const Zf="(default)";class Ju{constructor(e,n){this.projectId=e,this.database=n||Zf}static empty(){return new Ju("","")}get isDefaultDatabase(){return this.database===Zf}isEqual(e){return e instanceof Ju&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI="__type__",J4="__max__",rf={mapValue:{}},rI="__vector__",ep="value";function Ro(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?D0(t)?4:e5(t)?9007199254740991:Z4(t)?10:11:Ve(28295,{value:t})}function qs(t,e){if(t===e)return!0;const n=Ro(t);if(n!==Ro(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Xu(t).isEqual(Xu(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const l=Po(s.timestampValue),c=Po(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,o){return Ao(s.bytesValue).isEqual(Ao(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,o){return zt(s.geoPointValue.latitude)===zt(o.geoPointValue.latitude)&&zt(s.geoPointValue.longitude)===zt(o.geoPointValue.longitude)}(t,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return zt(s.integerValue)===zt(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const l=zt(s.doubleValue),c=zt(o.doubleValue);return l===c?Jf(l)===Jf(c):isNaN(l)&&isNaN(c)}return!1}(t,e);case 9:return oc(t.arrayValue.values||[],e.arrayValue.values||[],qs);case 10:case 11:return function(s,o){const l=s.mapValue.fields||{},c=o.mapValue.fields||{};if(kE(l)!==kE(c))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(c[d]===void 0||!qs(l[d],c[d])))return!1;return!0}(t,e);default:return Ve(52216,{left:t})}}function Zu(t,e){return(t.values||[]).find(n=>qs(n,e))!==void 0}function ac(t,e){if(t===e)return 0;const n=Ro(t),r=Ro(e);if(n!==r)return Ke(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ke(t.booleanValue,e.booleanValue);case 2:return function(o,l){const c=zt(o.integerValue||o.doubleValue),d=zt(l.integerValue||l.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(t,e);case 3:return CE(t.timestampValue,e.timestampValue);case 4:return CE(Xu(t),Xu(e));case 5:return nv(t.stringValue,e.stringValue);case 6:return function(o,l){const c=Ao(o),d=Ao(l);return c.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(o,l){const c=o.split("/"),d=l.split("/");for(let h=0;h<c.length&&h<d.length;h++){const m=Ke(c[h],d[h]);if(m!==0)return m}return Ke(c.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,l){const c=Ke(zt(o.latitude),zt(l.latitude));return c!==0?c:Ke(zt(o.longitude),zt(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return PE(t.arrayValue,e.arrayValue);case 10:return function(o,l){var w,E,S,T;const c=o.fields||{},d=l.fields||{},h=(w=c[ep])==null?void 0:w.arrayValue,m=(E=d[ep])==null?void 0:E.arrayValue,g=Ke(((S=h==null?void 0:h.values)==null?void 0:S.length)||0,((T=m==null?void 0:m.values)==null?void 0:T.length)||0);return g!==0?g:PE(h,m)}(t.mapValue,e.mapValue);case 11:return function(o,l){if(o===rf.mapValue&&l===rf.mapValue)return 0;if(o===rf.mapValue)return 1;if(l===rf.mapValue)return-1;const c=o.fields||{},d=Object.keys(c),h=l.fields||{},m=Object.keys(h);d.sort(),m.sort();for(let g=0;g<d.length&&g<m.length;++g){const w=nv(d[g],m[g]);if(w!==0)return w;const E=ac(c[d[g]],h[m[g]]);if(E!==0)return E}return Ke(d.length,m.length)}(t.mapValue,e.mapValue);default:throw Ve(23264,{he:n})}}function CE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ke(t,e);const n=Po(t),r=Po(e),s=Ke(n.seconds,r.seconds);return s!==0?s:Ke(n.nanos,r.nanos)}function PE(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const o=ac(n[s],r[s]);if(o)return o}return Ke(n.length,r.length)}function lc(t){return rv(t)}function rv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Po(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ao(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ae.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const o of n.values||[])s?s=!1:r+=",",r+=rv(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const l of r)o?o=!1:s+=",",s+=`${l}:${rv(n.fields[l])}`;return s+"}"}(t.mapValue):Ve(61005,{value:t})}function Pf(t){switch(Ro(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Dp(t);return e?16+Pf(e):16;case 5:return 2*t.stringValue.length;case 6:return Ao(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,o)=>s+Pf(o),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Bo(r.fields,(o,l)=>{s+=o.length+Pf(l)}),s}(t.mapValue);default:throw Ve(13486,{value:t})}}function AE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function sv(t){return!!t&&"integerValue"in t}function M0(t){return!!t&&"arrayValue"in t}function RE(t){return!!t&&"nullValue"in t}function NE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Af(t){return!!t&&"mapValue"in t}function Z4(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[nI])==null?void 0:r.stringValue)===rI}function Mu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Bo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Mu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Mu(t.arrayValue.values[n]);return e}return{...t}}function e5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===J4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this.value=e}static empty(){return new ar({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Af(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mu(n)}setAll(e){let n=xn.emptyPath(),r={},s=[];e.forEach((l,c)=>{if(!n.isImmediateParentOf(c)){const d=this.getFieldsMap(n);this.applyChanges(d,r,s),r={},s=[],n=c.popLast()}l?r[c.lastSegment()]=Mu(l):s.push(c.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,s)}delete(e){const n=this.field(e.popLast());Af(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return qs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Af(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Bo(n,(s,o)=>e[s]=o);for(const s of r)delete e[s]}clone(){return new ar(Mu(this.value))}}function sI(t){const e=[];return Bo(t.fields,(n,r)=>{const s=new xn([n]);if(Af(r)){const o=sI(r.mapValue).fields;if(o.length===0)e.push(s);else for(const l of o)e.push(s.child(l))}else e.push(s)}),new xr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e,n,r,s,o,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=o,this.data=l,this.documentState=c}static newInvalidDocument(e){return new Pn(e,0,Fe.min(),Fe.min(),Fe.min(),ar.empty(),0)}static newFoundDocument(e,n,r,s){return new Pn(e,1,n,Fe.min(),r,s,0)}static newNoDocument(e,n){return new Pn(e,2,n,Fe.min(),Fe.min(),ar.empty(),0)}static newUnknownDocument(e,n){return new Pn(e,3,n,Fe.min(),Fe.min(),ar.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ar.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ar.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e,n){this.position=e,this.inclusive=n}}function DE(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const o=e[s],l=t.position[s];if(o.field.isKeyField()?r=Ae.comparator(Ae.fromName(l.referenceValue),n.key):r=ac(l,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function ME(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!qs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,n="asc"){this.field=e,this.dir=n}}function t5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{}class Yt extends iI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new r5(e,n,r):n==="array-contains"?new o5(e,r):n==="in"?new a5(e,r):n==="not-in"?new l5(e,r):n==="array-contains-any"?new c5(e,r):new Yt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new s5(e,r):new i5(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ac(n,this.value)):n!==null&&Ro(this.value)===Ro(n)&&this.matchesComparison(ac(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ds extends iI{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ds(e,n)}matches(e){return oI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function oI(t){return t.op==="and"}function aI(t){return n5(t)&&oI(t)}function n5(t){for(const e of t.filters)if(e instanceof ds)return!1;return!0}function iv(t){if(t instanceof Yt)return t.field.canonicalString()+t.op.toString()+lc(t.value);if(aI(t))return t.filters.map(e=>iv(e)).join(",");{const e=t.filters.map(n=>iv(n)).join(",");return`${t.op}(${e})`}}function lI(t,e){return t instanceof Yt?function(r,s){return s instanceof Yt&&r.op===s.op&&r.field.isEqual(s.field)&&qs(r.value,s.value)}(t,e):t instanceof ds?function(r,s){return s instanceof ds&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((o,l,c)=>o&&lI(l,s.filters[c]),!0):!1}(t,e):void Ve(19439)}function cI(t){return t instanceof Yt?function(n){return`${n.field.canonicalString()} ${n.op} ${lc(n.value)}`}(t):t instanceof ds?function(n){return n.op.toString()+" {"+n.getFilters().map(cI).join(" ,")+"}"}(t):"Filter"}class r5 extends Yt{constructor(e,n,r){super(e,n,r),this.key=Ae.fromName(r.referenceValue)}matches(e){const n=Ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class s5 extends Yt{constructor(e,n){super(e,"in",n),this.keys=uI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class i5 extends Yt{constructor(e,n){super(e,"not-in",n),this.keys=uI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function uI(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>Ae.fromName(r.referenceValue))}class o5 extends Yt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return M0(n)&&Zu(n.arrayValue,this.value)}}class a5 extends Yt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Zu(this.value.arrayValue,n)}}class l5 extends Yt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Zu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Zu(this.value.arrayValue,n)}}class c5 extends Yt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!M0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Zu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u5{constructor(e,n=null,r=[],s=[],o=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=l,this.endAt=c,this.Te=null}}function OE(t,e=null,n=[],r=[],s=null,o=null,l=null){return new u5(t,e,n,r,s,o,l)}function O0(t){const e=Be(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>iv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Np(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>lc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>lc(r)).join(",")),e.Te=n}return e.Te}function V0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!t5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!lI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ME(t.startAt,e.startAt)&&ME(t.endAt,e.endAt)}function ov(t){return Ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,n=null,r=[],s=[],o=null,l="F",c=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function d5(t,e,n,r,s,o,l,c){return new xc(t,e,n,r,s,o,l,c)}function L0(t){return new xc(t)}function VE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function dI(t){return t.collectionGroup!==null}function Ou(t){const e=Be(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new on(xn.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(h=>{h.isInequality()&&(c=c.add(h.field))})}),c})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new ed(o,r))}),n.has(xn.keyField().canonicalString())||e.Ie.push(new ed(xn.keyField(),r))}return e.Ie}function Vs(t){const e=Be(t);return e.Ee||(e.Ee=h5(e,Ou(t))),e.Ee}function h5(t,e){if(t.limitType==="F")return OE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new ed(s.field,o)});const n=t.endAt?new tp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new tp(t.startAt.position,t.startAt.inclusive):null;return OE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function av(t,e){const n=t.filters.concat([e]);return new xc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function lv(t,e,n){return new xc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Mp(t,e){return V0(Vs(t),Vs(e))&&t.limitType===e.limitType}function hI(t){return`${O0(Vs(t))}|lt:${t.limitType}`}function Fl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>cI(s)).join(", ")}]`),Np(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>lc(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>lc(s)).join(",")),`Target(${r})`}(Vs(t))}; limitType=${t.limitType})`}function Op(t,e){return e.isFoundDocument()&&function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Ae.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,s){for(const o of Ou(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(l,c,d){const h=DE(l,c,d);return l.inclusive?h<=0:h<0}(r.startAt,Ou(r),s)||r.endAt&&!function(l,c,d){const h=DE(l,c,d);return l.inclusive?h>=0:h>0}(r.endAt,Ou(r),s))}(t,e)}function f5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function fI(t){return(e,n)=>{let r=!1;for(const s of Ou(t)){const o=p5(s,e,n);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function p5(t,e,n){const r=t.field.isKeyField()?Ae.comparator(e.key,n.key):function(o,l,c){const d=l.data.field(o),h=c.data.field(o);return d!==null&&h!==null?ac(d,h):Ve(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ve(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Bo(this.inner,(n,r)=>{for(const[s,o]of r)e(s,o)})}isEmpty(){return Qk(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m5=new Nt(Ae.comparator);function Ci(){return m5}const pI=new Nt(Ae.comparator);function ku(...t){let e=pI;for(const n of t)e=e.insert(n.key,n);return e}function mI(t){let e=pI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ea(){return Vu()}function gI(){return Vu()}function Vu(){return new Ka(t=>t.toString(),(t,e)=>t.isEqual(e))}const g5=new Nt(Ae.comparator),y5=new on(Ae.comparator);function Ge(...t){let e=y5;for(const n of t)e=e.add(n);return e}const v5=new on(Ke);function w5(){return v5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jf(e)?"-0":e}}function yI(t){return{integerValue:""+t}}function _5(t,e){return K4(e)?yI(e):j0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(){this._=void 0}}function x5(t,e,n){return t instanceof td?function(s,o){const l={fields:{[Zk]:{stringValue:Jk},[tI]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&D0(o)&&(o=Dp(o)),o&&(l.fields[eI]=o),{mapValue:l}}(n,e):t instanceof nd?wI(t,e):t instanceof rd?_I(t,e):function(s,o){const l=vI(s,o),c=LE(l)+LE(s.Ae);return sv(l)&&sv(s.Ae)?yI(c):j0(s.serializer,c)}(t,e)}function b5(t,e,n){return t instanceof nd?wI(t,e):t instanceof rd?_I(t,e):n}function vI(t,e){return t instanceof np?function(r){return sv(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class td extends Vp{}class nd extends Vp{constructor(e){super(),this.elements=e}}function wI(t,e){const n=xI(e);for(const r of t.elements)n.some(s=>qs(s,r))||n.push(r);return{arrayValue:{values:n}}}class rd extends Vp{constructor(e){super(),this.elements=e}}function _I(t,e){let n=xI(e);for(const r of t.elements)n=n.filter(s=>!qs(s,r));return{arrayValue:{values:n}}}class np extends Vp{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function LE(t){return zt(t.integerValue||t.doubleValue)}function xI(t){return M0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(e,n){this.field=e,this.transform=n}}function T5(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof nd&&s instanceof nd||r instanceof rd&&s instanceof rd?oc(r.elements,s.elements,qs):r instanceof np&&s instanceof np?qs(r.Ae,s.Ae):r instanceof td&&s instanceof td}(t.transform,e.transform)}class S5{constructor(e,n){this.version=e,this.transformResults=n}}class ls{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ls}static exists(e){return new ls(void 0,e)}static updateTime(e){return new ls(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Lp{}function bI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new F0(t.key,ls.none()):new Id(t.key,t.data,ls.none());{const n=t.data,r=ar.empty();let s=new on(xn.comparator);for(let o of e.fields)if(!s.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?r.delete(o):r.set(o,l),s=s.add(o)}return new $o(t.key,r,new xr(s.toArray()),ls.none())}}function k5(t,e,n){t instanceof Id?function(s,o,l){const c=s.value.clone(),d=FE(s.fieldTransforms,o,l.transformResults);c.setAll(d),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(t,e,n):t instanceof $o?function(s,o,l){if(!Rf(s.precondition,o))return void o.convertToUnknownDocument(l.version);const c=FE(s.fieldTransforms,o,l.transformResults),d=o.data;d.setAll(EI(s)),d.setAll(c),o.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(t,e,n):function(s,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function Lu(t,e,n,r){return t instanceof Id?function(o,l,c,d){if(!Rf(o.precondition,l))return c;const h=o.value.clone(),m=UE(o.fieldTransforms,d,l);return h.setAll(m),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof $o?function(o,l,c,d){if(!Rf(o.precondition,l))return c;const h=UE(o.fieldTransforms,d,l),m=l.data;return m.setAll(EI(o)),m.setAll(h),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(o,l,c){return Rf(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(t,e,n)}function I5(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),o=vI(r.transform,s||null);o!=null&&(n===null&&(n=ar.empty()),n.set(r.field,o))}return n||null}function jE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&oc(r,s,(o,l)=>T5(o,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Id extends Lp{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class $o extends Lp{constructor(e,n,r,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function EI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function FE(t,e,n){const r=new Map;ot(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const o=t[s],l=o.transform,c=e.data.field(o.field);r.set(o.field,b5(l,c,n[s]))}return r}function UE(t,e,n){const r=new Map;for(const s of t){const o=s.transform,l=n.data.field(s.field);r.set(s.field,x5(o,l,e))}return r}class F0 extends Lp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class C5 extends Lp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P5{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&k5(o,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Lu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Lu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=gI();return this.mutations.forEach(s=>{const o=e.get(s.key),l=o.overlayedDocument;let c=this.applyToLocalView(l,o.mutatedFields);c=n.has(s.key)?null:c;const d=bI(l,c);d!==null&&r.set(s.key,d),l.isValidDocument()||l.convertToNoDocument(Fe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ge())}isEqual(e){return this.batchId===e.batchId&&oc(this.mutations,e.mutations,(n,r)=>jE(n,r))&&oc(this.baseMutations,e.baseMutations,(n,r)=>jE(n,r))}}class U0{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){ot(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return g5}();const o=e.mutations;for(let l=0;l<o.length;l++)s=s.insert(o[l].key,r[l].version);return new U0(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let A5=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kt,Je;function N5(t){switch(t){case re.OK:return Ve(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Ve(15467,{code:t})}}function TI(t){if(t===void 0)return ki("GRPC error has no .code"),re.UNKNOWN;switch(t){case Kt.OK:return re.OK;case Kt.CANCELLED:return re.CANCELLED;case Kt.UNKNOWN:return re.UNKNOWN;case Kt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case Kt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case Kt.INTERNAL:return re.INTERNAL;case Kt.UNAVAILABLE:return re.UNAVAILABLE;case Kt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case Kt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case Kt.NOT_FOUND:return re.NOT_FOUND;case Kt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case Kt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case Kt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case Kt.ABORTED:return re.ABORTED;case Kt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case Kt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case Kt.DATA_LOSS:return re.DATA_LOSS;default:return Ve(39323,{code:t})}}(Je=Kt||(Kt={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D5(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M5=new To([4294967295,4294967295],0);function BE(t){const e=D5().encode(t),n=new Fk;return n.update(e),new Uint8Array(n.digest())}function $E(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new To([n,r],0),new To([s,o],0)]}class B0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Iu(`Invalid padding: ${n}`);if(r<0)throw new Iu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Iu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Iu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=To.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(To.fromNumber(r)));return s.compare(M5)===1&&(s=new To([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=BE(e),[r,s]=$E(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(r,s,o);if(!this.we(l))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new B0(o,s,n);return r.forEach(c=>l.insert(c)),l}insert(e){if(this.ge===0)return;const n=BE(e),[r,s]=$E(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(r,s,o);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Iu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e,n,r,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Cd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new jp(Fe.min(),s,new Nt(Ke),Ci(),Ge())}}class Cd{constructor(e,n,r,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Cd(r,n,Ge(),Ge(),Ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class SI{constructor(e,n){this.targetId=e,this.Ce=n}}class kI{constructor(e,n,r=bn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class zE{constructor(){this.ve=0,this.Fe=WE(),this.Me=bn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ge(),n=Ge(),r=Ge();return this.Fe.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Ve(38017,{changeType:o})}}),new Cd(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=WE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ot(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class O5{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ci(),this.Je=sf(),this.He=sf(),this.Ye=new Nt(Ke)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ve(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const o=s.target;if(ov(o))if(r===0){const l=new Ae(o.path);this.et(n,l,Pn.newNoDocument(l,Fe.min()))}else ot(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const c=this.ut(e),d=c?this.ct(c,e,l):1;if(d!==0){this.it(n);const h=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=n;let l,c;try{l=Ao(r).toUint8Array()}catch(d){if(d instanceof Xk)return ic("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new B0(l,s,o)}catch(d){return ic(d instanceof Iu?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(o=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.et(n,o,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((o,l)=>{const c=this.ot(l);if(c){if(o.current&&ov(c.target)){const d=new Ae(c.target.path);this.It(d).has(l)||this.Et(l,d)||this.et(l,d,Pn.newNoDocument(d,e))}o.Be&&(n.set(l,o.ke()),o.qe())}});let r=Ge();this.He.forEach((o,l)=>{let c=!0;l.forEachWhile(d=>{const h=this.ot(d);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.je.forEach((o,l)=>l.setReadTime(e));const s=new jp(e,n,this.Ye,this.je,r);return this.je=Ci(),this.Je=sf(),this.He=sf(),this.Ye=new Nt(Ke),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new zE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new on(Ke),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new on(Ke),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||_e("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new zE),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function sf(){return new Nt(Ae.comparator)}function WE(){return new Nt(Ae.comparator)}const V5={asc:"ASCENDING",desc:"DESCENDING"},L5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},j5={and:"AND",or:"OR"};class F5{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function cv(t,e){return t.useProto3Json||Np(e)?e:{value:e}}function rp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function II(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function U5(t,e){return rp(t,e.toTimestamp())}function Ls(t){return ot(!!t,49232),Fe.fromTimestamp(function(n){const r=Po(n);return new yt(r.seconds,r.nanos)}(t))}function $0(t,e){return uv(t,e).canonicalString()}function uv(t,e){const n=function(s){return new ft(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function CI(t){const e=ft.fromString(t);return ot(DI(e),10190,{key:e.toString()}),e}function dv(t,e){return $0(t.databaseId,e.path)}function iy(t,e){const n=CI(e);if(n.get(1)!==t.databaseId.projectId)throw new ye(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ye(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ae(AI(n))}function PI(t,e){return $0(t.databaseId,e)}function B5(t){const e=CI(t);return e.length===4?ft.emptyPath():AI(e)}function hv(t){return new ft(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function AI(t){return ot(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function HE(t,e,n){return{name:dv(t,e),fields:n.value.mapValue.fields}}function $5(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Ve(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(h,m){return h.useProto3Json?(ot(m===void 0||typeof m=="string",58123),bn.fromBase64String(m||"")):(ot(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),bn.fromUint8Array(m||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(h){const m=h.code===void 0?re.UNKNOWN:TI(h.code);return new ye(m,h.message||"")}(l);n=new kI(r,s,o,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=iy(t,r.document.name),o=Ls(r.document.updateTime),l=r.document.createTime?Ls(r.document.createTime):Fe.min(),c=new ar({mapValue:{fields:r.document.fields}}),d=Pn.newFoundDocument(s,o,l,c),h=r.targetIds||[],m=r.removedTargetIds||[];n=new Nf(h,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=iy(t,r.document),o=r.readTime?Ls(r.readTime):Fe.min(),l=Pn.newNoDocument(s,o),c=r.removedTargetIds||[];n=new Nf([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=iy(t,r.document),o=r.removedTargetIds||[];n=new Nf([],o,s,null)}else{if(!("filter"in e))return Ve(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,l=new R5(s,o),c=r.targetId;n=new SI(c,l)}}return n}function z5(t,e){let n;if(e instanceof Id)n={update:HE(t,e.key,e.value)};else if(e instanceof F0)n={delete:dv(t,e.key)};else if(e instanceof $o)n={update:HE(t,e.key,e.data),updateMask:J5(e.fieldMask)};else{if(!(e instanceof C5))return Ve(16599,{Vt:e.type});n={verify:dv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const c=l.transform;if(c instanceof td)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof nd)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof rd)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof np)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw Ve(20930,{transform:l.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:U5(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ve(27497)}(t,e.precondition)),n}function W5(t,e){return t&&t.length>0?(ot(e!==void 0,14353),t.map(n=>function(s,o){let l=s.updateTime?Ls(s.updateTime):Ls(o);return l.isEqual(Fe.min())&&(l=Ls(o)),new S5(l,s.transformResults||[])}(n,e))):[]}function H5(t,e){return{documents:[PI(t,e.path)]}}function q5(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=PI(t,s);const o=function(h){if(h.length!==0)return NI(ds.create(h,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const l=function(h){if(h.length!==0)return h.map(m=>function(w){return{field:Ul(w.field),direction:Y5(w.dir)}}(m))}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=cv(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ft:n,parent:s}}function K5(t){let e=B5(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ot(r===1,65062);const m=n.from[0];m.allDescendants?s=m.collectionId:e=e.child(m.collectionId)}let o=[];n.where&&(o=function(g){const w=RI(g);return w instanceof ds&&aI(w)?w.getFilters():[w]}(n.where));let l=[];n.orderBy&&(l=function(g){return g.map(w=>function(S){return new ed(Bl(S.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(w))}(n.orderBy));let c=null;n.limit&&(c=function(g){let w;return w=typeof g=="object"?g.value:g,Np(w)?null:w}(n.limit));let d=null;n.startAt&&(d=function(g){const w=!!g.before,E=g.values||[];return new tp(E,w)}(n.startAt));let h=null;return n.endAt&&(h=function(g){const w=!g.before,E=g.values||[];return new tp(E,w)}(n.endAt)),d5(e,s,l,o,c,"F",d,h)}function G5(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ve(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function RI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Bl(n.unaryFilter.field);return Yt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Bl(n.unaryFilter.field);return Yt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Bl(n.unaryFilter.field);return Yt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Bl(n.unaryFilter.field);return Yt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ve(61313);default:return Ve(60726)}}(t):t.fieldFilter!==void 0?function(n){return Yt.create(Bl(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ve(58110);default:return Ve(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ds.create(n.compositeFilter.filters.map(r=>RI(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ve(1026)}}(n.compositeFilter.op))}(t):Ve(30097,{filter:t})}function Y5(t){return V5[t]}function Q5(t){return L5[t]}function X5(t){return j5[t]}function Ul(t){return{fieldPath:t.canonicalString()}}function Bl(t){return xn.fromServerFormat(t.fieldPath)}function NI(t){return t instanceof Yt?function(n){if(n.op==="=="){if(NE(n.value))return{unaryFilter:{field:Ul(n.field),op:"IS_NAN"}};if(RE(n.value))return{unaryFilter:{field:Ul(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(NE(n.value))return{unaryFilter:{field:Ul(n.field),op:"IS_NOT_NAN"}};if(RE(n.value))return{unaryFilter:{field:Ul(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ul(n.field),op:Q5(n.op),value:n.value}}}(t):t instanceof ds?function(n){const r=n.getFilters().map(s=>NI(s));return r.length===1?r[0]:{compositeFilter:{op:X5(n.op),filters:r}}}(t):Ve(54877,{filter:t})}function J5(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function DI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e,n,r,s,o=Fe.min(),l=Fe.min(),c=bn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new xo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new xo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z5{constructor(e){this.yt=e}}function e3(t){const e=K5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?lv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(){this.Cn=new n3}addToCollectionParentIndex(e,n){return this.Cn.add(n),ae.resolve()}getCollectionParents(e,n){return ae.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ae.resolve()}deleteFieldIndex(e,n){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,n){return ae.resolve()}getDocumentsMatchingTarget(e,n){return ae.resolve(null)}getIndexType(e,n){return ae.resolve(0)}getFieldIndexes(e,n){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,n){return ae.resolve(Co.min())}getMinOffsetFromCollectionGroup(e,n){return ae.resolve(Co.min())}updateCollectionGroup(e,n,r){return ae.resolve()}updateIndexEntries(e,n){return ae.resolve()}}class n3{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new on(ft.comparator),o=!s.has(r);return this.index[n]=s.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new on(ft.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},MI=41943040;class ir{static withCacheSize(e){return new ir(e,ir.DEFAULT_COLLECTION_PERCENTILE,ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ir.DEFAULT_COLLECTION_PERCENTILE=10,ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ir.DEFAULT=new ir(MI,ir.DEFAULT_COLLECTION_PERCENTILE,ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ir.DISABLED=new ir(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new cc(0)}static cr(){return new cc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE="LruGarbageCollector",r3=1048576;function GE([t,e],[n,r]){const s=Ke(t,n);return s===0?Ke(e,r):s}class s3{constructor(e){this.Ir=e,this.buffer=new on(GE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();GE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class i3{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){_e(KE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){_c(n)?_e(KE,"Ignoring IndexedDB error during garbage collection: ",n):await wc(n)}await this.Vr(3e5)})}}class o3{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ae.resolve(Rp.ce);const r=new s3(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(qE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qE):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,o,l,c,d,h;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),s=this.params.maximumSequenceNumbersToCollect):s=g,l=Date.now(),this.nthSequenceNumber(e,s))).next(g=>(r=g,c=Date.now(),this.removeTargets(e,r,n))).next(g=>(o=g,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(h=Date.now(),jl()<=qe.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${s} in `+(c-l)+`ms
	Removed ${o} targets in `+(d-c)+`ms
	Removed ${g} documents in `+(h-d)+`ms
Total Duration: ${h-m}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:g})))}}function a3(t,e){return new o3(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{constructor(){this.changes=new Ka(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Pn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ae.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Lu(r.mutation,s,xr.empty(),yt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ge()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ge()){const s=Ea();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(o=>{let l=ku();return o.forEach((c,d)=>{l=l.insert(c,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=Ea();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ge()))}populateOverlays(e,n,r){const s=[];return r.forEach(o=>{n.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((l,c)=>{n.set(l,c)})})}computeViews(e,n,r,s){let o=Ci();const l=Vu(),c=function(){return Vu()}();return n.forEach((d,h)=>{const m=r.get(h.key);s.has(h.key)&&(m===void 0||m.mutation instanceof $o)?o=o.insert(h.key,h):m!==void 0?(l.set(h.key,m.mutation.getFieldMask()),Lu(m.mutation,h,m.mutation.getFieldMask(),yt.now())):l.set(h.key,xr.empty())}),this.recalculateAndSaveOverlays(e,o).next(d=>(d.forEach((h,m)=>l.set(h,m)),n.forEach((h,m)=>c.set(h,new c3(m,l.get(h)??null))),c))}recalculateAndSaveOverlays(e,n){const r=Vu();let s=new Nt((l,c)=>l-c),o=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const c of l)c.keys().forEach(d=>{const h=n.get(d);if(h===null)return;let m=r.get(d)||xr.empty();m=c.applyToLocalView(h,m),r.set(d,m);const g=(s.get(c.batchId)||Ge()).add(d);s=s.insert(c.batchId,g)})}).next(()=>{const l=[],c=s.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),h=d.key,m=d.value,g=gI();m.forEach(w=>{if(!o.has(w)){const E=bI(n.get(w),r.get(w));E!==null&&g.set(w,E),o=o.add(w)}}),l.push(this.documentOverlayCache.saveOverlays(e,h,g))}return ae.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(l){return Ae.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):dI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(o=>{const l=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-o.size):ae.resolve(Ea());let c=Qu,d=o;return l.next(h=>ae.forEach(h,(m,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),o.get(m)?ae.resolve():this.remoteDocumentCache.getEntry(e,m).next(w=>{d=d.insert(m,w)}))).next(()=>this.populateOverlays(e,h,o)).next(()=>this.computeViews(e,d,h,Ge())).next(m=>({batchId:c,changes:mI(m)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ae(n)).next(r=>{let s=ku();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const o=n.collectionGroup;let l=ku();return this.indexManager.getCollectionParents(e,o).next(c=>ae.forEach(c,d=>{const h=function(g,w){return new xc(w,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,h,r,s).next(m=>{m.forEach((g,w)=>{l=l.insert(g,w)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,s))).next(l=>{o.forEach((d,h)=>{const m=h.getKey();l.get(m)===null&&(l=l.insert(m,Pn.newInvalidDocument(m)))});let c=ku();return l.forEach((d,h)=>{const m=o.get(d);m!==void 0&&Lu(m.mutation,h,xr.empty(),yt.now()),Op(n,h)&&(c=c.insert(d,h))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ae.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Ls(s.createTime)}}(n)),ae.resolve()}getNamedQuery(e,n){return ae.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:e3(s.bundledQuery),readTime:Ls(s.readTime)}}(n)),ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(){this.overlays=new Nt(Ae.comparator),this.qr=new Map}getOverlay(e,n){return ae.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ea();return ae.forEach(n,s=>this.getOverlay(e,s).next(o=>{o!==null&&r.set(s,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,o)=>{this.St(e,n,o)}),ae.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(r)),ae.resolve()}getOverlaysForCollection(e,n,r){const s=Ea(),o=n.length+1,l=new Ae(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const d=c.getNext().value,h=d.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===o&&d.largestBatchId>r&&s.set(d.getKey(),d)}return ae.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let o=new Nt((h,m)=>h-m);const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let m=o.get(h.largestBatchId);m===null&&(m=Ea(),o=o.insert(h.largestBatchId,m)),m.set(h.getKey(),h)}}const c=Ea(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((h,m)=>c.set(h,m)),!(c.size()>=s)););return ae.resolve(c)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new A5(n,r));let o=this.qr.get(n);o===void 0&&(o=Ge(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(){this.sessionToken=bn.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(){this.Qr=new on(dn.$r),this.Ur=new on(dn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new dn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new dn(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new Ae(new ft([])),r=new dn(n,e),s=new dn(n,e+1),o=[];return this.Ur.forEachInRange([r,s],l=>{this.Gr(l),o.push(l.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ae(new ft([])),r=new dn(n,e),s=new dn(n,e+1);let o=Ge();return this.Ur.forEachInRange([r,s],l=>{o=o.add(l.key)}),o}containsKey(e){const n=new dn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class dn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ae.comparator(e.key,n.key)||Ke(e.Yr,n.Yr)}static Kr(e,n){return Ke(e.Yr,n.Yr)||Ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new on(dn.$r)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new P5(o,n,r,s);this.mutationQueue.push(l);for(const c of s)this.Zr=this.Zr.add(new dn(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return ae.resolve(l)}lookupMutationBatch(e,n){return ae.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),o=s<0?0:s;return ae.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?N0:this.tr-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new dn(n,0),s=new dn(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,s],l=>{const c=this.Xr(l.Yr);o.push(c)}),ae.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new on(Ke);return n.forEach(s=>{const o=new dn(s,0),l=new dn(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,l],c=>{r=r.add(c.Yr)})}),ae.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let o=r;Ae.isDocumentKey(o)||(o=o.child(""));const l=new dn(new Ae(o),0);let c=new on(Ke);return this.Zr.forEachWhile(d=>{const h=d.key.path;return!!r.isPrefixOf(h)&&(h.length===s&&(c=c.add(d.Yr)),!0)},l),ae.resolve(this.ti(c))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ot(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ae.forEach(n.mutations,s=>{const o=new dn(s.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new dn(n,0),s=this.Zr.firstAfterOrEqual(r);return ae.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(e){this.ri=e,this.docs=function(){return new Nt(Ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),o=s?s.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ae.resolve(r?r.document.mutableCopy():Pn.newInvalidDocument(n))}getEntries(e,n){let r=Ci();return n.forEach(s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():Pn.newInvalidDocument(s))}),ae.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let o=Ci();const l=n.path,c=new Ae(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:h,value:{document:m}}=d.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||z4($4(m),r)<=0||(s.has(m.key)||Op(n,m))&&(o=o.insert(m.key,m.mutableCopy()))}return ae.resolve(o)}getAllFromCollectionGroup(e,n,r,s){Ve(9500)}ii(e,n){return ae.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new g3(this)}getSize(e){return ae.resolve(this.size)}}class g3 extends l3{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),ae.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(e){this.persistence=e,this.si=new Ka(n=>O0(n),V0),this.lastRemoteSnapshotVersion=Fe.min(),this.highestTargetId=0,this.oi=0,this._i=new z0,this.targetCount=0,this.ai=cc.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ae.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new cc(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ae.resolve()}updateTargetData(e,n){return this.Pr(n),ae.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,n,r){let s=0;const o=[];return this.si.forEach((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.si.delete(l),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)}),ae.waitFor(o).next(()=>s)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ae.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ae.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach(l=>{o.push(s.markPotentiallyOrphaned(e,l))}),ae.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ae.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ae.resolve(r)}containsKey(e,n){return ae.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e,n){this.ui={},this.overlays={},this.ci=new Rp(0),this.li=!1,this.li=!0,this.hi=new f3,this.referenceDelegate=e(this),this.Pi=new y3(this),this.indexManager=new t3,this.remoteDocumentCache=function(s){return new m3(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new Z5(n),this.Ii=new d3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new h3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new p3(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){_e("MemoryPersistence","Starting transaction:",e);const s=new v3(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(o=>this.referenceDelegate.di(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Ai(e,n){return ae.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class v3 extends H4{constructor(e){super(),this.currentSequenceNumber=e}}class W0{constructor(e){this.persistence=e,this.Ri=new z0,this.Vi=null}static mi(e){return new W0(e)}get fi(){if(this.Vi)return this.Vi;throw Ve(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ae.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ae.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ae.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(o=>this.fi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.fi,r=>{const s=Ae.fromPath(r);return this.gi(e,s).next(o=>{o||n.removeEntry(s,Fe.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return ae.or([()=>ae.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class sp{constructor(e,n){this.persistence=e,this.pi=new Ka(r=>G4(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=a3(this,n)}static mi(e,n){return new sp(e,n)}Ei(){}di(e){return ae.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return ae.forEach(this.pi,(r,s)=>this.br(e,r,s).next(o=>o?ae.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ii(e,l=>this.br(e,l,n).next(c=>{c||(r++,o.removeEntry(l,Fe.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ae.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ae.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ae.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Pf(e.data.value)),n}br(e,n,r){return ae.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return ae.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=Ge(),s=Ge();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new H0(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return KO()?8:q4(Nn())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const o={result:null};return this.ys(e,n).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.ws(e,n,s,r).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new w3;return this.Ss(e,n,l).next(c=>{if(o.result=c,this.Vs)return this.bs(e,n,l,c.size)})}).next(()=>o.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(jl()<=qe.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",Fl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ae.resolve()):(jl()<=qe.DEBUG&&_e("QueryEngine","Query:",Fl(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(jl()<=qe.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",Fl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vs(n))):ae.resolve())}ys(e,n){if(VE(n))return ae.resolve(null);let r=Vs(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=lv(n,null,"F"),r=Vs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const l=Ge(...o);return this.ps.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,r).next(d=>{const h=this.Ds(n,c);return this.Cs(n,h,l,d.readTime)?this.ys(e,lv(n,null,"F")):this.vs(e,h,n,d)}))})))}ws(e,n,r,s){return VE(n)||s.isEqual(Fe.min())?ae.resolve(null):this.ps.getDocuments(e,r).next(o=>{const l=this.Ds(n,o);return this.Cs(n,l,r,s)?ae.resolve(null):(jl()<=qe.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Fl(n)),this.vs(e,l,n,B4(s,Qu)).next(c=>c))})}Ds(e,n){let r=new on(fI(e));return n.forEach((s,o)=>{Op(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Ss(e,n,r){return jl()<=qe.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",Fl(n)),this.ps.getDocumentsMatchingQuery(e,n,Co.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(o=>(n.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0="LocalStore",x3=3e8;class b3{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Nt(Ke),this.xs=new Ka(o=>O0(o),V0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new u3(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function E3(t,e,n,r){return new b3(t,e,n,r)}async function VI(t,e){const n=Be(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(o=>(s=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const l=[],c=[];let d=Ge();for(const h of s){l.push(h.batchId);for(const m of h.mutations)d=d.add(m.key)}for(const h of o){c.push(h.batchId);for(const m of h.mutations)d=d.add(m.key)}return n.localDocuments.getDocuments(r,d).next(h=>({Ls:h,removedBatchIds:l,addedBatchIds:c}))})})}function T3(t,e){const n=Be(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return function(c,d,h,m){const g=h.batch,w=g.keys();let E=ae.resolve();return w.forEach(S=>{E=E.next(()=>m.getEntry(d,S)).next(T=>{const k=h.docVersions.get(S);ot(k!==null,48541),T.version.compareTo(k)<0&&(g.applyToRemoteDocument(T,h),T.isValidDocument()&&(T.setReadTime(h.commitVersion),m.addEntry(T)))})}),E.next(()=>c.mutationQueue.removeMutationBatch(d,g))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let d=Ge();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(d=d.add(c.batch.mutations[h].key));return d}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function LI(t){const e=Be(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function S3(t,e){const n=Be(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const c=[];e.targetChanges.forEach((m,g)=>{const w=s.get(g);if(!w)return;c.push(n.Pi.removeMatchingKeys(o,m.removedDocuments,g).next(()=>n.Pi.addMatchingKeys(o,m.addedDocuments,g)));let E=w.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(g)!==null?E=E.withResumeToken(bn.EMPTY_BYTE_STRING,Fe.min()).withLastLimboFreeSnapshotVersion(Fe.min()):m.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(m.resumeToken,r)),s=s.insert(g,E),function(T,k,P){return T.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=x3?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0}(w,E,m)&&c.push(n.Pi.updateTargetData(o,E))});let d=Ci(),h=Ge();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,m))}),c.push(k3(o,l,e.documentUpdates).next(m=>{d=m.ks,h=m.qs})),!r.isEqual(Fe.min())){const m=n.Pi.getLastRemoteSnapshotVersion(o).next(g=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(m)}return ae.waitFor(c).next(()=>l.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,d,h)).next(()=>d)}).then(o=>(n.Ms=s,o))}function k3(t,e,n){let r=Ge(),s=Ge();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let l=Ci();return n.forEach((c,d)=>{const h=o.get(c);d.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(c)),d.isNoDocument()&&d.version.isEqual(Fe.min())?(e.removeEntry(c,d.readTime),l=l.insert(c,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||d.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(d),l=l.insert(c,d)):_e(q0,"Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",d.version)}),{ks:l,qs:s}})}function I3(t,e){const n=Be(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=N0),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function C3(t,e){const n=Be(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(o=>o?(s=o,ae.resolve(s)):n.Pi.allocateTargetId(r).next(l=>(s=new xo(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function fv(t,e,n){const r=Be(t),s=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,l=>r.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!_c(l))throw l;_e(q0,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function YE(t,e,n){const r=Be(t);let s=Fe.min(),o=Ge();return r.persistence.runTransaction("Execute query","readwrite",l=>function(d,h,m){const g=Be(d),w=g.xs.get(m);return w!==void 0?ae.resolve(g.Ms.get(w)):g.Pi.getTargetData(h,m)}(r,l,Vs(e)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,c.targetId).next(d=>{o=d})}).next(()=>r.Fs.getDocumentsMatchingQuery(l,e,n?s:Fe.min(),n?o:Ge())).next(c=>(P3(r,f5(e),c),{documents:c,Qs:o})))}function P3(t,e,n){let r=t.Os.get(e)||Fe.min();n.forEach((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Os.set(e,r)}class QE{constructor(){this.activeTargetIds=w5()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class A3{constructor(){this.Mo=new QE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new QE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE="ConnectivityMonitor";class JE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){_e(XE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){_e(XE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let of=null;function pv(){return of===null?of=function(){return 268435456+Math.round(2147483648*Math.random())}():of++,"0x"+of.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oy="RestConnection",N3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class D3{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Zf?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,o){const l=pv(),c=this.zo(e,n.toUriEncodedString());_e(oy,`Sending RPC '${e}' ${l}:`,c,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,s,o);const{host:h}=new URL(c),m=Fo(h);return this.Jo(e,c,d,r,m).then(g=>(_e(oy,`Received RPC '${e}' ${l}: `,g),g),g=>{throw ic(oy,`RPC '${e}' ${l} failed with error: `,g,"url: ",c,"request:",r),g})}Ho(e,n,r,s,o,l){return this.Go(e,n,r,s,o)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+vc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,o)=>e[o]=s),r&&r.headers.forEach((s,o)=>e[o]=s)}zo(e,n){const r=N3[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const In="WebChannelConnection";class O3 extends D3{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,o){const l=pv();return new Promise((c,d)=>{const h=new Uk;h.setWithCredentials(!0),h.listenOnce(Bk.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Cf.NO_ERROR:const g=h.getResponseJson();_e(In,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(g)),c(g);break;case Cf.TIMEOUT:_e(In,`RPC '${e}' ${l} timed out`),d(new ye(re.DEADLINE_EXCEEDED,"Request time out"));break;case Cf.HTTP_ERROR:const w=h.getStatus();if(_e(In,`RPC '${e}' ${l} failed with status:`,w,"response text:",h.getResponseText()),w>0){let E=h.getResponseJson();Array.isArray(E)&&(E=E[0]);const S=E==null?void 0:E.error;if(S&&S.status&&S.message){const T=function(P){const R=P.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(R)>=0?R:re.UNKNOWN}(S.status);d(new ye(T,S.message))}else d(new ye(re.UNKNOWN,"Server responded with status "+h.getStatus()))}else d(new ye(re.UNAVAILABLE,"Connection failed."));break;default:Ve(9055,{l_:e,streamId:l,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{_e(In,`RPC '${e}' ${l} completed.`)}});const m=JSON.stringify(s);_e(In,`RPC '${e}' ${l} sending request:`,s),h.send(n,"POST",m,r,15)})}T_(e,n,r){const s=pv(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=Wk(),c=zk(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const m=o.join("");_e(In,`Creating RPC '${e}' stream ${s}: ${m}`,d);const g=l.createWebChannel(m,d);this.I_(g);let w=!1,E=!1;const S=new M3({Yo:k=>{E?_e(In,`Not sending because RPC '${e}' stream ${s} is closed:`,k):(w||(_e(In,`Opening RPC '${e}' stream ${s} transport.`),g.open(),w=!0),_e(In,`RPC '${e}' stream ${s} sending:`,k),g.send(k))},Zo:()=>g.close()}),T=(k,P,R)=>{k.listen(P,M=>{try{R(M)}catch(j){setTimeout(()=>{throw j},0)}})};return T(g,Su.EventType.OPEN,()=>{E||(_e(In,`RPC '${e}' stream ${s} transport opened.`),S.o_())}),T(g,Su.EventType.CLOSE,()=>{E||(E=!0,_e(In,`RPC '${e}' stream ${s} transport closed`),S.a_(),this.E_(g))}),T(g,Su.EventType.ERROR,k=>{E||(E=!0,ic(In,`RPC '${e}' stream ${s} transport errored. Name:`,k.name,"Message:",k.message),S.a_(new ye(re.UNAVAILABLE,"The operation could not be completed")))}),T(g,Su.EventType.MESSAGE,k=>{var P;if(!E){const R=k.data[0];ot(!!R,16349);const M=R,j=(M==null?void 0:M.error)||((P=M[0])==null?void 0:P.error);if(j){_e(In,`RPC '${e}' stream ${s} received error:`,j);const B=j.status;let K=function(V){const L=Kt[V];if(L!==void 0)return TI(L)}(B),D=j.message;K===void 0&&(K=re.INTERNAL,D="Unknown error status: "+B+" with message "+j.message),E=!0,S.a_(new ye(K,D)),g.close()}else _e(In,`RPC '${e}' stream ${s} received:`,R),S.u_(R)}}),T(c,$k.STAT_EVENT,k=>{k.stat===tv.PROXY?_e(In,`RPC '${e}' stream ${s} detected buffering proxy`):k.stat===tv.NOPROXY&&_e(In,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{S.__()},0),S}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function ay(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fp(t){return new F5(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e,n,r=1e3,s=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&_e("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE="PersistentStream";class FI{constructor(e,n,r,s,o,l,c,d){this.Mi=e,this.S_=r,this.b_=s,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new jI(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(ki(n.toString()),ki("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new ye(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return _e(ZE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(_e(ZE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class V3 extends FI{constructor(e,n,r,s,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,l),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=$5(this.serializer,e),r=function(o){if(!("targetChange"in o))return Fe.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Fe.min():l.readTime?Ls(l.readTime):Fe.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=hv(this.serializer),n.addTarget=function(o,l){let c;const d=l.target;if(c=ov(d)?{documents:H5(o,d)}:{query:q5(o,d).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=II(o,l.resumeToken);const h=cv(o,l.expectedCount);h!==null&&(c.expectedCount=h)}else if(l.snapshotVersion.compareTo(Fe.min())>0){c.readTime=rp(o,l.snapshotVersion.toTimestamp());const h=cv(o,l.expectedCount);h!==null&&(c.expectedCount=h)}return c}(this.serializer,e);const r=G5(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=hv(this.serializer),n.removeTarget=e,this.q_(n)}}class L3 extends FI{constructor(e,n,r,s,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,l),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ot(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ot(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ot(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=W5(e.writeResults,e.commitTime),r=Ls(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=hv(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>z5(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{}class F3 extends j3{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new ye(re.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Go(e,uv(n,r),s,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ye(re.UNKNOWN,o.toString())})}Ho(e,n,r,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Ho(e,uv(n,r),s,l,c,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ye(re.UNKNOWN,l.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class U3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ki(n),this.aa=!1):_e("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va="RemoteStore";class B3{constructor(e,n,r,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(l=>{r.enqueueAndForget(async()=>{Ga(this)&&(_e(Va,"Restarting streams for network reachability change."),await async function(d){const h=Be(d);h.Ea.add(4),await Pd(h),h.Ra.set("Unknown"),h.Ea.delete(4),await Up(h)}(this))})}),this.Ra=new U3(r,s)}}async function Up(t){if(Ga(t))for(const e of t.da)await e(!0)}async function Pd(t){for(const e of t.da)await e(!1)}function UI(t,e){const n=Be(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Q0(n)?Y0(n):bc(n).O_()&&G0(n,e))}function K0(t,e){const n=Be(t),r=bc(n);n.Ia.delete(e),r.O_()&&BI(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ga(n)&&n.Ra.set("Unknown"))}function G0(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Fe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}bc(t).Y_(e)}function BI(t,e){t.Va.Ue(e),bc(t).Z_(e)}function Y0(t){t.Va=new O5({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),bc(t).start(),t.Ra.ua()}function Q0(t){return Ga(t)&&!bc(t).x_()&&t.Ia.size>0}function Ga(t){return Be(t).Ea.size===0}function $I(t){t.Va=void 0}async function $3(t){t.Ra.set("Online")}async function z3(t){t.Ia.forEach((e,n)=>{G0(t,e)})}async function W3(t,e){$I(t),Q0(t)?(t.Ra.ha(e),Y0(t)):t.Ra.set("Unknown")}async function H3(t,e,n){if(t.Ra.set("Online"),e instanceof kI&&e.state===2&&e.cause)try{await async function(s,o){const l=o.cause;for(const c of o.targetIds)s.Ia.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s.Ia.delete(c),s.Va.removeTarget(c))}(t,e)}catch(r){_e(Va,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ip(t,r)}else if(e instanceof Nf?t.Va.Ze(e):e instanceof SI?t.Va.st(e):t.Va.tt(e),!n.isEqual(Fe.min()))try{const r=await LI(t.localStore);n.compareTo(r)>=0&&await function(o,l){const c=o.Va.Tt(l);return c.targetChanges.forEach((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const m=o.Ia.get(h);m&&o.Ia.set(h,m.withResumeToken(d.resumeToken,l))}}),c.targetMismatches.forEach((d,h)=>{const m=o.Ia.get(d);if(!m)return;o.Ia.set(d,m.withResumeToken(bn.EMPTY_BYTE_STRING,m.snapshotVersion)),BI(o,d);const g=new xo(m.target,d,h,m.sequenceNumber);G0(o,g)}),o.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(r){_e(Va,"Failed to raise snapshot:",r),await ip(t,r)}}async function ip(t,e,n){if(!_c(e))throw e;t.Ea.add(1),await Pd(t),t.Ra.set("Offline"),n||(n=()=>LI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{_e(Va,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Up(t)})}function zI(t,e){return e().catch(n=>ip(t,n,e))}async function Bp(t){const e=Be(t),n=No(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:N0;for(;q3(e);)try{const s=await I3(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,K3(e,s)}catch(s){await ip(e,s)}WI(e)&&HI(e)}function q3(t){return Ga(t)&&t.Ta.length<10}function K3(t,e){t.Ta.push(e);const n=No(t);n.O_()&&n.X_&&n.ea(e.mutations)}function WI(t){return Ga(t)&&!No(t).x_()&&t.Ta.length>0}function HI(t){No(t).start()}async function G3(t){No(t).ra()}async function Y3(t){const e=No(t);for(const n of t.Ta)e.ea(n.mutations)}async function Q3(t,e,n){const r=t.Ta.shift(),s=U0.from(r,e,n);await zI(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Bp(t)}async function X3(t,e){e&&No(t).X_&&await async function(r,s){if(function(l){return N5(l)&&l!==re.ABORTED}(s.code)){const o=r.Ta.shift();No(r).B_(),await zI(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),await Bp(r)}}(t,e),WI(t)&&HI(t)}async function eT(t,e){const n=Be(t);n.asyncQueue.verifyOperationInProgress(),_e(Va,"RemoteStore received new credentials");const r=Ga(n);n.Ea.add(3),await Pd(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Up(n)}async function J3(t,e){const n=Be(t);e?(n.Ea.delete(2),await Up(n)):e||(n.Ea.add(2),await Pd(n),n.Ra.set("Unknown"))}function bc(t){return t.ma||(t.ma=function(n,r,s){const o=Be(n);return o.sa(),new V3(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{Xo:$3.bind(null,t),t_:z3.bind(null,t),r_:W3.bind(null,t),H_:H3.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Q0(t)?Y0(t):t.Ra.set("Unknown")):(await t.ma.stop(),$I(t))})),t.ma}function No(t){return t.fa||(t.fa=function(n,r,s){const o=Be(n);return o.sa(),new L3(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:G3.bind(null,t),r_:X3.bind(null,t),ta:Y3.bind(null,t),na:Q3.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Bp(t)):(await t.fa.stop(),t.Ta.length>0&&(_e(Va,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(e,n,r,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new bi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,o){const l=Date.now()+r,c=new X0(e,n,l,s,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function J0(t,e){if(ki("AsyncQueue",`${e}: ${t}`),_c(t))return new ye(re.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{static emptySet(e){return new Jl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ae.comparator(n.key,r.key):(n,r)=>Ae.comparator(n.key,r.key),this.keyedMap=ku(),this.sortedSet=new Nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Jl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Jl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(){this.ga=new Nt(Ae.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ve(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class uc{constructor(e,n,r,s,o,l,c,d,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,s,o){const l=[];return n.forEach(c=>{l.push({type:0,doc:c})}),new uc(e,n,Jl.emptySet(n),l,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class eF{constructor(){this.queries=nT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=Be(n),o=s.queries;s.queries=nT(),o.forEach((l,c)=>{for(const d of c.Sa)d.onError(r)})})(this,new ye(re.ABORTED,"Firestore shutting down"))}}function nT(){return new Ka(t=>hI(t),Mp)}async function qI(t,e){const n=Be(t);let r=3;const s=e.query;let o=n.queries.get(s);o?!o.ba()&&e.Da()&&(r=2):(o=new Z3,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(s,!0);break;case 1:o.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(l){const c=J0(l,`Initialization of query '${Fl(e.query)}' failed`);return void e.onError(c)}n.queries.set(s,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&Z0(n)}async function KI(t,e){const n=Be(t),r=e.query;let s=3;const o=n.queries.get(r);if(o){const l=o.Sa.indexOf(e);l>=0&&(o.Sa.splice(l,1),o.Sa.length===0?s=e.Da()?0:1:!o.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function tF(t,e){const n=Be(t);let r=!1;for(const s of e){const o=s.query,l=n.queries.get(o);if(l){for(const c of l.Sa)c.Fa(s)&&(r=!0);l.wa=s}}r&&Z0(n)}function nF(t,e,n){const r=Be(t),s=r.queries.get(e);if(s)for(const o of s.Sa)o.onError(n);r.queries.delete(e)}function Z0(t){t.Ca.forEach(e=>{e.next()})}var mv,rT;(rT=mv||(mv={})).Ma="default",rT.Cache="cache";class GI{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new uc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=uc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==mv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e){this.key=e}}class QI{constructor(e){this.key=e}}class rF{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ge(),this.mutatedKeys=Ge(),this.eu=fI(e),this.tu=new Jl(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new tT,s=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,l=s,c=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((m,g)=>{const w=s.get(m),E=Op(this.query,g)?g:null,S=!!w&&this.mutatedKeys.has(w.key),T=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let k=!1;w&&E?w.data.isEqual(E.data)?S!==T&&(r.track({type:3,doc:E}),k=!0):this.su(w,E)||(r.track({type:2,doc:E}),k=!0,(d&&this.eu(E,d)>0||h&&this.eu(E,h)<0)&&(c=!0)):!w&&E?(r.track({type:0,doc:E}),k=!0):w&&!E&&(r.track({type:1,doc:w}),k=!0,(d||h)&&(c=!0)),k&&(E?(l=l.add(E),o=T?o.add(m):o.delete(m)):(l=l.delete(m),o=o.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),o=o.delete(m.key),r.track({type:1,doc:m})}return{tu:l,iu:r,Cs:c,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort((m,g)=>function(E,S){const T=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ve(20277,{Rt:k})}};return T(E)-T(S)}(m.type,g.type)||this.eu(m.doc,g.doc)),this.ou(r),s=s??!1;const c=n&&!s?this._u():[],d=this.Xa.size===0&&this.current&&!s?1:0,h=d!==this.Za;return this.Za=d,l.length!==0||h?{snapshot:new uc(this.query,e.tu,o,l,e.mutatedKeys,d===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new tT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ge(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new QI(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new YI(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ge();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return uc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ew="SyncEngine";class sF{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class iF{constructor(e){this.key=e,this.hu=!1}}class oF{constructor(e,n,r,s,o,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Ka(c=>hI(c),Mp),this.Iu=new Map,this.Eu=new Set,this.du=new Nt(Ae.comparator),this.Au=new Map,this.Ru=new z0,this.Vu={},this.mu=new Map,this.fu=cc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function aF(t,e,n=!0){const r=nC(t);let s;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await XI(r,e,n,!0),s}async function lF(t,e){const n=nC(t);await XI(n,e,!0,!1)}async function XI(t,e,n,r){const s=await C3(t.localStore,Vs(e)),o=s.targetId,l=t.sharedClientState.addLocalQueryTarget(o,n);let c;return r&&(c=await cF(t,e,o,l==="current",s.resumeToken)),t.isPrimaryClient&&n&&UI(t.remoteStore,s),c}async function cF(t,e,n,r,s){t.pu=(g,w,E)=>async function(T,k,P,R){let M=k.view.ru(P);M.Cs&&(M=await YE(T.localStore,k.query,!1).then(({documents:D})=>k.view.ru(D,M)));const j=R&&R.targetChanges.get(k.targetId),B=R&&R.targetMismatches.get(k.targetId)!=null,K=k.view.applyChanges(M,T.isPrimaryClient,j,B);return iT(T,k.targetId,K.au),K.snapshot}(t,g,w,E);const o=await YE(t.localStore,e,!0),l=new rF(e,o.Qs),c=l.ru(o.documents),d=Cd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),h=l.applyChanges(c,t.isPrimaryClient,d);iT(t,n,h.au);const m=new sF(e,n,l);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function uF(t,e,n){const r=Be(t),s=r.Tu.get(e),o=r.Iu.get(s.targetId);if(o.length>1)return r.Iu.set(s.targetId,o.filter(l=>!Mp(l,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await fv(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&K0(r.remoteStore,s.targetId),gv(r,s.targetId)}).catch(wc)):(gv(r,s.targetId),await fv(r.localStore,s.targetId,!0))}async function dF(t,e){const n=Be(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),K0(n.remoteStore,r.targetId))}async function hF(t,e,n){const r=wF(t);try{const s=await function(l,c){const d=Be(l),h=yt.now(),m=c.reduce((E,S)=>E.add(S.key),Ge());let g,w;return d.persistence.runTransaction("Locally write mutations","readwrite",E=>{let S=Ci(),T=Ge();return d.Ns.getEntries(E,m).next(k=>{S=k,S.forEach((P,R)=>{R.isValidDocument()||(T=T.add(P))})}).next(()=>d.localDocuments.getOverlayedDocuments(E,S)).next(k=>{g=k;const P=[];for(const R of c){const M=I5(R,g.get(R.key).overlayedDocument);M!=null&&P.push(new $o(R.key,M,sI(M.value.mapValue),ls.exists(!0)))}return d.mutationQueue.addMutationBatch(E,h,P,c)}).next(k=>{w=k;const P=k.applyToLocalDocumentSet(g,T);return d.documentOverlayCache.saveOverlays(E,k.batchId,P)})}).then(()=>({batchId:w.batchId,changes:mI(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(l,c,d){let h=l.Vu[l.currentUser.toKey()];h||(h=new Nt(Ke)),h=h.insert(c,d),l.Vu[l.currentUser.toKey()]=h}(r,s.batchId,n),await Ad(r,s.changes),await Bp(r.remoteStore)}catch(s){const o=J0(s,"Failed to persist write");n.reject(o)}}async function JI(t,e){const n=Be(t);try{const r=await S3(n.localStore,e);e.targetChanges.forEach((s,o)=>{const l=n.Au.get(o);l&&(ot(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.hu=!0:s.modifiedDocuments.size>0?ot(l.hu,14607):s.removedDocuments.size>0&&(ot(l.hu,42227),l.hu=!1))}),await Ad(n,r,e)}catch(r){await wc(r)}}function sT(t,e,n){const r=Be(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((o,l)=>{const c=l.view.va(e);c.snapshot&&s.push(c.snapshot)}),function(l,c){const d=Be(l);d.onlineState=c;let h=!1;d.queries.forEach((m,g)=>{for(const w of g.Sa)w.va(c)&&(h=!0)}),h&&Z0(d)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function fF(t,e,n){const r=Be(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),o=s&&s.key;if(o){let l=new Nt(Ae.comparator);l=l.insert(o,Pn.newNoDocument(o,Fe.min()));const c=Ge().add(o),d=new jp(Fe.min(),new Map,new Nt(Ke),l,c);await JI(r,d),r.du=r.du.remove(o),r.Au.delete(e),tw(r)}else await fv(r.localStore,e,!1).then(()=>gv(r,e,n)).catch(wc)}async function pF(t,e){const n=Be(t),r=e.batch.batchId;try{const s=await T3(n.localStore,e);eC(n,r,null),ZI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ad(n,s)}catch(s){await wc(s)}}async function mF(t,e,n){const r=Be(t);try{const s=await function(l,c){const d=Be(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let m;return d.mutationQueue.lookupMutationBatch(h,c).next(g=>(ot(g!==null,37113),m=g.keys(),d.mutationQueue.removeMutationBatch(h,g))).next(()=>d.mutationQueue.performConsistencyCheck(h)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(h,m,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,m)).next(()=>d.localDocuments.getDocuments(h,m))})}(r.localStore,e);eC(r,e,n),ZI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ad(r,s)}catch(s){await wc(s)}}function ZI(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function eC(t,e,n){const r=Be(t);let s=r.Vu[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function gv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||tC(t,r)})}function tC(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(K0(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),tw(t))}function iT(t,e,n){for(const r of n)r instanceof YI?(t.Ru.addReference(r.key,e),gF(t,r)):r instanceof QI?(_e(ew,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||tC(t,r.key)):Ve(19791,{wu:r})}function gF(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(_e(ew,"New document in limbo: "+n),t.Eu.add(r),tw(t))}function tw(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ae(ft.fromString(e)),r=t.fu.next();t.Au.set(r,new iF(n)),t.du=t.du.insert(n,r),UI(t.remoteStore,new xo(Vs(L0(n.path)),r,"TargetPurposeLimboResolution",Rp.ce))}}async function Ad(t,e,n){const r=Be(t),s=[],o=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach((c,d)=>{l.push(r.pu(d,e,n).then(h=>{var m;if((h||n)&&r.isPrimaryClient){const g=h?!h.fromCache:(m=n==null?void 0:n.targetChanges.get(d.targetId))==null?void 0:m.current;r.sharedClientState.updateQueryState(d.targetId,g?"current":"not-current")}if(h){s.push(h);const g=H0.As(d.targetId,h);o.push(g)}}))}),await Promise.all(l),r.Pu.H_(s),await async function(d,h){const m=Be(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>ae.forEach(h,w=>ae.forEach(w.Es,E=>m.persistence.referenceDelegate.addReference(g,w.targetId,E)).next(()=>ae.forEach(w.ds,E=>m.persistence.referenceDelegate.removeReference(g,w.targetId,E)))))}catch(g){if(!_c(g))throw g;_e(q0,"Failed to update sequence numbers: "+g)}for(const g of h){const w=g.targetId;if(!g.fromCache){const E=m.Ms.get(w),S=E.snapshotVersion,T=E.withLastLimboFreeSnapshotVersion(S);m.Ms=m.Ms.insert(w,T)}}}(r.localStore,o))}async function yF(t,e){const n=Be(t);if(!n.currentUser.isEqual(e)){_e(ew,"User change. New user:",e.toKey());const r=await VI(n.localStore,e);n.currentUser=e,function(o,l){o.mu.forEach(c=>{c.forEach(d=>{d.reject(new ye(re.CANCELLED,l))})}),o.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ad(n,r.Ls)}}function vF(t,e){const n=Be(t),r=n.Au.get(e);if(r&&r.hu)return Ge().add(r.key);{let s=Ge();const o=n.Iu.get(e);if(!o)return s;for(const l of o){const c=n.Tu.get(l);s=s.unionWith(c.view.nu)}return s}}function nC(t){const e=Be(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=JI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fF.bind(null,e),e.Pu.H_=tF.bind(null,e.eventManager),e.Pu.yu=nF.bind(null,e.eventManager),e}function wF(t){const e=Be(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mF.bind(null,e),e}class op{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Fp(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return E3(this.persistence,new _3,e.initialUser,this.serializer)}Cu(e){return new OI(W0.mi,this.serializer)}Du(e){return new A3}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}op.provider={build:()=>new op};class _F extends op{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ot(this.persistence.referenceDelegate instanceof sp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new i3(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ir.withCacheSize(this.cacheSizeBytes):ir.DEFAULT;return new OI(r=>sp.mi(r,n),this.serializer)}}class yv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>sT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=yF.bind(null,this.syncEngine),await J3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new eF}()}createDatastore(e){const n=Fp(e.databaseInfo.databaseId),r=function(o){return new O3(o)}(e.databaseInfo);return function(o,l,c,d){return new F3(o,l,c,d)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,o,l,c){return new B3(r,s,o,l,c)}(this.localStore,this.datastore,e.asyncQueue,n=>sT(this.syncEngine,n,0),function(){return JE.v()?new JE:new R3}())}createSyncEngine(e,n){return function(s,o,l,c,d,h,m){const g=new oF(s,o,l,c,d,h);return m&&(g.gu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const o=Be(s);_e(Va,"RemoteStore shutting down."),o.Ea.add(5),await Pd(o),o.Aa.shutdown(),o.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}yv.provider={build:()=>new yv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ki("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do="FirestoreClient";class xF{constructor(e,n,r,s,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Cn.UNAUTHENTICATED,this.clientId=R0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async l=>{_e(Do,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(_e(Do,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new bi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=J0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ly(t,e){t.asyncQueue.verifyOperationInProgress(),_e(Do,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await VI(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function oT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await bF(t);_e(Do,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>eT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>eT(e.remoteStore,s)),t._onlineComponents=e}async function bF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){_e(Do,"Using user provided OfflineComponentProvider");try{await ly(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===re.FAILED_PRECONDITION||s.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;ic("Error using user provided cache. Falling back to memory cache: "+n),await ly(t,new op)}}else _e(Do,"Using default OfflineComponentProvider"),await ly(t,new _F(void 0));return t._offlineComponents}async function sC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(_e(Do,"Using user provided OnlineComponentProvider"),await oT(t,t._uninitializedComponentsProvider._online)):(_e(Do,"Using default OnlineComponentProvider"),await oT(t,new yv))),t._onlineComponents}function EF(t){return sC(t).then(e=>e.syncEngine)}async function iC(t){const e=await sC(t),n=e.eventManager;return n.onListen=aF.bind(null,e.syncEngine),n.onUnlisten=uF.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=lF.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=dF.bind(null,e.syncEngine),n}function TF(t,e,n={}){const r=new bi;return t.asyncQueue.enqueueAndForget(async()=>function(o,l,c,d,h){const m=new rC({next:w=>{m.Nu(),l.enqueueAndForget(()=>KI(o,g));const E=w.docs.has(c);!E&&w.fromCache?h.reject(new ye(re.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&w.fromCache&&d&&d.source==="server"?h.reject(new ye(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(w)},error:w=>h.reject(w)}),g=new GI(L0(c.path),m,{includeMetadataChanges:!0,qa:!0});return qI(o,g)}(await iC(t),t.asyncQueue,e,n,r)),r.promise}function SF(t,e,n={}){const r=new bi;return t.asyncQueue.enqueueAndForget(async()=>function(o,l,c,d,h){const m=new rC({next:w=>{m.Nu(),l.enqueueAndForget(()=>KI(o,g)),w.fromCache&&d.source==="server"?h.reject(new ye(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(w)},error:w=>h.reject(w)}),g=new GI(c,m,{includeMetadataChanges:!0,qa:!0});return qI(o,g)}(await iC(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC="firestore.googleapis.com",lT=!0;class cT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ye(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=aC,this.ssl=lT}else this.host=e.host,this.ssl=e.ssl??lT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=MI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<r3)throw new ye(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}U4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=oC(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ye(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ye(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ye(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $p{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new A4;switch(r.type){case"firstParty":return new M4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ye(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=aT.get(n);r&&(_e("ComponentProvider","Removing Datastore"),aT.delete(n),r.terminate())}(this),Promise.resolve()}}function kF(t,e,n,r={}){var h;t=Ii(t,$p);const s=Fo(e),o=t._getSettings(),l={...o,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;s&&(y0(`https://${c}`),v0("Firestore",!0)),o.host!==aC&&o.host!==c&&ic("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...o,host:c,ssl:s,emulatorOptions:r};if(!Ra(d,l)&&(t._setSettings(d),r.mockUserToken)){let m,g;if(typeof r.mockUserToken=="string")m=r.mockUserToken,g=Cn.MOCK_USER;else{m=ek(r.mockUserToken,(h=t._app)==null?void 0:h.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new ye(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Cn(w)}t._authCredentials=new R4(new qk(m,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ya(this.firestore,e,this._query)}}class Xt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new So(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xt(this.firestore,e,this._key)}toJSON(){return{type:Xt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(kd(n,Xt._jsonSchema))return new Xt(e,r||null,new Ae(ft.fromString(n.referencePath)))}}Xt._jsonSchemaVersion="firestore/documentReference/1.0",Xt._jsonSchema={type:Qt("string",Xt._jsonSchemaVersion),referencePath:Qt("string")};class So extends Ya{constructor(e,n,r){super(e,n,L0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xt(this.firestore,null,new Ae(e))}withConverter(e){return new So(this.firestore,e,this._path)}}function Ks(t,e,...n){if(t=Rt(t),Kk("collection","path",e),t instanceof $p){const r=ft.fromString(e,...n);return bE(r),new So(t,null,r)}{if(!(t instanceof Xt||t instanceof So))throw new ye(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ft.fromString(e,...n));return bE(r),new So(t.firestore,null,r)}}function jr(t,e,...n){if(t=Rt(t),arguments.length===1&&(e=R0.newId()),Kk("doc","path",e),t instanceof $p){const r=ft.fromString(e,...n);return xE(r),new Xt(t,null,new Ae(r))}{if(!(t instanceof Xt||t instanceof So))throw new ye(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ft.fromString(e,...n));return xE(r),new Xt(t.firestore,t instanceof So?t.converter:null,new Ae(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="AsyncQueue";class dT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new jI(this,"async_queue_retry"),this._c=()=>{const r=ay();r&&_e(uT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=ay();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ay();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new bi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!_c(e))throw e;_e(uT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,ki("INTERNAL UNHANDLED ERROR: ",hT(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=X0.createAndSchedule(this,e,n,r,o=>this.hc(o));return this.tc.push(s),s}uc(){this.nc&&Ve(47125,{Pc:hT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function hT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Ec extends $p{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new dT,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new dT(e),this._firestoreClient=void 0,await e}}}function IF(t,e){const n=typeof t=="object"?t:x0(),r=typeof t=="string"?t:Zf,s=kp(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=X1("firestore");o&&kF(s,...o)}return s}function nw(t){if(t._terminated)throw new ye(re.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||CF(t),t._firestoreClient}function CF(t){var r,s,o;const e=t._freezeSettings(),n=function(c,d,h,m){return new X4(c,d,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,oC(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new xF(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(c){const d=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(d),_online:d}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Lr(bn.fromBase64String(e))}catch(n){throw new ye(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Lr(bn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Lr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(kd(e,Lr._jsonSchema))return Lr.fromBase64String(e.bytes)}}Lr._jsonSchemaVersion="firestore/bytes/1.0",Lr._jsonSchema={type:Qt("string",Lr._jsonSchemaVersion),bytes:Qt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ye(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ye(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ye(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:js._jsonSchemaVersion}}static fromJSON(e){if(kd(e,js._jsonSchema))return new js(e.latitude,e.longitude)}}js._jsonSchemaVersion="firestore/geoPoint/1.0",js._jsonSchema={type:Qt("string",js._jsonSchemaVersion),latitude:Qt("number"),longitude:Qt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Fs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(kd(e,Fs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Fs(e.vectorValues);throw new ye(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Fs._jsonSchemaVersion="firestore/vectorValue/1.0",Fs._jsonSchema={type:Qt("string",Fs._jsonSchemaVersion),vectorValues:Qt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PF=/^__.*__$/;class AF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new $o(e,this.data,this.fieldMask,n,this.fieldTransforms):new Id(e,this.data,n,this.fieldTransforms)}}class lC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new $o(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function cC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ve(40011,{Ac:t})}}class rw{constructor(e,n,r,s,o,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new rw({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ap(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(cC(this.Ac)&&PF.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class RF{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Fp(e)}Cc(e,n,r,s=!1){return new rw({Ac:e,methodName:n,Dc:r,path:xn.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sw(t){const e=t._freezeSettings(),n=Fp(t._databaseId);return new RF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function NF(t,e,n,r,s,o={}){const l=t.Cc(o.merge||o.mergeFields?2:0,e,n,s);ow("Data must be an object, but it was:",l,r);const c=uC(r,l);let d,h;if(o.merge)d=new xr(l.fieldMask),h=l.fieldTransforms;else if(o.mergeFields){const m=[];for(const g of o.mergeFields){const w=vv(e,g,n);if(!l.contains(w))throw new ye(re.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);hC(m,w)||m.push(w)}d=new xr(m),h=l.fieldTransforms.filter(g=>d.covers(g.field))}else d=null,h=l.fieldTransforms;return new AF(new ar(c),d,h)}class Hp extends Wp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Hp}}class iw extends Wp{_toFieldTransform(e){return new E5(e.path,new td)}isEqual(e){return e instanceof iw}}function DF(t,e,n,r){const s=t.Cc(1,e,n);ow("Data must be an object, but it was:",s,r);const o=[],l=ar.empty();Bo(r,(d,h)=>{const m=aw(e,d,n);h=Rt(h);const g=s.yc(m);if(h instanceof Hp)o.push(m);else{const w=Rd(h,g);w!=null&&(o.push(m),l.set(m,w))}});const c=new xr(o);return new lC(l,c,s.fieldTransforms)}function MF(t,e,n,r,s,o){const l=t.Cc(1,e,n),c=[vv(e,r,n)],d=[s];if(o.length%2!=0)throw new ye(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<o.length;w+=2)c.push(vv(e,o[w])),d.push(o[w+1]);const h=[],m=ar.empty();for(let w=c.length-1;w>=0;--w)if(!hC(h,c[w])){const E=c[w];let S=d[w];S=Rt(S);const T=l.yc(E);if(S instanceof Hp)h.push(E);else{const k=Rd(S,T);k!=null&&(h.push(E),m.set(E,k))}}const g=new xr(h);return new lC(m,g,l.fieldTransforms)}function OF(t,e,n,r=!1){return Rd(n,t.Cc(r?4:3,e))}function Rd(t,e){if(dC(t=Rt(t)))return ow("Unsupported field value:",e,t),uC(t,e);if(t instanceof Wp)return function(r,s){if(!cC(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const o=[];let l=0;for(const c of r){let d=Rd(c,s.wc(l));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),l++}return{arrayValue:{values:o}}}(t,e)}return function(r,s){if((r=Rt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return _5(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=yt.fromDate(r);return{timestampValue:rp(s.serializer,o)}}if(r instanceof yt){const o=new yt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:rp(s.serializer,o)}}if(r instanceof js)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Lr)return{bytesValue:II(s.serializer,r._byteString)};if(r instanceof Xt){const o=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw s.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:$0(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Fs)return function(l,c){return{mapValue:{fields:{[nI]:{stringValue:rI},[ep]:{arrayValue:{values:l.toArray().map(h=>{if(typeof h!="number")throw c.Sc("VectorValues must only contain numeric values.");return j0(c.serializer,h)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${Ap(r)}`)}(t,e)}function uC(t,e){const n={};return Qk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bo(t,(r,s)=>{const o=Rd(s,e.mc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function dC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof yt||t instanceof js||t instanceof Lr||t instanceof Xt||t instanceof Wp||t instanceof Fs)}function ow(t,e,n){if(!dC(n)||!Gk(n)){const r=Ap(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function vv(t,e,n){if((e=Rt(e))instanceof zp)return e._internalPath;if(typeof e=="string")return aw(t,e);throw ap("Field path arguments must be of type string or ",t,!1,void 0,n)}const VF=new RegExp("[~\\*/\\[\\]]");function aw(t,e,n){if(e.search(VF)>=0)throw ap(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new zp(...e.split("."))._internalPath}catch{throw ap(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ap(t,e,n,r,s){const o=r&&!r.isEmpty(),l=s!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(o||l)&&(d+=" (found",o&&(d+=` in field ${r}`),l&&(d+=` in document ${s}`),d+=")"),new ye(re.INVALID_ARGUMENT,c+t+d)}function hC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e,n,r,s,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new LF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(qp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class LF extends fC{data(){return super.data()}}function qp(t,e){return typeof e=="string"?aw(t,e):e instanceof zp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ye(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lw{}class pC extends lw{}function An(t,e,...n){let r=[];e instanceof lw&&r.push(e),r=r.concat(n),function(o){const l=o.filter(d=>d instanceof cw).length,c=o.filter(d=>d instanceof Kp).length;if(l>1||l>0&&c>0)throw new ye(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Kp extends pC{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Kp(e,n,r)}_apply(e){const n=this._parse(e);return mC(e._query,n),new Ya(e.firestore,e.converter,av(e._query,n))}_parse(e){const n=sw(e.firestore);return function(o,l,c,d,h,m,g){let w;if(h.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new ye(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){pT(g,m);const S=[];for(const T of g)S.push(fT(d,o,T));w={arrayValue:{values:S}}}else w=fT(d,o,g)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||pT(g,m),w=OF(c,l,g,m==="in"||m==="not-in");return Yt.create(h,m,w)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Bn(t,e,n){const r=e,s=qp("where",t);return Kp._create(s,r,n)}class cw extends lw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new cw(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ds.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,o){let l=s;const c=o.getFlattenedFilters();for(const d of c)mC(l,d),l=av(l,d)}(e._query,n),new Ya(e.firestore,e.converter,av(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class uw extends pC{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new uw(e,n)}_apply(e){const n=function(s,o,l){if(s.startAt!==null)throw new ye(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ye(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ed(o,l)}(e._query,this._field,this._direction);return new Ya(e.firestore,e.converter,function(s,o){const l=s.explicitOrderBy.concat([o]);return new xc(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function FF(t,e="asc"){const n=e,r=qp("orderBy",t);return uw._create(r,n)}function fT(t,e,n){if(typeof(n=Rt(n))=="string"){if(n==="")throw new ye(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dI(e)&&n.indexOf("/")!==-1)throw new ye(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ft.fromString(n));if(!Ae.isDocumentKey(r))throw new ye(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return AE(t,new Ae(r))}if(n instanceof Xt)return AE(t,n._key);throw new ye(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ap(n)}.`)}function pT(t,e){if(!Array.isArray(t)||t.length===0)throw new ye(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function mC(t,e){const n=function(s,o){for(const l of s)for(const c of l.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ye(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ye(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class UF{convertValue(e,n="none"){switch(Ro(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ao(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ve(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Bo(e,(s,o)=>{r[s]=this.convertValue(o,n)}),r}convertVectorValue(e){var r,s,o;const n=(o=(s=(r=e.fields)==null?void 0:r[ep].arrayValue)==null?void 0:s.values)==null?void 0:o.map(l=>zt(l.doubleValue));return new Fs(n)}convertGeoPoint(e){return new js(zt(e.latitude),zt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Dp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Xu(e));default:return null}}convertTimestamp(e){const n=Po(e);return new yt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ft.fromString(e);ot(DI(r),9688,{name:e});const s=new Ju(r.get(1),r.get(3)),o=new Ae(r.popFirst(5));return s.isEqual(n)||ki(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BF(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Cu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ka extends fC{constructor(e,n,r,s,o,l){super(e,n,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Df(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(qp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ka._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ka._jsonSchemaVersion="firestore/documentSnapshot/1.0",ka._jsonSchema={type:Qt("string",ka._jsonSchemaVersion),bundleSource:Qt("string","DocumentSnapshot"),bundleName:Qt("string"),bundle:Qt("string")};class Df extends ka{data(e={}){return super.data(e)}}class Zl{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Cu(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Df(this._firestore,this._userDataWriter,r.key,r,new Cu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ye(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(c=>{const d=new Df(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Cu(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{const d=new Df(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Cu(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let h=-1,m=-1;return c.type!==0&&(h=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),m=l.indexOf(c.doc.key)),{type:$F(c.type),doc:d,oldIndex:h,newIndex:m}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Zl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=R0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function $F(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ve(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dw(t){t=Ii(t,Xt);const e=Ii(t.firestore,Ec);return TF(nw(e),t._key).then(n=>zF(e,t,n))}Zl._jsonSchemaVersion="firestore/querySnapshot/1.0",Zl._jsonSchema={type:Qt("string",Zl._jsonSchemaVersion),bundleSource:Qt("string","QuerySnapshot"),bundleName:Qt("string"),bundle:Qt("string")};class gC extends UF{constructor(e){super(),this.firestore=e}convertBytes(e){return new Lr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Xt(this.firestore,null,n)}}function Gp(t){t=Ii(t,Ya);const e=Ii(t.firestore,Ec),n=nw(e),r=new gC(e);return jF(t._query),SF(n,t._query).then(s=>new Zl(e,r,t,s))}function lp(t,e,n,...r){t=Ii(t,Xt);const s=Ii(t.firestore,Ec),o=sw(s);let l;return l=typeof(e=Rt(e))=="string"||e instanceof zp?MF(o,"updateDoc",t._key,e,n,r):DF(o,"updateDoc",t._key,e),hw(s,[l.toMutation(t._key,ls.exists(!0))])}function Yp(t){return hw(Ii(t.firestore,Ec),[new F0(t._key,ls.none())])}function Tc(t,e){const n=Ii(t.firestore,Ec),r=jr(t),s=BF(t.converter,e);return hw(n,[NF(sw(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,ls.exists(!1))]).then(()=>r)}function hw(t,e){return function(r,s){const o=new bi;return r.asyncQueue.enqueueAndForget(async()=>hF(await EF(r),s,o)),o.promise}(nw(t),e)}function zF(t,e,n){const r=n.docs.get(e._key),s=new gC(t);return new ka(t,s,e._key,r,new Cu(n.hasPendingWrites,n.fromCache),e.converter)}function as(){return new iw("serverTimestamp")}(function(e,n=!0){(function(s){vc=s})(Ha),Na(new Io("firestore",(r,{instanceIdentifier:s,options:o})=>{const l=r.getProvider("app").getImmediate(),c=new Ec(new N4(r.getProvider("auth-internal")),new O4(l,r.getProvider("app-check-internal")),function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new ye(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ju(h.options.projectId,m)}(l,s),l);return o={useFetchStreams:n,...o},c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Ds(yE,vE,e),Ds(yE,vE,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC="firebasestorage.googleapis.com",vC="storageBucket",WF=120*1e3,HF=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt extends Js{constructor(e,n,r=0){super(cy(e),`Firebase Storage: ${n} (${cy(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,jt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return cy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Lt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Lt||(Lt={}));function cy(t){return"storage/"+t}function fw(){const t="An unknown error occurred, please check the error payload for server response.";return new jt(Lt.UNKNOWN,t)}function qF(t){return new jt(Lt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function KF(t){return new jt(Lt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function GF(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new jt(Lt.UNAUTHENTICATED,t)}function YF(){return new jt(Lt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function QF(t){return new jt(Lt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function XF(){return new jt(Lt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function JF(){return new jt(Lt.CANCELED,"User canceled the upload/download.")}function ZF(t){return new jt(Lt.INVALID_URL,"Invalid URL '"+t+"'.")}function e6(t){return new jt(Lt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function t6(){return new jt(Lt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+vC+"' property when initializing the app?")}function n6(){return new jt(Lt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function r6(){return new jt(Lt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function s6(t){return new jt(Lt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function wv(t){return new jt(Lt.INVALID_ARGUMENT,t)}function wC(){return new jt(Lt.APP_DELETED,"The Firebase app was deleted.")}function i6(t){return new jt(Lt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ju(t,e){return new jt(Lt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function vu(t){throw new jt(Lt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=br.makeFromUrl(e,n)}catch{return new br(e,"")}if(r.path==="")return r;throw e6(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function o(j){j.path.charAt(j.path.length-1)==="/"&&(j.path_=j.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+s+l,"i"),d={bucket:1,path:3};function h(j){j.path_=decodeURIComponent(j.path)}const m="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",E=new RegExp(`^https?://${g}/${m}/b/${s}/o${w}`,"i"),S={bucket:1,path:3},T=n===yC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,k="([^?#]*)",P=new RegExp(`^https?://${T}/${s}/${k}`,"i"),M=[{regex:c,indices:d,postModify:o},{regex:E,indices:S,postModify:h},{regex:P,indices:{bucket:1,path:2},postModify:h}];for(let j=0;j<M.length;j++){const B=M[j],K=B.regex.exec(e);if(K){const D=K[B.indices.bucket];let C=K[B.indices.path];C||(C=""),r=new br(D,C),B.postModify(r);break}}if(r==null)throw ZF(e);return r}}class o6{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a6(t,e,n){let r=1,s=null,o=null,l=!1,c=0;function d(){return c===2}let h=!1;function m(...k){h||(h=!0,e.apply(null,k))}function g(k){s=setTimeout(()=>{s=null,t(E,d())},k)}function w(){o&&clearTimeout(o)}function E(k,...P){if(h){w();return}if(k){w(),m.call(null,k,...P);return}if(d()||l){w(),m.call(null,k,...P);return}r<64&&(r*=2);let M;c===1?(c=2,M=0):M=(r+Math.random())*1e3,g(M)}let S=!1;function T(k){S||(S=!0,w(),!h&&(s!==null?(k||(c=2),clearTimeout(s),g(0)):k||(c=1)))}return g(0),o=setTimeout(()=>{l=!0,T(!0)},n),T}function l6(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c6(t){return t!==void 0}function u6(t){return typeof t=="object"&&!Array.isArray(t)}function pw(t){return typeof t=="string"||t instanceof String}function mT(t){return mw()&&t instanceof Blob}function mw(){return typeof Blob<"u"}function gT(t,e,n,r){if(r<e)throw wv(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw wv(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function _C(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Ia;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ia||(Ia={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d6(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||s||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(e,n,r,s,o,l,c,d,h,m,g,w=!0,E=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=d,this.timeout_=h,this.progressCallback_=m,this.connectionFactory_=g,this.retry=w,this.isUsingEmulator=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,T)=>{this.resolve_=S,this.reject_=T,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new af(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=c=>{const d=c.loaded,h=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,h)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const c=o.getErrorCode()===Ia.NO_ERROR,d=o.getStatus();if(!c||d6(d,this.additionalRetryCodes_)&&this.retry){const m=o.getErrorCode()===Ia.ABORT;r(!1,new af(!1,null,m));return}const h=this.successCodes_.indexOf(d)!==-1;r(!0,new af(h,o))})},n=(r,s)=>{const o=this.resolve_,l=this.reject_,c=s.connection;if(s.wasSuccessCode)try{const d=this.callback_(c,c.getResponse());c6(d)?o(d):o()}catch(d){l(d)}else if(c!==null){const d=fw();d.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,d)):l(d)}else if(s.canceled){const d=this.appDelete_?wC():JF();l(d)}else{const d=XF();l(d)}};this.canceled_?n(!1,new af(!1,null,!0)):this.backoffId_=a6(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&l6(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class af{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function f6(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function p6(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function m6(t,e){e&&(t["X-Firebase-GMPID"]=e)}function g6(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function y6(t,e,n,r,s,o,l=!0,c=!1){const d=_C(t.urlParams),h=t.url+d,m=Object.assign({},t.headers);return m6(m,e),f6(m,n),p6(m,o),g6(m,r),new h6(h,t.method,m,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,l,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v6(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function w6(...t){const e=v6();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(mw())return new Blob(t);throw new jt(Lt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function _6(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x6(t){if(typeof atob>"u")throw s6("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class uy{constructor(e,n){this.data=e,this.contentType=n||null}}function b6(t,e){switch(t){case Rs.RAW:return new uy(xC(e));case Rs.BASE64:case Rs.BASE64URL:return new uy(bC(t,e));case Rs.DATA_URL:return new uy(T6(e),S6(e))}throw fw()}function xC(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,l=t.charCodeAt(++n);r=65536|(o&1023)<<10|l&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function E6(t){let e;try{e=decodeURIComponent(t)}catch{throw ju(Rs.DATA_URL,"Malformed data URL.")}return xC(e)}function bC(t,e){switch(t){case Rs.BASE64:{const s=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(s||o)throw ju(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Rs.BASE64URL:{const s=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(s||o)throw ju(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=x6(e)}catch(s){throw s.message.includes("polyfill")?s:ju(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class EC{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw ju(Rs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=k6(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function T6(t){const e=new EC(t);return e.base64?bC(Rs.BASE64,e.rest):E6(e.rest)}function S6(t){return new EC(t).contentType}function k6(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e,n){let r=0,s="";mT(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(mT(this.data_)){const r=this.data_,s=_6(r,e,n);return s===null?null:new _o(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new _o(r,!0)}}static getBlob(...e){if(mw()){const n=e.map(r=>r instanceof _o?r.data_:r);return new _o(w6.apply(null,n))}else{const n=e.map(l=>pw(l)?b6(Rs.RAW,l).data:l.data_);let r=0;n.forEach(l=>{r+=l.byteLength});const s=new Uint8Array(r);let o=0;return n.forEach(l=>{for(let c=0;c<l.length;c++)s[o++]=l[c]}),new _o(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(t){let e;try{e=JSON.parse(t)}catch{return null}return u6(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I6(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function C6(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function SC(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P6(t,e){return e}class Un{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||P6}}let lf=null;function A6(t){return!pw(t)||t.length<2?t:SC(t)}function kC(){if(lf)return lf;const t=[];t.push(new Un("bucket")),t.push(new Un("generation")),t.push(new Un("metageneration")),t.push(new Un("name","fullPath",!0));function e(o,l){return A6(l)}const n=new Un("name");n.xform=e,t.push(n);function r(o,l){return l!==void 0?Number(l):l}const s=new Un("size");return s.xform=r,t.push(s),t.push(new Un("timeCreated")),t.push(new Un("updated")),t.push(new Un("md5Hash",null,!0)),t.push(new Un("cacheControl",null,!0)),t.push(new Un("contentDisposition",null,!0)),t.push(new Un("contentEncoding",null,!0)),t.push(new Un("contentLanguage",null,!0)),t.push(new Un("contentType",null,!0)),t.push(new Un("metadata","customMetadata",!0)),lf=t,lf}function R6(t,e){function n(){const r=t.bucket,s=t.fullPath,o=new br(r,s);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function N6(t,e,n){const r={};r.type="file";const s=n.length;for(let o=0;o<s;o++){const l=n[o];r[l.local]=l.xform(r,e[l.server])}return R6(r,t),r}function IC(t,e,n){const r=TC(e);return r===null?null:N6(t,r,n)}function D6(t,e,n,r){const s=TC(e);if(s===null||!pw(s.downloadTokens))return null;const o=s.downloadTokens;if(o.length===0)return null;const l=encodeURIComponent;return o.split(",").map(h=>{const m=t.bucket,g=t.fullPath,w="/b/"+l(m)+"/o/"+l(g),E=gw(w,n,r),S=_C({alt:"media",token:h});return E+S})[0]}function M6(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const o=e[s];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class CC{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(t){if(!t)throw fw()}function O6(t,e){function n(r,s){const o=IC(t,s,e);return PC(o!==null),o}return n}function V6(t,e){function n(r,s){const o=IC(t,s,e);return PC(o!==null),D6(o,s,t.host,t._protocol)}return n}function AC(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=YF():s=GF():n.getStatus()===402?s=KF(t.bucket):n.getStatus()===403?s=QF(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function L6(t){const e=AC(t);function n(r,s){let o=e(r,s);return r.getStatus()===404&&(o=qF(t.path)),o.serverResponse=s.serverResponse,o}return n}function j6(t,e,n){const r=e.fullServerUrl(),s=gw(r,t.host,t._protocol),o="GET",l=t.maxOperationRetryTime,c=new CC(s,o,V6(t,n),l);return c.errorHandler=L6(e),c}function F6(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function U6(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=F6(null,e)),r}function B6(t,e,n,r,s){const o=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function c(){let M="";for(let j=0;j<2;j++)M=M+Math.random().toString().slice(2);return M}const d=c();l["Content-Type"]="multipart/related; boundary="+d;const h=U6(e,r,s),m=M6(h,n),g="--"+d+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+m+`\r
--`+d+`\r
Content-Type: `+h.contentType+`\r
\r
`,w=`\r
--`+d+"--",E=_o.getBlob(g,r,w);if(E===null)throw n6();const S={name:h.fullPath},T=gw(o,t.host,t._protocol),k="POST",P=t.maxUploadRetryTime,R=new CC(T,k,O6(t,n),P);return R.urlParams=S,R.headers=l,R.body=E.uploadData(),R.errorHandler=AC(e),R}class $6{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ia.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ia.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ia.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s,o){if(this.sent_)throw vu("cannot .send() more than once");if(Fo(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),o!==void 0)for(const l in o)o.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,o[l].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw vu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw vu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw vu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw vu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class z6 extends $6{initXhr(){this.xhr_.responseType="text"}}function RC(){return new z6}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e,n){this._service=e,n instanceof br?this._location=n:this._location=br.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new La(e,n)}get root(){const e=new br(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return SC(this._location.path)}get storage(){return this._service}get parent(){const e=I6(this._location.path);if(e===null)return null;const n=new br(this._location.bucket,e);return new La(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw i6(e)}}function W6(t,e,n){t._throwIfRoot("uploadBytes");const r=B6(t.storage,t._location,kC(),new _o(e,!0),n);return t.storage.makeRequestWithTokens(r,RC).then(s=>({metadata:s,ref:t}))}function H6(t){t._throwIfRoot("getDownloadURL");const e=j6(t.storage,t._location,kC());return t.storage.makeRequestWithTokens(e,RC).then(n=>{if(n===null)throw r6();return n})}function q6(t,e){const n=C6(t._location.path,e),r=new br(t._location.bucket,n);return new La(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K6(t){return/^[A-Za-z]+:\/\//.test(t)}function G6(t,e){return new La(t,e)}function NC(t,e){if(t instanceof yw){const n=t;if(n._bucket==null)throw t6();const r=new La(n,n._bucket);return e!=null?NC(r,e):r}else return e!==void 0?q6(t,e):t}function Y6(t,e){if(e&&K6(e)){if(t instanceof yw)return G6(t,e);throw wv("To use ref(service, url), the first argument must be a Storage instance.")}else return NC(t,e)}function yT(t,e){const n=e==null?void 0:e[vC];return n==null?null:br.makeFromBucketSpec(n,t)}function Q6(t,e,n,r={}){t.host=`${e}:${n}`;const s=Fo(e);s&&(y0(`https://${t.host}/b`),v0("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:o}=r;o&&(t._overrideAuthToken=typeof o=="string"?o:ek(o,t.app.options.projectId))}class yw{constructor(e,n,r,s,o,l=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=o,this._isUsingEmulator=l,this._bucket=null,this._host=yC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=WF,this._maxUploadRetryTime=HF,this._requests=new Set,s!=null?this._bucket=br.makeFromBucketSpec(s,this._host):this._bucket=yT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=br.makeFromBucketSpec(this._url,e):this._bucket=yT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){gT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){gT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(wr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new La(this,e)}_makeRequest(e,n,r,s,o=!0){if(this._deleted)return new o6(wC());{const l=y6(e,this._appId,r,s,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const vT="@firebase/storage",wT="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC="storage";function X6(t,e,n){return t=Rt(t),W6(t,e,n)}function J6(t){return t=Rt(t),H6(t)}function Z6(t,e){return t=Rt(t),Y6(t,e)}function eU(t=x0(),e){t=Rt(t);const r=kp(t,DC).getImmediate({identifier:e}),s=X1("storage");return s&&tU(r,...s),r}function tU(t,e,n,r={}){Q6(t,e,n,r)}function nU(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new yw(n,r,s,e,Ha)}function rU(){Na(new Io(DC,nU,"PUBLIC").setMultipleInstances(!0)),Ds(vT,wT,""),Ds(vT,wT,"esm2020")}rU();const _T={apiKey:"AIzaSyDkVAo_xXbBHy8FYwFtMQA66aju08qK_yE",authDomain:"hooked-69.firebaseapp.com",projectId:"hooked-69",storageBucket:"hooked-69.firebasestorage.app",messagingSenderId:"741889428835",appId:"1:741889428835:web:d5f88b43a503c9e6351756",measurementId:"G-6YHKXLN806"};let sd;try{sd=Qy(_T),console.log("✅ Firebase app initialized successfully")}catch(t){console.error("❌ Failed to initialize Firebase app:",t);try{sd=Qy(_T,"fallback-app"),console.log("✅ Firebase app initialized with fallback name")}catch(e){throw console.error("❌ Failed to initialize Firebase app with fallback:",e),new Error("Firebase initialization failed completely")}}const ya=C4(sd),Wt=IF(sd),sU=eU(sd);async function pt(t,e=3,n=1e3,r="Firebase operation"){let s;for(let o=1;o<=e;o++)try{return await t()}catch(l){if(s=l,console.error(`❌ ${r} failed (attempt ${o}/${e}):`,{operation:r,attempt:o,maxRetries:e,timestamp:new Date().toISOString(),error:l.message,code:l.code,isNetworkError:!l.code||l.code==="unavailable",isPermissionError:l.code==="permission-denied",isNotFoundError:l.code==="not-found"}),l.code==="permission-denied"||l.code==="not-found")throw l;if(o<e){const c=n*Math.pow(2,o-1)+Math.random()*1e3;console.log(`⏳ Retrying ${r} in ${Math.round(c)}ms...`),await new Promise(d=>setTimeout(d,c))}}throw s}const ja={async create(t){return await pt(async()=>({id:(await Tc(Ks(Wt,"events"),{...t,created_at:as(),updated_at:as()})).id,...t}),3,1e3,"Event.create")},async filter(t={}){return await pt(async()=>{let e=Ks(Wt,"events");return t.id&&(e=An(e,Bn("id","==",t.id))),t.event_code&&(e=An(e,Bn("event_code","==",t.event_code))),t.starts_at&&(e=An(e,Bn("starts_at",">=",t.starts_at))),t.expires_at&&(e=An(e,Bn("expires_at","<=",t.expires_at))),(await Gp(e)).docs.map(r=>({id:r.id,...r.data()}))},3,1e3,"Event.filter")},async get(t){return await pt(async()=>{const e=jr(Wt,"events",t),n=await dw(e);return n.exists()?{id:n.id,...n.data()}:null},3,1e3,"Event.get")},async update(t,e){return await pt(async()=>{const n=jr(Wt,"events",t);await lp(n,{...e,updated_at:as()})},3,1e3,"Event.update")},async delete(t){return await pt(async()=>{const e=jr(Wt,"events",t);await Yp(e)},3,1e3,"Event.delete")},async list(){return await this.filter()}},cs={async create(t){return await pt(async()=>({id:(await Tc(Ks(Wt,"event_profiles"),{...t,created_at:as(),updated_at:as()})).id,...t}),3,1e3,"EventProfile.create")},async filter(t={}){return await pt(async()=>{let e=Ks(Wt,"event_profiles");return t.event_id&&(e=An(e,Bn("event_id","==",t.event_id))),t.session_id&&(e=An(e,Bn("session_id","==",t.session_id))),t.email&&(e=An(e,Bn("email","==",t.email))),t.is_visible!==void 0&&(e=An(e,Bn("is_visible","==",t.is_visible))),(await Gp(e)).docs.map(r=>({id:r.id,...r.data()}))},3,1e3,"EventProfile.filter")},async get(t){return await pt(async()=>{const e=jr(Wt,"event_profiles",t),n=await dw(e);return n.exists()?{id:n.id,...n.data()}:null},3,1e3,"EventProfile.get")},async update(t,e){return await pt(async()=>{const n=jr(Wt,"event_profiles",t);await lp(n,{...e,updated_at:as()})},3,1e3,"EventProfile.update")},async delete(t){return await pt(async()=>{const e=jr(Wt,"event_profiles",t);await Yp(e)},3,1e3,"EventProfile.delete")},async toggleVisibility(t,e){return await pt(async()=>{const n=jr(Wt,"event_profiles",t);await lp(n,{is_visible:e,updated_at:as()})},3,1e3,"EventProfile.toggleVisibility")},async list(){return await this.filter()}},_r={async create(t){return await pt(async()=>({id:(await Tc(Ks(Wt,"likes"),{...t,created_at:as()})).id,...t}),3,1e3,"Like.create")},async filter(t={}){return await pt(async()=>{let e=Ks(Wt,"likes");return t.event_id&&(e=An(e,Bn("event_id","==",t.event_id))),t.from_profile_id&&(e=An(e,Bn("from_profile_id","==",t.from_profile_id))),t.to_profile_id&&(e=An(e,Bn("to_profile_id","==",t.to_profile_id))),t.is_mutual!==void 0&&(e=An(e,Bn("is_mutual","==",t.is_mutual))),(await Gp(e)).docs.map(r=>({id:r.id,...r.data()}))},3,1e3,"Like.filter")},async get(t){return await pt(async()=>{const e=jr(Wt,"likes",t),n=await dw(e);return n.exists()?{id:n.id,...n.data()}:null},3,1e3,"Like.get")},async update(t,e){return await pt(async()=>{const n=jr(Wt,"likes",t);await lp(n,e)},3,1e3,"Like.update")},async delete(t){return await pt(async()=>{const e=jr(Wt,"likes",t);await Yp(e)},3,1e3,"Like.delete")},async list(){return await this.filter()}},zl={async create(t){return await pt(async()=>({id:(await Tc(Ks(Wt,"messages"),{...t,created_at:as()})).id,...t}),3,1e3,"Message.create")},async filter(t={}){return await pt(async()=>{let e=Ks(Wt,"messages");return t.event_id&&(e=An(e,Bn("event_id","==",t.event_id))),t.from_profile_id&&(e=An(e,Bn("from_profile_id","==",t.from_profile_id))),t.to_profile_id&&(e=An(e,Bn("to_profile_id","==",t.to_profile_id))),e=An(e,FF("created_at","desc")),(await Gp(e)).docs.map(r=>({id:r.id,...r.data()}))},3,1e3,"Message.filter")},async delete(t){return await pt(async()=>{const e=jr(Wt,"messages",t);await Yp(e)},3,1e3,"Message.delete")},async list(){return await this.filter()}},dy={async create(t){return await pt(async()=>({id:(await Tc(Ks(Wt,"contact_shares"),{...t,created_at:as()})).id,...t}),3,1e3,"ContactShare.create")},async list(){return await this.filter()}},iU={async create(t){return await pt(async()=>({id:(await Tc(Ks(Wt,"event_feedback"),{...t,created_at:as()})).id,...t}),3,1e3,"EventFeedback.create")},async list(){return await this.filter()}},Ca={async signUp(t,e){return await pt(async()=>(await uj(ya,t,e)).user,3,1e3,"User.signUp")},async signIn(t,e){return await pt(async()=>(await dj(ya,t,e)).user,3,1e3,"User.signIn")},async signOut(){return await pt(async()=>{await yj(ya)},3,1e3,"User.signOut")},async updateProfile(t){return await pt(async()=>{const e=ya.currentUser;if(!e)throw new Error("No user signed in");await fj(e,t)},3,1e3,"User.updateProfile")},getCurrentUser(){return ya.currentUser},async me(){return ya.currentUser},onAuthStateChanged(t){return gj(ya,t)}},oU=async t=>await pt(async()=>{const e=Z6(sU,`uploads/${Date.now()}_${t.name}`),n=await X6(e,t);return{file_url:await J6(n.ref)}},3,1e3,"uploadFile");function xT(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function MC(...t){return e=>{let n=!1;const r=t.map(s=>{const o=xT(s,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():xT(t[s],null)}}}}function ct(...t){return b.useCallback(MC(...t),t)}function dc(t){const e=lU(t),n=b.forwardRef((r,s)=>{const{children:o,...l}=r,c=b.Children.toArray(o),d=c.find(uU);if(d){const h=d.props.children,m=c.map(g=>g===d?b.Children.count(h)>1?b.Children.only(null):b.isValidElement(h)?h.props.children:null:g);return y.jsx(e,{...l,ref:s,children:b.isValidElement(h)?b.cloneElement(h,void 0,m):null})}return y.jsx(e,{...l,ref:s,children:o})});return n.displayName=`${t}.Slot`,n}var aU=dc("Slot");function lU(t){const e=b.forwardRef((n,r)=>{const{children:s,...o}=n;if(b.isValidElement(s)){const l=hU(s),c=dU(o,s.props);return s.type!==b.Fragment&&(c.ref=r?MC(r,l):l),b.cloneElement(s,c)}return b.Children.count(s)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var cU=Symbol("radix.slottable");function uU(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===cU}function dU(t,e){const n={...e};for(const r in e){const s=t[r],o=e[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...t,...n}}function hU(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function OC(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=OC(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function VC(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=OC(t))&&(r&&(r+=" "),r+=e);return r}const bT=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,ET=VC,Qp=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return ET(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=e,l=Object.keys(s).map(h=>{const m=n==null?void 0:n[h],g=o==null?void 0:o[h];if(m===null)return null;const w=bT(m)||bT(g);return s[h][w]}),c=n&&Object.entries(n).reduce((h,m)=>{let[g,w]=m;return w===void 0||(h[g]=w),h},{}),d=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((h,m)=>{let{class:g,className:w,...E}=m;return Object.entries(E).every(S=>{let[T,k]=S;return Array.isArray(k)?k.includes({...o,...c}[T]):{...o,...c}[T]===k})?[...h,g,w]:h},[]);return ET(t,l,d,n==null?void 0:n.class,n==null?void 0:n.className)},vw="-",fU=t=>{const e=mU(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:l=>{const c=l.split(vw);return c[0]===""&&c.length!==1&&c.shift(),LC(c,e)||pU(l)},getConflictingClassGroupIds:(l,c)=>{const d=n[l]||[];return c&&r[l]?[...d,...r[l]]:d}}},LC=(t,e)=>{var l;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?LC(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const o=t.join(vw);return(l=e.validators.find(({validator:c})=>c(o)))==null?void 0:l.classGroupId},TT=/^\[(.+)\]$/,pU=t=>{if(TT.test(t)){const e=TT.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},mU=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const s in n)_v(n[s],r,s,e);return r},_v=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const o=s===""?e:ST(e,s);o.classGroupId=n;return}if(typeof s=="function"){if(gU(s)){_v(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([o,l])=>{_v(l,ST(e,o),n,r)})})},ST=(t,e)=>{let n=t;return e.split(vw).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},gU=t=>t.isThemeGetter,yU=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(o,l)=>{n.set(o,l),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let l=n.get(o);if(l!==void 0)return l;if((l=r.get(o))!==void 0)return s(o,l),l},set(o,l){n.has(o)?n.set(o,l):s(o,l)}}},xv="!",bv=":",vU=bv.length,wU=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=s=>{const o=[];let l=0,c=0,d=0,h;for(let S=0;S<s.length;S++){let T=s[S];if(l===0&&c===0){if(T===bv){o.push(s.slice(d,S)),d=S+vU;continue}if(T==="/"){h=S;continue}}T==="["?l++:T==="]"?l--:T==="("?c++:T===")"&&c--}const m=o.length===0?s:s.substring(d),g=_U(m),w=g!==m,E=h&&h>d?h-d:void 0;return{modifiers:o,hasImportantModifier:w,baseClassName:g,maybePostfixModifierPosition:E}};if(e){const s=e+bv,o=r;r=l=>l.startsWith(s)?o(l.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=o=>n({className:o,parseClassName:s})}return r},_U=t=>t.endsWith(xv)?t.substring(0,t.length-1):t.startsWith(xv)?t.substring(1):t,xU=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let o=[];return r.forEach(l=>{l[0]==="["||e[l]?(s.push(...o.sort(),l),o=[]):o.push(l)}),s.push(...o.sort()),s}},bU=t=>({cache:yU(t.cacheSize),parseClassName:wU(t),sortModifiers:xU(t),...fU(t)}),EU=/\s+/,TU=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:o}=e,l=[],c=t.trim().split(EU);let d="";for(let h=c.length-1;h>=0;h-=1){const m=c[h],{isExternal:g,modifiers:w,hasImportantModifier:E,baseClassName:S,maybePostfixModifierPosition:T}=n(m);if(g){d=m+(d.length>0?" "+d:d);continue}let k=!!T,P=r(k?S.substring(0,T):S);if(!P){if(!k){d=m+(d.length>0?" "+d:d);continue}if(P=r(S),!P){d=m+(d.length>0?" "+d:d);continue}k=!1}const R=o(w).join(":"),M=E?R+xv:R,j=M+P;if(l.includes(j))continue;l.push(j);const B=s(P,k);for(let K=0;K<B.length;++K){const D=B[K];l.push(M+D)}d=m+(d.length>0?" "+d:d)}return d};function SU(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=jC(e))&&(r&&(r+=" "),r+=n);return r}const jC=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=jC(t[r]))&&(n&&(n+=" "),n+=e);return n};function kU(t,...e){let n,r,s,o=l;function l(d){const h=e.reduce((m,g)=>g(m),t());return n=bU(h),r=n.cache.get,s=n.cache.set,o=c,c(d)}function c(d){const h=r(d);if(h)return h;const m=TU(d,n);return s(d,m),m}return function(){return o(SU.apply(null,arguments))}}const sn=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},FC=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,UC=/^\((?:(\w[\w-]*):)?(.+)\)$/i,IU=/^\d+\/\d+$/,CU=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,PU=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,AU=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,RU=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,NU=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Dl=t=>IU.test(t),ze=t=>!!t&&!Number.isNaN(Number(t)),uo=t=>!!t&&Number.isInteger(Number(t)),hy=t=>t.endsWith("%")&&ze(t.slice(0,-1)),gi=t=>CU.test(t),DU=()=>!0,MU=t=>PU.test(t)&&!AU.test(t),BC=()=>!1,OU=t=>RU.test(t),VU=t=>NU.test(t),LU=t=>!Se(t)&&!ke(t),jU=t=>Sc(t,WC,BC),Se=t=>FC.test(t),va=t=>Sc(t,HC,MU),fy=t=>Sc(t,zU,ze),kT=t=>Sc(t,$C,BC),FU=t=>Sc(t,zC,VU),cf=t=>Sc(t,qC,OU),ke=t=>UC.test(t),wu=t=>kc(t,HC),UU=t=>kc(t,WU),IT=t=>kc(t,$C),BU=t=>kc(t,WC),$U=t=>kc(t,zC),uf=t=>kc(t,qC,!0),Sc=(t,e,n)=>{const r=FC.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},kc=(t,e,n=!1)=>{const r=UC.exec(t);return r?r[1]?e(r[1]):n:!1},$C=t=>t==="position"||t==="percentage",zC=t=>t==="image"||t==="url",WC=t=>t==="length"||t==="size"||t==="bg-size",HC=t=>t==="length",zU=t=>t==="number",WU=t=>t==="family-name",qC=t=>t==="shadow",HU=()=>{const t=sn("color"),e=sn("font"),n=sn("text"),r=sn("font-weight"),s=sn("tracking"),o=sn("leading"),l=sn("breakpoint"),c=sn("container"),d=sn("spacing"),h=sn("radius"),m=sn("shadow"),g=sn("inset-shadow"),w=sn("text-shadow"),E=sn("drop-shadow"),S=sn("blur"),T=sn("perspective"),k=sn("aspect"),P=sn("ease"),R=sn("animate"),M=()=>["auto","avoid","all","avoid-page","page","left","right","column"],j=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],B=()=>[...j(),ke,Se],K=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto","contain","none"],C=()=>[ke,Se,d],V=()=>[Dl,"full","auto",...C()],L=()=>[uo,"none","subgrid",ke,Se],F=()=>["auto",{span:["full",uo,ke,Se]},uo,ke,Se],$=()=>[uo,"auto",ke,Se],N=()=>["auto","min","max","fr",ke,Se],se=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ie=()=>["start","end","center","stretch","center-safe","end-safe"],ee=()=>["auto",...C()],te=()=>[Dl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...C()],z=()=>[t,ke,Se],oe=()=>[...j(),IT,kT,{position:[ke,Se]}],le=()=>["no-repeat",{repeat:["","x","y","space","round"]}],W=()=>["auto","cover","contain",BU,jU,{size:[ke,Se]}],X=()=>[hy,wu,va],ne=()=>["","none","full",h,ke,Se],fe=()=>["",ze,wu,va],Ee=()=>["solid","dashed","dotted","double"],we=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ue=()=>[ze,hy,IT,kT],xe=()=>["","none",S,ke,Se],Re=()=>["none",ze,ke,Se],Pe=()=>["none",ze,ke,Se],Ue=()=>[ze,ke,Se],$e=()=>[Dl,"full",...C()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[gi],breakpoint:[gi],color:[DU],container:[gi],"drop-shadow":[gi],ease:["in","out","in-out"],font:[LU],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[gi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[gi],shadow:[gi],spacing:["px",ze],text:[gi],"text-shadow":[gi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Dl,Se,ke,k]}],container:["container"],columns:[{columns:[ze,Se,ke,c]}],"break-after":[{"break-after":M()}],"break-before":[{"break-before":M()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:B()}],overflow:[{overflow:K()}],"overflow-x":[{"overflow-x":K()}],"overflow-y":[{"overflow-y":K()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:V()}],"inset-x":[{"inset-x":V()}],"inset-y":[{"inset-y":V()}],start:[{start:V()}],end:[{end:V()}],top:[{top:V()}],right:[{right:V()}],bottom:[{bottom:V()}],left:[{left:V()}],visibility:["visible","invisible","collapse"],z:[{z:[uo,"auto",ke,Se]}],basis:[{basis:[Dl,"full","auto",c,...C()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ze,Dl,"auto","initial","none",Se]}],grow:[{grow:["",ze,ke,Se]}],shrink:[{shrink:["",ze,ke,Se]}],order:[{order:[uo,"first","last","none",ke,Se]}],"grid-cols":[{"grid-cols":L()}],"col-start-end":[{col:F()}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":L()}],"row-start-end":[{row:F()}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":N()}],"auto-rows":[{"auto-rows":N()}],gap:[{gap:C()}],"gap-x":[{"gap-x":C()}],"gap-y":[{"gap-y":C()}],"justify-content":[{justify:[...se(),"normal"]}],"justify-items":[{"justify-items":[...ie(),"normal"]}],"justify-self":[{"justify-self":["auto",...ie()]}],"align-content":[{content:["normal",...se()]}],"align-items":[{items:[...ie(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ie(),{baseline:["","last"]}]}],"place-content":[{"place-content":se()}],"place-items":[{"place-items":[...ie(),"baseline"]}],"place-self":[{"place-self":["auto",...ie()]}],p:[{p:C()}],px:[{px:C()}],py:[{py:C()}],ps:[{ps:C()}],pe:[{pe:C()}],pt:[{pt:C()}],pr:[{pr:C()}],pb:[{pb:C()}],pl:[{pl:C()}],m:[{m:ee()}],mx:[{mx:ee()}],my:[{my:ee()}],ms:[{ms:ee()}],me:[{me:ee()}],mt:[{mt:ee()}],mr:[{mr:ee()}],mb:[{mb:ee()}],ml:[{ml:ee()}],"space-x":[{"space-x":C()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":C()}],"space-y-reverse":["space-y-reverse"],size:[{size:te()}],w:[{w:[c,"screen",...te()]}],"min-w":[{"min-w":[c,"screen","none",...te()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[l]},...te()]}],h:[{h:["screen","lh",...te()]}],"min-h":[{"min-h":["screen","lh","none",...te()]}],"max-h":[{"max-h":["screen","lh",...te()]}],"font-size":[{text:["base",n,wu,va]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ke,fy]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",hy,Se]}],"font-family":[{font:[UU,Se,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,ke,Se]}],"line-clamp":[{"line-clamp":[ze,"none",ke,fy]}],leading:[{leading:[o,...C()]}],"list-image":[{"list-image":["none",ke,Se]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ke,Se]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:z()}],"text-color":[{text:z()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ee(),"wavy"]}],"text-decoration-thickness":[{decoration:[ze,"from-font","auto",ke,va]}],"text-decoration-color":[{decoration:z()}],"underline-offset":[{"underline-offset":[ze,"auto",ke,Se]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ke,Se]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ke,Se]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:oe()}],"bg-repeat":[{bg:le()}],"bg-size":[{bg:W()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},uo,ke,Se],radial:["",ke,Se],conic:[uo,ke,Se]},$U,FU]}],"bg-color":[{bg:z()}],"gradient-from-pos":[{from:X()}],"gradient-via-pos":[{via:X()}],"gradient-to-pos":[{to:X()}],"gradient-from":[{from:z()}],"gradient-via":[{via:z()}],"gradient-to":[{to:z()}],rounded:[{rounded:ne()}],"rounded-s":[{"rounded-s":ne()}],"rounded-e":[{"rounded-e":ne()}],"rounded-t":[{"rounded-t":ne()}],"rounded-r":[{"rounded-r":ne()}],"rounded-b":[{"rounded-b":ne()}],"rounded-l":[{"rounded-l":ne()}],"rounded-ss":[{"rounded-ss":ne()}],"rounded-se":[{"rounded-se":ne()}],"rounded-ee":[{"rounded-ee":ne()}],"rounded-es":[{"rounded-es":ne()}],"rounded-tl":[{"rounded-tl":ne()}],"rounded-tr":[{"rounded-tr":ne()}],"rounded-br":[{"rounded-br":ne()}],"rounded-bl":[{"rounded-bl":ne()}],"border-w":[{border:fe()}],"border-w-x":[{"border-x":fe()}],"border-w-y":[{"border-y":fe()}],"border-w-s":[{"border-s":fe()}],"border-w-e":[{"border-e":fe()}],"border-w-t":[{"border-t":fe()}],"border-w-r":[{"border-r":fe()}],"border-w-b":[{"border-b":fe()}],"border-w-l":[{"border-l":fe()}],"divide-x":[{"divide-x":fe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":fe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ee(),"hidden","none"]}],"divide-style":[{divide:[...Ee(),"hidden","none"]}],"border-color":[{border:z()}],"border-color-x":[{"border-x":z()}],"border-color-y":[{"border-y":z()}],"border-color-s":[{"border-s":z()}],"border-color-e":[{"border-e":z()}],"border-color-t":[{"border-t":z()}],"border-color-r":[{"border-r":z()}],"border-color-b":[{"border-b":z()}],"border-color-l":[{"border-l":z()}],"divide-color":[{divide:z()}],"outline-style":[{outline:[...Ee(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ze,ke,Se]}],"outline-w":[{outline:["",ze,wu,va]}],"outline-color":[{outline:z()}],shadow:[{shadow:["","none",m,uf,cf]}],"shadow-color":[{shadow:z()}],"inset-shadow":[{"inset-shadow":["none",g,uf,cf]}],"inset-shadow-color":[{"inset-shadow":z()}],"ring-w":[{ring:fe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:z()}],"ring-offset-w":[{"ring-offset":[ze,va]}],"ring-offset-color":[{"ring-offset":z()}],"inset-ring-w":[{"inset-ring":fe()}],"inset-ring-color":[{"inset-ring":z()}],"text-shadow":[{"text-shadow":["none",w,uf,cf]}],"text-shadow-color":[{"text-shadow":z()}],opacity:[{opacity:[ze,ke,Se]}],"mix-blend":[{"mix-blend":[...we(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":we()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ze]}],"mask-image-linear-from-pos":[{"mask-linear-from":ue()}],"mask-image-linear-to-pos":[{"mask-linear-to":ue()}],"mask-image-linear-from-color":[{"mask-linear-from":z()}],"mask-image-linear-to-color":[{"mask-linear-to":z()}],"mask-image-t-from-pos":[{"mask-t-from":ue()}],"mask-image-t-to-pos":[{"mask-t-to":ue()}],"mask-image-t-from-color":[{"mask-t-from":z()}],"mask-image-t-to-color":[{"mask-t-to":z()}],"mask-image-r-from-pos":[{"mask-r-from":ue()}],"mask-image-r-to-pos":[{"mask-r-to":ue()}],"mask-image-r-from-color":[{"mask-r-from":z()}],"mask-image-r-to-color":[{"mask-r-to":z()}],"mask-image-b-from-pos":[{"mask-b-from":ue()}],"mask-image-b-to-pos":[{"mask-b-to":ue()}],"mask-image-b-from-color":[{"mask-b-from":z()}],"mask-image-b-to-color":[{"mask-b-to":z()}],"mask-image-l-from-pos":[{"mask-l-from":ue()}],"mask-image-l-to-pos":[{"mask-l-to":ue()}],"mask-image-l-from-color":[{"mask-l-from":z()}],"mask-image-l-to-color":[{"mask-l-to":z()}],"mask-image-x-from-pos":[{"mask-x-from":ue()}],"mask-image-x-to-pos":[{"mask-x-to":ue()}],"mask-image-x-from-color":[{"mask-x-from":z()}],"mask-image-x-to-color":[{"mask-x-to":z()}],"mask-image-y-from-pos":[{"mask-y-from":ue()}],"mask-image-y-to-pos":[{"mask-y-to":ue()}],"mask-image-y-from-color":[{"mask-y-from":z()}],"mask-image-y-to-color":[{"mask-y-to":z()}],"mask-image-radial":[{"mask-radial":[ke,Se]}],"mask-image-radial-from-pos":[{"mask-radial-from":ue()}],"mask-image-radial-to-pos":[{"mask-radial-to":ue()}],"mask-image-radial-from-color":[{"mask-radial-from":z()}],"mask-image-radial-to-color":[{"mask-radial-to":z()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":j()}],"mask-image-conic-pos":[{"mask-conic":[ze]}],"mask-image-conic-from-pos":[{"mask-conic-from":ue()}],"mask-image-conic-to-pos":[{"mask-conic-to":ue()}],"mask-image-conic-from-color":[{"mask-conic-from":z()}],"mask-image-conic-to-color":[{"mask-conic-to":z()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:oe()}],"mask-repeat":[{mask:le()}],"mask-size":[{mask:W()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ke,Se]}],filter:[{filter:["","none",ke,Se]}],blur:[{blur:xe()}],brightness:[{brightness:[ze,ke,Se]}],contrast:[{contrast:[ze,ke,Se]}],"drop-shadow":[{"drop-shadow":["","none",E,uf,cf]}],"drop-shadow-color":[{"drop-shadow":z()}],grayscale:[{grayscale:["",ze,ke,Se]}],"hue-rotate":[{"hue-rotate":[ze,ke,Se]}],invert:[{invert:["",ze,ke,Se]}],saturate:[{saturate:[ze,ke,Se]}],sepia:[{sepia:["",ze,ke,Se]}],"backdrop-filter":[{"backdrop-filter":["","none",ke,Se]}],"backdrop-blur":[{"backdrop-blur":xe()}],"backdrop-brightness":[{"backdrop-brightness":[ze,ke,Se]}],"backdrop-contrast":[{"backdrop-contrast":[ze,ke,Se]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ze,ke,Se]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ze,ke,Se]}],"backdrop-invert":[{"backdrop-invert":["",ze,ke,Se]}],"backdrop-opacity":[{"backdrop-opacity":[ze,ke,Se]}],"backdrop-saturate":[{"backdrop-saturate":[ze,ke,Se]}],"backdrop-sepia":[{"backdrop-sepia":["",ze,ke,Se]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":C()}],"border-spacing-x":[{"border-spacing-x":C()}],"border-spacing-y":[{"border-spacing-y":C()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ke,Se]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ze,"initial",ke,Se]}],ease:[{ease:["linear","initial",P,ke,Se]}],delay:[{delay:[ze,ke,Se]}],animate:[{animate:["none",R,ke,Se]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[T,ke,Se]}],"perspective-origin":[{"perspective-origin":B()}],rotate:[{rotate:Re()}],"rotate-x":[{"rotate-x":Re()}],"rotate-y":[{"rotate-y":Re()}],"rotate-z":[{"rotate-z":Re()}],scale:[{scale:Pe()}],"scale-x":[{"scale-x":Pe()}],"scale-y":[{"scale-y":Pe()}],"scale-z":[{"scale-z":Pe()}],"scale-3d":["scale-3d"],skew:[{skew:Ue()}],"skew-x":[{"skew-x":Ue()}],"skew-y":[{"skew-y":Ue()}],transform:[{transform:[ke,Se,"","none","gpu","cpu"]}],"transform-origin":[{origin:B()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:$e()}],"translate-x":[{"translate-x":$e()}],"translate-y":[{"translate-y":$e()}],"translate-z":[{"translate-z":$e()}],"translate-none":["translate-none"],accent:[{accent:z()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:z()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ke,Se]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ke,Se]}],fill:[{fill:["none",...z()]}],"stroke-w":[{stroke:[ze,wu,va,fy]}],stroke:[{stroke:["none",...z()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},qU=kU(HU);function it(...t){return qU(VC(t))}const KU=Qp("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),He=b.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},o)=>{const l=r?aU:"button";return y.jsx(l,{className:it(KU({variant:e,size:n,className:t})),ref:o,...s})});He.displayName="Button";const ww=b.createContext({});function _w(t){const e=b.useRef(null);return e.current===null&&(e.current=t()),e.current}const xw=typeof window<"u",KC=xw?b.useLayoutEffect:b.useEffect,Xp=b.createContext(null);function bw(t,e){t.indexOf(e)===-1&&t.push(e)}function Ew(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Pi=(t,e,n)=>n>e?e:n<t?t:n;let Tw=()=>{};const Ai={},GC=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function YC(t){return typeof t=="object"&&t!==null}const QC=t=>/^0[^.\s]+$/u.test(t);function Sw(t){let e;return()=>(e===void 0&&(e=t()),e)}const Fr=t=>t,GU=(t,e)=>n=>e(t(n)),Nd=(...t)=>t.reduce(GU),id=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class kw{constructor(){this.subscriptions=[]}add(e){return bw(this.subscriptions,e),()=>Ew(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let o=0;o<s;o++){const l=this.subscriptions[o];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Us=t=>t*1e3,Bs=t=>t/1e3;function XC(t,e){return e?t*(1e3/e):0}const JC=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,YU=1e-7,QU=12;function XU(t,e,n,r,s){let o,l,c=0;do l=e+(n-e)/2,o=JC(l,r,s)-t,o>0?n=l:e=l;while(Math.abs(o)>YU&&++c<QU);return l}function Dd(t,e,n,r){if(t===e&&n===r)return Fr;const s=o=>XU(o,0,1,t,n);return o=>o===0||o===1?o:JC(s(o),e,r)}const ZC=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,eP=t=>e=>1-t(1-e),tP=Dd(.33,1.53,.69,.99),Iw=eP(tP),nP=ZC(Iw),rP=t=>(t*=2)<1?.5*Iw(t):.5*(2-Math.pow(2,-10*(t-1))),Cw=t=>1-Math.sin(Math.acos(t)),sP=eP(Cw),iP=ZC(Cw),JU=Dd(.42,0,1,1),ZU=Dd(0,0,.58,1),oP=Dd(.42,0,.58,1),e9=t=>Array.isArray(t)&&typeof t[0]!="number",aP=t=>Array.isArray(t)&&typeof t[0]=="number",t9={linear:Fr,easeIn:JU,easeInOut:oP,easeOut:ZU,circIn:Cw,circInOut:iP,circOut:sP,backIn:Iw,backInOut:nP,backOut:tP,anticipate:rP},n9=t=>typeof t=="string",CT=t=>{if(aP(t)){Tw(t.length===4);const[e,n,r,s]=t;return Dd(e,n,r,s)}else if(n9(t))return t9[t];return t},df=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function r9(t,e){let n=new Set,r=new Set,s=!1,o=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function d(m){l.has(m)&&(h.schedule(m),t()),m(c)}const h={schedule:(m,g=!1,w=!1)=>{const S=w&&s?n:r;return g&&l.add(m),S.has(m)||S.add(m),m},cancel:m=>{r.delete(m),l.delete(m)},process:m=>{if(c=m,s){o=!0;return}s=!0,[n,r]=[r,n],n.forEach(d),n.clear(),s=!1,o&&(o=!1,h.process(m))}};return h}const s9=40;function lP(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,l=df.reduce((M,j)=>(M[j]=r9(o),M),{}),{setup:c,read:d,resolveKeyframes:h,preUpdate:m,update:g,preRender:w,render:E,postRender:S}=l,T=()=>{const M=Ai.useManualTiming?s.timestamp:performance.now();n=!1,Ai.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(M-s.timestamp,s9),1)),s.timestamp=M,s.isProcessing=!0,c.process(s),d.process(s),h.process(s),m.process(s),g.process(s),w.process(s),E.process(s),S.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(T))},k=()=>{n=!0,r=!0,s.isProcessing||t(T)};return{schedule:df.reduce((M,j)=>{const B=l[j];return M[j]=(K,D=!1,C=!1)=>(n||k(),B.schedule(K,D,C)),M},{}),cancel:M=>{for(let j=0;j<df.length;j++)l[df[j]].cancel(M)},state:s,steps:l}}const{schedule:Tt,cancel:Mo,state:wn,steps:py}=lP(typeof requestAnimationFrame<"u"?requestAnimationFrame:Fr,!0);let Mf;function i9(){Mf=void 0}const lr={now:()=>(Mf===void 0&&lr.set(wn.isProcessing||Ai.useManualTiming?wn.timestamp:performance.now()),Mf),set:t=>{Mf=t,queueMicrotask(i9)}},cP=t=>e=>typeof e=="string"&&e.startsWith(t),Pw=cP("--"),o9=cP("var(--"),Aw=t=>o9(t)?a9.test(t.split("/*")[0].trim()):!1,a9=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ic={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},od={...Ic,transform:t=>Pi(0,1,t)},hf={...Ic,default:1},Fu=t=>Math.round(t*1e5)/1e5,Rw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function l9(t){return t==null}const c9=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Nw=(t,e)=>n=>!!(typeof n=="string"&&c9.test(n)&&n.startsWith(t)||e&&!l9(n)&&Object.prototype.hasOwnProperty.call(n,e)),uP=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,o,l,c]=r.match(Rw);return{[t]:parseFloat(s),[e]:parseFloat(o),[n]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},u9=t=>Pi(0,255,t),my={...Ic,transform:t=>Math.round(u9(t))},Ta={test:Nw("rgb","red"),parse:uP("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+my.transform(t)+", "+my.transform(e)+", "+my.transform(n)+", "+Fu(od.transform(r))+")"};function d9(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Ev={test:Nw("#"),parse:d9,transform:Ta.transform},Md=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),po=Md("deg"),$s=Md("%"),Le=Md("px"),h9=Md("vh"),f9=Md("vw"),PT={...$s,parse:t=>$s.parse(t)/100,transform:t=>$s.transform(t*100)},Wl={test:Nw("hsl","hue"),parse:uP("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+$s.transform(Fu(e))+", "+$s.transform(Fu(n))+", "+Fu(od.transform(r))+")"},Gt={test:t=>Ta.test(t)||Ev.test(t)||Wl.test(t),parse:t=>Ta.test(t)?Ta.parse(t):Wl.test(t)?Wl.parse(t):Ev.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ta.transform(t):Wl.transform(t),getAnimatableNone:t=>{const e=Gt.parse(t);return e.alpha=0,Gt.transform(e)}},p9=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function m9(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Rw))==null?void 0:e.length)||0)+(((n=t.match(p9))==null?void 0:n.length)||0)>0}const dP="number",hP="color",g9="var",y9="var(",AT="${}",v9=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ad(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let o=0;const c=e.replace(v9,d=>(Gt.test(d)?(r.color.push(o),s.push(hP),n.push(Gt.parse(d))):d.startsWith(y9)?(r.var.push(o),s.push(g9),n.push(d)):(r.number.push(o),s.push(dP),n.push(parseFloat(d))),++o,AT)).split(AT);return{values:n,split:c,indexes:r,types:s}}function fP(t){return ad(t).values}function pP(t){const{split:e,types:n}=ad(t),r=e.length;return s=>{let o="";for(let l=0;l<r;l++)if(o+=e[l],s[l]!==void 0){const c=n[l];c===dP?o+=Fu(s[l]):c===hP?o+=Gt.transform(s[l]):o+=s[l]}return o}}const w9=t=>typeof t=="number"?0:Gt.test(t)?Gt.getAnimatableNone(t):t;function _9(t){const e=fP(t);return pP(t)(e.map(w9))}const Oo={test:m9,parse:fP,createTransformer:pP,getAnimatableNone:_9};function gy(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function x9({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,o=0,l=0;if(!e)s=o=l=n;else{const c=n<.5?n*(1+e):n+e-n*e,d=2*n-c;s=gy(d,c,t+1/3),o=gy(d,c,t),l=gy(d,c,t-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:r}}function cp(t,e){return n=>n>0?e:t}const Pt=(t,e,n)=>t+(e-t)*n,yy=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},b9=[Ev,Ta,Wl],E9=t=>b9.find(e=>e.test(t));function RT(t){const e=E9(t);if(!e)return!1;let n=e.parse(t);return e===Wl&&(n=x9(n)),n}const NT=(t,e)=>{const n=RT(t),r=RT(e);if(!n||!r)return cp(t,e);const s={...n};return o=>(s.red=yy(n.red,r.red,o),s.green=yy(n.green,r.green,o),s.blue=yy(n.blue,r.blue,o),s.alpha=Pt(n.alpha,r.alpha,o),Ta.transform(s))},Tv=new Set(["none","hidden"]);function T9(t,e){return Tv.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function S9(t,e){return n=>Pt(t,e,n)}function Dw(t){return typeof t=="number"?S9:typeof t=="string"?Aw(t)?cp:Gt.test(t)?NT:C9:Array.isArray(t)?mP:typeof t=="object"?Gt.test(t)?NT:k9:cp}function mP(t,e){const n=[...t],r=n.length,s=t.map((o,l)=>Dw(o)(o,e[l]));return o=>{for(let l=0;l<r;l++)n[l]=s[l](o);return n}}function k9(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=Dw(t[s])(t[s],e[s]));return s=>{for(const o in r)n[o]=r[o](s);return n}}function I9(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],l=t.indexes[o][r[o]],c=t.values[l]??0;n[s]=c,r[o]++}return n}const C9=(t,e)=>{const n=Oo.createTransformer(e),r=ad(t),s=ad(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Tv.has(t)&&!s.values.length||Tv.has(e)&&!r.values.length?T9(t,e):Nd(mP(I9(r,s),s.values),n):cp(t,e)};function gP(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Pt(t,e,n):Dw(t)(t,e)}const P9=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Tt.update(e,n),stop:()=>Mo(e),now:()=>wn.isProcessing?wn.timestamp:lr.now()}},yP=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let o=0;o<s;o++)r+=Math.round(t(o/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},up=2e4;function Mw(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<up;)e+=n,r=t.next(e);return e>=up?1/0:e}function A9(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(Mw(r),up);return{type:"keyframes",ease:o=>r.next(s*o).value/e,duration:Bs(s)}}const R9=5;function vP(t,e,n){const r=Math.max(e-R9,0);return XC(n-t(r),e-r)}const Ot={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},vy=.001;function N9({duration:t=Ot.duration,bounce:e=Ot.bounce,velocity:n=Ot.velocity,mass:r=Ot.mass}){let s,o,l=1-e;l=Pi(Ot.minDamping,Ot.maxDamping,l),t=Pi(Ot.minDuration,Ot.maxDuration,Bs(t)),l<1?(s=h=>{const m=h*l,g=m*t,w=m-n,E=Sv(h,l),S=Math.exp(-g);return vy-w/E*S},o=h=>{const g=h*l*t,w=g*n+n,E=Math.pow(l,2)*Math.pow(h,2)*t,S=Math.exp(-g),T=Sv(Math.pow(h,2),l);return(-s(h)+vy>0?-1:1)*((w-E)*S)/T}):(s=h=>{const m=Math.exp(-h*t),g=(h-n)*t+1;return-vy+m*g},o=h=>{const m=Math.exp(-h*t),g=(n-h)*(t*t);return m*g});const c=5/t,d=M9(s,o,c);if(t=Us(t),isNaN(d))return{stiffness:Ot.stiffness,damping:Ot.damping,duration:t};{const h=Math.pow(d,2)*r;return{stiffness:h,damping:l*2*Math.sqrt(r*h),duration:t}}}const D9=12;function M9(t,e,n){let r=n;for(let s=1;s<D9;s++)r=r-t(r)/e(r);return r}function Sv(t,e){return t*Math.sqrt(1-e*e)}const O9=["duration","bounce"],V9=["stiffness","damping","mass"];function DT(t,e){return e.some(n=>t[n]!==void 0)}function L9(t){let e={velocity:Ot.velocity,stiffness:Ot.stiffness,damping:Ot.damping,mass:Ot.mass,isResolvedFromDuration:!1,...t};if(!DT(t,V9)&&DT(t,O9))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,o=2*Pi(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Ot.mass,stiffness:s,damping:o}}else{const n=N9(t);e={...e,...n,mass:Ot.mass},e.isResolvedFromDuration=!0}return e}function dp(t=Ot.visualDuration,e=Ot.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const o=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],c={done:!1,value:o},{stiffness:d,damping:h,mass:m,duration:g,velocity:w,isResolvedFromDuration:E}=L9({...n,velocity:-Bs(n.velocity||0)}),S=w||0,T=h/(2*Math.sqrt(d*m)),k=l-o,P=Bs(Math.sqrt(d/m)),R=Math.abs(k)<5;r||(r=R?Ot.restSpeed.granular:Ot.restSpeed.default),s||(s=R?Ot.restDelta.granular:Ot.restDelta.default);let M;if(T<1){const B=Sv(P,T);M=K=>{const D=Math.exp(-T*P*K);return l-D*((S+T*P*k)/B*Math.sin(B*K)+k*Math.cos(B*K))}}else if(T===1)M=B=>l-Math.exp(-P*B)*(k+(S+P*k)*B);else{const B=P*Math.sqrt(T*T-1);M=K=>{const D=Math.exp(-T*P*K),C=Math.min(B*K,300);return l-D*((S+T*P*k)*Math.sinh(C)+B*k*Math.cosh(C))/B}}const j={calculatedDuration:E&&g||null,next:B=>{const K=M(B);if(E)c.done=B>=g;else{let D=B===0?S:0;T<1&&(D=B===0?Us(S):vP(M,B,K));const C=Math.abs(D)<=r,V=Math.abs(l-K)<=s;c.done=C&&V}return c.value=c.done?l:K,c},toString:()=>{const B=Math.min(Mw(j),up),K=yP(D=>j.next(B*D).value,B,30);return B+"ms "+K},toTransition:()=>{}};return j}dp.applyToOptions=t=>{const e=A9(t,100,dp);return t.ease=e.ease,t.duration=Us(e.duration),t.type="keyframes",t};function kv({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:l,min:c,max:d,restDelta:h=.5,restSpeed:m}){const g=t[0],w={done:!1,value:g},E=C=>c!==void 0&&C<c||d!==void 0&&C>d,S=C=>c===void 0?d:d===void 0||Math.abs(c-C)<Math.abs(d-C)?c:d;let T=n*e;const k=g+T,P=l===void 0?k:l(k);P!==k&&(T=P-g);const R=C=>-T*Math.exp(-C/r),M=C=>P+R(C),j=C=>{const V=R(C),L=M(C);w.done=Math.abs(V)<=h,w.value=w.done?P:L};let B,K;const D=C=>{E(w.value)&&(B=C,K=dp({keyframes:[w.value,S(w.value)],velocity:vP(M,C,w.value),damping:s,stiffness:o,restDelta:h,restSpeed:m}))};return D(0),{calculatedDuration:null,next:C=>{let V=!1;return!K&&B===void 0&&(V=!0,j(C),D(C)),B!==void 0&&C>=B?K.next(C-B):(!V&&j(C),w)}}}function j9(t,e,n){const r=[],s=n||Ai.mix||gP,o=t.length-1;for(let l=0;l<o;l++){let c=s(t[l],t[l+1]);if(e){const d=Array.isArray(e)?e[l]||Fr:e;c=Nd(d,c)}r.push(c)}return r}function F9(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const o=t.length;if(Tw(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=j9(e,r,s),d=c.length,h=m=>{if(l&&m<t[0])return e[0];let g=0;if(d>1)for(;g<t.length-2&&!(m<t[g+1]);g++);const w=id(t[g],t[g+1],m);return c[g](w)};return n?m=>h(Pi(t[0],t[o-1],m)):h}function U9(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=id(0,e,r);t.push(Pt(n,1,s))}}function B9(t){const e=[0];return U9(e,t.length-1),e}function $9(t,e){return t.map(n=>n*e)}function z9(t,e){return t.map(()=>e||oP).splice(0,t.length-1)}function Uu({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=e9(r)?r.map(CT):CT(r),o={done:!1,value:e[0]},l=$9(n&&n.length===e.length?n:B9(e),t),c=F9(l,e,{ease:Array.isArray(s)?s:z9(e,s)});return{calculatedDuration:t,next:d=>(o.value=c(d),o.done=d>=t,o)}}const W9=t=>t!==null;function Ow(t,{repeat:e,repeatType:n="loop"},r,s=1){const o=t.filter(W9),c=s<0||e&&n!=="loop"&&e%2===1?0:o.length-1;return!c||r===void 0?o[c]:r}const H9={decay:kv,inertia:kv,tween:Uu,keyframes:Uu,spring:dp};function wP(t){typeof t.type=="string"&&(t.type=H9[t.type])}class Vw{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const q9=t=>t/100;class Lw extends Vw{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==lr.now()&&this.tick(lr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;wP(e);const{type:n=Uu,repeat:r=0,repeatDelay:s=0,repeatType:o,velocity:l=0}=e;let{keyframes:c}=e;const d=n||Uu;d!==Uu&&typeof c[0]!="number"&&(this.mixKeyframes=Nd(q9,gP(c[0],c[1])),c=[0,100]);const h=d({...e,keyframes:c});o==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...c].reverse(),velocity:-l})),h.calculatedDuration===null&&(h.calculatedDuration=Mw(h));const{calculatedDuration:m}=h;this.calculatedDuration=m,this.resolvedDuration=m+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=h}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:o,mirroredGenerator:l,resolvedDuration:c,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:h=0,keyframes:m,repeat:g,repeatType:w,repeatDelay:E,type:S,onUpdate:T,finalKeyframe:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const P=this.currentTime-h*(this.playbackSpeed>=0?1:-1),R=this.playbackSpeed>=0?P<0:P>s;this.currentTime=Math.max(P,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let M=this.currentTime,j=r;if(g){const C=Math.min(this.currentTime,s)/c;let V=Math.floor(C),L=C%1;!L&&C>=1&&(L=1),L===1&&V--,V=Math.min(V,g+1),!!(V%2)&&(w==="reverse"?(L=1-L,E&&(L-=E/c)):w==="mirror"&&(j=l)),M=Pi(0,1,L)*c}const B=R?{done:!1,value:m[0]}:j.next(M);o&&(B.value=o(B.value));let{done:K}=B;!R&&d!==null&&(K=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&K);return D&&S!==kv&&(B.value=Ow(m,this.options,k,this.speed)),T&&T(B.value),D&&this.finish(),B}then(e,n){return this.finished.then(e,n)}get duration(){return Bs(this.calculatedDuration)}get time(){return Bs(this.currentTime)}set time(e){var n;e=Us(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(lr.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Bs(this.currentTime))}play(){var s,o;if(this.isStopped)return;const{driver:e=P9,startTime:n}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),(o=(s=this.options).onPlay)==null||o.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(lr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function K9(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Sa=t=>t*180/Math.PI,Iv=t=>{const e=Sa(Math.atan2(t[1],t[0]));return Cv(e)},G9={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Iv,rotateZ:Iv,skewX:t=>Sa(Math.atan(t[1])),skewY:t=>Sa(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Cv=t=>(t=t%360,t<0&&(t+=360),t),MT=Iv,OT=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),VT=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Y9={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:OT,scaleY:VT,scale:t=>(OT(t)+VT(t))/2,rotateX:t=>Cv(Sa(Math.atan2(t[6],t[5]))),rotateY:t=>Cv(Sa(Math.atan2(-t[2],t[0]))),rotateZ:MT,rotate:MT,skewX:t=>Sa(Math.atan(t[4])),skewY:t=>Sa(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Pv(t){return t.includes("scale")?1:0}function Av(t,e){if(!t||t==="none")return Pv(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=Y9,s=n;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=G9,s=c}if(!s)return Pv(e);const o=r[e],l=s[1].split(",").map(X9);return typeof o=="function"?o(l):l[o]}const Q9=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Av(n,e)};function X9(t){return parseFloat(t.trim())}const Cc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Pc=new Set(Cc),LT=t=>t===Ic||t===Le,J9=new Set(["x","y","z"]),Z9=Cc.filter(t=>!J9.has(t));function eB(t){const e=[];return Z9.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Pa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Av(e,"x"),y:(t,{transform:e})=>Av(e,"y")};Pa.translateX=Pa.x;Pa.translateY=Pa.y;const Aa=new Set;let Rv=!1,Nv=!1,Dv=!1;function _P(){if(Nv){const t=Array.from(Aa).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=eB(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([o,l])=>{var c;(c=r.getValue(o))==null||c.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Nv=!1,Rv=!1,Aa.forEach(t=>t.complete(Dv)),Aa.clear()}function xP(){Aa.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Nv=!0)})}function tB(){Dv=!0,xP(),_P(),Dv=!1}class jw{constructor(e,n,r,s,o,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=o,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(Aa.add(this),Rv||(Rv=!0,Tt.read(xP),Tt.resolveKeyframes(_P))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const o=s==null?void 0:s.get(),l=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const c=r.readValue(n,l);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=l),s&&o===void 0&&s.set(e[0])}K9(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Aa.delete(this)}cancel(){this.state==="scheduled"&&(Aa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const nB=t=>t.startsWith("--");function rB(t,e,n){nB(e)?t.style.setProperty(e,n):t.style[e]=n}const sB=Sw(()=>window.ScrollTimeline!==void 0),iB={};function oB(t,e){const n=Sw(t);return()=>iB[e]??n()}const bP=oB(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Pu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,jT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Pu([0,.65,.55,1]),circOut:Pu([.55,0,1,.45]),backIn:Pu([.31,.01,.66,-.59]),backOut:Pu([.33,1.53,.69,.99])};function EP(t,e){if(t)return typeof t=="function"?bP()?yP(t,e):"ease-out":aP(t)?Pu(t):Array.isArray(t)?t.map(n=>EP(n,e)||jT.easeOut):jT[t]}function aB(t,e,n,{delay:r=0,duration:s=300,repeat:o=0,repeatType:l="loop",ease:c="easeOut",times:d}={},h=void 0){const m={[e]:n};d&&(m.offset=d);const g=EP(c,s);Array.isArray(g)&&(m.easing=g);const w={delay:r,duration:s,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"};return h&&(w.pseudoElement=h),t.animate(m,w)}function TP(t){return typeof t=="function"&&"applyToOptions"in t}function lB({type:t,...e}){return TP(t)&&bP()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class cB extends Vw{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:o,allowFlatten:l=!1,finalKeyframe:c,onComplete:d}=e;this.isPseudoElement=!!o,this.allowFlatten=l,this.options=e,Tw(typeof e.type!="string");const h=lB(e);this.animation=aB(n,r,s,h,o),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const m=Ow(s,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(m):rB(n,r,m),this.animation.cancel()}d==null||d(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Bs(Number(e))}get time(){return Bs(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Us(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&sB()?(this.animation.timeline=e,Fr):n(this)}}const SP={anticipate:rP,backInOut:nP,circInOut:iP};function uB(t){return t in SP}function dB(t){typeof t.ease=="string"&&uB(t.ease)&&(t.ease=SP[t.ease])}const FT=10;class hB extends cB{constructor(e){dB(e),wP(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:o,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const c=new Lw({...l,autoplay:!1}),d=Us(this.finishedTime??this.time);n.setWithVelocity(c.sample(d-FT).value,c.sample(d).value,FT),c.stop()}}const UT=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Oo.test(t)||t==="0")&&!t.startsWith("url("));function fB(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function pB(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],l=UT(s,e),c=UT(o,e);return!l||!c?!1:fB(t)||(n==="spring"||TP(n))&&r}function Mv(t){t.duration=0,t.type}const mB=new Set(["opacity","clipPath","filter","transform"]),gB=Sw(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function yB(t){var m;const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:o,type:l}=t;if(!(((m=e==null?void 0:e.owner)==null?void 0:m.current)instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:h}=e.owner.getProps();return gB()&&n&&mB.has(n)&&(n!=="transform"||!h)&&!d&&!r&&s!=="mirror"&&o!==0&&l!=="inertia"}const vB=40;class wB extends Vw{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:l="loop",keyframes:c,name:d,motionValue:h,element:m,...g}){var S;super(),this.stop=()=>{var T,k;this._animation&&(this._animation.stop(),(T=this.stopTimeline)==null||T.call(this)),(k=this.keyframeResolver)==null||k.cancel()},this.createdAt=lr.now();const w={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:o,repeatType:l,name:d,motionValue:h,element:m,...g},E=(m==null?void 0:m.KeyframeResolver)||jw;this.keyframeResolver=new E(c,(T,k,P)=>this.onKeyframesResolved(T,k,w,!P),d,h,m),(S=this.keyframeResolver)==null||S.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:o,type:l,velocity:c,delay:d,isHandoff:h,onUpdate:m}=r;this.resolvedAt=lr.now(),pB(e,o,l,c)||((Ai.instantAnimations||!d)&&(m==null||m(Ow(e,r,n))),e[0]=e[e.length-1],Mv(r),r.repeat=0);const w={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>vB?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},E=!h&&yB(w)?new hB({...w,element:w.motionValue.owner.current}):new Lw(w);E.finished.then(()=>this.notifyFinished()).catch(Fr),this.pendingTimeline&&(this.stopTimeline=E.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=E}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),tB()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const _B=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function xB(t){const e=_B.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function kP(t,e,n=1){const[r,s]=xB(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const l=o.trim();return GC(l)?parseFloat(l):l}return Aw(s)?kP(s,e,n+1):s}function Fw(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const IP=new Set(["width","height","top","left","right","bottom",...Cc]),bB={test:t=>t==="auto",parse:t=>t},CP=t=>e=>e.test(t),PP=[Ic,Le,$s,po,f9,h9,bB],BT=t=>PP.find(CP(t));function EB(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||QC(t):!0}const TB=new Set(["brightness","contrast","saturate","opacity"]);function SB(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Rw)||[];if(!r)return t;const s=n.replace(r,"");let o=TB.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+s+")"}const kB=/\b([a-z-]*)\(.*?\)/gu,Ov={...Oo,getAnimatableNone:t=>{const e=t.match(kB);return e?e.map(SB).join(" "):t}},$T={...Ic,transform:Math.round},IB={rotate:po,rotateX:po,rotateY:po,rotateZ:po,scale:hf,scaleX:hf,scaleY:hf,scaleZ:hf,skew:po,skewX:po,skewY:po,distance:Le,translateX:Le,translateY:Le,translateZ:Le,x:Le,y:Le,z:Le,perspective:Le,transformPerspective:Le,opacity:od,originX:PT,originY:PT,originZ:Le},Uw={borderWidth:Le,borderTopWidth:Le,borderRightWidth:Le,borderBottomWidth:Le,borderLeftWidth:Le,borderRadius:Le,radius:Le,borderTopLeftRadius:Le,borderTopRightRadius:Le,borderBottomRightRadius:Le,borderBottomLeftRadius:Le,width:Le,maxWidth:Le,height:Le,maxHeight:Le,top:Le,right:Le,bottom:Le,left:Le,padding:Le,paddingTop:Le,paddingRight:Le,paddingBottom:Le,paddingLeft:Le,margin:Le,marginTop:Le,marginRight:Le,marginBottom:Le,marginLeft:Le,backgroundPositionX:Le,backgroundPositionY:Le,...IB,zIndex:$T,fillOpacity:od,strokeOpacity:od,numOctaves:$T},CB={...Uw,color:Gt,backgroundColor:Gt,outlineColor:Gt,fill:Gt,stroke:Gt,borderColor:Gt,borderTopColor:Gt,borderRightColor:Gt,borderBottomColor:Gt,borderLeftColor:Gt,filter:Ov,WebkitFilter:Ov},AP=t=>CB[t];function RP(t,e){let n=AP(t);return n!==Ov&&(n=Oo),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const PB=new Set(["auto","none","0"]);function AB(t,e,n){let r=0,s;for(;r<t.length&&!s;){const o=t[r];typeof o=="string"&&!PB.has(o)&&ad(o).values.length&&(s=t[r]),r++}if(s&&n)for(const o of e)t[o]=RP(n,s)}class RB extends jw{constructor(e,n,r,s,o){super(e,n,r,s,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let h=e[d];if(typeof h=="string"&&(h=h.trim(),Aw(h))){const m=kP(h,n.current);m!==void 0&&(e[d]=m),d===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!IP.has(r)||e.length!==2)return;const[s,o]=e,l=BT(s),c=BT(o);if(l!==c)if(LT(l)&&LT(c))for(let d=0;d<e.length;d++){const h=e[d];typeof h=="string"&&(e[d]=parseFloat(h))}else Pa[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||EB(e[s]))&&r.push(s);r.length&&AB(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Pa[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var c;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const o=r.length-1,l=r[o];r[o]=Pa[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),(c=this.removedTransforms)!=null&&c.length&&this.removedTransforms.forEach(([d,h])=>{e.getValue(d).set(h)}),this.resolveNoneKeyframes()}}function NB(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const s=(n==null?void 0:n[t])??r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const NP=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function DP(t){return YC(t)&&"offsetHeight"in t}const zT=30,DB=t=>!isNaN(parseFloat(t));class MB{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var o;const s=lr.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=lr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=DB(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new kw);const r=this.events[e].add(n);return e==="change"?()=>{r(),Tt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=lr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>zT)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,zT);return XC(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function hc(t,e){return new MB(t,e)}const{schedule:Bw}=lP(queueMicrotask,!1),rs={x:!1,y:!1};function MP(){return rs.x||rs.y}function OB(t){return t==="x"||t==="y"?rs[t]?null:(rs[t]=!0,()=>{rs[t]=!1}):rs.x||rs.y?null:(rs.x=rs.y=!0,()=>{rs.x=rs.y=!1})}function OP(t,e){const n=NB(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function WT(t){return!(t.pointerType==="touch"||MP())}function VB(t,e,n={}){const[r,s,o]=OP(t,n),l=c=>{if(!WT(c))return;const{target:d}=c,h=e(d,c);if(typeof h!="function"||!d)return;const m=g=>{WT(g)&&(h(g),d.removeEventListener("pointerleave",m))};d.addEventListener("pointerleave",m,s)};return r.forEach(c=>{c.addEventListener("pointerenter",l,s)}),o}const VP=(t,e)=>e?t===e?!0:VP(t,e.parentElement):!1,$w=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,LB=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function jB(t){return LB.has(t.tagName)||t.tabIndex!==-1}const Of=new WeakSet;function HT(t){return e=>{e.key==="Enter"&&t(e)}}function wy(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const FB=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=HT(()=>{if(Of.has(n))return;wy(n,"down");const s=HT(()=>{wy(n,"up")}),o=()=>wy(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function qT(t){return $w(t)&&!MP()}function UB(t,e,n={}){const[r,s,o]=OP(t,n),l=c=>{const d=c.currentTarget;if(!qT(c))return;Of.add(d);const h=e(d,c),m=(E,S)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",w),Of.has(d)&&Of.delete(d),qT(E)&&typeof h=="function"&&h(E,{success:S})},g=E=>{m(E,d===window||d===document||n.useGlobalTarget||VP(d,E.target))},w=E=>{m(E,!1)};window.addEventListener("pointerup",g,s),window.addEventListener("pointercancel",w,s)};return r.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",l,s),DP(c)&&(c.addEventListener("focus",h=>FB(h,s)),!jB(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),o}function LP(t){return YC(t)&&"ownerSVGElement"in t}function BB(t){return LP(t)&&t.tagName==="svg"}const Rn=t=>!!(t&&t.getVelocity),$B=[...PP,Gt,Oo],zB=t=>$B.find(CP(t)),zw=b.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class WB extends b.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=DP(r)&&r.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=s-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function HB({children:t,isPresent:e,anchorX:n,root:r}){const s=b.useId(),o=b.useRef(null),l=b.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=b.useContext(zw);return b.useInsertionEffect(()=>{const{width:d,height:h,top:m,left:g,right:w}=l.current;if(e||!o.current||!d||!h)return;const E=n==="left"?`left: ${g}`:`right: ${w}`;o.current.dataset.motionPopId=s;const S=document.createElement("style");c&&(S.nonce=c);const T=r??document.head;return T.appendChild(S),S.sheet&&S.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${h}px !important;
            ${E}px !important;
            top: ${m}px !important;
          }
        `),()=>{T.contains(S)&&T.removeChild(S)}},[e]),y.jsx(WB,{isPresent:e,childRef:o,sizeRef:l,children:b.cloneElement(t,{ref:o})})}const qB=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:o,mode:l,anchorX:c,root:d})=>{const h=_w(KB),m=b.useId();let g=!0,w=b.useMemo(()=>(g=!1,{id:m,initial:e,isPresent:n,custom:s,onExitComplete:E=>{h.set(E,!0);for(const S of h.values())if(!S)return;r&&r()},register:E=>(h.set(E,!1),()=>h.delete(E))}),[n,h,r]);return o&&g&&(w={...w}),b.useMemo(()=>{h.forEach((E,S)=>h.set(S,!1))},[n]),b.useEffect(()=>{!n&&!h.size&&r&&r()},[n]),l==="popLayout"&&(t=y.jsx(HB,{isPresent:n,anchorX:c,root:d,children:t})),y.jsx(Xp.Provider,{value:w,children:t})};function KB(){return new Map}function jP(t=!0){const e=b.useContext(Xp);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,o=b.useId();b.useEffect(()=>{if(t)return s(o)},[t]);const l=b.useCallback(()=>t&&r&&r(o),[o,r,t]);return!n&&r?[!1,l]:[!0]}const ff=t=>t.key||"";function KT(t){const e=[];return b.Children.forEach(t,n=>{b.isValidElement(n)&&e.push(n)}),e}const Od=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:o="sync",propagate:l=!1,anchorX:c="left",root:d})=>{const[h,m]=jP(l),g=b.useMemo(()=>KT(t),[t]),w=l&&!h?[]:g.map(ff),E=b.useRef(!0),S=b.useRef(g),T=_w(()=>new Map),[k,P]=b.useState(g),[R,M]=b.useState(g);KC(()=>{E.current=!1,S.current=g;for(let K=0;K<R.length;K++){const D=ff(R[K]);w.includes(D)?T.delete(D):T.get(D)!==!0&&T.set(D,!1)}},[R,w.length,w.join("-")]);const j=[];if(g!==k){let K=[...g];for(let D=0;D<R.length;D++){const C=R[D],V=ff(C);w.includes(V)||(K.splice(D,0,C),j.push(C))}return o==="wait"&&j.length&&(K=j),M(KT(K)),P(g),null}const{forceRender:B}=b.useContext(ww);return y.jsx(y.Fragment,{children:R.map(K=>{const D=ff(K),C=l&&!h?!1:g===R||w.includes(D),V=()=>{if(T.has(D))T.set(D,!0);else return;let L=!0;T.forEach(F=>{F||(L=!1)}),L&&(B==null||B(),M(S.current),l&&(m==null||m()),r&&r())};return y.jsx(qB,{isPresent:C,initial:!E.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:o,root:d,onExitComplete:C?void 0:V,anchorX:c,children:K},D)})})},FP=b.createContext({strict:!1}),GT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},fc={};for(const t in GT)fc[t]={isEnabled:e=>GT[t].some(n=>!!e[n])};function GB(t){for(const e in t)fc[e]={...fc[e],...t[e]}}const YB=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function hp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||YB.has(t)}let UP=t=>!hp(t);function QB(t){typeof t=="function"&&(UP=e=>e.startsWith("on")?!hp(e):t(e))}try{QB(require("@emotion/is-prop-valid").default)}catch{}function XB(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(UP(s)||n===!0&&hp(s)||!e&&!hp(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const Jp=b.createContext({});function Zp(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function ld(t){return typeof t=="string"||Array.isArray(t)}const Ww=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Hw=["initial",...Ww];function em(t){return Zp(t.animate)||Hw.some(e=>ld(t[e]))}function BP(t){return!!(em(t)||t.variants)}function JB(t,e){if(em(t)){const{initial:n,animate:r}=t;return{initial:n===!1||ld(n)?n:void 0,animate:ld(r)?r:void 0}}return t.inherit!==!1?e:{}}function ZB(t){const{initial:e,animate:n}=JB(t,b.useContext(Jp));return b.useMemo(()=>({initial:e,animate:n}),[YT(e),YT(n)])}function YT(t){return Array.isArray(t)?t.join(" "):t}const cd={};function e8(t){for(const e in t)cd[e]=t[e],Pw(e)&&(cd[e].isCSSVariable=!0)}function $P(t,{layout:e,layoutId:n}){return Pc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!cd[t]||t==="opacity")}const t8={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},n8=Cc.length;function r8(t,e,n){let r="",s=!0;for(let o=0;o<n8;o++){const l=Cc[o],c=t[l];if(c===void 0)continue;let d=!0;if(typeof c=="number"?d=c===(l.startsWith("scale")?1:0):d=parseFloat(c)===0,!d||n){const h=NP(c,Uw[l]);if(!d){s=!1;const m=t8[l]||l;r+=`${m}(${h}) `}n&&(e[l]=h)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function qw(t,e,n){const{style:r,vars:s,transformOrigin:o}=t;let l=!1,c=!1;for(const d in e){const h=e[d];if(Pc.has(d)){l=!0;continue}else if(Pw(d)){s[d]=h;continue}else{const m=NP(h,Uw[d]);d.startsWith("origin")?(c=!0,o[d]=m):r[d]=m}}if(e.transform||(l||n?r.transform=r8(e,t.transform,n):r.transform&&(r.transform="none")),c){const{originX:d="50%",originY:h="50%",originZ:m=0}=o;r.transformOrigin=`${d} ${h} ${m}`}}const Kw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function zP(t,e,n){for(const r in e)!Rn(e[r])&&!$P(r,n)&&(t[r]=e[r])}function s8({transformTemplate:t},e){return b.useMemo(()=>{const n=Kw();return qw(n,e,t),Object.assign({},n.vars,n.style)},[e])}function i8(t,e){const n=t.style||{},r={};return zP(r,n,t),Object.assign(r,s8(t,e)),r}function o8(t,e){const n={},r=i8(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const a8={offset:"stroke-dashoffset",array:"stroke-dasharray"},l8={offset:"strokeDashoffset",array:"strokeDasharray"};function c8(t,e,n=1,r=0,s=!0){t.pathLength=1;const o=s?a8:l8;t[o.offset]=Le.transform(-r);const l=Le.transform(e),c=Le.transform(n);t[o.array]=`${l} ${c}`}function WP(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:o=1,pathOffset:l=0,...c},d,h,m){if(qw(t,c,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:w}=t;g.transform&&(w.transform=g.transform,delete g.transform),(w.transform||g.transformOrigin)&&(w.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),w.transform&&(w.transformBox=(m==null?void 0:m.transformBox)??"fill-box",delete g.transformBox),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),s!==void 0&&c8(g,s,o,l,!1)}const HP=()=>({...Kw(),attrs:{}}),qP=t=>typeof t=="string"&&t.toLowerCase()==="svg";function u8(t,e,n,r){const s=b.useMemo(()=>{const o=HP();return WP(o,e,qP(r),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};zP(o,t.style,t),s.style={...o,...s.style}}return s}const d8=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Gw(t){return typeof t!="string"||t.includes("-")?!1:!!(d8.indexOf(t)>-1||/[A-Z]/u.test(t))}function h8(t,e,n,{latestValues:r},s,o=!1){const c=(Gw(t)?u8:o8)(e,r,s,t),d=XB(e,typeof t=="string",o),h=t!==b.Fragment?{...d,...c,ref:n}:{},{children:m}=e,g=b.useMemo(()=>Rn(m)?m.get():m,[m]);return b.createElement(t,{...h,children:g})}function QT(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Yw(t,e,n,r){if(typeof e=="function"){const[s,o]=QT(r);e=e(n!==void 0?n:t.custom,s,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,o]=QT(r);e=e(n!==void 0?n:t.custom,s,o)}return e}function Vf(t){return Rn(t)?t.get():t}function f8({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:p8(n,r,s,t),renderState:e()}}function p8(t,e,n,r){const s={},o=r(t,{});for(const w in o)s[w]=Vf(o[w]);let{initial:l,animate:c}=t;const d=em(t),h=BP(t);e&&h&&!d&&t.inherit!==!1&&(l===void 0&&(l=e.initial),c===void 0&&(c=e.animate));let m=n?n.initial===!1:!1;m=m||l===!1;const g=m?c:l;if(g&&typeof g!="boolean"&&!Zp(g)){const w=Array.isArray(g)?g:[g];for(let E=0;E<w.length;E++){const S=Yw(t,w[E]);if(S){const{transitionEnd:T,transition:k,...P}=S;for(const R in P){let M=P[R];if(Array.isArray(M)){const j=m?M.length-1:0;M=M[j]}M!==null&&(s[R]=M)}for(const R in T)s[R]=T[R]}}}return s}const KP=t=>(e,n)=>{const r=b.useContext(Jp),s=b.useContext(Xp),o=()=>f8(t,e,r,s);return n?o():_w(o)};function Qw(t,e,n){var o;const{style:r}=t,s={};for(const l in r)(Rn(r[l])||e.style&&Rn(e.style[l])||$P(l,t)||((o=n==null?void 0:n.getValue(l))==null?void 0:o.liveStyle)!==void 0)&&(s[l]=r[l]);return s}const m8=KP({scrapeMotionValuesFromProps:Qw,createRenderState:Kw});function GP(t,e,n){const r=Qw(t,e,n);for(const s in t)if(Rn(t[s])||Rn(e[s])){const o=Cc.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[o]=t[s]}return r}const g8=KP({scrapeMotionValuesFromProps:GP,createRenderState:HP}),y8=Symbol.for("motionComponentSymbol");function Hl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function v8(t,e,n){return b.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Hl(n)&&(n.current=r))},[e])}const Xw=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),w8="framerAppearId",YP="data-"+Xw(w8),QP=b.createContext({});function _8(t,e,n,r,s){var T,k;const{visualElement:o}=b.useContext(Jp),l=b.useContext(FP),c=b.useContext(Xp),d=b.useContext(zw).reducedMotion,h=b.useRef(null);r=r||l.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:o,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const m=h.current,g=b.useContext(QP);m&&!m.projection&&s&&(m.type==="html"||m.type==="svg")&&x8(h.current,n,s,g);const w=b.useRef(!1);b.useInsertionEffect(()=>{m&&w.current&&m.update(n,c)});const E=n[YP],S=b.useRef(!!E&&!((T=window.MotionHandoffIsComplete)!=null&&T.call(window,E))&&((k=window.MotionHasOptimisedAnimation)==null?void 0:k.call(window,E)));return KC(()=>{m&&(w.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),S.current&&m.animationState&&m.animationState.animateChanges())}),b.useEffect(()=>{m&&(!S.current&&m.animationState&&m.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var P;(P=window.MotionHandoffMarkAsComplete)==null||P.call(window,E)}),S.current=!1),m.enteringChildren=void 0)}),m}function x8(t,e,n,r){const{layoutId:s,layout:o,drag:l,dragConstraints:c,layoutScroll:d,layoutRoot:h,layoutCrossfade:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:XP(t.parent)),t.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!l||c&&Hl(c),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:m,layoutScroll:d,layoutRoot:h})}function XP(t){if(t)return t.options.allowProjection!==!1?t.projection:XP(t.parent)}function _y(t,{forwardMotionProps:e=!1}={},n,r){n&&GB(n);const s=Gw(t)?g8:m8;function o(c,d){let h;const m={...b.useContext(zw),...c,layoutId:b8(c)},{isStatic:g}=m,w=ZB(c),E=s(c,g);if(!g&&xw){E8();const S=T8(m);h=S.MeasureLayout,w.visualElement=_8(t,E,m,r,S.ProjectionNode)}return y.jsxs(Jp.Provider,{value:w,children:[h&&w.visualElement?y.jsx(h,{visualElement:w.visualElement,...m}):null,h8(t,c,v8(E,w.visualElement,d),E,g,e)]})}o.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=b.forwardRef(o);return l[y8]=t,l}function b8({layoutId:t}){const e=b.useContext(ww).id;return e&&t!==void 0?e+"-"+t:t}function E8(t,e){b.useContext(FP).strict}function T8(t){const{drag:e,layout:n}=fc;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function S8(t,e){if(typeof Proxy>"u")return _y;const n=new Map,r=(o,l)=>_y(o,l,t,e),s=(o,l)=>r(o,l);return new Proxy(s,{get:(o,l)=>l==="create"?r:(n.has(l)||n.set(l,_y(l,void 0,t,e)),n.get(l))})}function JP({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function k8({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function I8(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function xy(t){return t===void 0||t===1}function Vv({scale:t,scaleX:e,scaleY:n}){return!xy(t)||!xy(e)||!xy(n)}function xa(t){return Vv(t)||ZP(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function ZP(t){return XT(t.x)||XT(t.y)}function XT(t){return t&&t!=="0%"}function fp(t,e,n){const r=t-n,s=e*r;return n+s}function JT(t,e,n,r,s){return s!==void 0&&(t=fp(t,s,r)),fp(t,n,r)+e}function Lv(t,e=0,n=1,r,s){t.min=JT(t.min,e,n,r,s),t.max=JT(t.max,e,n,r,s)}function eA(t,{x:e,y:n}){Lv(t.x,e.translate,e.scale,e.originPoint),Lv(t.y,n.translate,n.scale,n.originPoint)}const ZT=.999999999999,eS=1.0000000000001;function C8(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let o,l;for(let c=0;c<s;c++){o=n[c],l=o.projectionDelta;const{visualElement:d}=o.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Kl(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,eA(t,l)),r&&xa(o.latestValues)&&Kl(t,o.latestValues))}e.x<eS&&e.x>ZT&&(e.x=1),e.y<eS&&e.y>ZT&&(e.y=1)}function ql(t,e){t.min=t.min+e,t.max=t.max+e}function tS(t,e,n,r,s=.5){const o=Pt(t.min,t.max,s);Lv(t,e,n,o,r)}function Kl(t,e){tS(t.x,e.x,e.scaleX,e.scale,e.originX),tS(t.y,e.y,e.scaleY,e.scale,e.originY)}function tA(t,e){return JP(I8(t.getBoundingClientRect(),e))}function P8(t,e,n){const r=tA(t,n),{scroll:s}=e;return s&&(ql(r.x,s.offset.x),ql(r.y,s.offset.y)),r}const nS=()=>({translate:0,scale:1,origin:0,originPoint:0}),Gl=()=>({x:nS(),y:nS()}),rS=()=>({min:0,max:0}),$t=()=>({x:rS(),y:rS()}),jv={current:null},nA={current:!1};function A8(){if(nA.current=!0,!!xw)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>jv.current=t.matches;t.addEventListener("change",e),e()}else jv.current=!1}const R8=new WeakMap;function N8(t,e,n){for(const r in e){const s=e[r],o=n[r];if(Rn(s))t.addValue(r,s);else if(Rn(o))t.addValue(r,hc(s,{owner:t}));else if(o!==s)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=t.getStaticValue(r);t.addValue(r,hc(l!==void 0?l:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const sS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class D8{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:o,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=jw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=lr.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,Tt.render(this.render,!1,!0))};const{latestValues:d,renderState:h}=l;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!o,this.isControllingVariants=em(n),this.isVariantNode=BP(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in g){const E=g[w];d[w]!==void 0&&Rn(E)&&E.set(d[w])}}mount(e){var n;this.current=e,R8.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),nA.current||A8(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:jv.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Mo(this.notifyUpdate),Mo(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Pc.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&Tt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in fc){const n=fc[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):$t()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<sS.length;r++){const s=sS[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,l=e[o];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=N8(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=hc(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(GC(r)||QC(r))?r=parseFloat(r):!zB(r)&&Oo.test(n)&&(r=RP(e,n)),this.setBaseTarget(e,Rn(r)?r.get():r)),Rn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var o;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const l=Yw(this.props,n,(o=this.presenceContext)==null?void 0:o.custom);l&&(r=l[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Rn(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new kw),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Bw.render(this.render)}}class rA extends D8{constructor(){super(...arguments),this.KeyframeResolver=RB}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Rn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function sA(t,{style:e,vars:n},r,s){const o=t.style;let l;for(l in e)o[l]=e[l];s==null||s.applyProjectionStyles(o,r);for(l in n)o.setProperty(l,n[l])}function M8(t){return window.getComputedStyle(t)}class O8 extends rA{constructor(){super(...arguments),this.type="html",this.renderInstance=sA}readValueFromInstance(e,n){var r;if(Pc.has(n))return(r=this.projection)!=null&&r.isProjecting?Pv(n):Q9(e,n);{const s=M8(e),o=(Pw(n)?s.getPropertyValue(n):s[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return tA(e,n)}build(e,n,r){qw(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Qw(e,n,r)}}const iA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function V8(t,e,n,r){sA(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(iA.has(s)?s:Xw(s),e.attrs[s])}class L8 extends rA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=$t}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Pc.has(n)){const r=AP(n);return r&&r.default||0}return n=iA.has(n)?n:Xw(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return GP(e,n,r)}build(e,n,r){WP(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){V8(e,n,r,s)}mount(e){this.isSVGTag=qP(e.tagName),super.mount(e)}}const j8=(t,e)=>Gw(t)?new L8(e):new O8(e,{allowProjection:t!==b.Fragment});function ec(t,e,n){const r=t.getProps();return Yw(r,e,n!==void 0?n:r.custom,t)}const Fv=t=>Array.isArray(t);function F8(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,hc(n))}function U8(t){return Fv(t)?t[t.length-1]||0:t}function B8(t,e){const n=ec(t,e);let{transitionEnd:r={},transition:s={},...o}=n||{};o={...o,...r};for(const l in o){const c=U8(o[l]);F8(t,l,c)}}function $8(t){return!!(Rn(t)&&t.add)}function Uv(t,e){const n=t.getValue("willChange");if($8(n))return n.add(e);if(!n&&Ai.WillChange){const r=new Ai.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function oA(t){return t.props[YP]}const z8=t=>t!==null;function W8(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(z8),o=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[o]}const H8={type:"spring",stiffness:500,damping:25,restSpeed:10},q8=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),K8={type:"keyframes",duration:.8},G8={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Y8=(t,{keyframes:e})=>e.length>2?K8:Pc.has(t)?t.startsWith("scale")?q8(e[1]):H8:G8;function Q8({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:o,repeatType:l,repeatDelay:c,from:d,elapsed:h,...m}){return!!Object.keys(m).length}const Jw=(t,e,n,r={},s,o)=>l=>{const c=Fw(r,t)||{},d=c.delay||r.delay||0;let{elapsed:h=0}=r;h=h-Us(d);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-h,onUpdate:w=>{e.set(w),c.onUpdate&&c.onUpdate(w)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:o?void 0:s};Q8(c)||Object.assign(m,Y8(t,m)),m.duration&&(m.duration=Us(m.duration)),m.repeatDelay&&(m.repeatDelay=Us(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let g=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(Mv(m),m.delay===0&&(g=!0)),(Ai.instantAnimations||Ai.skipAnimations)&&(g=!0,Mv(m),m.delay=0),m.allowFlatten=!c.type&&!c.ease,g&&!o&&e.get()!==void 0){const w=W8(m.keyframes,c);if(w!==void 0){Tt.update(()=>{m.onUpdate(w),m.onComplete()});return}}return c.isSync?new Lw(m):new wB(m)};function X8({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function aA(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:l,...c}=e;r&&(o=r);const d=[],h=s&&t.animationState&&t.animationState.getState()[s];for(const m in c){const g=t.getValue(m,t.latestValues[m]??null),w=c[m];if(w===void 0||h&&X8(h,m))continue;const E={delay:n,...Fw(o||{},m)},S=g.get();if(S!==void 0&&!g.isAnimating&&!Array.isArray(w)&&w===S&&!E.velocity)continue;let T=!1;if(window.MotionHandoffAnimation){const P=oA(t);if(P){const R=window.MotionHandoffAnimation(P,m,Tt);R!==null&&(E.startTime=R,T=!0)}}Uv(t,m),g.start(Jw(m,g,w,t.shouldReduceMotion&&IP.has(m)?{type:!1}:E,t,T));const k=g.animation;k&&d.push(k)}return l&&Promise.all(d).then(()=>{Tt.update(()=>{l&&B8(t,l)})}),d}function lA(t,e,n,r=0,s=1){const o=Array.from(t).sort((h,m)=>h.sortNodePosition(m)).indexOf(e),l=t.size,c=(l-1)*r;return typeof n=="function"?n(o,l):s===1?o*r:c-o*r}function Bv(t,e,n={}){var d;const r=ec(t,e,n.type==="exit"?(d=t.presenceContext)==null?void 0:d.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const o=r?()=>Promise.all(aA(t,r,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:m=0,staggerChildren:g,staggerDirection:w}=s;return J8(t,e,h,m,g,w,n)}:()=>Promise.resolve(),{when:c}=s;if(c){const[h,m]=c==="beforeChildren"?[o,l]:[l,o];return h().then(()=>m())}else return Promise.all([o(),l(n.delay)])}function J8(t,e,n=0,r=0,s=0,o=1,l){const c=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),c.push(Bv(d,e,{...l,delay:n+(typeof r=="function"?0:r)+lA(t.variantChildren,d,r,s,o)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(c)}function Z8(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(o=>Bv(t,o,n));r=Promise.all(s)}else if(typeof e=="string")r=Bv(t,e,n);else{const s=typeof e=="function"?ec(t,e,n.custom):e;r=Promise.all(aA(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function cA(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const e$=Hw.length;function uA(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?uA(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<e$;n++){const r=Hw[n],s=t.props[r];(ld(s)||s===!1)&&(e[r]=s)}return e}const t$=[...Ww].reverse(),n$=Ww.length;function r$(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Z8(t,n,r)))}function s$(t){let e=r$(t),n=iS(),r=!0;const s=d=>(h,m)=>{var w;const g=ec(t,m,d==="exit"?(w=t.presenceContext)==null?void 0:w.custom:void 0);if(g){const{transition:E,transitionEnd:S,...T}=g;h={...h,...T,...S}}return h};function o(d){e=d(t)}function l(d){const{props:h}=t,m=uA(t.parent)||{},g=[],w=new Set;let E={},S=1/0;for(let k=0;k<n$;k++){const P=t$[k],R=n[P],M=h[P]!==void 0?h[P]:m[P],j=ld(M),B=P===d?R.isActive:null;B===!1&&(S=k);let K=M===m[P]&&M!==h[P]&&j;if(K&&r&&t.manuallyAnimateOnMount&&(K=!1),R.protectedKeys={...E},!R.isActive&&B===null||!M&&!R.prevProp||Zp(M)||typeof M=="boolean")continue;const D=i$(R.prevProp,M);let C=D||P===d&&R.isActive&&!K&&j||k>S&&j,V=!1;const L=Array.isArray(M)?M:[M];let F=L.reduce(s(P),{});B===!1&&(F={});const{prevResolvedValues:$={}}=R,N={...$,...F},se=te=>{C=!0,w.has(te)&&(V=!0,w.delete(te)),R.needsAnimating[te]=!0;const z=t.getValue(te);z&&(z.liveStyle=!1)};for(const te in N){const z=F[te],oe=$[te];if(E.hasOwnProperty(te))continue;let le=!1;Fv(z)&&Fv(oe)?le=!cA(z,oe):le=z!==oe,le?z!=null?se(te):w.add(te):z!==void 0&&w.has(te)?se(te):R.protectedKeys[te]=!0}R.prevProp=M,R.prevResolvedValues=F,R.isActive&&(E={...E,...F}),r&&t.blockInitialAnimation&&(C=!1);const ie=K&&D;C&&(!ie||V)&&g.push(...L.map(te=>{const z={type:P};if(typeof te=="string"&&r&&!ie&&t.manuallyAnimateOnMount&&t.parent){const{parent:oe}=t,le=ec(oe,te);if(oe.enteringChildren&&le){const{delayChildren:W}=le.transition||{};z.delay=lA(oe.enteringChildren,t,W)}}return{animation:te,options:z}}))}if(w.size){const k={};if(typeof h.initial!="boolean"){const P=ec(t,Array.isArray(h.initial)?h.initial[0]:h.initial);P&&P.transition&&(k.transition=P.transition)}w.forEach(P=>{const R=t.getBaseTarget(P),M=t.getValue(P);M&&(M.liveStyle=!0),k[P]=R??null}),g.push({animation:k})}let T=!!g.length;return r&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(T=!1),r=!1,T?e(g):Promise.resolve()}function c(d,h){var g;if(n[d].isActive===h)return Promise.resolve();(g=t.variantChildren)==null||g.forEach(w=>{var E;return(E=w.animationState)==null?void 0:E.setActive(d,h)}),n[d].isActive=h;const m=l(d);for(const w in n)n[w].protectedKeys={};return m}return{animateChanges:l,setActive:c,setAnimateFunction:o,getState:()=>n,reset:()=>{n=iS(),r=!0}}}function i$(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!cA(e,t):!1}function wa(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function iS(){return{animate:wa(!0),whileInView:wa(),whileHover:wa(),whileTap:wa(),whileDrag:wa(),whileFocus:wa(),exit:wa()}}class zo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class o$ extends zo{constructor(e){super(e),e.animationState||(e.animationState=s$(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Zp(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let a$=0;class l$ extends zo{constructor(){super(...arguments),this.id=a$++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const c$={animation:{Feature:o$},exit:{Feature:l$}};function ud(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Vd(t){return{point:{x:t.pageX,y:t.pageY}}}const u$=t=>e=>$w(e)&&t(e,Vd(e));function Bu(t,e,n,r){return ud(t,e,u$(n),r)}const dA=1e-4,d$=1-dA,h$=1+dA,hA=.01,f$=0-hA,p$=0+hA;function $n(t){return t.max-t.min}function m$(t,e,n){return Math.abs(t-e)<=n}function oS(t,e,n,r=.5){t.origin=r,t.originPoint=Pt(e.min,e.max,t.origin),t.scale=$n(n)/$n(e),t.translate=Pt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=d$&&t.scale<=h$||isNaN(t.scale))&&(t.scale=1),(t.translate>=f$&&t.translate<=p$||isNaN(t.translate))&&(t.translate=0)}function $u(t,e,n,r){oS(t.x,e.x,n.x,r?r.originX:void 0),oS(t.y,e.y,n.y,r?r.originY:void 0)}function aS(t,e,n){t.min=n.min+e.min,t.max=t.min+$n(e)}function g$(t,e,n){aS(t.x,e.x,n.x),aS(t.y,e.y,n.y)}function lS(t,e,n){t.min=e.min-n.min,t.max=t.min+$n(e)}function zu(t,e,n){lS(t.x,e.x,n.x),lS(t.y,e.y,n.y)}function Vr(t){return[t("x"),t("y")]}const fA=({current:t})=>t?t.ownerDocument.defaultView:null,cS=(t,e)=>Math.abs(t-e);function y$(t,e){const n=cS(t.x,e.x),r=cS(t.y,e.y);return Math.sqrt(n**2+r**2)}class pA{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:o=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Ey(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,S=y$(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!E&&!S)return;const{point:T}=w,{timestamp:k}=wn;this.history.push({...T,timestamp:k});const{onStart:P,onMove:R}=this.handlers;E||(P&&P(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),R&&R(this.lastMoveEvent,w)},this.handlePointerMove=(w,E)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=by(E,this.transformPagePoint),Tt.update(this.updatePoint,!0)},this.handlePointerUp=(w,E)=>{this.end();const{onEnd:S,onSessionEnd:T,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=Ey(w.type==="pointercancel"?this.lastMoveEventInfo:by(E,this.transformPagePoint),this.history);this.startEvent&&S&&S(w,P),T&&T(w,P)},!$w(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=l,this.contextWindow=s||window;const c=Vd(e),d=by(c,this.transformPagePoint),{point:h}=d,{timestamp:m}=wn;this.history=[{...h,timestamp:m}];const{onSessionStart:g}=n;g&&g(e,Ey(d,this.history)),this.removeListeners=Nd(Bu(this.contextWindow,"pointermove",this.handlePointerMove),Bu(this.contextWindow,"pointerup",this.handlePointerUp),Bu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Mo(this.updatePoint)}}function by(t,e){return e?{point:e(t.point)}:t}function uS(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ey({point:t},e){return{point:t,delta:uS(t,mA(e)),offset:uS(t,v$(e)),velocity:w$(e,.1)}}function v$(t){return t[0]}function mA(t){return t[t.length-1]}function w$(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=mA(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Us(e)));)n--;if(!r)return{x:0,y:0};const o=Bs(s.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const l={x:(s.x-r.x)/o,y:(s.y-r.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function _$(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Pt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Pt(n,t,r.max):Math.min(t,n)),t}function dS(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function x$(t,{top:e,left:n,bottom:r,right:s}){return{x:dS(t.x,n,s),y:dS(t.y,e,r)}}function hS(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function b$(t,e){return{x:hS(t.x,e.x),y:hS(t.y,e.y)}}function E$(t,e){let n=.5;const r=$n(t),s=$n(e);return s>r?n=id(e.min,e.max-r,t.min):r>s&&(n=id(t.min,t.max-s,e.min)),Pi(0,1,n)}function T$(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const $v=.35;function S$(t=$v){return t===!1?t=0:t===!0&&(t=$v),{x:fS(t,"left","right"),y:fS(t,"top","bottom")}}function fS(t,e,n){return{min:pS(t,e),max:pS(t,n)}}function pS(t,e){return typeof t=="number"?t:t[e]||0}const k$=new WeakMap;class I${constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=$t(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const o=g=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Vd(g).point)},l=(g,w)=>{const{drag:E,dragPropagation:S,onDragStart:T}=this.getProps();if(E&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=OB(E),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Vr(P=>{let R=this.getAxisMotionValue(P).get()||0;if($s.test(R)){const{projection:M}=this.visualElement;if(M&&M.layout){const j=M.layout.layoutBox[P];j&&(R=$n(j)*(parseFloat(R)/100))}}this.originPoint[P]=R}),T&&Tt.postRender(()=>T(g,w)),Uv(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},c=(g,w)=>{this.latestPointerEvent=g,this.latestPanInfo=w;const{dragPropagation:E,dragDirectionLock:S,onDirectionLock:T,onDrag:k}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:P}=w;if(S&&this.currentDirection===null){this.currentDirection=C$(P),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",w.point,P),this.updateAxis("y",w.point,P),this.visualElement.render(),k&&k(g,w)},d=(g,w)=>{this.latestPointerEvent=g,this.latestPanInfo=w,this.stop(g,w),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>Vr(g=>{var w;return this.getAnimationState(g)==="paused"&&((w=this.getAxisMotionValue(g).animation)==null?void 0:w.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new pA(e,{onSessionStart:o,onStart:l,onMove:c,onSessionEnd:d,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:r,contextWindow:fA(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!s||!r)return;const{velocity:l}=s;this.startAnimation(l);const{onDragEnd:c}=this.getProps();c&&Tt.postRender(()=>c(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!pf(e,s,this.currentDirection))return;const o=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=_$(l,this.constraints[e],this.elastic[e])),o.set(l)}resolveConstraints(){var o;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,s=this.constraints;e&&Hl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=x$(r.layoutBox,e):this.constraints=!1,this.elastic=S$(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Vr(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=T$(r.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Hl(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=P8(r,s.root,this.visualElement.getTransformPagePoint());let l=b$(s.layout.layoutBox,o);if(n){const c=n(k8(l));this.hasMutatedConstraints=!!c,c&&(l=JP(c))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},h=Vr(m=>{if(!pf(m,n,this.currentDirection))return;let g=d&&d[m]||{};l&&(g={min:0,max:0});const w=s?200:1e6,E=s?40:1e7,S={type:"inertia",velocity:r?e[m]:0,bounceStiffness:w,bounceDamping:E,timeConstant:750,restDelta:1,restSpeed:10,...o,...g};return this.startAxisValueAnimation(m,S)});return Promise.all(h).then(c)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Uv(this.visualElement,e),r.start(Jw(e,r,0,n,this.visualElement,!1))}stopAnimation(){Vr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Vr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Vr(n=>{const{drag:r}=this.getProps();if(!pf(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:l,max:c}=s.layout.layoutBox[n];o.set(e[n]-Pt(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Hl(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Vr(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const d=c.get();s[l]=E$({min:d,max:d},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Vr(l=>{if(!pf(l,e,null))return;const c=this.getAxisMotionValue(l),{min:d,max:h}=this.constraints[l];c.set(Pt(d,h,s[l]))})}addListeners(){if(!this.visualElement.current)return;k$.set(this.visualElement,this);const e=this.visualElement.current,n=Bu(e,"pointerdown",d=>{const{drag:h,dragListener:m=!0}=this.getProps();h&&m&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();Hl(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Tt.read(r);const l=ud(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h})=>{this.isDragging&&h&&(Vr(m=>{const g=this.getAxisMotionValue(m);g&&(this.originPoint[m]+=d[m].translate,g.set(g.get()+d[m].translate))}),this.visualElement.render())});return()=>{l(),n(),o(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:l=$v,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:o,dragElastic:l,dragMomentum:c}}}function pf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function C$(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class P$ extends zo{constructor(e){super(e),this.removeGroupControls=Fr,this.removeListeners=Fr,this.controls=new I$(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Fr}unmount(){this.removeGroupControls(),this.removeListeners()}}const mS=t=>(e,n)=>{t&&Tt.postRender(()=>t(e,n))};class A$ extends zo{constructor(){super(...arguments),this.removePointerDownListener=Fr}onPointerDown(e){this.session=new pA(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:fA(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:mS(e),onStart:mS(n),onMove:r,onEnd:(o,l)=>{delete this.session,s&&Tt.postRender(()=>s(o,l))}}}mount(){this.removePointerDownListener=Bu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Lf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function gS(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const _u={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Le.test(t))t=parseFloat(t);else return t;const n=gS(t,e.target.x),r=gS(t,e.target.y);return`${n}% ${r}%`}},R$={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Oo.parse(t);if(s.length>5)return r;const o=Oo.createTransformer(t),l=typeof s[0]!="number"?1:0,c=n.x.scale*e.x,d=n.y.scale*e.y;s[0+l]/=c,s[1+l]/=d;const h=Pt(c,d,.5);return typeof s[2+l]=="number"&&(s[2+l]/=h),typeof s[3+l]=="number"&&(s[3+l]/=h),o(s)}};let Ty=!1;class N$ extends b.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:o}=e;e8(D$),o&&(n.group&&n.group.add(o),r&&r.register&&s&&r.register(o),Ty&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Lf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:o}=this.props,{projection:l}=r;return l&&(l.isPresent=o,Ty=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==o?l.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?l.promote():l.relegate()||Tt.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Bw.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;Ty=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function gA(t){const[e,n]=jP(),r=b.useContext(ww);return y.jsx(N$,{...t,layoutGroup:r,switchLayoutGroup:b.useContext(QP),isPresent:e,safeToRemove:n})}const D$={borderRadius:{..._u,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:_u,borderTopRightRadius:_u,borderBottomLeftRadius:_u,borderBottomRightRadius:_u,boxShadow:R$};function M$(t,e,n){const r=Rn(t)?t:hc(t);return r.start(Jw("",r,e,n)),r.animation}const O$=(t,e)=>t.depth-e.depth;class V${constructor(){this.children=[],this.isDirty=!1}add(e){bw(this.children,e),this.isDirty=!0}remove(e){Ew(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(O$),this.isDirty=!1,this.children.forEach(e)}}function L$(t,e){const n=lr.now(),r=({timestamp:s})=>{const o=s-n;o>=e&&(Mo(r),t(o-e))};return Tt.setup(r,!0),()=>Mo(r)}const yA=["TopLeft","TopRight","BottomLeft","BottomRight"],j$=yA.length,yS=t=>typeof t=="string"?parseFloat(t):t,vS=t=>typeof t=="number"||Le.test(t);function F$(t,e,n,r,s,o){s?(t.opacity=Pt(0,n.opacity??1,U$(r)),t.opacityExit=Pt(e.opacity??1,0,B$(r))):o&&(t.opacity=Pt(e.opacity??1,n.opacity??1,r));for(let l=0;l<j$;l++){const c=`border${yA[l]}Radius`;let d=wS(e,c),h=wS(n,c);if(d===void 0&&h===void 0)continue;d||(d=0),h||(h=0),d===0||h===0||vS(d)===vS(h)?(t[c]=Math.max(Pt(yS(d),yS(h),r),0),($s.test(h)||$s.test(d))&&(t[c]+="%")):t[c]=h}(e.rotate||n.rotate)&&(t.rotate=Pt(e.rotate||0,n.rotate||0,r))}function wS(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const U$=vA(0,.5,sP),B$=vA(.5,.95,Fr);function vA(t,e,n){return r=>r<t?0:r>e?1:n(id(t,e,r))}function _S(t,e){t.min=e.min,t.max=e.max}function Or(t,e){_S(t.x,e.x),_S(t.y,e.y)}function xS(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function bS(t,e,n,r,s){return t-=e,t=fp(t,1/n,r),s!==void 0&&(t=fp(t,1/s,r)),t}function $$(t,e=0,n=1,r=.5,s,o=t,l=t){if($s.test(e)&&(e=parseFloat(e),e=Pt(l.min,l.max,e/100)-l.min),typeof e!="number")return;let c=Pt(o.min,o.max,r);t===o&&(c-=e),t.min=bS(t.min,e,n,c,s),t.max=bS(t.max,e,n,c,s)}function ES(t,e,[n,r,s],o,l){$$(t,e[n],e[r],e[s],e.scale,o,l)}const z$=["x","scaleX","originX"],W$=["y","scaleY","originY"];function TS(t,e,n,r){ES(t.x,e,z$,n?n.x:void 0,r?r.x:void 0),ES(t.y,e,W$,n?n.y:void 0,r?r.y:void 0)}function SS(t){return t.translate===0&&t.scale===1}function wA(t){return SS(t.x)&&SS(t.y)}function kS(t,e){return t.min===e.min&&t.max===e.max}function H$(t,e){return kS(t.x,e.x)&&kS(t.y,e.y)}function IS(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function _A(t,e){return IS(t.x,e.x)&&IS(t.y,e.y)}function CS(t){return $n(t.x)/$n(t.y)}function PS(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class q${constructor(){this.members=[]}add(e){bw(this.members,e),e.scheduleRender()}remove(e){if(Ew(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function K$(t,e,n){let r="";const s=t.x.translate/e.x,o=t.y.translate/e.y,l=(n==null?void 0:n.z)||0;if((s||o||l)&&(r=`translate3d(${s}px, ${o}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:h,rotate:m,rotateX:g,rotateY:w,skewX:E,skewY:S}=n;h&&(r=`perspective(${h}px) ${r}`),m&&(r+=`rotate(${m}deg) `),g&&(r+=`rotateX(${g}deg) `),w&&(r+=`rotateY(${w}deg) `),E&&(r+=`skewX(${E}deg) `),S&&(r+=`skewY(${S}deg) `)}const c=t.x.scale*e.x,d=t.y.scale*e.y;return(c!==1||d!==1)&&(r+=`scale(${c}, ${d})`),r||"none"}const Sy=["","X","Y","Z"],G$=1e3;let Y$=0;function ky(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function xA(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=oA(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Tt,!(s||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&xA(r)}function bA({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(l={},c=e==null?void 0:e()){this.id=Y$++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(J$),this.nodes.forEach(nz),this.nodes.forEach(rz),this.nodes.forEach(Z$)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new V$)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new kw),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const d=this.eventHandlers.get(l);d&&d.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=LP(l)&&!BB(l),this.instance=l;const{layoutId:c,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||c)&&(this.isLayoutDirty=!0),t){let m,g=0;const w=()=>this.root.updateBlockedByResize=!1;Tt.read(()=>{g=window.innerWidth}),t(l,()=>{const E=window.innerWidth;E!==g&&(g=E,this.root.updateBlockedByResize=!0,m&&m(),m=L$(w,250),Lf.hasAnimatedSinceResize&&(Lf.hasAnimatedSinceResize=!1,this.nodes.forEach(NS)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||d)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:g,hasRelativeLayoutChanged:w,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||h.getDefaultTransition()||lz,{onLayoutAnimationStart:T,onLayoutAnimationComplete:k}=h.getProps(),P=!this.targetLayout||!_A(this.targetLayout,E),R=!g&&w;if(this.options.layoutRoot||this.resumeFrom||R||g&&(P||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const M={...Fw(S,"layout"),onPlay:T,onComplete:k};(h.shouldReduceMotion||this.options.layoutRoot)&&(M.delay=0,M.type=!1),this.startAnimation(M),this.setAnimationOrigin(m,R)}else g||NS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Mo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(sz),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&xA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const g=this.path[m];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(AS);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(RS);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(tz),this.nodes.forEach(Q$),this.nodes.forEach(X$)):this.nodes.forEach(RS),this.clearAllSnapshots();const c=lr.now();wn.delta=Pi(0,1e3/60,c-wn.timestamp),wn.timestamp=c,wn.isProcessing=!0,py.update.process(wn),py.preRender.process(wn),py.render.process(wn),wn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Bw.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(ez),this.sharedNodes.forEach(iz)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Tt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Tt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!$n(this.snapshot.measuredBox.x)&&!$n(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=$t(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c&&this.instance){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!wA(this.projectionDelta),d=this.getTransformTemplate(),h=d?d(this.latestValues,""):void 0,m=h!==this.prevTransformTemplateValue;l&&this.instance&&(c||xa(this.latestValues)||m)&&(s(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return l&&(d=this.removeTransform(d)),cz(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:l}=this.options;if(!l)return $t();const c=l.measureViewportBox();if(!(((h=this.scroll)==null?void 0:h.wasRoot)||this.path.some(uz))){const{scroll:m}=this.root;m&&(ql(c.x,m.offset.x),ql(c.y,m.offset.y))}return c}removeElementScroll(l){var d;const c=$t();if(Or(c,l),(d=this.scroll)!=null&&d.wasRoot)return c;for(let h=0;h<this.path.length;h++){const m=this.path[h],{scroll:g,options:w}=m;m!==this.root&&g&&w.layoutScroll&&(g.wasRoot&&Or(c,l),ql(c.x,g.offset.x),ql(c.y,g.offset.y))}return c}applyTransform(l,c=!1){const d=$t();Or(d,l);for(let h=0;h<this.path.length;h++){const m=this.path[h];!c&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Kl(d,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),xa(m.latestValues)&&Kl(d,m.latestValues)}return xa(this.latestValues)&&Kl(d,this.latestValues),d}removeTransform(l){const c=$t();Or(c,l);for(let d=0;d<this.path.length;d++){const h=this.path[d];if(!h.instance||!xa(h.latestValues))continue;Vv(h.latestValues)&&h.updateSnapshot();const m=$t(),g=h.measurePageBox();Or(m,g),TS(c,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,m)}return xa(this.latestValues)&&TS(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==wn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var w;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(l||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:g}=this.options;if(!(!this.layout||!(m||g))){if(this.resolvedRelativeTargetAt=wn.timestamp,!this.targetDelta&&!this.relativeTarget){const E=this.getClosestProjectingParent();E&&E.layout&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$t(),this.relativeTargetOrigin=$t(),zu(this.relativeTargetOrigin,this.layout.layoutBox,E.layout.layoutBox),Or(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=$t(),this.targetWithTransforms=$t()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),g$(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Or(this.target,this.layout.layoutBox),eA(this.target,this.targetDelta)):Or(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const E=this.getClosestProjectingParent();E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$t(),this.relativeTargetOrigin=$t(),zu(this.relativeTargetOrigin,this.target,E.target),Or(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Vv(this.parent.latestValues)||ZP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var S;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||(S=this.parent)!=null&&S.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===wn.timestamp&&(d=!1),d)return;const{layout:h,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||m))return;Or(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,w=this.treeScale.y;C8(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=$t());const{target:E}=l;if(!E){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(xS(this.prevProjectionDelta.x,this.projectionDelta.x),xS(this.prevProjectionDelta.y,this.projectionDelta.y)),$u(this.projectionDelta,this.layoutCorrected,E,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==w||!PS(this.projectionDelta.x,this.prevProjectionDelta.x)||!PS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var c;if((c=this.options.visualElement)==null||c.scheduleRender(),l){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Gl(),this.projectionDelta=Gl(),this.projectionDeltaWithTransform=Gl()}setAnimationOrigin(l,c=!1){const d=this.snapshot,h=d?d.latestValues:{},m={...this.latestValues},g=Gl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const w=$t(),E=d?d.source:void 0,S=this.layout?this.layout.source:void 0,T=E!==S,k=this.getStack(),P=!k||k.members.length<=1,R=!!(T&&!P&&this.options.crossfade===!0&&!this.path.some(az));this.animationProgress=0;let M;this.mixTargetDelta=j=>{const B=j/1e3;DS(g.x,l.x,B),DS(g.y,l.y,B),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(zu(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),oz(this.relativeTarget,this.relativeTargetOrigin,w,B),M&&H$(this.relativeTarget,M)&&(this.isProjectionDirty=!1),M||(M=$t()),Or(M,this.relativeTarget)),T&&(this.animationValues=m,F$(m,h,this.latestValues,B,R,P)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=B},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){var c,d,h;this.notifyListeners("animationStart"),(c=this.currentAnimation)==null||c.stop(),(h=(d=this.resumingFrom)==null?void 0:d.currentAnimation)==null||h.stop(),this.pendingAnimation&&(Mo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Tt.update(()=>{Lf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=hc(0)),this.currentAnimation=M$(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),l.onUpdate&&l.onUpdate(m)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(G$),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:d,layout:h,latestValues:m}=l;if(!(!c||!d||!h)){if(this!==l&&this.layout&&h&&EA(this.options.animationType,this.layout.layoutBox,h.layoutBox)){d=this.target||$t();const g=$n(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+g;const w=$n(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+w}Or(c,d),Kl(c,m),$u(this.projectionDeltaWithTransform,this.layoutCorrected,c,m)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new q$),this.sharedNodes.get(l).add(c);const h=c.options.initialPromotionConfig;c.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var c;const{layoutId:l}=this.options;return l?((c=this.getStack())==null?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:l}=this.options;return l?(c=this.getStack())==null?void 0:c.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:d}={}){const h=this.getStack();h&&h.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const h={};d.z&&ky("z",l,h,this.animationValues);for(let m=0;m<Sy.length;m++)ky(`rotate${Sy[m]}`,l,h,this.animationValues),ky(`skew${Sy[m]}`,l,h,this.animationValues);l.render();for(const m in h)l.setStaticValue(m,h[m]),this.animationValues&&(this.animationValues[m]=h[m]);l.scheduleRender()}applyProjectionStyles(l,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=Vf(c==null?void 0:c.pointerEvents)||"",l.transform=d?d(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=Vf(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!xa(this.latestValues)&&(l.transform=d?d({},""):"none",this.hasProjected=!1);return}l.visibility="";const m=h.animationValues||h.latestValues;this.applyTransformsToTarget();let g=K$(this.projectionDeltaWithTransform,this.treeScale,m);d&&(g=d(m,g)),l.transform=g;const{x:w,y:E}=this.projectionDelta;l.transformOrigin=`${w.origin*100}% ${E.origin*100}% 0`,h.animationValues?l.opacity=h===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:l.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const S in cd){if(m[S]===void 0)continue;const{correct:T,applyTo:k,isCSSVariable:P}=cd[S],R=g==="none"?m[S]:T(m[S],h);if(k){const M=k.length;for(let j=0;j<M;j++)l[k[j]]=R}else P?this.options.visualElement.renderState.vars[S]=R:l[S]=R}this.options.layoutId&&(l.pointerEvents=h===this?Vf(c==null?void 0:c.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var c;return(c=l.currentAnimation)==null?void 0:c.stop()}),this.root.nodes.forEach(AS),this.root.sharedNodes.clear()}}}function Q$(t){t.updateLayout()}function X$(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:o}=t.options,l=e.source!==t.layout.source;o==="size"?Vr(g=>{const w=l?e.measuredBox[g]:e.layoutBox[g],E=$n(w);w.min=r[g].min,w.max=w.min+E}):EA(o,e.layoutBox,r)&&Vr(g=>{const w=l?e.measuredBox[g]:e.layoutBox[g],E=$n(r[g]);w.max=w.min+E,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+E)});const c=Gl();$u(c,r,e.layoutBox);const d=Gl();l?$u(d,t.applyTransform(s,!0),e.measuredBox):$u(d,r,e.layoutBox);const h=!wA(c);let m=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:w,layout:E}=g;if(w&&E){const S=$t();zu(S,e.layoutBox,w.layoutBox);const T=$t();zu(T,r,E.layoutBox),_A(S,T)||(m=!0),g.options.layoutRoot&&(t.relativeTarget=T,t.relativeTargetOrigin=S,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:d,layoutDelta:c,hasLayoutChanged:h,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function J$(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Z$(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function ez(t){t.clearSnapshot()}function AS(t){t.clearMeasurements()}function RS(t){t.isLayoutDirty=!1}function tz(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function NS(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function nz(t){t.resolveTargetDelta()}function rz(t){t.calcProjection()}function sz(t){t.resetSkewAndRotation()}function iz(t){t.removeLeadSnapshot()}function DS(t,e,n){t.translate=Pt(e.translate,0,n),t.scale=Pt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function MS(t,e,n,r){t.min=Pt(e.min,n.min,r),t.max=Pt(e.max,n.max,r)}function oz(t,e,n,r){MS(t.x,e.x,n.x,r),MS(t.y,e.y,n.y,r)}function az(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const lz={duration:.45,ease:[.4,0,.1,1]},OS=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),VS=OS("applewebkit/")&&!OS("chrome/")?Math.round:Fr;function LS(t){t.min=VS(t.min),t.max=VS(t.max)}function cz(t){LS(t.x),LS(t.y)}function EA(t,e,n){return t==="position"||t==="preserve-aspect"&&!m$(CS(e),CS(n),.2)}function uz(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const dz=bA({attachResizeListener:(t,e)=>ud(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Iy={current:void 0},TA=bA({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Iy.current){const t=new dz({});t.mount(window),t.setOptions({layoutScroll:!0}),Iy.current=t}return Iy.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),hz={pan:{Feature:A$},drag:{Feature:P$,ProjectionNode:TA,MeasureLayout:gA}};function jS(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,o=r[s];o&&Tt.postRender(()=>o(e,Vd(e)))}class fz extends zo{mount(){const{current:e}=this.node;e&&(this.unmount=VB(e,(n,r)=>(jS(this.node,r,"Start"),s=>jS(this.node,s,"End"))))}unmount(){}}class pz extends zo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Nd(ud(this.node.current,"focus",()=>this.onFocus()),ud(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function FS(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),o=r[s];o&&Tt.postRender(()=>o(e,Vd(e)))}class mz extends zo{mount(){const{current:e}=this.node;e&&(this.unmount=UB(e,(n,r)=>(FS(this.node,r,"Start"),(s,{success:o})=>FS(this.node,s,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const zv=new WeakMap,Cy=new WeakMap,gz=t=>{const e=zv.get(t.target);e&&e(t)},yz=t=>{t.forEach(gz)};function vz({root:t,...e}){const n=t||document;Cy.has(n)||Cy.set(n,{});const r=Cy.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(yz,{root:t,...e})),r[s]}function wz(t,e,n){const r=vz(e);return zv.set(t,n),r.observe(t),()=>{zv.delete(t),r.unobserve(t)}}const _z={some:0,all:1};class xz extends zo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:o}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:_z[s]},c=d=>{const{isIntersecting:h}=d;if(this.isInView===h||(this.isInView=h,o&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:m,onViewportLeave:g}=this.node.getProps(),w=h?m:g;w&&w(d)};return wz(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(bz(e,n))&&this.startObserver()}unmount(){}}function bz({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Ez={inView:{Feature:xz},tap:{Feature:mz},focus:{Feature:pz},hover:{Feature:fz}},Tz={layout:{ProjectionNode:TA,MeasureLayout:gA}},Sz={...c$,...Ez,...hz,...Tz},Gs=S8(Sz,j8);function kz({matchName:t,onDismiss:e,onSeeMatches:n}){const r=Xs(),s=()=>{n&&n(),r(tt("Matches")),e()};return y.jsxs(Gs.div,{initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.9},transition:{type:"spring",stiffness:200,damping:20},className:"fixed bottom-6 right-6 z-[100] w-full max-w-sm p-5 bg-gradient-to-br from-pink-500 via-purple-500 to-indigo-600 text-white rounded-xl shadow-2xl",children:[y.jsx("button",{onClick:e,className:"absolute top-3 right-3 p-1 text-white/70 hover:text-white","aria-label":"Dismiss notification",children:y.jsx(zn,{className:"w-5 h-5"})}),y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx(lO,{className:"w-10 h-10 text-yellow-300 flex-shrink-0"}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-lg font-bold",children:"It's a Match!"}),y.jsxs("p",{className:"text-sm opacity-90",children:["You and ",t," liked each other."]})]})]}),y.jsxs(He,{onClick:s,className:"mt-4 w-full bg-white/20 hover:bg-white/30 text-white backdrop-blur-sm border border-white/30",children:["See Matches ",y.jsx(m0,{className:"w-4 h-4 ml-2"})]})]})}function Iz({senderName:t,senderSessionId:e,onDismiss:n,onView:r}){const s=Xs(),o=()=>{r&&r(),s(tt(`Matches?openChat=${e}`)),n()};return y.jsxs(Gs.div,{initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.9},transition:{type:"spring",stiffness:200,damping:20},className:"fixed bottom-6 right-6 z-[100] w-full max-w-sm p-5 bg-gradient-to-br from-blue-500 via-sky-500 to-cyan-600 text-white rounded-xl shadow-2xl",children:[y.jsx("button",{onClick:n,className:"absolute top-3 right-3 p-1 text-white/70 hover:text-white","aria-label":"Dismiss notification",children:y.jsx(zn,{className:"w-5 h-5"})}),y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx(qu,{className:"w-10 h-10 text-white/80 flex-shrink-0"}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-lg font-bold",children:"New Message"}),y.jsxs("p",{className:"text-sm opacity-90",children:["You have a new message from ",t,"."]})]})]}),y.jsxs(He,{onClick:o,className:"mt-4 w-full bg-white/20 hover:bg-white/30 text-white backdrop-blur-sm border border-white/30",children:["View Message ",y.jsx(m0,{className:"w-4 h-4 ml-2"})]})]})}const Vo=b.forwardRef(({className:t,type:e,...n},r)=>y.jsx("input",{type:e,className:it("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Vo.displayName="Input";const pp=b.forwardRef(({className:t,...e},n)=>y.jsx("textarea",{className:it("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));pp.displayName="Textarea";var Cz=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ze=Cz.reduce((t,e)=>{const n=dc(`Primitive.${e}`),r=b.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Pz(t,e){t&&vd.flushSync(()=>t.dispatchEvent(e))}var Az="Label",SA=b.forwardRef((t,e)=>y.jsx(Ze.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));SA.displayName=Az;var kA=SA;const Rz=Qp("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),or=b.forwardRef(({className:t,...e},n)=>y.jsx(kA,{ref:n,className:it(Rz(),t),...e}));or.displayName=kA.displayName;function mp(t,[e,n]){return Math.min(n,Math.max(e,t))}function st(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function Nz(t,e){const n=b.createContext(e),r=o=>{const{children:l,...c}=o,d=b.useMemo(()=>c,Object.values(c));return y.jsx(n.Provider,{value:d,children:l})};r.displayName=t+"Provider";function s(o){const l=b.useContext(n);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,s]}function Ac(t,e=[]){let n=[];function r(o,l){const c=b.createContext(l),d=n.length;n=[...n,l];const h=g=>{var P;const{scope:w,children:E,...S}=g,T=((P=w==null?void 0:w[t])==null?void 0:P[d])||c,k=b.useMemo(()=>S,Object.values(S));return y.jsx(T.Provider,{value:k,children:E})};h.displayName=o+"Provider";function m(g,w){var T;const E=((T=w==null?void 0:w[t])==null?void 0:T[d])||c,S=b.useContext(E);if(S)return S;if(l!==void 0)return l;throw new Error(`\`${g}\` must be used within \`${o}\``)}return[h,m]}const s=()=>{const o=n.map(l=>b.createContext(l));return function(c){const d=(c==null?void 0:c[t])||o;return b.useMemo(()=>({[`__scope${t}`]:{...c,[t]:d}}),[c,d])}};return s.scopeName=t,[r,Dz(s,...e)]}function Dz(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=r.reduce((c,{useScope:d,scopeName:h})=>{const g=d(o)[`__scope${h}`];return{...c,...g}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return n.scopeName=e.scopeName,n}function IA(t){const e=t+"CollectionProvider",[n,r]=Ac(e),[s,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),l=T=>{const{scope:k,children:P}=T,R=me.useRef(null),M=me.useRef(new Map).current;return y.jsx(s,{scope:k,itemMap:M,collectionRef:R,children:P})};l.displayName=e;const c=t+"CollectionSlot",d=dc(c),h=me.forwardRef((T,k)=>{const{scope:P,children:R}=T,M=o(c,P),j=ct(k,M.collectionRef);return y.jsx(d,{ref:j,children:R})});h.displayName=c;const m=t+"CollectionItemSlot",g="data-radix-collection-item",w=dc(m),E=me.forwardRef((T,k)=>{const{scope:P,children:R,...M}=T,j=me.useRef(null),B=ct(k,j),K=o(m,P);return me.useEffect(()=>(K.itemMap.set(j,{ref:j,...M}),()=>void K.itemMap.delete(j))),y.jsx(w,{[g]:"",ref:B,children:R})});E.displayName=m;function S(T){const k=o(t+"CollectionConsumer",T);return me.useCallback(()=>{const R=k.collectionRef.current;if(!R)return[];const M=Array.from(R.querySelectorAll(`[${g}]`));return Array.from(k.itemMap.values()).sort((K,D)=>M.indexOf(K.ref.current)-M.indexOf(D.ref.current))},[k.collectionRef,k.itemMap])}return[{Provider:l,Slot:h,ItemSlot:E},S,r]}var Mz=b.createContext(void 0);function CA(t){const e=b.useContext(Mz);return t||e||"ltr"}function Fa(t){const e=b.useRef(t);return b.useEffect(()=>{e.current=t}),b.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function Oz(t,e=globalThis==null?void 0:globalThis.document){const n=Fa(t);b.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var Vz="DismissableLayer",Wv="dismissableLayer.update",Lz="dismissableLayer.pointerDownOutside",jz="dismissableLayer.focusOutside",US,PA=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Zw=b.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:l,onDismiss:c,...d}=t,h=b.useContext(PA),[m,g]=b.useState(null),w=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,E]=b.useState({}),S=ct(e,D=>g(D)),T=Array.from(h.layers),[k]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),P=T.indexOf(k),R=m?T.indexOf(m):-1,M=h.layersWithOutsidePointerEventsDisabled.size>0,j=R>=P,B=Bz(D=>{const C=D.target,V=[...h.branches].some(L=>L.contains(C));!j||V||(s==null||s(D),l==null||l(D),D.defaultPrevented||c==null||c())},w),K=$z(D=>{const C=D.target;[...h.branches].some(L=>L.contains(C))||(o==null||o(D),l==null||l(D),D.defaultPrevented||c==null||c())},w);return Oz(D=>{R===h.layers.size-1&&(r==null||r(D),!D.defaultPrevented&&c&&(D.preventDefault(),c()))},w),b.useEffect(()=>{if(m)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(US=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(m)),h.layers.add(m),BS(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=US)}},[m,w,n,h]),b.useEffect(()=>()=>{m&&(h.layers.delete(m),h.layersWithOutsidePointerEventsDisabled.delete(m),BS())},[m,h]),b.useEffect(()=>{const D=()=>E({});return document.addEventListener(Wv,D),()=>document.removeEventListener(Wv,D)},[]),y.jsx(Ze.div,{...d,ref:S,style:{pointerEvents:M?j?"auto":"none":void 0,...t.style},onFocusCapture:st(t.onFocusCapture,K.onFocusCapture),onBlurCapture:st(t.onBlurCapture,K.onBlurCapture),onPointerDownCapture:st(t.onPointerDownCapture,B.onPointerDownCapture)})});Zw.displayName=Vz;var Fz="DismissableLayerBranch",Uz=b.forwardRef((t,e)=>{const n=b.useContext(PA),r=b.useRef(null),s=ct(e,r);return b.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),y.jsx(Ze.div,{...t,ref:s})});Uz.displayName=Fz;function Bz(t,e=globalThis==null?void 0:globalThis.document){const n=Fa(t),r=b.useRef(!1),s=b.useRef(()=>{});return b.useEffect(()=>{const o=c=>{if(c.target&&!r.current){let d=function(){AA(Lz,n,h,{discrete:!0})};const h={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=d,e.addEventListener("click",s.current,{once:!0})):d()}else e.removeEventListener("click",s.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function $z(t,e=globalThis==null?void 0:globalThis.document){const n=Fa(t),r=b.useRef(!1);return b.useEffect(()=>{const s=o=>{o.target&&!r.current&&AA(jz,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function BS(){const t=new CustomEvent(Wv);document.dispatchEvent(t)}function AA(t,e,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Pz(s,o):s.dispatchEvent(o)}var Py=0;function RA(){b.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??$S()),document.body.insertAdjacentElement("beforeend",t[1]??$S()),Py++,()=>{Py===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Py--}},[])}function $S(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Ay="focusScope.autoFocusOnMount",Ry="focusScope.autoFocusOnUnmount",zS={bubbles:!1,cancelable:!0},zz="FocusScope",e_=b.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...l}=t,[c,d]=b.useState(null),h=Fa(s),m=Fa(o),g=b.useRef(null),w=ct(e,T=>d(T)),E=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(r){let T=function(M){if(E.paused||!c)return;const j=M.target;c.contains(j)?g.current=j:mo(g.current,{select:!0})},k=function(M){if(E.paused||!c)return;const j=M.relatedTarget;j!==null&&(c.contains(j)||mo(g.current,{select:!0}))},P=function(M){if(document.activeElement===document.body)for(const B of M)B.removedNodes.length>0&&mo(c)};document.addEventListener("focusin",T),document.addEventListener("focusout",k);const R=new MutationObserver(P);return c&&R.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",T),document.removeEventListener("focusout",k),R.disconnect()}}},[r,c,E.paused]),b.useEffect(()=>{if(c){HS.add(E);const T=document.activeElement;if(!c.contains(T)){const P=new CustomEvent(Ay,zS);c.addEventListener(Ay,h),c.dispatchEvent(P),P.defaultPrevented||(Wz(Yz(NA(c)),{select:!0}),document.activeElement===T&&mo(c))}return()=>{c.removeEventListener(Ay,h),setTimeout(()=>{const P=new CustomEvent(Ry,zS);c.addEventListener(Ry,m),c.dispatchEvent(P),P.defaultPrevented||mo(T??document.body,{select:!0}),c.removeEventListener(Ry,m),HS.remove(E)},0)}}},[c,h,m,E]);const S=b.useCallback(T=>{if(!n&&!r||E.paused)return;const k=T.key==="Tab"&&!T.altKey&&!T.ctrlKey&&!T.metaKey,P=document.activeElement;if(k&&P){const R=T.currentTarget,[M,j]=Hz(R);M&&j?!T.shiftKey&&P===j?(T.preventDefault(),n&&mo(M,{select:!0})):T.shiftKey&&P===M&&(T.preventDefault(),n&&mo(j,{select:!0})):P===R&&T.preventDefault()}},[n,r,E.paused]);return y.jsx(Ze.div,{tabIndex:-1,...l,ref:w,onKeyDown:S})});e_.displayName=zz;function Wz(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(mo(r,{select:e}),document.activeElement!==n)return}function Hz(t){const e=NA(t),n=WS(e,t),r=WS(e.reverse(),t);return[n,r]}function NA(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function WS(t,e){for(const n of t)if(!qz(n,{upTo:e}))return n}function qz(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Kz(t){return t instanceof HTMLInputElement&&"select"in t}function mo(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Kz(t)&&e&&t.select()}}var HS=Gz();function Gz(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=qS(t,e),t.unshift(e)},remove(e){var n;t=qS(t,e),(n=t[0])==null||n.resume()}}}function qS(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Yz(t){return t.filter(e=>e.tagName!=="A")}var Dn=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},Qz=x1[" useId ".trim().toString()]||(()=>{}),Xz=0;function tc(t){const[e,n]=b.useState(Qz());return Dn(()=>{n(r=>r??String(Xz++))},[t]),e?`radix-${e}`:""}const Jz=["top","right","bottom","left"],Lo=Math.min,vr=Math.max,gp=Math.round,mf=Math.floor,zs=t=>({x:t,y:t}),Zz={left:"right",right:"left",bottom:"top",top:"bottom"},e7={start:"end",end:"start"};function Hv(t,e,n){return vr(t,Lo(e,n))}function Ri(t,e){return typeof t=="function"?t(e):t}function Ni(t){return t.split("-")[0]}function Rc(t){return t.split("-")[1]}function t_(t){return t==="x"?"y":"x"}function n_(t){return t==="y"?"height":"width"}const t7=new Set(["top","bottom"]);function Ns(t){return t7.has(Ni(t))?"y":"x"}function r_(t){return t_(Ns(t))}function n7(t,e,n){n===void 0&&(n=!1);const r=Rc(t),s=r_(t),o=n_(s);let l=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(l=yp(l)),[l,yp(l)]}function r7(t){const e=yp(t);return[qv(t),e,qv(e)]}function qv(t){return t.replace(/start|end/g,e=>e7[e])}const KS=["left","right"],GS=["right","left"],s7=["top","bottom"],i7=["bottom","top"];function o7(t,e,n){switch(t){case"top":case"bottom":return n?e?GS:KS:e?KS:GS;case"left":case"right":return e?s7:i7;default:return[]}}function a7(t,e,n,r){const s=Rc(t);let o=o7(Ni(t),n==="start",r);return s&&(o=o.map(l=>l+"-"+s),e&&(o=o.concat(o.map(qv)))),o}function yp(t){return t.replace(/left|right|bottom|top/g,e=>Zz[e])}function l7(t){return{top:0,right:0,bottom:0,left:0,...t}}function DA(t){return typeof t!="number"?l7(t):{top:t,right:t,bottom:t,left:t}}function vp(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function YS(t,e,n){let{reference:r,floating:s}=t;const o=Ns(e),l=r_(e),c=n_(l),d=Ni(e),h=o==="y",m=r.x+r.width/2-s.width/2,g=r.y+r.height/2-s.height/2,w=r[c]/2-s[c]/2;let E;switch(d){case"top":E={x:m,y:r.y-s.height};break;case"bottom":E={x:m,y:r.y+r.height};break;case"right":E={x:r.x+r.width,y:g};break;case"left":E={x:r.x-s.width,y:g};break;default:E={x:r.x,y:r.y}}switch(Rc(e)){case"start":E[l]-=w*(n&&h?-1:1);break;case"end":E[l]+=w*(n&&h?-1:1);break}return E}const c7=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:l}=n,c=o.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(e));let h=await l.getElementRects({reference:t,floating:e,strategy:s}),{x:m,y:g}=YS(h,r,d),w=r,E={},S=0;for(let T=0;T<c.length;T++){const{name:k,fn:P}=c[T],{x:R,y:M,data:j,reset:B}=await P({x:m,y:g,initialPlacement:r,placement:w,strategy:s,middlewareData:E,rects:h,platform:l,elements:{reference:t,floating:e}});m=R??m,g=M??g,E={...E,[k]:{...E[k],...j}},B&&S<=50&&(S++,typeof B=="object"&&(B.placement&&(w=B.placement),B.rects&&(h=B.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:s}):B.rects),{x:m,y:g}=YS(h,w,d)),T=-1)}return{x:m,y:g,placement:w,strategy:s,middlewareData:E}};async function dd(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:o,rects:l,elements:c,strategy:d}=t,{boundary:h="clippingAncestors",rootBoundary:m="viewport",elementContext:g="floating",altBoundary:w=!1,padding:E=0}=Ri(e,t),S=DA(E),k=c[w?g==="floating"?"reference":"floating":g],P=vp(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(k)))==null||n?k:k.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(c.floating)),boundary:h,rootBoundary:m,strategy:d})),R=g==="floating"?{x:r,y:s,width:l.floating.width,height:l.floating.height}:l.reference,M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c.floating)),j=await(o.isElement==null?void 0:o.isElement(M))?await(o.getScale==null?void 0:o.getScale(M))||{x:1,y:1}:{x:1,y:1},B=vp(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:R,offsetParent:M,strategy:d}):R);return{top:(P.top-B.top+S.top)/j.y,bottom:(B.bottom-P.bottom+S.bottom)/j.y,left:(P.left-B.left+S.left)/j.x,right:(B.right-P.right+S.right)/j.x}}const u7=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:o,platform:l,elements:c,middlewareData:d}=e,{element:h,padding:m=0}=Ri(t,e)||{};if(h==null)return{};const g=DA(m),w={x:n,y:r},E=r_(s),S=n_(E),T=await l.getDimensions(h),k=E==="y",P=k?"top":"left",R=k?"bottom":"right",M=k?"clientHeight":"clientWidth",j=o.reference[S]+o.reference[E]-w[E]-o.floating[S],B=w[E]-o.reference[E],K=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h));let D=K?K[M]:0;(!D||!await(l.isElement==null?void 0:l.isElement(K)))&&(D=c.floating[M]||o.floating[S]);const C=j/2-B/2,V=D/2-T[S]/2-1,L=Lo(g[P],V),F=Lo(g[R],V),$=L,N=D-T[S]-F,se=D/2-T[S]/2+C,ie=Hv($,se,N),ee=!d.arrow&&Rc(s)!=null&&se!==ie&&o.reference[S]/2-(se<$?L:F)-T[S]/2<0,te=ee?se<$?se-$:se-N:0;return{[E]:w[E]+te,data:{[E]:ie,centerOffset:se-ie-te,...ee&&{alignmentOffset:te}},reset:ee}}}),d7=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:o,rects:l,initialPlacement:c,platform:d,elements:h}=e,{mainAxis:m=!0,crossAxis:g=!0,fallbackPlacements:w,fallbackStrategy:E="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:T=!0,...k}=Ri(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const P=Ni(s),R=Ns(c),M=Ni(c)===c,j=await(d.isRTL==null?void 0:d.isRTL(h.floating)),B=w||(M||!T?[yp(c)]:r7(c)),K=S!=="none";!w&&K&&B.push(...a7(c,T,S,j));const D=[c,...B],C=await dd(e,k),V=[];let L=((r=o.flip)==null?void 0:r.overflows)||[];if(m&&V.push(C[P]),g){const se=n7(s,l,j);V.push(C[se[0]],C[se[1]])}if(L=[...L,{placement:s,overflows:V}],!V.every(se=>se<=0)){var F,$;const se=(((F=o.flip)==null?void 0:F.index)||0)+1,ie=D[se];if(ie&&(!(g==="alignment"?R!==Ns(ie):!1)||L.every(z=>Ns(z.placement)===R?z.overflows[0]>0:!0)))return{data:{index:se,overflows:L},reset:{placement:ie}};let ee=($=L.filter(te=>te.overflows[0]<=0).sort((te,z)=>te.overflows[1]-z.overflows[1])[0])==null?void 0:$.placement;if(!ee)switch(E){case"bestFit":{var N;const te=(N=L.filter(z=>{if(K){const oe=Ns(z.placement);return oe===R||oe==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(oe=>oe>0).reduce((oe,le)=>oe+le,0)]).sort((z,oe)=>z[1]-oe[1])[0])==null?void 0:N[0];te&&(ee=te);break}case"initialPlacement":ee=c;break}if(s!==ee)return{reset:{placement:ee}}}return{}}}};function QS(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function XS(t){return Jz.some(e=>t[e]>=0)}const h7=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Ri(t,e);switch(r){case"referenceHidden":{const o=await dd(e,{...s,elementContext:"reference"}),l=QS(o,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:XS(l)}}}case"escaped":{const o=await dd(e,{...s,altBoundary:!0}),l=QS(o,n.floating);return{data:{escapedOffsets:l,escaped:XS(l)}}}default:return{}}}}},MA=new Set(["left","top"]);async function f7(t,e){const{placement:n,platform:r,elements:s}=t,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),l=Ni(n),c=Rc(n),d=Ns(n)==="y",h=MA.has(l)?-1:1,m=o&&d?-1:1,g=Ri(e,t);let{mainAxis:w,crossAxis:E,alignmentAxis:S}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return c&&typeof S=="number"&&(E=c==="end"?S*-1:S),d?{x:E*m,y:w*h}:{x:w*h,y:E*m}}const p7=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:o,placement:l,middlewareData:c}=e,d=await f7(e,t);return l===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:s+d.x,y:o+d.y,data:{...d,placement:l}}}}},m7=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:o=!0,crossAxis:l=!1,limiter:c={fn:k=>{let{x:P,y:R}=k;return{x:P,y:R}}},...d}=Ri(t,e),h={x:n,y:r},m=await dd(e,d),g=Ns(Ni(s)),w=t_(g);let E=h[w],S=h[g];if(o){const k=w==="y"?"top":"left",P=w==="y"?"bottom":"right",R=E+m[k],M=E-m[P];E=Hv(R,E,M)}if(l){const k=g==="y"?"top":"left",P=g==="y"?"bottom":"right",R=S+m[k],M=S-m[P];S=Hv(R,S,M)}const T=c.fn({...e,[w]:E,[g]:S});return{...T,data:{x:T.x-n,y:T.y-r,enabled:{[w]:o,[g]:l}}}}}},g7=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:o,middlewareData:l}=e,{offset:c=0,mainAxis:d=!0,crossAxis:h=!0}=Ri(t,e),m={x:n,y:r},g=Ns(s),w=t_(g);let E=m[w],S=m[g];const T=Ri(c,e),k=typeof T=="number"?{mainAxis:T,crossAxis:0}:{mainAxis:0,crossAxis:0,...T};if(d){const M=w==="y"?"height":"width",j=o.reference[w]-o.floating[M]+k.mainAxis,B=o.reference[w]+o.reference[M]-k.mainAxis;E<j?E=j:E>B&&(E=B)}if(h){var P,R;const M=w==="y"?"width":"height",j=MA.has(Ni(s)),B=o.reference[g]-o.floating[M]+(j&&((P=l.offset)==null?void 0:P[g])||0)+(j?0:k.crossAxis),K=o.reference[g]+o.reference[M]+(j?0:((R=l.offset)==null?void 0:R[g])||0)-(j?k.crossAxis:0);S<B?S=B:S>K&&(S=K)}return{[w]:E,[g]:S}}}},y7=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:o,platform:l,elements:c}=e,{apply:d=()=>{},...h}=Ri(t,e),m=await dd(e,h),g=Ni(s),w=Rc(s),E=Ns(s)==="y",{width:S,height:T}=o.floating;let k,P;g==="top"||g==="bottom"?(k=g,P=w===(await(l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(P=g,k=w==="end"?"top":"bottom");const R=T-m.top-m.bottom,M=S-m.left-m.right,j=Lo(T-m[k],R),B=Lo(S-m[P],M),K=!e.middlewareData.shift;let D=j,C=B;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(C=M),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(D=R),K&&!w){const L=vr(m.left,0),F=vr(m.right,0),$=vr(m.top,0),N=vr(m.bottom,0);E?C=S-2*(L!==0||F!==0?L+F:vr(m.left,m.right)):D=T-2*($!==0||N!==0?$+N:vr(m.top,m.bottom))}await d({...e,availableWidth:C,availableHeight:D});const V=await l.getDimensions(c.floating);return S!==V.width||T!==V.height?{reset:{rects:!0}}:{}}}};function tm(){return typeof window<"u"}function Nc(t){return OA(t)?(t.nodeName||"").toLowerCase():"#document"}function Er(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Zs(t){var e;return(e=(OA(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function OA(t){return tm()?t instanceof Node||t instanceof Er(t).Node:!1}function hs(t){return tm()?t instanceof Element||t instanceof Er(t).Element:!1}function Ys(t){return tm()?t instanceof HTMLElement||t instanceof Er(t).HTMLElement:!1}function JS(t){return!tm()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Er(t).ShadowRoot}const v7=new Set(["inline","contents"]);function Ld(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=fs(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!v7.has(s)}const w7=new Set(["table","td","th"]);function _7(t){return w7.has(Nc(t))}const x7=[":popover-open",":modal"];function nm(t){return x7.some(e=>{try{return t.matches(e)}catch{return!1}})}const b7=["transform","translate","scale","rotate","perspective"],E7=["transform","translate","scale","rotate","perspective","filter"],T7=["paint","layout","strict","content"];function s_(t){const e=i_(),n=hs(t)?fs(t):t;return b7.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||E7.some(r=>(n.willChange||"").includes(r))||T7.some(r=>(n.contain||"").includes(r))}function S7(t){let e=jo(t);for(;Ys(e)&&!pc(e);){if(s_(e))return e;if(nm(e))return null;e=jo(e)}return null}function i_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const k7=new Set(["html","body","#document"]);function pc(t){return k7.has(Nc(t))}function fs(t){return Er(t).getComputedStyle(t)}function rm(t){return hs(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function jo(t){if(Nc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||JS(t)&&t.host||Zs(t);return JS(e)?e.host:e}function VA(t){const e=jo(t);return pc(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ys(e)&&Ld(e)?e:VA(e)}function hd(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=VA(t),o=s===((r=t.ownerDocument)==null?void 0:r.body),l=Er(s);if(o){const c=Kv(l);return e.concat(l,l.visualViewport||[],Ld(s)?s:[],c&&n?hd(c):[])}return e.concat(s,hd(s,[],n))}function Kv(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function LA(t){const e=fs(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Ys(t),o=s?t.offsetWidth:n,l=s?t.offsetHeight:r,c=gp(n)!==o||gp(r)!==l;return c&&(n=o,r=l),{width:n,height:r,$:c}}function o_(t){return hs(t)?t:t.contextElement}function nc(t){const e=o_(t);if(!Ys(e))return zs(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:o}=LA(e);let l=(o?gp(n.width):n.width)/r,c=(o?gp(n.height):n.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const I7=zs(0);function jA(t){const e=Er(t);return!i_()||!e.visualViewport?I7:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function C7(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Er(t)?!1:e}function Ua(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),o=o_(t);let l=zs(1);e&&(r?hs(r)&&(l=nc(r)):l=nc(t));const c=C7(o,n,r)?jA(o):zs(0);let d=(s.left+c.x)/l.x,h=(s.top+c.y)/l.y,m=s.width/l.x,g=s.height/l.y;if(o){const w=Er(o),E=r&&hs(r)?Er(r):r;let S=w,T=Kv(S);for(;T&&r&&E!==S;){const k=nc(T),P=T.getBoundingClientRect(),R=fs(T),M=P.left+(T.clientLeft+parseFloat(R.paddingLeft))*k.x,j=P.top+(T.clientTop+parseFloat(R.paddingTop))*k.y;d*=k.x,h*=k.y,m*=k.x,g*=k.y,d+=M,h+=j,S=Er(T),T=Kv(S)}}return vp({width:m,height:g,x:d,y:h})}function a_(t,e){const n=rm(t).scrollLeft;return e?e.left+n:Ua(Zs(t)).left+n}function FA(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:a_(t,r)),o=r.top+e.scrollTop;return{x:s,y:o}}function P7(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const o=s==="fixed",l=Zs(r),c=e?nm(e.floating):!1;if(r===l||c&&o)return n;let d={scrollLeft:0,scrollTop:0},h=zs(1);const m=zs(0),g=Ys(r);if((g||!g&&!o)&&((Nc(r)!=="body"||Ld(l))&&(d=rm(r)),Ys(r))){const E=Ua(r);h=nc(r),m.x=E.x+r.clientLeft,m.y=E.y+r.clientTop}const w=l&&!g&&!o?FA(l,d,!0):zs(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-d.scrollLeft*h.x+m.x+w.x,y:n.y*h.y-d.scrollTop*h.y+m.y+w.y}}function A7(t){return Array.from(t.getClientRects())}function R7(t){const e=Zs(t),n=rm(t),r=t.ownerDocument.body,s=vr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=vr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+a_(t);const c=-n.scrollTop;return fs(r).direction==="rtl"&&(l+=vr(e.clientWidth,r.clientWidth)-s),{width:s,height:o,x:l,y:c}}function N7(t,e){const n=Er(t),r=Zs(t),s=n.visualViewport;let o=r.clientWidth,l=r.clientHeight,c=0,d=0;if(s){o=s.width,l=s.height;const h=i_();(!h||h&&e==="fixed")&&(c=s.offsetLeft,d=s.offsetTop)}return{width:o,height:l,x:c,y:d}}const D7=new Set(["absolute","fixed"]);function M7(t,e){const n=Ua(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,o=Ys(t)?nc(t):zs(1),l=t.clientWidth*o.x,c=t.clientHeight*o.y,d=s*o.x,h=r*o.y;return{width:l,height:c,x:d,y:h}}function ZS(t,e,n){let r;if(e==="viewport")r=N7(t,n);else if(e==="document")r=R7(Zs(t));else if(hs(e))r=M7(e,n);else{const s=jA(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return vp(r)}function UA(t,e){const n=jo(t);return n===e||!hs(n)||pc(n)?!1:fs(n).position==="fixed"||UA(n,e)}function O7(t,e){const n=e.get(t);if(n)return n;let r=hd(t,[],!1).filter(c=>hs(c)&&Nc(c)!=="body"),s=null;const o=fs(t).position==="fixed";let l=o?jo(t):t;for(;hs(l)&&!pc(l);){const c=fs(l),d=s_(l);!d&&c.position==="fixed"&&(s=null),(o?!d&&!s:!d&&c.position==="static"&&!!s&&D7.has(s.position)||Ld(l)&&!d&&UA(t,l))?r=r.filter(m=>m!==l):s=c,l=jo(l)}return e.set(t,r),r}function V7(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const l=[...n==="clippingAncestors"?nm(e)?[]:O7(e,this._c):[].concat(n),r],c=l[0],d=l.reduce((h,m)=>{const g=ZS(e,m,s);return h.top=vr(g.top,h.top),h.right=Lo(g.right,h.right),h.bottom=Lo(g.bottom,h.bottom),h.left=vr(g.left,h.left),h},ZS(e,c,s));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function L7(t){const{width:e,height:n}=LA(t);return{width:e,height:n}}function j7(t,e,n){const r=Ys(e),s=Zs(e),o=n==="fixed",l=Ua(t,!0,o,e);let c={scrollLeft:0,scrollTop:0};const d=zs(0);function h(){d.x=a_(s)}if(r||!r&&!o)if((Nc(e)!=="body"||Ld(s))&&(c=rm(e)),r){const E=Ua(e,!0,o,e);d.x=E.x+e.clientLeft,d.y=E.y+e.clientTop}else s&&h();o&&!r&&s&&h();const m=s&&!r&&!o?FA(s,c):zs(0),g=l.left+c.scrollLeft-d.x-m.x,w=l.top+c.scrollTop-d.y-m.y;return{x:g,y:w,width:l.width,height:l.height}}function Ny(t){return fs(t).position==="static"}function e1(t,e){if(!Ys(t)||fs(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Zs(t)===n&&(n=n.ownerDocument.body),n}function BA(t,e){const n=Er(t);if(nm(t))return n;if(!Ys(t)){let s=jo(t);for(;s&&!pc(s);){if(hs(s)&&!Ny(s))return s;s=jo(s)}return n}let r=e1(t,e);for(;r&&_7(r)&&Ny(r);)r=e1(r,e);return r&&pc(r)&&Ny(r)&&!s_(r)?n:r||S7(t)||n}const F7=async function(t){const e=this.getOffsetParent||BA,n=this.getDimensions,r=await n(t.floating);return{reference:j7(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function U7(t){return fs(t).direction==="rtl"}const B7={convertOffsetParentRelativeRectToViewportRelativeRect:P7,getDocumentElement:Zs,getClippingRect:V7,getOffsetParent:BA,getElementRects:F7,getClientRects:A7,getDimensions:L7,getScale:nc,isElement:hs,isRTL:U7};function $A(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function $7(t,e){let n=null,r;const s=Zs(t);function o(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function l(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),o();const h=t.getBoundingClientRect(),{left:m,top:g,width:w,height:E}=h;if(c||e(),!w||!E)return;const S=mf(g),T=mf(s.clientWidth-(m+w)),k=mf(s.clientHeight-(g+E)),P=mf(m),M={rootMargin:-S+"px "+-T+"px "+-k+"px "+-P+"px",threshold:vr(0,Lo(1,d))||1};let j=!0;function B(K){const D=K[0].intersectionRatio;if(D!==d){if(!j)return l();D?l(!1,D):r=setTimeout(()=>{l(!1,1e-7)},1e3)}D===1&&!$A(h,t.getBoundingClientRect())&&l(),j=!1}try{n=new IntersectionObserver(B,{...M,root:s.ownerDocument})}catch{n=new IntersectionObserver(B,M)}n.observe(t)}return l(!0),o}function z7(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,h=o_(t),m=s||o?[...h?hd(h):[],...hd(e)]:[];m.forEach(P=>{s&&P.addEventListener("scroll",n,{passive:!0}),o&&P.addEventListener("resize",n)});const g=h&&c?$7(h,n):null;let w=-1,E=null;l&&(E=new ResizeObserver(P=>{let[R]=P;R&&R.target===h&&E&&(E.unobserve(e),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var M;(M=E)==null||M.observe(e)})),n()}),h&&!d&&E.observe(h),E.observe(e));let S,T=d?Ua(t):null;d&&k();function k(){const P=Ua(t);T&&!$A(T,P)&&n(),T=P,S=requestAnimationFrame(k)}return n(),()=>{var P;m.forEach(R=>{s&&R.removeEventListener("scroll",n),o&&R.removeEventListener("resize",n)}),g==null||g(),(P=E)==null||P.disconnect(),E=null,d&&cancelAnimationFrame(S)}}const W7=p7,H7=m7,q7=d7,K7=y7,G7=h7,t1=u7,Y7=g7,Q7=(t,e,n)=>{const r=new Map,s={platform:B7,...n},o={...s.platform,_c:r};return c7(t,e,{...s,platform:o})};var X7=typeof document<"u",J7=function(){},jf=X7?b.useLayoutEffect:J7;function wp(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!wp(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&t.$$typeof)&&!wp(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function zA(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function n1(t,e){const n=zA(t);return Math.round(e*n)/n}function Dy(t){const e=b.useRef(t);return jf(()=>{e.current=t}),e}function Z7(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:l}={},transform:c=!0,whileElementsMounted:d,open:h}=t,[m,g]=b.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[w,E]=b.useState(r);wp(w,r)||E(r);const[S,T]=b.useState(null),[k,P]=b.useState(null),R=b.useCallback(z=>{z!==K.current&&(K.current=z,T(z))},[]),M=b.useCallback(z=>{z!==D.current&&(D.current=z,P(z))},[]),j=o||S,B=l||k,K=b.useRef(null),D=b.useRef(null),C=b.useRef(m),V=d!=null,L=Dy(d),F=Dy(s),$=Dy(h),N=b.useCallback(()=>{if(!K.current||!D.current)return;const z={placement:e,strategy:n,middleware:w};F.current&&(z.platform=F.current),Q7(K.current,D.current,z).then(oe=>{const le={...oe,isPositioned:$.current!==!1};se.current&&!wp(C.current,le)&&(C.current=le,vd.flushSync(()=>{g(le)}))})},[w,e,n,F,$]);jf(()=>{h===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,g(z=>({...z,isPositioned:!1})))},[h]);const se=b.useRef(!1);jf(()=>(se.current=!0,()=>{se.current=!1}),[]),jf(()=>{if(j&&(K.current=j),B&&(D.current=B),j&&B){if(L.current)return L.current(j,B,N);N()}},[j,B,N,L,V]);const ie=b.useMemo(()=>({reference:K,floating:D,setReference:R,setFloating:M}),[R,M]),ee=b.useMemo(()=>({reference:j,floating:B}),[j,B]),te=b.useMemo(()=>{const z={position:n,left:0,top:0};if(!ee.floating)return z;const oe=n1(ee.floating,m.x),le=n1(ee.floating,m.y);return c?{...z,transform:"translate("+oe+"px, "+le+"px)",...zA(ee.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:oe,top:le}},[n,c,ee.floating,m.x,m.y]);return b.useMemo(()=>({...m,update:N,refs:ie,elements:ee,floatingStyles:te}),[m,N,ie,ee,te])}const eW=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?t1({element:r.current,padding:s}).fn(n):{}:r?t1({element:r,padding:s}).fn(n):{}}}},tW=(t,e)=>({...W7(t),options:[t,e]}),nW=(t,e)=>({...H7(t),options:[t,e]}),rW=(t,e)=>({...Y7(t),options:[t,e]}),sW=(t,e)=>({...q7(t),options:[t,e]}),iW=(t,e)=>({...K7(t),options:[t,e]}),oW=(t,e)=>({...G7(t),options:[t,e]}),aW=(t,e)=>({...eW(t),options:[t,e]});var lW="Arrow",WA=b.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...o}=t;return y.jsx(Ze.svg,{...o,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:y.jsx("polygon",{points:"0,0 30,0 15,10"})})});WA.displayName=lW;var cW=WA;function l_(t){const[e,n]=b.useState(void 0);return Dn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let l,c;if("borderBoxSize"in o){const d=o.borderBoxSize,h=Array.isArray(d)?d[0]:d;l=h.inlineSize,c=h.blockSize}else l=t.offsetWidth,c=t.offsetHeight;n({width:l,height:c})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var c_="Popper",[HA,qA]=Ac(c_),[uW,KA]=HA(c_),GA=t=>{const{__scopePopper:e,children:n}=t,[r,s]=b.useState(null);return y.jsx(uW,{scope:e,anchor:r,onAnchorChange:s,children:n})};GA.displayName=c_;var YA="PopperAnchor",QA=b.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,o=KA(YA,n),l=b.useRef(null),c=ct(e,l);return b.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||l.current)}),r?null:y.jsx(Ze.div,{...s,ref:c})});QA.displayName=YA;var u_="PopperContent",[dW,hW]=HA(u_),XA=b.forwardRef((t,e)=>{var ue,xe,Re,Pe,Ue,$e;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:h=[],collisionPadding:m=0,sticky:g="partial",hideWhenDetached:w=!1,updatePositionStrategy:E="optimized",onPlaced:S,...T}=t,k=KA(u_,n),[P,R]=b.useState(null),M=ct(e,vt=>R(vt)),[j,B]=b.useState(null),K=l_(j),D=(K==null?void 0:K.width)??0,C=(K==null?void 0:K.height)??0,V=r+(o!=="center"?"-"+o:""),L=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},F=Array.isArray(h)?h:[h],$=F.length>0,N={padding:L,boundary:F.filter(pW),altBoundary:$},{refs:se,floatingStyles:ie,placement:ee,isPositioned:te,middlewareData:z}=Z7({strategy:"fixed",placement:V,whileElementsMounted:(...vt)=>z7(...vt,{animationFrame:E==="always"}),elements:{reference:k.anchor},middleware:[tW({mainAxis:s+C,alignmentAxis:l}),d&&nW({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?rW():void 0,...N}),d&&sW({...N}),iW({...N,apply:({elements:vt,rects:Dt,availableWidth:Wn,availableHeight:Hn})=>{const{width:pn,height:ei}=Dt.reference,Ft=vt.floating.style;Ft.setProperty("--radix-popper-available-width",`${Wn}px`),Ft.setProperty("--radix-popper-available-height",`${Hn}px`),Ft.setProperty("--radix-popper-anchor-width",`${pn}px`),Ft.setProperty("--radix-popper-anchor-height",`${ei}px`)}}),j&&aW({element:j,padding:c}),mW({arrowWidth:D,arrowHeight:C}),w&&oW({strategy:"referenceHidden",...N})]}),[oe,le]=eR(ee),W=Fa(S);Dn(()=>{te&&(W==null||W())},[te,W]);const X=(ue=z.arrow)==null?void 0:ue.x,ne=(xe=z.arrow)==null?void 0:xe.y,fe=((Re=z.arrow)==null?void 0:Re.centerOffset)!==0,[Ee,we]=b.useState();return Dn(()=>{P&&we(window.getComputedStyle(P).zIndex)},[P]),y.jsx("div",{ref:se.setFloating,"data-radix-popper-content-wrapper":"",style:{...ie,transform:te?ie.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ee,"--radix-popper-transform-origin":[(Pe=z.transformOrigin)==null?void 0:Pe.x,(Ue=z.transformOrigin)==null?void 0:Ue.y].join(" "),...(($e=z.hide)==null?void 0:$e.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:y.jsx(dW,{scope:n,placedSide:oe,onArrowChange:B,arrowX:X,arrowY:ne,shouldHideArrow:fe,children:y.jsx(Ze.div,{"data-side":oe,"data-align":le,...T,ref:M,style:{...T.style,animation:te?void 0:"none"}})})})});XA.displayName=u_;var JA="PopperArrow",fW={top:"bottom",right:"left",bottom:"top",left:"right"},ZA=b.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,o=hW(JA,r),l=fW[o.placedSide];return y.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:y.jsx(cW,{...s,ref:n,style:{...s.style,display:"block"}})})});ZA.displayName=JA;function pW(t){return t!==null}var mW=t=>({name:"transformOrigin",options:t,fn(e){var k,P,R;const{placement:n,rects:r,middlewareData:s}=e,l=((k=s.arrow)==null?void 0:k.centerOffset)!==0,c=l?0:t.arrowWidth,d=l?0:t.arrowHeight,[h,m]=eR(n),g={start:"0%",center:"50%",end:"100%"}[m],w=(((P=s.arrow)==null?void 0:P.x)??0)+c/2,E=(((R=s.arrow)==null?void 0:R.y)??0)+d/2;let S="",T="";return h==="bottom"?(S=l?g:`${w}px`,T=`${-d}px`):h==="top"?(S=l?g:`${w}px`,T=`${r.floating.height+d}px`):h==="right"?(S=`${-d}px`,T=l?g:`${E}px`):h==="left"&&(S=`${r.floating.width+d}px`,T=l?g:`${E}px`),{data:{x:S,y:T}}}});function eR(t){const[e,n="center"]=t.split("-");return[e,n]}var gW=GA,yW=QA,vW=XA,wW=ZA,_W="Portal",d_=b.forwardRef((t,e)=>{var c;const{container:n,...r}=t,[s,o]=b.useState(!1);Dn(()=>o(!0),[]);const l=n||s&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return l?U1.createPortal(y.jsx(Ze.div,{...r,ref:e}),l):null});d_.displayName=_W;var xW=x1[" useInsertionEffect ".trim().toString()]||Dn;function fd({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,o,l]=bW({defaultProp:e,onChange:n}),c=t!==void 0,d=c?t:s;{const m=b.useRef(t!==void 0);b.useEffect(()=>{const g=m.current;g!==c&&console.warn(`${r} is changing from ${g?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=c},[c,r])}const h=b.useCallback(m=>{var g;if(c){const w=EW(m)?m(t):m;w!==t&&((g=l.current)==null||g.call(l,w))}else o(m)},[c,t,o,l]);return[d,h]}function bW({defaultProp:t,onChange:e}){const[n,r]=b.useState(t),s=b.useRef(n),o=b.useRef(e);return xW(()=>{o.current=e},[e]),b.useEffect(()=>{var l;s.current!==n&&((l=o.current)==null||l.call(o,n),s.current=n)},[n,s]),[n,r,o]}function EW(t){return typeof t=="function"}function h_(t){const e=b.useRef({value:t,previous:t});return b.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var tR=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),TW="VisuallyHidden",SW=b.forwardRef((t,e)=>y.jsx(Ze.span,{...t,ref:e,style:{...tR,...t.style}}));SW.displayName=TW;var kW=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ml=new WeakMap,gf=new WeakMap,yf={},My=0,nR=function(t){return t&&(t.host||nR(t.parentNode))},IW=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=nR(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},CW=function(t,e,n,r){var s=IW(e,Array.isArray(t)?t:[t]);yf[n]||(yf[n]=new WeakMap);var o=yf[n],l=[],c=new Set,d=new Set(s),h=function(g){!g||c.has(g)||(c.add(g),h(g.parentNode))};s.forEach(h);var m=function(g){!g||d.has(g)||Array.prototype.forEach.call(g.children,function(w){if(c.has(w))m(w);else try{var E=w.getAttribute(r),S=E!==null&&E!=="false",T=(Ml.get(w)||0)+1,k=(o.get(w)||0)+1;Ml.set(w,T),o.set(w,k),l.push(w),T===1&&S&&gf.set(w,!0),k===1&&w.setAttribute(n,"true"),S||w.setAttribute(r,"true")}catch(P){console.error("aria-hidden: cannot operate on ",w,P)}})};return m(e),c.clear(),My++,function(){l.forEach(function(g){var w=Ml.get(g)-1,E=o.get(g)-1;Ml.set(g,w),o.set(g,E),w||(gf.has(g)||g.removeAttribute(r),gf.delete(g)),E||g.removeAttribute(n)}),My--,My||(Ml=new WeakMap,Ml=new WeakMap,gf=new WeakMap,yf={})}},rR=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=kW(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),CW(r,s,n,"aria-hidden")):function(){return null}},As=function(){return As=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},As.apply(this,arguments)};function sR(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function PW(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var Ff="right-scroll-bar-position",Uf="width-before-scroll-bar",AW="with-scroll-bars-hidden",RW="--removed-body-scroll-bar-size";function Oy(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function NW(t,e){var n=b.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var DW=typeof window<"u"?b.useLayoutEffect:b.useEffect,r1=new WeakMap;function MW(t,e){var n=NW(null,function(r){return t.forEach(function(s){return Oy(s,r)})});return DW(function(){var r=r1.get(n);if(r){var s=new Set(r),o=new Set(t),l=n.current;s.forEach(function(c){o.has(c)||Oy(c,null)}),o.forEach(function(c){s.has(c)||Oy(c,l)})}r1.set(n,t)},[t]),n}function OW(t){return t}function VW(t,e){e===void 0&&(e=OW);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var l=e(o,r);return n.push(l),function(){n=n.filter(function(c){return c!==l})}},assignSyncMedium:function(o){for(r=!0;n.length;){var l=n;n=[],l.forEach(o)}n={push:function(c){return o(c)},filter:function(){return n}}},assignMedium:function(o){r=!0;var l=[];if(n.length){var c=n;n=[],c.forEach(o),l=n}var d=function(){var m=l;l=[],m.forEach(o)},h=function(){return Promise.resolve().then(d)};h(),n={push:function(m){l.push(m),h()},filter:function(m){return l=l.filter(m),n}}}};return s}function LW(t){t===void 0&&(t={});var e=VW(null);return e.options=As({async:!0,ssr:!1},t),e}var iR=function(t){var e=t.sideCar,n=sR(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return b.createElement(r,As({},n))};iR.isSideCarExport=!0;function jW(t,e){return t.useMedium(e),iR}var oR=LW(),Vy=function(){},sm=b.forwardRef(function(t,e){var n=b.useRef(null),r=b.useState({onScrollCapture:Vy,onWheelCapture:Vy,onTouchMoveCapture:Vy}),s=r[0],o=r[1],l=t.forwardProps,c=t.children,d=t.className,h=t.removeScrollBar,m=t.enabled,g=t.shards,w=t.sideCar,E=t.noRelative,S=t.noIsolation,T=t.inert,k=t.allowPinchZoom,P=t.as,R=P===void 0?"div":P,M=t.gapMode,j=sR(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),B=w,K=MW([n,e]),D=As(As({},j),s);return b.createElement(b.Fragment,null,m&&b.createElement(B,{sideCar:oR,removeScrollBar:h,shards:g,noRelative:E,noIsolation:S,inert:T,setCallbacks:o,allowPinchZoom:!!k,lockRef:n,gapMode:M}),l?b.cloneElement(b.Children.only(c),As(As({},D),{ref:K})):b.createElement(R,As({},D,{className:d,ref:K}),c))});sm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};sm.classNames={fullWidth:Uf,zeroRight:Ff};var FW=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function UW(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=FW();return e&&t.setAttribute("nonce",e),t}function BW(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function $W(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var zW=function(){var t=0,e=null;return{add:function(n){t==0&&(e=UW())&&(BW(e,n),$W(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},WW=function(){var t=zW();return function(e,n){b.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},aR=function(){var t=WW(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},HW={left:0,top:0,right:0,gap:0},Ly=function(t){return parseInt(t||"",10)||0},qW=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Ly(n),Ly(r),Ly(s)]},KW=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return HW;var e=qW(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},GW=aR(),rc="data-scroll-locked",YW=function(t,e,n,r){var s=t.left,o=t.top,l=t.right,c=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(AW,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(rc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ff,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Uf,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Ff," .").concat(Ff,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Uf," .").concat(Uf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(rc,`] {
    `).concat(RW,": ").concat(c,`px;
  }
`)},s1=function(){var t=parseInt(document.body.getAttribute(rc)||"0",10);return isFinite(t)?t:0},QW=function(){b.useEffect(function(){return document.body.setAttribute(rc,(s1()+1).toString()),function(){var t=s1()-1;t<=0?document.body.removeAttribute(rc):document.body.setAttribute(rc,t.toString())}},[])},XW=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;QW();var o=b.useMemo(function(){return KW(s)},[s]);return b.createElement(GW,{styles:YW(o,!e,s,n?"":"!important")})},Gv=!1;if(typeof window<"u")try{var vf=Object.defineProperty({},"passive",{get:function(){return Gv=!0,!0}});window.addEventListener("test",vf,vf),window.removeEventListener("test",vf,vf)}catch{Gv=!1}var Ol=Gv?{passive:!1}:!1,JW=function(t){return t.tagName==="TEXTAREA"},lR=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!JW(t)&&n[e]==="visible")},ZW=function(t){return lR(t,"overflowY")},eH=function(t){return lR(t,"overflowX")},i1=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=cR(t,r);if(s){var o=uR(t,r),l=o[1],c=o[2];if(l>c)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},tH=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},nH=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},cR=function(t,e){return t==="v"?ZW(e):eH(e)},uR=function(t,e){return t==="v"?tH(e):nH(e)},rH=function(t,e){return t==="h"&&e==="rtl"?-1:1},sH=function(t,e,n,r,s){var o=rH(t,window.getComputedStyle(e).direction),l=o*r,c=n.target,d=e.contains(c),h=!1,m=l>0,g=0,w=0;do{if(!c)break;var E=uR(t,c),S=E[0],T=E[1],k=E[2],P=T-k-o*S;(S||P)&&cR(t,c)&&(g+=P,w+=S);var R=c.parentNode;c=R&&R.nodeType===Node.DOCUMENT_FRAGMENT_NODE?R.host:R}while(!d&&c!==document.body||d&&(e.contains(c)||e===c));return(m&&Math.abs(g)<1||!m&&Math.abs(w)<1)&&(h=!0),h},wf=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},o1=function(t){return[t.deltaX,t.deltaY]},a1=function(t){return t&&"current"in t?t.current:t},iH=function(t,e){return t[0]===e[0]&&t[1]===e[1]},oH=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},aH=0,Vl=[];function lH(t){var e=b.useRef([]),n=b.useRef([0,0]),r=b.useRef(),s=b.useState(aH++)[0],o=b.useState(aR)[0],l=b.useRef(t);b.useEffect(function(){l.current=t},[t]),b.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var T=PW([t.lockRef.current],(t.shards||[]).map(a1),!0).filter(Boolean);return T.forEach(function(k){return k.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),T.forEach(function(k){return k.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var c=b.useCallback(function(T,k){if("touches"in T&&T.touches.length===2||T.type==="wheel"&&T.ctrlKey)return!l.current.allowPinchZoom;var P=wf(T),R=n.current,M="deltaX"in T?T.deltaX:R[0]-P[0],j="deltaY"in T?T.deltaY:R[1]-P[1],B,K=T.target,D=Math.abs(M)>Math.abs(j)?"h":"v";if("touches"in T&&D==="h"&&K.type==="range")return!1;var C=i1(D,K);if(!C)return!0;if(C?B=D:(B=D==="v"?"h":"v",C=i1(D,K)),!C)return!1;if(!r.current&&"changedTouches"in T&&(M||j)&&(r.current=B),!B)return!0;var V=r.current||B;return sH(V,k,T,V==="h"?M:j)},[]),d=b.useCallback(function(T){var k=T;if(!(!Vl.length||Vl[Vl.length-1]!==o)){var P="deltaY"in k?o1(k):wf(k),R=e.current.filter(function(B){return B.name===k.type&&(B.target===k.target||k.target===B.shadowParent)&&iH(B.delta,P)})[0];if(R&&R.should){k.cancelable&&k.preventDefault();return}if(!R){var M=(l.current.shards||[]).map(a1).filter(Boolean).filter(function(B){return B.contains(k.target)}),j=M.length>0?c(k,M[0]):!l.current.noIsolation;j&&k.cancelable&&k.preventDefault()}}},[]),h=b.useCallback(function(T,k,P,R){var M={name:T,delta:k,target:P,should:R,shadowParent:cH(P)};e.current.push(M),setTimeout(function(){e.current=e.current.filter(function(j){return j!==M})},1)},[]),m=b.useCallback(function(T){n.current=wf(T),r.current=void 0},[]),g=b.useCallback(function(T){h(T.type,o1(T),T.target,c(T,t.lockRef.current))},[]),w=b.useCallback(function(T){h(T.type,wf(T),T.target,c(T,t.lockRef.current))},[]);b.useEffect(function(){return Vl.push(o),t.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:w}),document.addEventListener("wheel",d,Ol),document.addEventListener("touchmove",d,Ol),document.addEventListener("touchstart",m,Ol),function(){Vl=Vl.filter(function(T){return T!==o}),document.removeEventListener("wheel",d,Ol),document.removeEventListener("touchmove",d,Ol),document.removeEventListener("touchstart",m,Ol)}},[]);var E=t.removeScrollBar,S=t.inert;return b.createElement(b.Fragment,null,S?b.createElement(o,{styles:oH(s)}):null,E?b.createElement(XW,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function cH(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const uH=jW(oR,lH);var f_=b.forwardRef(function(t,e){return b.createElement(sm,As({},t,{ref:e,sideCar:uH}))});f_.classNames=sm.classNames;var dH=[" ","Enter","ArrowUp","ArrowDown"],hH=[" ","Enter"],Ba="Select",[im,om,fH]=IA(Ba),[Dc,HG]=Ac(Ba,[fH,qA]),am=qA(),[pH,Wo]=Dc(Ba),[mH,gH]=Dc(Ba),dR=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:o,value:l,defaultValue:c,onValueChange:d,dir:h,name:m,autoComplete:g,disabled:w,required:E,form:S}=t,T=am(e),[k,P]=b.useState(null),[R,M]=b.useState(null),[j,B]=b.useState(!1),K=CA(h),[D,C]=fd({prop:r,defaultProp:s??!1,onChange:o,caller:Ba}),[V,L]=fd({prop:l,defaultProp:c,onChange:d,caller:Ba}),F=b.useRef(null),$=k?S||!!k.closest("form"):!0,[N,se]=b.useState(new Set),ie=Array.from(N).map(ee=>ee.props.value).join(";");return y.jsx(gW,{...T,children:y.jsxs(pH,{required:E,scope:e,trigger:k,onTriggerChange:P,valueNode:R,onValueNodeChange:M,valueNodeHasChildren:j,onValueNodeHasChildrenChange:B,contentId:tc(),value:V,onValueChange:L,open:D,onOpenChange:C,dir:K,triggerPointerDownPosRef:F,disabled:w,children:[y.jsx(im.Provider,{scope:e,children:y.jsx(mH,{scope:t.__scopeSelect,onNativeOptionAdd:b.useCallback(ee=>{se(te=>new Set(te).add(ee))},[]),onNativeOptionRemove:b.useCallback(ee=>{se(te=>{const z=new Set(te);return z.delete(ee),z})},[]),children:n})}),$?y.jsxs(OR,{"aria-hidden":!0,required:E,tabIndex:-1,name:m,autoComplete:g,value:V,onChange:ee=>L(ee.target.value),disabled:w,form:S,children:[V===void 0?y.jsx("option",{value:""}):null,Array.from(N)]},ie):null]})})};dR.displayName=Ba;var hR="SelectTrigger",fR=b.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,o=am(n),l=Wo(hR,n),c=l.disabled||r,d=ct(e,l.onTriggerChange),h=om(n),m=b.useRef("touch"),[g,w,E]=LR(T=>{const k=h().filter(M=>!M.disabled),P=k.find(M=>M.value===l.value),R=jR(k,T,P);R!==void 0&&l.onValueChange(R.value)}),S=T=>{c||(l.onOpenChange(!0),E()),T&&(l.triggerPointerDownPosRef.current={x:Math.round(T.pageX),y:Math.round(T.pageY)})};return y.jsx(yW,{asChild:!0,...o,children:y.jsx(Ze.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":VR(l.value)?"":void 0,...s,ref:d,onClick:st(s.onClick,T=>{T.currentTarget.focus(),m.current!=="mouse"&&S(T)}),onPointerDown:st(s.onPointerDown,T=>{m.current=T.pointerType;const k=T.target;k.hasPointerCapture(T.pointerId)&&k.releasePointerCapture(T.pointerId),T.button===0&&T.ctrlKey===!1&&T.pointerType==="mouse"&&(S(T),T.preventDefault())}),onKeyDown:st(s.onKeyDown,T=>{const k=g.current!=="";!(T.ctrlKey||T.altKey||T.metaKey)&&T.key.length===1&&w(T.key),!(k&&T.key===" ")&&dH.includes(T.key)&&(S(),T.preventDefault())})})})});fR.displayName=hR;var pR="SelectValue",mR=b.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:l="",...c}=t,d=Wo(pR,n),{onValueNodeHasChildrenChange:h}=d,m=o!==void 0,g=ct(e,d.onValueNodeChange);return Dn(()=>{h(m)},[h,m]),y.jsx(Ze.span,{...c,ref:g,style:{pointerEvents:"none"},children:VR(d.value)?y.jsx(y.Fragment,{children:l}):o})});mR.displayName=pR;var yH="SelectIcon",gR=b.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return y.jsx(Ze.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});gR.displayName=yH;var vH="SelectPortal",yR=t=>y.jsx(d_,{asChild:!0,...t});yR.displayName=vH;var $a="SelectContent",vR=b.forwardRef((t,e)=>{const n=Wo($a,t.__scopeSelect),[r,s]=b.useState();if(Dn(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?vd.createPortal(y.jsx(wR,{scope:t.__scopeSelect,children:y.jsx(im.Slot,{scope:t.__scopeSelect,children:y.jsx("div",{children:t.children})})}),o):null}return y.jsx(_R,{...t,ref:e})});vR.displayName=$a;var ss=10,[wR,Ho]=Dc($a),wH="SelectContentImpl",_H=dc("SelectContent.RemoveScroll"),_R=b.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:l,side:c,sideOffset:d,align:h,alignOffset:m,arrowPadding:g,collisionBoundary:w,collisionPadding:E,sticky:S,hideWhenDetached:T,avoidCollisions:k,...P}=t,R=Wo($a,n),[M,j]=b.useState(null),[B,K]=b.useState(null),D=ct(e,ue=>j(ue)),[C,V]=b.useState(null),[L,F]=b.useState(null),$=om(n),[N,se]=b.useState(!1),ie=b.useRef(!1);b.useEffect(()=>{if(M)return rR(M)},[M]),RA();const ee=b.useCallback(ue=>{const[xe,...Re]=$().map($e=>$e.ref.current),[Pe]=Re.slice(-1),Ue=document.activeElement;for(const $e of ue)if($e===Ue||($e==null||$e.scrollIntoView({block:"nearest"}),$e===xe&&B&&(B.scrollTop=0),$e===Pe&&B&&(B.scrollTop=B.scrollHeight),$e==null||$e.focus(),document.activeElement!==Ue))return},[$,B]),te=b.useCallback(()=>ee([C,M]),[ee,C,M]);b.useEffect(()=>{N&&te()},[N,te]);const{onOpenChange:z,triggerPointerDownPosRef:oe}=R;b.useEffect(()=>{if(M){let ue={x:0,y:0};const xe=Pe=>{var Ue,$e;ue={x:Math.abs(Math.round(Pe.pageX)-(((Ue=oe.current)==null?void 0:Ue.x)??0)),y:Math.abs(Math.round(Pe.pageY)-((($e=oe.current)==null?void 0:$e.y)??0))}},Re=Pe=>{ue.x<=10&&ue.y<=10?Pe.preventDefault():M.contains(Pe.target)||z(!1),document.removeEventListener("pointermove",xe),oe.current=null};return oe.current!==null&&(document.addEventListener("pointermove",xe),document.addEventListener("pointerup",Re,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",xe),document.removeEventListener("pointerup",Re,{capture:!0})}}},[M,z,oe]),b.useEffect(()=>{const ue=()=>z(!1);return window.addEventListener("blur",ue),window.addEventListener("resize",ue),()=>{window.removeEventListener("blur",ue),window.removeEventListener("resize",ue)}},[z]);const[le,W]=LR(ue=>{const xe=$().filter(Ue=>!Ue.disabled),Re=xe.find(Ue=>Ue.ref.current===document.activeElement),Pe=jR(xe,ue,Re);Pe&&setTimeout(()=>Pe.ref.current.focus())}),X=b.useCallback((ue,xe,Re)=>{const Pe=!ie.current&&!Re;(R.value!==void 0&&R.value===xe||Pe)&&(V(ue),Pe&&(ie.current=!0))},[R.value]),ne=b.useCallback(()=>M==null?void 0:M.focus(),[M]),fe=b.useCallback((ue,xe,Re)=>{const Pe=!ie.current&&!Re;(R.value!==void 0&&R.value===xe||Pe)&&F(ue)},[R.value]),Ee=r==="popper"?Yv:xR,we=Ee===Yv?{side:c,sideOffset:d,align:h,alignOffset:m,arrowPadding:g,collisionBoundary:w,collisionPadding:E,sticky:S,hideWhenDetached:T,avoidCollisions:k}:{};return y.jsx(wR,{scope:n,content:M,viewport:B,onViewportChange:K,itemRefCallback:X,selectedItem:C,onItemLeave:ne,itemTextRefCallback:fe,focusSelectedItem:te,selectedItemText:L,position:r,isPositioned:N,searchRef:le,children:y.jsx(f_,{as:_H,allowPinchZoom:!0,children:y.jsx(e_,{asChild:!0,trapped:R.open,onMountAutoFocus:ue=>{ue.preventDefault()},onUnmountAutoFocus:st(s,ue=>{var xe;(xe=R.trigger)==null||xe.focus({preventScroll:!0}),ue.preventDefault()}),children:y.jsx(Zw,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:ue=>ue.preventDefault(),onDismiss:()=>R.onOpenChange(!1),children:y.jsx(Ee,{role:"listbox",id:R.contentId,"data-state":R.open?"open":"closed",dir:R.dir,onContextMenu:ue=>ue.preventDefault(),...P,...we,onPlaced:()=>se(!0),ref:D,style:{display:"flex",flexDirection:"column",outline:"none",...P.style},onKeyDown:st(P.onKeyDown,ue=>{const xe=ue.ctrlKey||ue.altKey||ue.metaKey;if(ue.key==="Tab"&&ue.preventDefault(),!xe&&ue.key.length===1&&W(ue.key),["ArrowUp","ArrowDown","Home","End"].includes(ue.key)){let Pe=$().filter(Ue=>!Ue.disabled).map(Ue=>Ue.ref.current);if(["ArrowUp","End"].includes(ue.key)&&(Pe=Pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(ue.key)){const Ue=ue.target,$e=Pe.indexOf(Ue);Pe=Pe.slice($e+1)}setTimeout(()=>ee(Pe)),ue.preventDefault()}})})})})})})});_R.displayName=wH;var xH="SelectItemAlignedPosition",xR=b.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,o=Wo($a,n),l=Ho($a,n),[c,d]=b.useState(null),[h,m]=b.useState(null),g=ct(e,D=>m(D)),w=om(n),E=b.useRef(!1),S=b.useRef(!0),{viewport:T,selectedItem:k,selectedItemText:P,focusSelectedItem:R}=l,M=b.useCallback(()=>{if(o.trigger&&o.valueNode&&c&&h&&T&&k&&P){const D=o.trigger.getBoundingClientRect(),C=h.getBoundingClientRect(),V=o.valueNode.getBoundingClientRect(),L=P.getBoundingClientRect();if(o.dir!=="rtl"){const Ue=L.left-C.left,$e=V.left-Ue,vt=D.left-$e,Dt=D.width+vt,Wn=Math.max(Dt,C.width),Hn=window.innerWidth-ss,pn=mp($e,[ss,Math.max(ss,Hn-Wn)]);c.style.minWidth=Dt+"px",c.style.left=pn+"px"}else{const Ue=C.right-L.right,$e=window.innerWidth-V.right-Ue,vt=window.innerWidth-D.right-$e,Dt=D.width+vt,Wn=Math.max(Dt,C.width),Hn=window.innerWidth-ss,pn=mp($e,[ss,Math.max(ss,Hn-Wn)]);c.style.minWidth=Dt+"px",c.style.right=pn+"px"}const F=w(),$=window.innerHeight-ss*2,N=T.scrollHeight,se=window.getComputedStyle(h),ie=parseInt(se.borderTopWidth,10),ee=parseInt(se.paddingTop,10),te=parseInt(se.borderBottomWidth,10),z=parseInt(se.paddingBottom,10),oe=ie+ee+N+z+te,le=Math.min(k.offsetHeight*5,oe),W=window.getComputedStyle(T),X=parseInt(W.paddingTop,10),ne=parseInt(W.paddingBottom,10),fe=D.top+D.height/2-ss,Ee=$-fe,we=k.offsetHeight/2,ue=k.offsetTop+we,xe=ie+ee+ue,Re=oe-xe;if(xe<=fe){const Ue=F.length>0&&k===F[F.length-1].ref.current;c.style.bottom="0px";const $e=h.clientHeight-T.offsetTop-T.offsetHeight,vt=Math.max(Ee,we+(Ue?ne:0)+$e+te),Dt=xe+vt;c.style.height=Dt+"px"}else{const Ue=F.length>0&&k===F[0].ref.current;c.style.top="0px";const vt=Math.max(fe,ie+T.offsetTop+(Ue?X:0)+we)+Re;c.style.height=vt+"px",T.scrollTop=xe-fe+T.offsetTop}c.style.margin=`${ss}px 0`,c.style.minHeight=le+"px",c.style.maxHeight=$+"px",r==null||r(),requestAnimationFrame(()=>E.current=!0)}},[w,o.trigger,o.valueNode,c,h,T,k,P,o.dir,r]);Dn(()=>M(),[M]);const[j,B]=b.useState();Dn(()=>{h&&B(window.getComputedStyle(h).zIndex)},[h]);const K=b.useCallback(D=>{D&&S.current===!0&&(M(),R==null||R(),S.current=!1)},[M,R]);return y.jsx(EH,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:E,onScrollButtonChange:K,children:y.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:y.jsx(Ze.div,{...s,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});xR.displayName=xH;var bH="SelectPopperPosition",Yv=b.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=ss,...o}=t,l=am(n);return y.jsx(vW,{...l,...o,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Yv.displayName=bH;var[EH,p_]=Dc($a,{}),Qv="SelectViewport",bR=b.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,o=Ho(Qv,n),l=p_(Qv,n),c=ct(e,o.onViewportChange),d=b.useRef(0);return y.jsxs(y.Fragment,{children:[y.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),y.jsx(im.Slot,{scope:n,children:y.jsx(Ze.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:st(s.onScroll,h=>{const m=h.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:w}=l;if(w!=null&&w.current&&g){const E=Math.abs(d.current-m.scrollTop);if(E>0){const S=window.innerHeight-ss*2,T=parseFloat(g.style.minHeight),k=parseFloat(g.style.height),P=Math.max(T,k);if(P<S){const R=P+E,M=Math.min(S,R),j=R-M;g.style.height=M+"px",g.style.bottom==="0px"&&(m.scrollTop=j>0?j:0,g.style.justifyContent="flex-end")}}}d.current=m.scrollTop})})})]})});bR.displayName=Qv;var ER="SelectGroup",[TH,SH]=Dc(ER),kH=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=tc();return y.jsx(TH,{scope:n,id:s,children:y.jsx(Ze.div,{role:"group","aria-labelledby":s,...r,ref:e})})});kH.displayName=ER;var TR="SelectLabel",SR=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=SH(TR,n);return y.jsx(Ze.div,{id:s.id,...r,ref:e})});SR.displayName=TR;var _p="SelectItem",[IH,kR]=Dc(_p),IR=b.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...l}=t,c=Wo(_p,n),d=Ho(_p,n),h=c.value===r,[m,g]=b.useState(o??""),[w,E]=b.useState(!1),S=ct(e,R=>{var M;return(M=d.itemRefCallback)==null?void 0:M.call(d,R,r,s)}),T=tc(),k=b.useRef("touch"),P=()=>{s||(c.onValueChange(r),c.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return y.jsx(IH,{scope:n,value:r,disabled:s,textId:T,isSelected:h,onItemTextChange:b.useCallback(R=>{g(M=>M||((R==null?void 0:R.textContent)??"").trim())},[]),children:y.jsx(im.ItemSlot,{scope:n,value:r,disabled:s,textValue:m,children:y.jsx(Ze.div,{role:"option","aria-labelledby":T,"data-highlighted":w?"":void 0,"aria-selected":h&&w,"data-state":h?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...l,ref:S,onFocus:st(l.onFocus,()=>E(!0)),onBlur:st(l.onBlur,()=>E(!1)),onClick:st(l.onClick,()=>{k.current!=="mouse"&&P()}),onPointerUp:st(l.onPointerUp,()=>{k.current==="mouse"&&P()}),onPointerDown:st(l.onPointerDown,R=>{k.current=R.pointerType}),onPointerMove:st(l.onPointerMove,R=>{var M;k.current=R.pointerType,s?(M=d.onItemLeave)==null||M.call(d):k.current==="mouse"&&R.currentTarget.focus({preventScroll:!0})}),onPointerLeave:st(l.onPointerLeave,R=>{var M;R.currentTarget===document.activeElement&&((M=d.onItemLeave)==null||M.call(d))}),onKeyDown:st(l.onKeyDown,R=>{var j;((j=d.searchRef)==null?void 0:j.current)!==""&&R.key===" "||(hH.includes(R.key)&&P(),R.key===" "&&R.preventDefault())})})})})});IR.displayName=_p;var Au="SelectItemText",CR=b.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...o}=t,l=Wo(Au,n),c=Ho(Au,n),d=kR(Au,n),h=gH(Au,n),[m,g]=b.useState(null),w=ct(e,P=>g(P),d.onItemTextChange,P=>{var R;return(R=c.itemTextRefCallback)==null?void 0:R.call(c,P,d.value,d.disabled)}),E=m==null?void 0:m.textContent,S=b.useMemo(()=>y.jsx("option",{value:d.value,disabled:d.disabled,children:E},d.value),[d.disabled,d.value,E]),{onNativeOptionAdd:T,onNativeOptionRemove:k}=h;return Dn(()=>(T(S),()=>k(S)),[T,k,S]),y.jsxs(y.Fragment,{children:[y.jsx(Ze.span,{id:d.textId,...o,ref:w}),d.isSelected&&l.valueNode&&!l.valueNodeHasChildren?vd.createPortal(o.children,l.valueNode):null]})});CR.displayName=Au;var PR="SelectItemIndicator",AR=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return kR(PR,n).isSelected?y.jsx(Ze.span,{"aria-hidden":!0,...r,ref:e}):null});AR.displayName=PR;var Xv="SelectScrollUpButton",RR=b.forwardRef((t,e)=>{const n=Ho(Xv,t.__scopeSelect),r=p_(Xv,t.__scopeSelect),[s,o]=b.useState(!1),l=ct(e,r.onScrollButtonChange);return Dn(()=>{if(n.viewport&&n.isPositioned){let c=function(){const h=d.scrollTop>0;o(h)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),s?y.jsx(DR,{...t,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});RR.displayName=Xv;var Jv="SelectScrollDownButton",NR=b.forwardRef((t,e)=>{const n=Ho(Jv,t.__scopeSelect),r=p_(Jv,t.__scopeSelect),[s,o]=b.useState(!1),l=ct(e,r.onScrollButtonChange);return Dn(()=>{if(n.viewport&&n.isPositioned){let c=function(){const h=d.scrollHeight-d.clientHeight,m=Math.ceil(d.scrollTop)<h;o(m)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),s?y.jsx(DR,{...t,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});NR.displayName=Jv;var DR=b.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,o=Ho("SelectScrollButton",n),l=b.useRef(null),c=om(n),d=b.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return b.useEffect(()=>()=>d(),[d]),Dn(()=>{var m;const h=c().find(g=>g.ref.current===document.activeElement);(m=h==null?void 0:h.ref.current)==null||m.scrollIntoView({block:"nearest"})},[c]),y.jsx(Ze.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:st(s.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:st(s.onPointerMove,()=>{var h;(h=o.onItemLeave)==null||h.call(o),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:st(s.onPointerLeave,()=>{d()})})}),CH="SelectSeparator",MR=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return y.jsx(Ze.div,{"aria-hidden":!0,...r,ref:e})});MR.displayName=CH;var Zv="SelectArrow",PH=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=am(n),o=Wo(Zv,n),l=Ho(Zv,n);return o.open&&l.position==="popper"?y.jsx(wW,{...s,...r,ref:e}):null});PH.displayName=Zv;var AH="SelectBubbleInput",OR=b.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=b.useRef(null),o=ct(r,s),l=h_(e);return b.useEffect(()=>{const c=s.current;if(!c)return;const d=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==e&&m){const g=new Event("change",{bubbles:!0});m.call(c,e),c.dispatchEvent(g)}},[l,e]),y.jsx(Ze.select,{...n,style:{...tR,...n.style},ref:o,defaultValue:e})});OR.displayName=AH;function VR(t){return t===""||t===void 0}function LR(t){const e=Fa(t),n=b.useRef(""),r=b.useRef(0),s=b.useCallback(l=>{const c=n.current+l;e(c),function d(h){n.current=h,window.clearTimeout(r.current),h!==""&&(r.current=window.setTimeout(()=>d(""),1e3))}(c)},[e]),o=b.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function jR(t,e,n){const s=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let l=RH(t,Math.max(o,0));s.length===1&&(l=l.filter(h=>h!==n));const d=l.find(h=>h.textValue.toLowerCase().startsWith(s.toLowerCase()));return d!==n?d:void 0}function RH(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var NH=dR,FR=fR,DH=mR,MH=gR,OH=yR,UR=vR,VH=bR,BR=SR,$R=IR,LH=CR,jH=AR,zR=RR,WR=NR,HR=MR;const l1=NH,c1=DH,e0=b.forwardRef(({className:t,children:e,...n},r)=>y.jsxs(FR,{ref:r,className:it("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,y.jsx(MH,{asChild:!0,children:y.jsx(g0,{className:"h-4 w-4 opacity-50"})})]}));e0.displayName=FR.displayName;const qR=b.forwardRef(({className:t,...e},n)=>y.jsx(zR,{ref:n,className:it("flex cursor-default items-center justify-center py-1",t),...e,children:y.jsx($1,{className:"h-4 w-4"})}));qR.displayName=zR.displayName;const KR=b.forwardRef(({className:t,...e},n)=>y.jsx(WR,{ref:n,className:it("flex cursor-default items-center justify-center py-1",t),...e,children:y.jsx(g0,{className:"h-4 w-4"})}));KR.displayName=WR.displayName;const t0=b.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>y.jsx(OH,{children:y.jsxs(UR,{ref:s,className:it("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[y.jsx(qR,{}),y.jsx(VH,{className:it("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),y.jsx(KR,{})]})}));t0.displayName=UR.displayName;const FH=b.forwardRef(({className:t,...e},n)=>y.jsx(BR,{ref:n,className:it("px-2 py-1.5 text-sm font-semibold",t),...e}));FH.displayName=BR.displayName;const Ru=b.forwardRef(({className:t,children:e,...n},r)=>y.jsxs($R,{ref:r,className:it("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[y.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:y.jsx(jH,{children:y.jsx(BM,{className:"h-4 w-4"})})}),y.jsx(LH,{children:e})]}));Ru.displayName=$R.displayName;const UH=b.forwardRef(({className:t,...e},n)=>y.jsx(HR,{ref:n,className:it("-mx-1 my-1 h-px bg-muted",t),...e}));UH.displayName=HR.displayName;function BH(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const $H=t=>{switch(t){case"success":return HH;case"info":return KH;case"warning":return qH;case"error":return GH;default:return null}},zH=Array(12).fill(0),WH=({visible:t,className:e})=>me.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},me.createElement("div",{className:"sonner-spinner"},zH.map((n,r)=>me.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),HH=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},me.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),qH=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},me.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),KH=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},me.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),GH=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},me.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),YH=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},me.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),me.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),QH=()=>{const[t,e]=me.useState(document.hidden);return me.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let n0=1;class XH{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...s}=e,o=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:n0++,l=this.toasts.find(d=>d.id===o),c=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),l?this.toasts=this.toasts.map(d=>d.id===o?(this.publish({...d,...e,id:o,title:r}),{...d,...e,id:o,dismissible:c,title:r}):d):this.addToast({title:r,...s,dismissible:c,id:o}),o},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const s=Promise.resolve(e instanceof Function?e():e);let o=r!==void 0,l;const c=s.then(async h=>{if(l=["resolve",h],me.isValidElement(h))o=!1,this.create({id:r,type:"default",message:h});else if(ZH(h)&&!h.ok){o=!1;const g=typeof n.error=="function"?await n.error(`HTTP error! status: ${h.status}`):n.error,w=typeof n.description=="function"?await n.description(`HTTP error! status: ${h.status}`):n.description,S=typeof g=="object"&&!me.isValidElement(g)?g:{message:g};this.create({id:r,type:"error",description:w,...S})}else if(h instanceof Error){o=!1;const g=typeof n.error=="function"?await n.error(h):n.error,w=typeof n.description=="function"?await n.description(h):n.description,S=typeof g=="object"&&!me.isValidElement(g)?g:{message:g};this.create({id:r,type:"error",description:w,...S})}else if(n.success!==void 0){o=!1;const g=typeof n.success=="function"?await n.success(h):n.success,w=typeof n.description=="function"?await n.description(h):n.description,S=typeof g=="object"&&!me.isValidElement(g)?g:{message:g};this.create({id:r,type:"success",description:w,...S})}}).catch(async h=>{if(l=["reject",h],n.error!==void 0){o=!1;const m=typeof n.error=="function"?await n.error(h):n.error,g=typeof n.description=="function"?await n.description(h):n.description,E=typeof m=="object"&&!me.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:g,...E})}}).finally(()=>{o&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),d=()=>new Promise((h,m)=>c.then(()=>l[0]==="reject"?m(l[1]):h(l[1])).catch(m));return typeof r!="string"&&typeof r!="number"?{unwrap:d}:Object.assign(r,{unwrap:d})},this.custom=(e,n)=>{const r=(n==null?void 0:n.id)||n0++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const sr=new XH,JH=(t,e)=>{const n=(e==null?void 0:e.id)||n0++;return sr.addToast({title:t,...e,id:n}),n},ZH=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",eq=JH,tq=()=>sr.toasts,nq=()=>sr.getActiveToasts(),Vt=Object.assign(eq,{success:sr.success,info:sr.info,warning:sr.warning,error:sr.error,custom:sr.custom,message:sr.message,promise:sr.promise,dismiss:sr.dismiss,loading:sr.loading},{getHistory:tq,getToasts:nq});BH("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function _f(t){return t.label!==void 0}const rq=3,sq="24px",iq="16px",u1=4e3,oq=356,aq=14,lq=45,cq=200;function Is(...t){return t.filter(Boolean).join(" ")}function uq(t){const[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}const dq=t=>{var e,n,r,s,o,l,c,d,h;const{invert:m,toast:g,unstyled:w,interacting:E,setHeights:S,visibleToasts:T,heights:k,index:P,toasts:R,expanded:M,removeToast:j,defaultRichColors:B,closeButton:K,style:D,cancelButtonStyle:C,actionButtonStyle:V,className:L="",descriptionClassName:F="",duration:$,position:N,gap:se,expandByDefault:ie,classNames:ee,icons:te,closeButtonAriaLabel:z="Close toast"}=t,[oe,le]=me.useState(null),[W,X]=me.useState(null),[ne,fe]=me.useState(!1),[Ee,we]=me.useState(!1),[ue,xe]=me.useState(!1),[Re,Pe]=me.useState(!1),[Ue,$e]=me.useState(!1),[vt,Dt]=me.useState(0),[Wn,Hn]=me.useState(0),pn=me.useRef(g.duration||$||u1),ei=me.useRef(null),Ft=me.useRef(null),Ur=P===0,Br=P+1<=T,Jt=g.type,cr=g.dismissible!==!1,Vi=g.className||"",qo=g.descriptionClassName||"",wt=me.useMemo(()=>k.findIndex(Ne=>Ne.toastId===g.id)||0,[k,g.id]),Ut=me.useMemo(()=>{var Ne;return(Ne=g.closeButton)!=null?Ne:K},[g.closeButton,K]),Tr=me.useMemo(()=>g.duration||$||u1,[g.duration,$]),ti=me.useRef(0),Mn=me.useRef(0),gs=me.useRef(0),qn=me.useRef(null),[Ko,Go]=N.split("-"),Li=me.useMemo(()=>k.reduce((Ne,_t,xt)=>xt>=wt?Ne:Ne+_t.height,0),[k,wt]),ji=QH(),Yo=g.invert||m,$r=Jt==="loading";Mn.current=me.useMemo(()=>wt*se+Li,[wt,Li]),me.useEffect(()=>{pn.current=Tr},[Tr]),me.useEffect(()=>{fe(!0)},[]),me.useEffect(()=>{const Ne=Ft.current;if(Ne){const _t=Ne.getBoundingClientRect().height;return Hn(_t),S(xt=>[{toastId:g.id,height:_t,position:g.position},...xt]),()=>S(xt=>xt.filter(Zt=>Zt.toastId!==g.id))}},[S,g.id]),me.useLayoutEffect(()=>{if(!ne)return;const Ne=Ft.current,_t=Ne.style.height;Ne.style.height="auto";const xt=Ne.getBoundingClientRect().height;Ne.style.height=_t,Hn(xt),S(Zt=>Zt.find(St=>St.toastId===g.id)?Zt.map(St=>St.toastId===g.id?{...St,height:xt}:St):[{toastId:g.id,height:xt,position:g.position},...Zt])},[ne,g.title,g.description,S,g.id,g.jsx,g.action,g.cancel]);const On=me.useCallback(()=>{we(!0),Dt(Mn.current),S(Ne=>Ne.filter(_t=>_t.toastId!==g.id)),setTimeout(()=>{j(g)},cq)},[g,j,S,Mn]);me.useEffect(()=>{if(g.promise&&Jt==="loading"||g.duration===1/0||g.type==="loading")return;let Ne;return M||E||ji?(()=>{if(gs.current<ti.current){const Zt=new Date().getTime()-ti.current;pn.current=pn.current-Zt}gs.current=new Date().getTime()})():(()=>{pn.current!==1/0&&(ti.current=new Date().getTime(),Ne=setTimeout(()=>{g.onAutoClose==null||g.onAutoClose.call(g,g),On()},pn.current))})(),()=>clearTimeout(Ne)},[M,E,g,Jt,ji,On]),me.useEffect(()=>{g.delete&&(On(),g.onDismiss==null||g.onDismiss.call(g,g))},[On,g.delete]);function Fi(){var Ne;if(te!=null&&te.loading){var _t;return me.createElement("div",{className:Is(ee==null?void 0:ee.loader,g==null||(_t=g.classNames)==null?void 0:_t.loader,"sonner-loader"),"data-visible":Jt==="loading"},te.loading)}return me.createElement(WH,{className:Is(ee==null?void 0:ee.loader,g==null||(Ne=g.classNames)==null?void 0:Ne.loader),visible:Jt==="loading"})}const Kn=g.icon||(te==null?void 0:te[Jt])||$H(Jt);var ur,ni;return me.createElement("li",{tabIndex:0,ref:Ft,className:Is(L,Vi,ee==null?void 0:ee.toast,g==null||(e=g.classNames)==null?void 0:e.toast,ee==null?void 0:ee.default,ee==null?void 0:ee[Jt],g==null||(n=g.classNames)==null?void 0:n[Jt]),"data-sonner-toast":"","data-rich-colors":(ur=g.richColors)!=null?ur:B,"data-styled":!(g.jsx||g.unstyled||w),"data-mounted":ne,"data-promise":!!g.promise,"data-swiped":Ue,"data-removed":Ee,"data-visible":Br,"data-y-position":Ko,"data-x-position":Go,"data-index":P,"data-front":Ur,"data-swiping":ue,"data-dismissible":cr,"data-type":Jt,"data-invert":Yo,"data-swipe-out":Re,"data-swipe-direction":W,"data-expanded":!!(M||ie&&ne),style:{"--index":P,"--toasts-before":P,"--z-index":R.length-P,"--offset":`${Ee?vt:Mn.current}px`,"--initial-height":ie?"auto":`${Wn}px`,...D,...g.style},onDragEnd:()=>{xe(!1),le(null),qn.current=null},onPointerDown:Ne=>{Ne.button!==2&&($r||!cr||(ei.current=new Date,Dt(Mn.current),Ne.target.setPointerCapture(Ne.pointerId),Ne.target.tagName!=="BUTTON"&&(xe(!0),qn.current={x:Ne.clientX,y:Ne.clientY})))},onPointerUp:()=>{var Ne,_t,xt;if(Re||!cr)return;qn.current=null;const Zt=Number(((Ne=Ft.current)==null?void 0:Ne.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Gn=Number(((_t=Ft.current)==null?void 0:_t.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),St=new Date().getTime()-((xt=ei.current)==null?void 0:xt.getTime()),Qe=oe==="x"?Zt:Gn,zr=Math.abs(Qe)/St;if(Math.abs(Qe)>=lq||zr>.11){Dt(Mn.current),g.onDismiss==null||g.onDismiss.call(g,g),X(oe==="x"?Zt>0?"right":"left":Gn>0?"down":"up"),On(),Pe(!0);return}else{var kt,en;(kt=Ft.current)==null||kt.style.setProperty("--swipe-amount-x","0px"),(en=Ft.current)==null||en.style.setProperty("--swipe-amount-y","0px")}$e(!1),xe(!1),le(null)},onPointerMove:Ne=>{var _t,xt,Zt;if(!qn.current||!cr||((_t=window.getSelection())==null?void 0:_t.toString().length)>0)return;const St=Ne.clientY-qn.current.y,Qe=Ne.clientX-qn.current.x;var zr;const kt=(zr=t.swipeDirections)!=null?zr:uq(N);!oe&&(Math.abs(Qe)>1||Math.abs(St)>1)&&le(Math.abs(Qe)>Math.abs(St)?"x":"y");let en={x:0,y:0};const ys=Yn=>1/(1.5+Math.abs(Yn)/20);if(oe==="y"){if(kt.includes("top")||kt.includes("bottom"))if(kt.includes("top")&&St<0||kt.includes("bottom")&&St>0)en.y=St;else{const Yn=St*ys(St);en.y=Math.abs(Yn)<Math.abs(St)?Yn:St}}else if(oe==="x"&&(kt.includes("left")||kt.includes("right")))if(kt.includes("left")&&Qe<0||kt.includes("right")&&Qe>0)en.x=Qe;else{const Yn=Qe*ys(Qe);en.x=Math.abs(Yn)<Math.abs(Qe)?Yn:Qe}(Math.abs(en.x)>0||Math.abs(en.y)>0)&&$e(!0),(xt=Ft.current)==null||xt.style.setProperty("--swipe-amount-x",`${en.x}px`),(Zt=Ft.current)==null||Zt.style.setProperty("--swipe-amount-y",`${en.y}px`)}},Ut&&!g.jsx&&Jt!=="loading"?me.createElement("button",{"aria-label":z,"data-disabled":$r,"data-close-button":!0,onClick:$r||!cr?()=>{}:()=>{On(),g.onDismiss==null||g.onDismiss.call(g,g)},className:Is(ee==null?void 0:ee.closeButton,g==null||(r=g.classNames)==null?void 0:r.closeButton)},(ni=te==null?void 0:te.close)!=null?ni:YH):null,(Jt||g.icon||g.promise)&&g.icon!==null&&((te==null?void 0:te[Jt])!==null||g.icon)?me.createElement("div",{"data-icon":"",className:Is(ee==null?void 0:ee.icon,g==null||(s=g.classNames)==null?void 0:s.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||Fi():null,g.type!=="loading"?Kn:null):null,me.createElement("div",{"data-content":"",className:Is(ee==null?void 0:ee.content,g==null||(o=g.classNames)==null?void 0:o.content)},me.createElement("div",{"data-title":"",className:Is(ee==null?void 0:ee.title,g==null||(l=g.classNames)==null?void 0:l.title)},g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title),g.description?me.createElement("div",{"data-description":"",className:Is(F,qo,ee==null?void 0:ee.description,g==null||(c=g.classNames)==null?void 0:c.description)},typeof g.description=="function"?g.description():g.description):null),me.isValidElement(g.cancel)?g.cancel:g.cancel&&_f(g.cancel)?me.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||C,onClick:Ne=>{_f(g.cancel)&&cr&&(g.cancel.onClick==null||g.cancel.onClick.call(g.cancel,Ne),On())},className:Is(ee==null?void 0:ee.cancelButton,g==null||(d=g.classNames)==null?void 0:d.cancelButton)},g.cancel.label):null,me.isValidElement(g.action)?g.action:g.action&&_f(g.action)?me.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||V,onClick:Ne=>{_f(g.action)&&(g.action.onClick==null||g.action.onClick.call(g.action,Ne),!Ne.defaultPrevented&&On())},className:Is(ee==null?void 0:ee.actionButton,g==null||(h=g.classNames)==null?void 0:h.actionButton)},g.action.label):null)};function d1(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function hq(t,e){const n={};return[t,e].forEach((r,s)=>{const o=s===1,l=o?"--mobile-offset":"--offset",c=o?iq:sq;function d(h){["top","right","bottom","left"].forEach(m=>{n[`${l}-${m}`]=typeof h=="number"?`${h}px`:h})}typeof r=="number"||typeof r=="string"?d(r):typeof r=="object"?["top","right","bottom","left"].forEach(h=>{r[h]===void 0?n[`${l}-${h}`]=c:n[`${l}-${h}`]=typeof r[h]=="number"?`${r[h]}px`:r[h]}):d(c)}),n}const fq=me.forwardRef(function(e,n){const{invert:r,position:s="bottom-right",hotkey:o=["altKey","KeyT"],expand:l,closeButton:c,className:d,offset:h,mobileOffset:m,theme:g="light",richColors:w,duration:E,style:S,visibleToasts:T=rq,toastOptions:k,dir:P=d1(),gap:R=aq,icons:M,containerAriaLabel:j="Notifications"}=e,[B,K]=me.useState([]),D=me.useMemo(()=>Array.from(new Set([s].concat(B.filter(W=>W.position).map(W=>W.position)))),[B,s]),[C,V]=me.useState([]),[L,F]=me.useState(!1),[$,N]=me.useState(!1),[se,ie]=me.useState(g!=="system"?g:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ee=me.useRef(null),te=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),z=me.useRef(null),oe=me.useRef(!1),le=me.useCallback(W=>{K(X=>{var ne;return(ne=X.find(fe=>fe.id===W.id))!=null&&ne.delete||sr.dismiss(W.id),X.filter(({id:fe})=>fe!==W.id)})},[]);return me.useEffect(()=>sr.subscribe(W=>{if(W.dismiss){requestAnimationFrame(()=>{K(X=>X.map(ne=>ne.id===W.id?{...ne,delete:!0}:ne))});return}setTimeout(()=>{U1.flushSync(()=>{K(X=>{const ne=X.findIndex(fe=>fe.id===W.id);return ne!==-1?[...X.slice(0,ne),{...X[ne],...W},...X.slice(ne+1)]:[W,...X]})})})}),[B]),me.useEffect(()=>{if(g!=="system"){ie(g);return}if(g==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ie("dark"):ie("light")),typeof window>"u")return;const W=window.matchMedia("(prefers-color-scheme: dark)");try{W.addEventListener("change",({matches:X})=>{ie(X?"dark":"light")})}catch{W.addListener(({matches:ne})=>{try{ie(ne?"dark":"light")}catch(fe){console.error(fe)}})}},[g]),me.useEffect(()=>{B.length<=1&&F(!1)},[B]),me.useEffect(()=>{const W=X=>{var ne;if(o.every(we=>X[we]||X.code===we)){var Ee;F(!0),(Ee=ee.current)==null||Ee.focus()}X.code==="Escape"&&(document.activeElement===ee.current||(ne=ee.current)!=null&&ne.contains(document.activeElement))&&F(!1)};return document.addEventListener("keydown",W),()=>document.removeEventListener("keydown",W)},[o]),me.useEffect(()=>{if(ee.current)return()=>{z.current&&(z.current.focus({preventScroll:!0}),z.current=null,oe.current=!1)}},[ee.current]),me.createElement("section",{ref:n,"aria-label":`${j} ${te}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},D.map((W,X)=>{var ne;const[fe,Ee]=W.split("-");return B.length?me.createElement("ol",{key:W,dir:P==="auto"?d1():P,tabIndex:-1,ref:ee,className:d,"data-sonner-toaster":!0,"data-sonner-theme":se,"data-y-position":fe,"data-x-position":Ee,style:{"--front-toast-height":`${((ne=C[0])==null?void 0:ne.height)||0}px`,"--width":`${oq}px`,"--gap":`${R}px`,...S,...hq(h,m)},onBlur:we=>{oe.current&&!we.currentTarget.contains(we.relatedTarget)&&(oe.current=!1,z.current&&(z.current.focus({preventScroll:!0}),z.current=null))},onFocus:we=>{we.target instanceof HTMLElement&&we.target.dataset.dismissible==="false"||oe.current||(oe.current=!0,z.current=we.relatedTarget)},onMouseEnter:()=>F(!0),onMouseMove:()=>F(!0),onMouseLeave:()=>{$||F(!1)},onDragEnd:()=>F(!1),onPointerDown:we=>{we.target instanceof HTMLElement&&we.target.dataset.dismissible==="false"||N(!0)},onPointerUp:()=>N(!1)},B.filter(we=>!we.position&&X===0||we.position===W).map((we,ue)=>{var xe,Re;return me.createElement(dq,{key:we.id,icons:M,index:ue,toast:we,defaultRichColors:w,duration:(xe=k==null?void 0:k.duration)!=null?xe:E,className:k==null?void 0:k.className,descriptionClassName:k==null?void 0:k.descriptionClassName,invert:r,visibleToasts:T,closeButton:(Re=k==null?void 0:k.closeButton)!=null?Re:c,interacting:$,position:W,style:k==null?void 0:k.style,unstyled:k==null?void 0:k.unstyled,classNames:k==null?void 0:k.classNames,cancelButtonStyle:k==null?void 0:k.cancelButtonStyle,actionButtonStyle:k==null?void 0:k.actionButtonStyle,closeButtonAriaLabel:k==null?void 0:k.closeButtonAriaLabel,removeToast:le,toasts:B.filter(Pe=>Pe.position==we.position),heights:C.filter(Pe=>Pe.position==we.position),setHeights:V,expandByDefault:l,gap:R,expanded:L,swipeDirections:e.swipeDirections})})):null}))});function pq({event:t,sessionId:e,onClose:n}){const[r,s]=b.useState({rating_profile_setup:"",rating_interests_helpful:"",rating_social_usefulness:"",met_match_in_person:"",open_to_other_event_types:"",match_experience_feedback:"",general_feedback:""}),[o,l]=b.useState(!1),[c,d]=b.useState({}),h=(E,S)=>{s(T=>({...T,[E]:S})),c[E]&&d(T=>({...T,[E]:null}))},m=()=>{const E={};return r.rating_profile_setup||(E.rating_profile_setup="Please rate the profile setup experience."),r.rating_interests_helpful||(E.rating_interests_helpful="Please rate how helpful interests were."),r.rating_social_usefulness||(E.rating_social_usefulness="Please rate the social interaction experience."),r.met_match_in_person||(E.met_match_in_person="Please let us know if you met someone in person."),r.open_to_other_event_types||(E.open_to_other_event_types="Please let us know about future event interest."),r.match_experience_feedback.trim()||(E.match_experience_feedback="Please share what we could improve."),d(E),Object.keys(E).length===0},g=async E=>{if(E.preventDefault(),!m()){Vt.error("Please complete all required fields.");return}l(!0);try{await iU.create({event_id:t.id,session_id:e,rating_profile_setup:parseInt(r.rating_profile_setup),rating_interests_helpful:parseInt(r.rating_interests_helpful),rating_social_usefulness:parseInt(r.rating_social_usefulness),met_match_in_person:r.met_match_in_person==="true",open_to_other_event_types:r.open_to_other_event_types==="true",match_experience_feedback:r.match_experience_feedback.trim(),general_feedback:r.general_feedback.trim()||null}),localStorage.setItem(`feedback_given_for_${t.id}`,"true"),Vt.success("Thanks for your feedback 💘"),n()}catch(S){console.error("Error submitting feedback:",S),Vt.error("Failed to submit feedback. Please try again.")}finally{l(!1)}},w=({value:E,onChange:S,error:T})=>y.jsxs("div",{className:"flex gap-1",children:[[1,2,3,4,5].map(k=>y.jsx("button",{type:"button",onClick:()=>S(k.toString()),className:`p-1 transition-colors ${parseInt(E)>=k?"text-yellow-500 hover:text-yellow-600":"text-gray-300 dark:text-gray-600 hover:text-yellow-400"}`,children:y.jsx(bO,{className:`w-6 h-6 ${parseInt(E)>=k?"fill-current":""}`})},k)),T&&y.jsx("p",{className:"text-red-500 dark:text-red-400 text-xs ml-2 mt-1",children:T})]});return y.jsx(Od,{children:y.jsx(Gs.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/70 dark:bg-black/80 backdrop-blur-sm p-4",children:y.jsxs(Gs.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"w-full max-w-md bg-white dark:bg-gray-900 rounded-2xl shadow-2xl max-h-[90vh] overflow-y-auto",children:[y.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full flex items-center justify-center",children:y.jsx(ko,{className:"w-6 h-6 text-white"})}),y.jsx("button",{onClick:n,className:"p-2 text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700",children:y.jsx(zn,{className:"w-5 h-5"})})]}),y.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:["Enjoyed Hooked at ",t.name,"? 💘"]}),y.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Help us make the next one even better — takes 1 minute!"})]}),y.jsxs("form",{onSubmit:g,className:"p-6 space-y-6",children:[y.jsxs("div",{children:[y.jsx(or,{className:"text-gray-700 dark:text-gray-200 mb-2 block",children:"How easy was it to set up your profile? *"}),y.jsx(w,{value:r.rating_profile_setup,onChange:E=>h("rating_profile_setup",E),error:c.rating_profile_setup})]}),y.jsxs("div",{children:[y.jsx(or,{className:"text-gray-700 dark:text-gray-200 mb-2 block",children:"How helpful were profile interests in choosing who to like? *"}),y.jsx(w,{value:r.rating_interests_helpful,onChange:E=>h("rating_interests_helpful",E),error:c.rating_interests_helpful})]}),y.jsxs("div",{children:[y.jsx(or,{className:"text-gray-700 dark:text-gray-200 mb-2 block",children:"How easy was it to interact with others? *"}),y.jsx(w,{value:r.rating_social_usefulness,onChange:E=>h("rating_social_usefulness",E),error:c.rating_social_usefulness})]}),y.jsxs("div",{children:[y.jsx(or,{className:"text-gray-700 dark:text-gray-200 mb-2 block",children:"Did you meet up with a match? *"}),y.jsxs(l1,{value:r.met_match_in_person,onValueChange:E=>h("met_match_in_person",E),children:[y.jsx(e0,{className:"bg-white dark:bg-gray-800 text-gray-900 dark:text-white border-gray-300 dark:border-gray-600",children:y.jsx(c1,{placeholder:"Select an option"})}),y.jsxs(t0,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-600",children:[y.jsx(Ru,{value:"true",className:"text-gray-900 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700",children:"Yes"}),y.jsx(Ru,{value:"false",className:"text-gray-900 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700",children:"No"})]})]}),c.met_match_in_person&&y.jsx("p",{className:"text-red-500 dark:text-red-400 text-xs mt-1",children:c.met_match_in_person})]}),y.jsxs("div",{children:[y.jsx(or,{className:"text-gray-700 dark:text-gray-200 mb-2 block",children:"Would you use Hooked at other event types? *"}),y.jsxs(l1,{value:r.open_to_other_event_types,onValueChange:E=>h("open_to_other_event_types",E),children:[y.jsx(e0,{className:"bg-white dark:bg-gray-800 text-gray-900 dark:text-white border-gray-300 dark:border-gray-600",children:y.jsx(c1,{placeholder:"Select an option"})}),y.jsxs(t0,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-600",children:[y.jsx(Ru,{value:"true",className:"text-gray-900 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700",children:"Yes"}),y.jsx(Ru,{value:"false",className:"text-gray-900 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700",children:"No"})]})]}),c.open_to_other_event_types&&y.jsx("p",{className:"text-red-500 dark:text-red-400 text-xs mt-1",children:c.open_to_other_event_types})]}),y.jsxs("div",{children:[y.jsx(or,{className:"text-gray-700 dark:text-gray-200 mb-2 block",children:"What would you improve? *"}),y.jsx(pp,{value:r.match_experience_feedback,onChange:E=>h("match_experience_feedback",E.target.value),placeholder:"Tell us what could make the experience better...",className:"h-20 bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder:text-gray-400 dark:placeholder:text-gray-400 border-gray-300 dark:border-gray-600"}),c.match_experience_feedback&&y.jsx("p",{className:"text-red-500 dark:text-red-400 text-xs mt-1",children:c.match_experience_feedback})]}),y.jsxs("div",{children:[y.jsx(or,{className:"text-gray-700 dark:text-gray-200 mb-2 block",children:"Other feedback?"}),y.jsx(pp,{value:r.general_feedback,onChange:E=>h("general_feedback",E.target.value),placeholder:"Anything else you'd like to share...",className:"h-20 bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder:text-gray-400 dark:placeholder:text-gray-400 border-gray-300 dark:border-gray-600"})]}),y.jsx(He,{type:"submit",disabled:o,className:"w-full bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700 text-white rounded-xl py-3",children:o?y.jsxs("div",{className:"flex items-center justify-center",children:[y.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Submitting..."]}):"Submit Feedback"})]})]})})})}var mq=(t,e,n,r,s,o,l,c)=>{let d=document.documentElement,h=["light","dark"];function m(E){(Array.isArray(t)?t:[t]).forEach(S=>{let T=S==="class",k=T&&o?s.map(P=>o[P]||P):s;T?(d.classList.remove(...k),d.classList.add(o&&o[E]?o[E]:E)):d.setAttribute(S,E)}),g(E)}function g(E){c&&h.includes(E)&&(d.style.colorScheme=E)}function w(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)m(r);else try{let E=localStorage.getItem(e)||n,S=l&&E==="system"?w():E;m(S)}catch{}},gq=b.createContext(void 0),yq={setTheme:t=>{},themes:[]},vq=()=>{var t;return(t=b.useContext(gq))!=null?t:yq};b.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:o,value:l,themes:c,nonce:d,scriptProps:h})=>{let m=JSON.stringify([n,e,o,t,c,l,r,s]).slice(1,-1);return b.createElement("script",{...h,suppressHydrationWarning:!0,nonce:typeof window>"u"?d:"",dangerouslySetInnerHTML:{__html:`(${mq.toString()})(${m})`}})});const wq=({...t})=>{const{theme:e="system"}=vq();return y.jsx(fq,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};function _q({children:t,currentPageName:e}){const n=Mi(),r=Xs(),[s,o]=b.useState(!!(localStorage.getItem("currentEventId")&&localStorage.getItem("currentSessionId"))),[l,c]=b.useState(!1),[d,h]=b.useState(!1),[m,g]=b.useState(!1),[w,E]=b.useState({name:"",profileId:""}),[S,T]=b.useState(new Set),[k,P]=b.useState(!1),[R,M]=b.useState({name:"",senderSessionId:""}),[j,B]=b.useState(new Set),[K,D]=b.useState(!1),[C,V]=b.useState(null),[L,F]=b.useState(null),$=b.useCallback(async()=>{try{const ie=localStorage.getItem("currentEventId")||localStorage.getItem("last_event_id"),ee=localStorage.getItem("currentSessionId")||localStorage.getItem("last_session_id");if(!ie||!ee||localStorage.getItem(`feedback_given_for_${ie}`))return;const z=await ja.filter({id:ie});if(z.length===0)return;const oe=z[0],le=new Date().toISOString();oe.expires_at&&le>oe.expires_at&&(V(oe),F(ee),D(!0),localStorage.setItem("last_event_id",ie),localStorage.setItem("last_session_id",ee))}catch(ie){console.error("Error checking feedback eligibility:",ie)}},[]);b.useEffect(()=>{$()},[$]);const N=async()=>{const ie=localStorage.getItem("currentEventId"),ee=localStorage.getItem("currentSessionId");if(!ie||!ee){r(tt("Home")),$();return}try{const te=await ja.filter({id:ie});if(te.length>0){const z=te[0],oe=new Date().toISOString();if(z.starts_at&&z.expires_at&&oe>=z.starts_at&&oe<=z.expires_at){r(tt("Discovery"));return}}ie&&ee&&(localStorage.setItem("last_event_id",ie),localStorage.setItem("last_session_id",ee)),localStorage.removeItem("currentEventId"),localStorage.removeItem("currentSessionId"),localStorage.removeItem("currentEventCode"),localStorage.removeItem("currentProfileColor"),localStorage.removeItem("currentProfilePhotoUrl"),r(tt("Home")),$()}catch(te){console.error("Error checking event status:",te),ie&&ee&&(localStorage.setItem("last_event_id",ie),localStorage.setItem("last_session_id",ee)),localStorage.removeItem("currentEventId"),localStorage.removeItem("currentSessionId"),localStorage.removeItem("currentEventCode"),localStorage.removeItem("currentProfileColor"),localStorage.removeItem("currentProfilePhotoUrl"),r(tt("Home")),$()}},se=b.useCallback(async()=>{const ie=localStorage.getItem("currentEventId"),ee=localStorage.getItem("currentSessionId"),te=!!(ie&&ee);if(o(te),!te){c(!1),h(!1),g(!1),P(!1),T(new Set),B(new Set);return}try{const z=await _r.filter({liker_session_id:ee,event_id:ie,is_mutual:!0}),oe=await _r.filter({liked_session_id:ee,event_id:ie,is_mutual:!0});let le=!1,W=null;if([...z,...oe].forEach(ne=>{const fe=ne.liker_session_id===ee;(fe&&!ne.liker_notified_of_match||!fe&&!ne.liked_notified_of_match)&&(le=!0,!W&&!S.has(ne.id)&&(W={...ne,otherUserSessionId:fe?ne.liked_session_id:ne.liker_session_id,type:fe?"liker":"liked"}))}),c(le),W&&!m){const ne=await cs.filter({session_id:W.otherUserSessionId,event_id:ie});if(ne.length>0){E({name:ne[0].first_name,profileId:ne[0].id}),g(!0),T(Ee=>new Set([...Ee,W.id]));const fe={};W.type==="liker"?fe.liker_notified_of_match=!0:fe.liked_notified_of_match=!0,await _r.update(W.id,fe)}}const X=await zl.filter({receiver_session_id:ee,event_id:ie,is_read:!1});if(h(X.length>0),X.length>0&&!k){const ne=X.sort((fe,Ee)=>new Date(Ee.created_date)-new Date(fe.created_date))[0];if(!j.has(ne.id)){const fe=await cs.filter({session_id:ne.sender_session_id,event_id:ie});fe.length>0&&(M({name:fe[0].first_name,senderSessionId:ne.sender_session_id}),P(!0),B(Ee=>new Set([...Ee,ne.id])))}}}catch(z){console.error("Error checking notifications:",z)}},[S,m,j,k]);return b.useEffect(()=>{se();const ie=setInterval(se,45e3);return()=>clearInterval(ie)},[se]),b.useEffect(()=>{se()},[n.pathname,se]),y.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900",children:[y.jsx(wq,{position:"bottom-center",expand:!1,visibleToasts:1,closeButton:!1,duration:3e3,toastOptions:{style:{background:"var(--toast-bg)",color:"var(--toast-color)",border:"1px solid var(--toast-border)",borderRadius:"0.5rem",padding:"1rem",fontSize:"0.875rem",fontWeight:"500",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)"}}}),y.jsx("style",{children:`
        :root {
          --primary: #1a1d29;
          --accent: #ff6b6b;
          --secondary: #4f46e5;
          --muted: #64748b;
          --background: #ffffff;
          --card: #ffffff;
          --toast-bg: #ffffff;
          --toast-color: #000000;
          --toast-border: rgba(0, 0, 0, 0.1);
        }

        @media (prefers-color-scheme: dark) {
          :root {
            --background: #111827;
            --card: #1f2937;
            --primary: #ffffff;
            --muted: #94a3b8;
            --toast-bg: #1f2937;
            --toast-color: #ffffff;
            --toast-border: rgba(255, 255, 255, 0.15);
          }
        }

        body {
          font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
          background: var(--background);
          color: var(--primary);
        }

        .glass-effect {
          background: rgba(255, 255, 255, 0.9);
          backdrop-filter: blur(20px);
          border: 1px solid rgba(255, 255, 255, 0.2);
        }

        @media (prefers-color-scheme: dark) {
          .glass-effect {
            background: rgba(31, 41, 55, 0.9);
            border: 1px solid rgba(255, 255, 255, 0.1);
          }
        }

        .gradient-text {
          background: linear-gradient(135deg, var(--accent) 0%, var(--secondary) 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }

        /* Modal overlay improvements */
        [data-radix-popper-content-wrapper],
        [data-state="open"][data-side] {
          z-index: 50;
        }

        /* Dark mode modal backgrounds */
        @media (prefers-color-scheme: dark) {
          .modal-content {
            background-color: #1f2937 !important;
            border-color: #374151 !important;
            color: #ffffff !important;
          }

          .modal-overlay {
            background-color: rgba(0, 0, 0, 0.7) !important;
          }
        }

        .modal-content {
          background-color: #ffffff;
          border: 1px solid #e5e7eb;
          border-radius: 16px;
          box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
        }

        .modal-overlay {
          background-color: rgba(0, 0, 0, 0.4);
        }

        /* Enhanced Toaster Styles */
        [data-sonner-toast] {
          background-color: var(--toast-bg) !important;
          color: var(--toast-color) !important;
          border: 1px solid var(--toast-border) !important;
          border-radius: 0.5rem !important;
          padding: 1rem !important;
          font-size: 0.875rem !important;
          font-weight: 500 !important;
          box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1) !important;
          backdrop-filter: none !important;
        }

        [data-sonner-toast]:not([data-styled]) {
          background-color: var(--toast-bg) !important;
          color: var(--toast-color) !important;
        }

        /* Toaster container */
        [data-sonner-toaster] {
          max-width: 90vw;
        }

        [data-sonner-toast] [data-content] {
          color: var(--toast-color) !important;
        }

        [data-sonner-toast] [data-title] {
          color: var(--toast-color) !important;
          font-weight: 600 !important;
        }

        [data-sonner-toast] [data-description] {
          color: var(--toast-color) !important;
          opacity: 0.8;
        }
      `}),(e==="Home"||e==="join")&&y.jsx("header",{className:"glass-effect border-b border-white/20 dark:border-gray-700 sticky top-0 z-40 bg-white/90 dark:bg-gray-900/90 backdrop-blur-sm",children:y.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:y.jsx("div",{className:"flex items-center justify-center",children:y.jsxs("button",{onClick:N,className:"flex items-center gap-2 hover:opacity-80 transition-opacity",children:[y.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full flex items-center justify-center",children:y.jsx(ko,{className:"w-4 h-4 text-white"})}),y.jsx("span",{className:"font-semibold text-lg gradient-text",children:"Hooked"})]})})})}),y.jsx("main",{className:"relative",children:t}),y.jsxs(Od,{children:[m&&y.jsx(kz,{matchName:w.name,onDismiss:()=>{g(!1)},onSeeMatches:()=>{g(!1),r(tt("Matches"))}}),k&&y.jsx(Iz,{senderName:R.name,senderSessionId:R.senderSessionId,onDismiss:()=>P(!1),onView:()=>{P(!1)}}),K&&C&&L&&y.jsx(pq,{event:C,sessionId:L,onClose:()=>D(!1)})]})]})}function xq(t,e){return b.useReducer((n,r)=>e[n][r]??n,t)}var lm=t=>{const{present:e,children:n}=t,r=bq(e),s=typeof n=="function"?n({present:r.isPresent}):b.Children.only(n),o=ct(r.ref,Eq(s));return typeof n=="function"||r.isPresent?b.cloneElement(s,{ref:o}):null};lm.displayName="Presence";function bq(t){const[e,n]=b.useState(),r=b.useRef(null),s=b.useRef(t),o=b.useRef("none"),l=t?"mounted":"unmounted",[c,d]=xq(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const h=xf(r.current);o.current=c==="mounted"?h:"none"},[c]),Dn(()=>{const h=r.current,m=s.current;if(m!==t){const w=o.current,E=xf(h);t?d("MOUNT"):E==="none"||(h==null?void 0:h.display)==="none"?d("UNMOUNT"):d(m&&w!==E?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,d]),Dn(()=>{if(e){let h;const m=e.ownerDocument.defaultView??window,g=E=>{const T=xf(r.current).includes(E.animationName);if(E.target===e&&T&&(d("ANIMATION_END"),!s.current)){const k=e.style.animationFillMode;e.style.animationFillMode="forwards",h=m.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=k)})}},w=E=>{E.target===e&&(o.current=xf(r.current))};return e.addEventListener("animationstart",w),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{m.clearTimeout(h),e.removeEventListener("animationstart",w),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else d("ANIMATION_END")},[e,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:b.useCallback(h=>{r.current=h?getComputedStyle(h):null,n(h)},[])}}function xf(t){return(t==null?void 0:t.animationName)||"none"}function Eq(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var cm="Dialog",[GR,qG]=Ac(cm),[Tq,ps]=GR(cm),YR=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:l=!0}=t,c=b.useRef(null),d=b.useRef(null),[h,m]=fd({prop:r,defaultProp:s??!1,onChange:o,caller:cm});return y.jsx(Tq,{scope:e,triggerRef:c,contentRef:d,contentId:tc(),titleId:tc(),descriptionId:tc(),open:h,onOpenChange:m,onOpenToggle:b.useCallback(()=>m(g=>!g),[m]),modal:l,children:n})};YR.displayName=cm;var QR="DialogTrigger",Sq=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ps(QR,n),o=ct(e,s.triggerRef);return y.jsx(Ze.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":y_(s.open),...r,ref:o,onClick:st(t.onClick,s.onOpenToggle)})});Sq.displayName=QR;var m_="DialogPortal",[kq,XR]=GR(m_,{forceMount:void 0}),JR=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,o=ps(m_,e);return y.jsx(kq,{scope:e,forceMount:n,children:b.Children.map(r,l=>y.jsx(lm,{present:n||o.open,children:y.jsx(d_,{asChild:!0,container:s,children:l})}))})};JR.displayName=m_;var xp="DialogOverlay",ZR=b.forwardRef((t,e)=>{const n=XR(xp,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=ps(xp,t.__scopeDialog);return o.modal?y.jsx(lm,{present:r||o.open,children:y.jsx(Cq,{...s,ref:e})}):null});ZR.displayName=xp;var Iq=dc("DialogOverlay.RemoveScroll"),Cq=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ps(xp,n);return y.jsx(f_,{as:Iq,allowPinchZoom:!0,shards:[s.contentRef],children:y.jsx(Ze.div,{"data-state":y_(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),za="DialogContent",eN=b.forwardRef((t,e)=>{const n=XR(za,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=ps(za,t.__scopeDialog);return y.jsx(lm,{present:r||o.open,children:o.modal?y.jsx(Pq,{...s,ref:e}):y.jsx(Aq,{...s,ref:e})})});eN.displayName=za;var Pq=b.forwardRef((t,e)=>{const n=ps(za,t.__scopeDialog),r=b.useRef(null),s=ct(e,n.contentRef,r);return b.useEffect(()=>{const o=r.current;if(o)return rR(o)},[]),y.jsx(tN,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:st(t.onCloseAutoFocus,o=>{var l;o.preventDefault(),(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:st(t.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&o.preventDefault()}),onFocusOutside:st(t.onFocusOutside,o=>o.preventDefault())})}),Aq=b.forwardRef((t,e)=>{const n=ps(za,t.__scopeDialog),r=b.useRef(!1),s=b.useRef(!1);return y.jsx(tN,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var l,c;(l=t.onCloseAutoFocus)==null||l.call(t,o),o.defaultPrevented||(r.current||(c=n.triggerRef.current)==null||c.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var d,h;(d=t.onInteractOutside)==null||d.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=o.target;((h=n.triggerRef.current)==null?void 0:h.contains(l))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),tN=b.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...l}=t,c=ps(za,n),d=b.useRef(null),h=ct(e,d);return RA(),y.jsxs(y.Fragment,{children:[y.jsx(e_,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:y.jsx(Zw,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":y_(c.open),...l,ref:h,onDismiss:()=>c.onOpenChange(!1)})}),y.jsxs(y.Fragment,{children:[y.jsx(Rq,{titleId:c.titleId}),y.jsx(Dq,{contentRef:d,descriptionId:c.descriptionId})]})]})}),g_="DialogTitle",nN=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ps(g_,n);return y.jsx(Ze.h2,{id:s.titleId,...r,ref:e})});nN.displayName=g_;var rN="DialogDescription",sN=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ps(rN,n);return y.jsx(Ze.p,{id:s.descriptionId,...r,ref:e})});sN.displayName=rN;var iN="DialogClose",oN=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ps(iN,n);return y.jsx(Ze.button,{type:"button",...r,ref:e,onClick:st(t.onClick,()=>s.onOpenChange(!1))})});oN.displayName=iN;function y_(t){return t?"open":"closed"}var aN="DialogTitleWarning",[KG,lN]=Nz(aN,{contentName:za,titleName:g_,docsSlug:"dialog"}),Rq=({titleId:t})=>{const e=lN(aN),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return b.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Nq="DialogDescriptionWarning",Dq=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${lN(Nq).contentName}}.`;return b.useEffect(()=>{var o;const s=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},Mq=YR,Oq=JR,cN=ZR,uN=eN,dN=nN,hN=sN,Vq=oN;const um=Mq,Lq=Oq,fN=b.forwardRef(({className:t,...e},n)=>y.jsx(cN,{ref:n,className:it("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));fN.displayName=cN.displayName;const jq=b.forwardRef(({className:t,children:e,...n},r)=>y.jsxs(Lq,{children:[y.jsx(fN,{}),y.jsxs(uN,{ref:r,className:it("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,y.jsxs(Vq,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[y.jsx(zn,{className:"h-4 w-4"}),y.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));jq.displayName=uN.displayName;const dm=({className:t,...e})=>y.jsx("div",{className:it("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});dm.displayName="DialogHeader";const hm=b.forwardRef(({className:t,...e},n)=>y.jsx(dN,{ref:n,className:it("text-lg font-semibold leading-none tracking-tight",t),...e}));hm.displayName=dN.displayName;const Fq=b.forwardRef(({className:t,...e},n)=>y.jsx(hN,{ref:n,className:it("text-sm text-muted-foreground",t),...e}));Fq.displayName=hN.displayName;function Uq({onScan:t,onClose:e,onSwitchToManual:n}){const r=b.useRef(null),[s,o]=b.useState(!0),[l,c]=b.useState(null),[d,h]=b.useState(null),m=b.useRef(null),g=b.useCallback(()=>{m.current&&(clearInterval(m.current),m.current=null),d&&(d.getTracks().forEach(k=>k.stop()),h(null))},[d]),w=b.useCallback(async k=>{if(k)try{const P=new window.BarcodeDetector({formats:["qr_code"]});m.current=setInterval(async()=>{if(!k||k.readyState<2)return;const R=await P.detect(k);if(R.length>0){const M=R[0].rawValue;g(),Vt.success("Event found — joining now…"),t(M)}},500)}catch{c("QR scanning not supported on this browser. Please enter the code manually.")}},[t,g]),E=b.useCallback(async()=>{if(!("BarcodeDetector"in window)){c("QR scanning not supported on this browser. Please enter the code manually."),o(!1);return}try{o(!0),c(null);const k=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1280},height:{ideal:720}}});h(k),r.current&&(r.current.srcObject=k,await r.current.play(),w(r.current)),o(!1)}catch(k){k.name==="NotAllowedError"||k.name==="PermissionDeniedError"?c("Please allow camera access to scan codes."):c("Could not start camera. Try entering the code manually."),o(!1)}},[w]);b.useEffect(()=>(E(),()=>{g()}),[E,g]);const S=()=>{g(),e()},T=()=>{g(),n()};return y.jsx(um,{open:!0,onOpenChange:S,children:y.jsx("div",{className:"fixed inset-0 z-50 bg-black/40 dark:bg-black/70 flex items-center justify-center p-4 modal-overlay",children:y.jsxs("div",{className:"modal-content w-full max-w-sm bg-white dark:bg-gray-900 rounded-2xl overflow-hidden shadow-2xl",children:[y.jsx("div",{className:"absolute top-0 left-0 right-0 z-10 bg-gradient-to-b from-black/80 to-transparent p-4",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("h3",{className:"text-white flex items-center gap-2 font-semibold",children:[y.jsx(zy,{className:"w-5 h-5"}),"Scan Event QR Code"]}),y.jsx(He,{variant:"ghost",size:"icon",onClick:S,className:"text-white hover:bg-white/20 rounded-full",children:y.jsx(zn,{className:"w-5 h-5"})})]})}),y.jsxs("div",{className:"relative aspect-square bg-black",children:[s&&y.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:y.jsxs("div",{className:"text-white text-center",children:[y.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white mx-auto mb-2"}),y.jsx("p",{className:"text-sm",children:"Starting camera..."})]})}),l&&y.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center p-6 text-center",children:[y.jsx(zy,{className:"w-12 h-12 mx-auto mb-4 text-white opacity-50"}),y.jsx("p",{className:"text-white text-sm mb-4",children:l}),y.jsx(He,{variant:"outline",onClick:T,className:"text-white border-white hover:bg-white hover:text-black",children:"Enter Code Manually"})]}),y.jsx("video",{ref:r,playsInline:!0,muted:!0,className:`w-full h-full object-cover transition-opacity duration-300 ${s||l?"opacity-0":"opacity-100"}`}),!l&&y.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:y.jsxs("div",{className:"relative w-64 h-64",children:[y.jsx("div",{className:"absolute top-0 left-0 w-8 h-8 border-t-4 border-l-4 border-pink-500 rounded-tl-2xl"}),y.jsx("div",{className:"absolute top-0 right-0 w-8 h-8 border-t-4 border-r-4 border-pink-500 rounded-tr-2xl"}),y.jsx("div",{className:"absolute bottom-0 left-0 w-8 h-8 border-b-4 border-l-4 border-pink-500 rounded-bl-2xl"}),y.jsx("div",{className:"absolute bottom-0 right-0 w-8 h-8 border-b-4 border-r-4 border-pink-500 rounded-br-2xl"})]})})]}),y.jsx("div",{className:"bg-white dark:bg-gray-900 p-4 text-center",children:y.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Position the QR code inside the frame."})})]})})})}function Bq({onSubmit:t,onClose:e}){const[n,r]=b.useState(""),[s,o]=b.useState(!1),l=async c=>{c.preventDefault(),n.trim()&&(o(!0),await t(n.trim().toUpperCase()),o(!1))};return y.jsx(um,{open:!0,onOpenChange:e,children:y.jsx("div",{className:"fixed inset-0 z-50 bg-black/40 dark:bg-black/70 flex items-center justify-center p-4 modal-overlay",children:y.jsxs("div",{className:"modal-content w-full max-w-sm bg-white dark:bg-gray-900 rounded-2xl p-6 shadow-2xl",children:[y.jsxs(dm,{className:"text-center pb-6",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsx("div",{className:"flex-1"}),y.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-500 to-pink-600 rounded-2xl flex items-center justify-center",children:y.jsx(q1,{className:"w-8 h-8 text-white"})}),y.jsx("div",{className:"flex-1 flex justify-end",children:y.jsx(He,{variant:"ghost",size:"icon",onClick:e,className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300",children:y.jsx(zn,{className:"w-5 h-5"})})})]}),y.jsx(hm,{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Enter Event Code"}),y.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Enter the code provided by the event organizer"})]}),y.jsxs("form",{onSubmit:l,className:"space-y-6",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx(Vo,{type:"text",placeholder:"e.g., WED2025",value:n,onChange:c=>r(c.target.value.toUpperCase()),className:"text-center text-lg font-mono tracking-wider border-2 border-gray-200 dark:border-gray-600 focus:border-purple-400 dark:focus:border-purple-400 rounded-xl py-4 bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder:text-gray-400 dark:placeholder:text-gray-500",autoFocus:!0}),y.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 text-center",children:"Codes are usually 6-8 characters"})]}),y.jsxs("div",{className:"flex gap-3",children:[y.jsx(He,{type:"button",variant:"outline",onClick:e,className:"flex-1 rounded-xl py-3 border-gray-200 dark:border-gray-600 text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-800",children:"Cancel"}),y.jsx(He,{type:"submit",disabled:!n.trim()||s,className:"flex-1 bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700 text-white rounded-xl py-3",children:s?y.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):y.jsxs(y.Fragment,{children:["Join Event",y.jsx(m0,{className:"w-4 h-4 ml-2"})]})})]})]})]})})})}function r0(){const t=Xs(),[e,n]=b.useState(null),[r,s]=b.useState(!1),[o,l]=b.useState(!0);b.useEffect(()=>{d()},[]);const c=async(S=10,T=500)=>{for(let k=0;k<S;k++){try{const P=await Ca.me();if(P&&P.email)return P}catch{}await new Promise(P=>setTimeout(P,T))}return null},d=async()=>{try{const S=localStorage.getItem("currentEventId"),T=localStorage.getItem("currentSessionId");if(S&&T){const P=await ja.filter({id:S});if(P.length>0){const R=P[0],M=new Date().toISOString();if(R.starts_at&&R.expires_at&&M>=R.starts_at&&M<=R.expires_at){t(tt("Discovery"));return}}}const k=await c();if(k){const P=new Date().toISOString(),M=(await ja.list()).find(j=>j.starts_at&&j.expires_at&&P>=j.starts_at&&P<=j.expires_at);if(M){const j=k.email.toLowerCase(),K=(await cs.list()).filter(D=>D.event_id===M.id&&D.email===j);if(K.length>0){const D=K[0];localStorage.setItem("currentEventId",M.id),localStorage.setItem("currentSessionId",D.session_id),localStorage.setItem("currentEventCode",M.event_code),localStorage.setItem("currentProfileId",D.id),localStorage.setItem("currentProfileColor",D.profile_color||"#cccccc"),D.profile_photo_url&&localStorage.setItem("currentProfilePhotoUrl",D.profile_photo_url),console.log(`Restored profile for ${k.email} in active event ${M.name}`),setTimeout(()=>{t(tt("Discovery"))},300);return}}}}catch(S){console.error("Error during profile recovery check:",S)}l(!1)},h=S=>{try{const k=new URL(S).searchParams.get("code");k?(w(),t(tt(`join?code=${k.toUpperCase()}`))):alert("Invalid QR code: No event code found in URL.")}catch{typeof S=="string"&&S.trim().length>3?(w(),t(tt(`join?code=${S.toUpperCase()}`))):alert("Invalid QR code format.")}},m=S=>{w(),t(tt(`join?code=${S.toUpperCase()}`))},g=S=>{n(S)},w=()=>{n(null)},E=()=>{n("manualCodeEntry")};return o?y.jsxs("div",{className:"min-h-screen flex flex-col justify-center items-center px-6 py-8 relative overflow-hidden bg-white dark:bg-gray-900",children:[y.jsx("div",{className:"absolute inset-0 z-0",style:{background:"linear-gradient(135deg, rgba(251, 167, 213, 0.8) 0%, rgba(193, 135, 253, 0.8) 100%)"}}),y.jsxs("div",{className:"relative z-10 text-center",children:[y.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg",children:y.jsx(ko,{className:"w-10 h-10 text-white"})}),y.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-pink-500 to-purple-600 bg-clip-text text-transparent mb-4",children:"Hooked"}),y.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white mx-auto mb-4"}),y.jsx("p",{className:"text-white text-sm",children:"Checking for your event profile..."})]})]}):y.jsxs("div",{className:"min-h-screen flex flex-col justify-between items-center px-6 py-8 relative overflow-hidden bg-white dark:bg-gray-900",children:[y.jsx("div",{className:"absolute inset-0 z-0",style:{background:"linear-gradient(135deg, rgba(251, 167, 213, 0.8) 0%, rgba(193, 135, 253, 0.8) 100%)"}}),y.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center flex-1 w-full max-w-sm mx-auto",children:[y.jsxs("div",{className:"text-center mb-12",children:[y.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg",children:y.jsx(ko,{className:"w-10 h-10 text-white"})}),y.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-pink-500 to-purple-600 bg-clip-text text-transparent",children:"Hooked"})]}),y.jsxs("div",{className:"text-center mb-8",children:[y.jsx("h2",{className:"text-2xl font-medium text-white mb-4",children:"Meet singles at this event."}),y.jsx("button",{onClick:()=>s(!0),className:"text-white underline text-lg hover:opacity-80 transition-opacity",children:"See how it works"})]}),y.jsxs("div",{className:"space-y-4 w-full",children:[y.jsxs(He,{onClick:()=>g("qrScanner"),className:"w-full bg-white hover:bg-gray-50 text-black font-medium py-4 rounded-full shadow-lg transition-all",children:[y.jsx(dO,{className:"w-5 h-5 mr-3"}),"Scan QR Code"]}),y.jsxs(He,{onClick:()=>g("manualCodeEntry"),className:"w-full bg-white hover:bg-gray-50 text-black font-medium py-4 rounded-full shadow-lg transition-all",children:[y.jsx(q1,{className:"w-5 h-5 mr-3"}),"Enter Code Manually"]})]})]}),y.jsx("div",{className:"relative z-10 text-center",children:y.jsxs("p",{className:"text-white text-sm leading-relaxed",children:["By creating a temporary profile, you agree to our"," ",y.jsx("a",{href:"https://hooked-app.com/terms",target:"_blank",rel:"noopener noreferrer",className:"underline hover:opacity-80 transition-opacity",children:"Terms"})," ","and"," ",y.jsx("a",{href:"https://hooked-app.com/privacy",target:"_blank",rel:"noopener noreferrer",className:"underline hover:opacity-80 transition-opacity",children:"Privacy Policy"}),"."]})}),r&&y.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 max-w-sm w-full max-h-[70vh] overflow-y-auto relative",children:[y.jsx("button",{onClick:()=>s(!1),className:"absolute top-4 right-4 p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800",children:y.jsx(zn,{className:"w-5 h-5"})}),y.jsxs("div",{className:"pr-8",children:[y.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"How it works"}),y.jsxs("ul",{className:"text-gray-600 dark:text-gray-300 space-y-3 text-sm leading-relaxed",children:[y.jsx("li",{children:"• Scan the event's unique QR code"}),y.jsx("li",{children:"• Create a temporary profile (first name only)"}),y.jsx("li",{children:"• Discover other singles at this event"}),y.jsx("li",{children:"• Match and chat privately"}),y.jsx("li",{children:"• Everything expires when the event ends"})]})]})]})}),e==="qrScanner"&&y.jsx(Uq,{onScan:h,onClose:w,onSwitchToManual:E}),e==="manualCodeEntry"&&y.jsx(Bq,{onSubmit:m,onClose:w})]})}const $q={UploadFile:oU},pN=$q.UploadFile,hn=b.forwardRef(({className:t,...e},n)=>y.jsx("div",{ref:n,className:it("rounded-xl border bg-card text-card-foreground shadow",t),...e}));hn.displayName="Card";const Cs=b.forwardRef(({className:t,...e},n)=>y.jsx("div",{ref:n,className:it("flex flex-col space-y-1.5 p-6",t),...e}));Cs.displayName="CardHeader";const is=b.forwardRef(({className:t,...e},n)=>y.jsx("div",{ref:n,className:it("font-semibold leading-none tracking-tight",t),...e}));is.displayName="CardTitle";const zq=b.forwardRef(({className:t,...e},n)=>y.jsx("div",{ref:n,className:it("text-sm text-muted-foreground",t),...e}));zq.displayName="CardDescription";const fn=b.forwardRef(({className:t,...e},n)=>y.jsx("div",{ref:n,className:it("p-6 pt-0",t),...e}));fn.displayName="CardContent";const Wq=b.forwardRef(({className:t,...e},n)=>y.jsx("div",{ref:n,className:it("flex items-center p-6 pt-0",t),...e}));Wq.displayName="CardFooter";function Hq(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,n=t=="x"?e:e&3|8;return n.toString(16)})}function mN(){const t=Xs(),[e,n]=b.useState(null),[r,s]=b.useState("manual"),[o,l]=b.useState({first_name:"",age:"",gender_identity:"",interested_in:"",profile_photo_url:""}),[c,d]=b.useState(!1),[h,m]=b.useState(!1),g={initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3}};b.useEffect(()=>{(async()=>{const T=localStorage.getItem("currentEventId");if(!T){t(tt("Home"));return}try{const k=await ja.filter({id:T});k.length>0?n(k[0]):t(tt("Home"))}catch(k){console.error("Error fetching event details:",k),t(tt("Home"))}})()},[t]);const w=async S=>{const T=S.target.files[0];if(T){if(!T.type.startsWith("image/")){Vt.error("Please select an image file.");return}if(T.size>10*1024*1024){Vt.error("Image must be smaller than 10MB.");return}m(!0);try{const{file_url:k}=await pN({file:T});l(P=>({...P,profile_photo_url:k})),Vt.success("Photo uploaded successfully!")}catch(k){console.error("Error uploading photo:",k),Vt.error("Failed to upload photo. Please try again.")}finally{m(!1)}}},E=async S=>{if(S.preventDefault(),!o.first_name||!o.age||!o.gender_identity||!o.interested_in){Vt.error("Please fill in all fields.");return}if(!o.profile_photo_url){Vt.error("Please upload a profile photo.");return}d(!0),s("processing");try{const T=Hq(),k="#"+Math.floor(Math.random()*16777215).toString(16).padStart(6,"0");let P="anonymous@hooked-app.com";try{const R=await Ca.me();R&&R.email&&(P=R.email.toLowerCase())}catch(R){console.warn("Could not get user email, using anonymous fallback:",R)}await Ca.updateMyUserData({profile_photo_url:o.profile_photo_url,age:parseInt(o.age),gender_identity:o.gender_identity,interested_in:o.interested_in,profile_color:k}),await cs.create({event_id:e.id,session_id:T,first_name:o.first_name,email:P,age:parseInt(o.age),gender_identity:o.gender_identity,interested_in:o.interested_in,profile_color:k,profile_photo_url:o.profile_photo_url,is_visible:!0}),localStorage.setItem("currentSessionId",T),localStorage.setItem("currentProfileColor",k),localStorage.setItem("currentProfilePhotoUrl",o.profile_photo_url),Vt.success("Profile created! Welcome to the event."),t(tt("Discovery"))}catch(T){console.error("Error creating profile:",T),Vt.error("Failed to create profile. Please try again."),s("manual")}finally{d(!1)}};return y.jsx("div",{className:"min-h-screen bg-white dark:bg-gray-900 flex items-center justify-center px-4 py-8",children:y.jsx("div",{className:"w-full max-w-md",children:y.jsxs(Od,{mode:"wait",children:[r==="manual"&&y.jsx(Gs.div,{...g,children:y.jsxs(hn,{className:"border-0 shadow-xl bg-white dark:bg-gray-800",children:[y.jsxs(Cs,{className:"text-center",children:[y.jsx(is,{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Create Your Event Profile For:"}),y.jsx(is,{className:"text-2xl font-bold text-gray-900 dark:text-white",children:(e==null?void 0:e.name)||"This Event"})]}),y.jsx(fn,{children:y.jsxs("form",{onSubmit:E,className:"space-y-6",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Profile Photo *"}),y.jsxs("div",{className:"flex flex-col items-center",children:[y.jsxs("div",{className:"relative",children:[y.jsx("input",{id:"profile-photo-upload",type:"file",accept:"image/*",onChange:w,className:"hidden",disabled:h}),y.jsx("label",{htmlFor:"profile-photo-upload",className:"w-32 h-32 rounded-full border-2 border-dashed border-gray-300 dark:border-gray-600 flex items-center justify-center cursor-pointer hover:border-purple-400 dark:hover:border-purple-400 transition-colors bg-gray-50 dark:bg-gray-700",children:h?y.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"}):o.profile_photo_url?y.jsx("img",{src:o.profile_photo_url,alt:"Profile preview",className:"w-full h-full rounded-full object-cover"}):y.jsxs("div",{className:"text-center",children:[y.jsx(kO,{className:"w-8 h-8 text-gray-400 dark:text-gray-500 mx-auto mb-2"}),y.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Upload Photo"})]})})]}),y.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2 text-center",children:"Required • Max 10MB"})]})]}),y.jsx("div",{children:y.jsx(Vo,{type:"text",placeholder:"First Name *",value:o.first_name,onChange:S=>l(T=>({...T,first_name:S.target.value})),className:"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white placeholder:text-gray-400 dark:placeholder:text-gray-500",required:!0})}),y.jsx("div",{children:y.jsx(Vo,{type:"number",placeholder:"Age *",value:o.age,onChange:S=>l(T=>({...T,age:S.target.value})),className:"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white placeholder:text-gray-400 dark:placeholder:text-gray-500",min:"18",max:"99",required:!0})}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"I am a... *"}),y.jsx("div",{className:"grid grid-cols-2 gap-3",children:["man","woman"].map(S=>y.jsx("button",{type:"button",onClick:()=>l(T=>({...T,gender_identity:S})),className:`py-3 px-4 rounded-xl border-2 transition-all font-medium ${o.gender_identity===S?"border-purple-500 bg-purple-50 dark:bg-purple-900/20 text-purple-700 dark:text-purple-300":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500 text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800"}`,children:S.charAt(0).toUpperCase()+S.slice(1)},S))})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"I'm interested in... *"}),y.jsx("div",{className:"grid grid-cols-3 gap-3",children:["men","women","everyone"].map(S=>y.jsx("button",{type:"button",onClick:()=>l(T=>({...T,interested_in:S})),className:`py-3 px-2 rounded-xl border-2 transition-all font-medium text-sm ${o.interested_in===S?"border-purple-500 bg-purple-50 dark:bg-purple-900/20 text-purple-700 dark:text-purple-300":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500 text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800"}`,children:S.charAt(0).toUpperCase()+S.slice(1)},S))})]}),y.jsx(He,{type:"submit",disabled:c||h,className:"w-full bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700 text-white py-3 rounded-xl",children:c?y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Creating Profile..."]}):"Join Event"})]})})]})},"manual"),r==="processing"&&y.jsx(Gs.div,{...g,children:y.jsx(hn,{className:"border-0 shadow-xl bg-white dark:bg-gray-800",children:y.jsxs(fn,{className:"p-8 text-center",children:[y.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-6"}),y.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Creating Your Profile"}),y.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Setting up your temporary profile for this event."})]})})},"processing")]})})})}const qq=Qp("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ws({className:t,variant:e,...n}){return y.jsx("div",{className:it(qq({variant:e}),t),...n})}var gN=["PageUp","PageDown"],yN=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],vN={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Mc="Slider",[s0,Kq,Gq]=IA(Mc),[wN,GG]=Ac(Mc,[Gq]),[Yq,fm]=wN(Mc),_N=b.forwardRef((t,e)=>{const{name:n,min:r=0,max:s=100,step:o=1,orientation:l="horizontal",disabled:c=!1,minStepsBetweenThumbs:d=0,defaultValue:h=[r],value:m,onValueChange:g=()=>{},onValueCommit:w=()=>{},inverted:E=!1,form:S,...T}=t,k=b.useRef(new Set),P=b.useRef(0),M=l==="horizontal"?Qq:Xq,[j=[],B]=fd({prop:m,defaultProp:h,onChange:F=>{var N;(N=[...k.current][P.current])==null||N.focus(),g(F)}}),K=b.useRef(j);function D(F){const $=nK(j,F);L(F,$)}function C(F){L(F,P.current)}function V(){const F=K.current[P.current];j[P.current]!==F&&w(j)}function L(F,$,{commit:N}={commit:!1}){const se=oK(o),ie=aK(Math.round((F-r)/o)*o+r,se),ee=mp(ie,[r,s]);B((te=[])=>{const z=eK(te,ee,$);if(iK(z,d*o)){P.current=z.indexOf(ee);const oe=String(z)!==String(te);return oe&&N&&w(z),oe?z:te}else return te})}return y.jsx(Yq,{scope:t.__scopeSlider,name:n,disabled:c,min:r,max:s,valueIndexToChangeRef:P,thumbs:k.current,values:j,orientation:l,form:S,children:y.jsx(s0.Provider,{scope:t.__scopeSlider,children:y.jsx(s0.Slot,{scope:t.__scopeSlider,children:y.jsx(M,{"aria-disabled":c,"data-disabled":c?"":void 0,...T,ref:e,onPointerDown:st(T.onPointerDown,()=>{c||(K.current=j)}),min:r,max:s,inverted:E,onSlideStart:c?void 0:D,onSlideMove:c?void 0:C,onSlideEnd:c?void 0:V,onHomeKeyDown:()=>!c&&L(r,0,{commit:!0}),onEndKeyDown:()=>!c&&L(s,j.length-1,{commit:!0}),onStepKeyDown:({event:F,direction:$})=>{if(!c){const ie=gN.includes(F.key)||F.shiftKey&&yN.includes(F.key)?10:1,ee=P.current,te=j[ee],z=o*ie*$;L(te+z,ee,{commit:!0})}}})})})})});_N.displayName=Mc;var[xN,bN]=wN(Mc,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Qq=b.forwardRef((t,e)=>{const{min:n,max:r,dir:s,inverted:o,onSlideStart:l,onSlideMove:c,onSlideEnd:d,onStepKeyDown:h,...m}=t,[g,w]=b.useState(null),E=ct(e,M=>w(M)),S=b.useRef(void 0),T=CA(s),k=T==="ltr",P=k&&!o||!k&&o;function R(M){const j=S.current||g.getBoundingClientRect(),B=[0,j.width],D=v_(B,P?[n,r]:[r,n]);return S.current=j,D(M-j.left)}return y.jsx(xN,{scope:t.__scopeSlider,startEdge:P?"left":"right",endEdge:P?"right":"left",direction:P?1:-1,size:"width",children:y.jsx(EN,{dir:T,"data-orientation":"horizontal",...m,ref:E,style:{...m.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:M=>{const j=R(M.clientX);l==null||l(j)},onSlideMove:M=>{const j=R(M.clientX);c==null||c(j)},onSlideEnd:()=>{S.current=void 0,d==null||d()},onStepKeyDown:M=>{const B=vN[P?"from-left":"from-right"].includes(M.key);h==null||h({event:M,direction:B?-1:1})}})})}),Xq=b.forwardRef((t,e)=>{const{min:n,max:r,inverted:s,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:d,...h}=t,m=b.useRef(null),g=ct(e,m),w=b.useRef(void 0),E=!s;function S(T){const k=w.current||m.current.getBoundingClientRect(),P=[0,k.height],M=v_(P,E?[r,n]:[n,r]);return w.current=k,M(T-k.top)}return y.jsx(xN,{scope:t.__scopeSlider,startEdge:E?"bottom":"top",endEdge:E?"top":"bottom",size:"height",direction:E?1:-1,children:y.jsx(EN,{"data-orientation":"vertical",...h,ref:g,style:{...h.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:T=>{const k=S(T.clientY);o==null||o(k)},onSlideMove:T=>{const k=S(T.clientY);l==null||l(k)},onSlideEnd:()=>{w.current=void 0,c==null||c()},onStepKeyDown:T=>{const P=vN[E?"from-bottom":"from-top"].includes(T.key);d==null||d({event:T,direction:P?-1:1})}})})}),EN=b.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:s,onSlideEnd:o,onHomeKeyDown:l,onEndKeyDown:c,onStepKeyDown:d,...h}=t,m=fm(Mc,n);return y.jsx(Ze.span,{...h,ref:e,onKeyDown:st(t.onKeyDown,g=>{g.key==="Home"?(l(g),g.preventDefault()):g.key==="End"?(c(g),g.preventDefault()):gN.concat(yN).includes(g.key)&&(d(g),g.preventDefault())}),onPointerDown:st(t.onPointerDown,g=>{const w=g.target;w.setPointerCapture(g.pointerId),g.preventDefault(),m.thumbs.has(w)?w.focus():r(g)}),onPointerMove:st(t.onPointerMove,g=>{g.target.hasPointerCapture(g.pointerId)&&s(g)}),onPointerUp:st(t.onPointerUp,g=>{const w=g.target;w.hasPointerCapture(g.pointerId)&&(w.releasePointerCapture(g.pointerId),o(g))})})}),TN="SliderTrack",SN=b.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,s=fm(TN,n);return y.jsx(Ze.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...r,ref:e})});SN.displayName=TN;var i0="SliderRange",kN=b.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,s=fm(i0,n),o=bN(i0,n),l=b.useRef(null),c=ct(e,l),d=s.values.length,h=s.values.map(w=>PN(w,s.min,s.max)),m=d>1?Math.min(...h):0,g=100-Math.max(...h);return y.jsx(Ze.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...r,ref:c,style:{...t.style,[o.startEdge]:m+"%",[o.endEdge]:g+"%"}})});kN.displayName=i0;var o0="SliderThumb",IN=b.forwardRef((t,e)=>{const n=Kq(t.__scopeSlider),[r,s]=b.useState(null),o=ct(e,c=>s(c)),l=b.useMemo(()=>r?n().findIndex(c=>c.ref.current===r):-1,[n,r]);return y.jsx(Jq,{...t,ref:o,index:l})}),Jq=b.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:s,...o}=t,l=fm(o0,n),c=bN(o0,n),[d,h]=b.useState(null),m=ct(e,R=>h(R)),g=d?l.form||!!d.closest("form"):!0,w=l_(d),E=l.values[r],S=E===void 0?0:PN(E,l.min,l.max),T=tK(r,l.values.length),k=w==null?void 0:w[c.size],P=k?rK(k,S,c.direction):0;return b.useEffect(()=>{if(d)return l.thumbs.add(d),()=>{l.thumbs.delete(d)}},[d,l.thumbs]),y.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[c.startEdge]:`calc(${S}% + ${P}px)`},children:[y.jsx(s0.ItemSlot,{scope:t.__scopeSlider,children:y.jsx(Ze.span,{role:"slider","aria-label":t["aria-label"]||T,"aria-valuemin":l.min,"aria-valuenow":E,"aria-valuemax":l.max,"aria-orientation":l.orientation,"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,tabIndex:l.disabled?void 0:0,...o,ref:m,style:E===void 0?{display:"none"}:t.style,onFocus:st(t.onFocus,()=>{l.valueIndexToChangeRef.current=r})})}),g&&y.jsx(CN,{name:s??(l.name?l.name+(l.values.length>1?"[]":""):void 0),form:l.form,value:E},r)]})});IN.displayName=o0;var Zq="RadioBubbleInput",CN=b.forwardRef(({__scopeSlider:t,value:e,...n},r)=>{const s=b.useRef(null),o=ct(s,r),l=h_(e);return b.useEffect(()=>{const c=s.current;if(!c)return;const d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==e&&m){const g=new Event("input",{bubbles:!0});m.call(c,e),c.dispatchEvent(g)}},[l,e]),y.jsx(Ze.input,{style:{display:"none"},...n,ref:o,defaultValue:e})});CN.displayName=Zq;function eK(t=[],e,n){const r=[...t];return r[n]=e,r.sort((s,o)=>s-o)}function PN(t,e,n){const o=100/(n-e)*(t-e);return mp(o,[0,100])}function tK(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function nK(t,e){if(t.length===1)return 0;const n=t.map(s=>Math.abs(s-e)),r=Math.min(...n);return n.indexOf(r)}function rK(t,e,n){const r=t/2,o=v_([0,50],[0,r]);return(r-o(e)*n)*n}function sK(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function iK(t,e){if(e>0){const n=sK(t);return Math.min(...n)>=e}return!0}function v_(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function oK(t){return(String(t).split(".")[1]||"").length}function aK(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var AN=_N,lK=SN,cK=kN,uK=IN;const a0=b.forwardRef(({className:t,...e},n)=>y.jsxs(AN,{ref:n,className:it("relative flex w-full touch-none select-none items-center",t),...e,children:[y.jsx(lK,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20",children:y.jsx(cK,{className:"absolute h-full bg-primary"})}),y.jsx(uK,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]}));a0.displayName=AN.displayName;const dK=["music","tech","food","books","travel","art","fitness","nature","movies","business","photography","dancing"],h1=["yoga","gaming","comedy","startups","fashion","spirituality","volunteering","crypto","cocktails","politics","hiking","design","podcasts","pets","wellness"];function hK({filters:t,onFiltersChange:e,onClose:n}){const[r,s]=b.useState(t),[o,l]=b.useState(!1),c=m=>{s(g=>({...g,interests:g.interests.includes(m)?g.interests.filter(w=>w!==m):[...g.interests,m]}))},d=()=>{e(r),n()},h=()=>{const m={age_min:18,age_max:99,gender:"all",interests:[]};s(m),e(m),n()};return y.jsxs(um,{open:!0,onOpenChange:n,children:[y.jsx("div",{className:"fixed inset-0 z-50 bg-black/40 dark:bg-black/70 flex items-center justify-center p-4 modal-overlay",children:y.jsxs("div",{className:"modal-content w-full max-w-sm bg-white dark:bg-gray-900 rounded-2xl p-6 shadow-2xl max-h-[90vh] overflow-y-auto",children:[y.jsx(dm,{className:"mb-6",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs(hm,{className:"flex items-center gap-2 text-gray-900 dark:text-white",children:[y.jsx(H1,{className:"w-5 h-5"}),"Filter Profiles"]}),y.jsx(He,{variant:"ghost",size:"icon",onClick:n,className:"rounded-full text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300",children:y.jsx(zn,{className:"w-4 h-4"})})]})}),y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{children:[y.jsx(or,{className:"text-base font-medium mb-4 block text-gray-900 dark:text-white",children:"Age Range"}),y.jsxs("div",{className:"mb-4 flex justify-between items-center",children:[y.jsxs("span",{className:"text-sm font-medium text-pink-600 dark:text-pink-400",children:["Min Age: ",r.age_min]}),y.jsxs("span",{className:"text-sm font-medium text-purple-600 dark:text-purple-400",children:["Max Age: ",r.age_max]})]}),y.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-3",children:"Drag the handles to set your preferred age range"}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx(or,{className:"text-sm text-gray-600 dark:text-gray-400 mb-2 block",children:"Minimum Age"}),y.jsx("div",{className:"relative",children:y.jsx(a0,{value:[r.age_min],onValueChange:([m])=>s(g=>({...g,age_min:m<g.age_max?m:g.age_max-1})),min:18,max:99,step:1,className:"age-slider-min"})})]}),y.jsxs("div",{children:[y.jsx(or,{className:"text-sm text-gray-600 dark:text-gray-400 mb-2 block",children:"Maximum Age"}),y.jsx("div",{className:"relative",children:y.jsx(a0,{value:[r.age_max],onValueChange:([m])=>s(g=>({...g,age_max:m>g.age_min?m:g.age_min+1})),min:18,max:99,step:1,className:"age-slider-max"})})]})]})]}),y.jsxs("div",{children:[y.jsx(or,{className:"text-base font-medium mb-3 block text-gray-900 dark:text-white",children:"Must Share These Interests"}),y.jsxs("div",{className:"flex flex-wrap gap-2",children:[dK.map(m=>y.jsx(Ws,{variant:r.interests.includes(m)?"default":"outline",className:`cursor-pointer px-3 py-2 rounded-full transition-all ${r.interests.includes(m)?"bg-gradient-to-r from-purple-500 to-pink-600 text-white hover:from-purple-600 hover:to-pink-700":"border-2 border-gray-200 dark:border-gray-600 hover:border-purple-300 dark:hover:border-purple-400 text-gray-600 dark:text-gray-300 hover:text-purple-600 dark:hover:text-purple-400 bg-white dark:bg-gray-800"}`,onClick:()=>c(m),children:m},m)),!o&&r.interests.filter(m=>h1.includes(m)).map(m=>y.jsx(Ws,{variant:"default",className:"cursor-pointer px-3 py-2 rounded-full transition-all bg-gradient-to-r from-purple-500 to-pink-600 text-white hover:from-purple-600 hover:to-pink-700",onClick:()=>c(m),children:m},`selected-${m}`))]}),y.jsx("div",{className:"text-center mt-3",children:y.jsx(He,{type:"button",variant:"ghost",size:"icon",onClick:()=>l(!o),className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full","aria-label":o?"Show less interests":"Show more interests",children:o?y.jsx($1,{className:"w-5 h-5"}):y.jsx(g0,{className:"w-5 h-5"})})}),y.jsx(Od,{children:o&&y.jsx(Gs.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden",children:y.jsx("div",{className:"flex flex-wrap gap-2 mt-3 pt-3 border-t border-gray-200 dark:border-gray-700",children:h1.map(m=>y.jsx(Ws,{variant:r.interests.includes(m)?"default":"outline",className:`cursor-pointer px-3 py-2 rounded-full transition-all ${r.interests.includes(m)?"bg-gradient-to-r from-purple-500 to-pink-600 text-white hover:from-purple-600 hover:to-pink-700":"border-2 border-gray-200 dark:border-gray-600 hover:border-purple-300 dark:hover:border-purple-400 text-gray-600 dark:text-gray-300 hover:text-purple-600 dark:hover:text-purple-400 bg-white dark:bg-gray-800"}`,onClick:()=>c(m),children:m},m))})})}),r.interests.length>0&&y.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"Showing only people who share at least one selected interest."})]}),y.jsxs("div",{className:"flex gap-3 pt-4",children:[y.jsx(He,{onClick:h,variant:"outline",className:"flex-1 rounded-xl border-gray-200 dark:border-gray-600 text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-800",children:"Reset All"}),y.jsx(He,{onClick:d,className:"flex-1 bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700 text-white rounded-xl",children:"Apply Filters"})]})]})]})}),y.jsx("style",{jsx:!0,children:`
        .age-slider-min [data-orientation="horizontal"] {
          height: 6px;
          background: linear-gradient(to right, #f87171 0%, #f87171 100%);
          border-radius: 3px;
        }
        
        .age-slider-max [data-orientation="horizontal"] {
          height: 6px;
          background: linear-gradient(to right, #a855f7 0%, #a855f7 100%);
          border-radius: 3px;
        }
        
        .age-slider-min [role="slider"],
        .age-slider-max [role="slider"] {
          width: 20px;
          height: 20px;
          background: white;
          border: 3px solid;
          border-radius: 50%;
          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
          transition: all 0.2s ease;
        }
        
        .age-slider-min [role="slider"] {
          border-color: #f87171;
        }
        
        .age-slider-max [role="slider"] {
          border-color: #a855f7;
        }
        
        .age-slider-min [role="slider"]:hover,
        .age-slider-max [role="slider"]:hover {
          transform: scale(1.1);
          box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        }
        
        .age-slider-min [role="slider"]:focus,
        .age-slider-max [role="slider"]:focus {
          outline: none;
          transform: scale(1.15);
          box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
      `})]})}function RN({profile:t,onClose:e,onLike:n,isLiked:r}){if(b.useEffect(()=>{const w=E=>{E.key==="Escape"&&e()};return document.addEventListener("keydown",w),document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",w),document.body.style.overflow="auto"}},[e]),!t)return null;const{profile_photo_url:s,profile_color:o,first_name:l,age:c,height:d,interests:h,bio:m}=t,g=l?l[0].toUpperCase():"?";return y.jsx(Od,{children:y.jsx(Gs.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/70 dark:bg-black/80 backdrop-blur-sm p-4",onClick:e,children:y.jsxs(Gs.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},transition:{type:"spring",stiffness:300,damping:25},className:"relative w-full max-w-sm bg-white dark:bg-gray-900 rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] overflow-y-auto",onClick:w=>w.stopPropagation(),children:[y.jsxs("div",{className:"relative",children:[s?y.jsxs(y.Fragment,{children:[y.jsx("img",{src:s,alt:`${l}'s profile photo`,className:"w-full h-80 object-cover",loading:"lazy",onError:w=>{w.target.style.display="none";const E=w.target.nextElementSibling;E&&(E.style.display="flex")}}),y.jsx("div",{className:"w-full h-80 flex items-center justify-center text-white font-bold text-6xl absolute inset-0",style:{backgroundColor:o||"#cccccc",display:"none"},children:g})]}):y.jsx("div",{className:"w-full h-80 flex items-center justify-center text-white font-bold text-6xl",style:{backgroundColor:o||"#cccccc"},children:g}),y.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 bg-black/50 hover:bg-black/70 rounded-full text-white transition-colors z-10","aria-label":"Close profile",children:y.jsx(zn,{className:"w-6 h-6"})})]}),y.jsxs("div",{className:"p-6 space-y-6",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:l}),y.jsxs("div",{className:"flex items-center gap-4 text-gray-600 dark:text-gray-400",children:[c&&y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsx(jM,{className:"w-4 h-4"}),y.jsxs("span",{children:[c," years old"]})]}),d&&y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsx(fO,{className:"w-4 h-4"}),y.jsxs("span",{children:[d," cm"]})]})]})]}),m&&y.jsxs("div",{children:[y.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"About"}),y.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:m})]}),h&&h.length>0&&y.jsxs("div",{children:[y.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Interests"}),y.jsx("div",{className:"flex flex-wrap gap-2",children:h.map(w=>y.jsx(Ws,{variant:"outline",className:"rounded-full border-purple-200 dark:border-purple-600 text-purple-600 dark:text-purple-300 bg-purple-50 dark:bg-purple-900/30",children:w},w))})]}),y.jsx("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700",children:y.jsxs(He,{onClick:n,disabled:r,className:`w-full rounded-xl py-3 transition-all ${r?"bg-gray-200 dark:bg-gray-700 text-gray-400 dark:text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-pink-500 to-red-500 hover:from-pink-600 hover:to-red-600 text-white"}`,children:[y.jsx(ko,{className:`w-5 h-5 mr-2 ${r?"":"hover:fill-current"}`}),r?"Already Liked":`Like ${l}`]})})]})]})})})}function NN(){const t=Xs(),[e,n]=b.useState([]),[r,s]=b.useState(null),[o,l]=b.useState([]),[c,d]=b.useState(null),[h,m]=b.useState(null),[g,w]=b.useState({age_min:18,age_max:99,gender:"all",interests:[]}),[E,S]=b.useState(!1),[T,k]=b.useState(!0),[P,R]=new b.useState(new Set),[M,j]=b.useState(null),[B,K]=b.useState(!1);b.useEffect(()=>{D()},[]),b.useEffect(()=>{r&&e.length>=0&&L()},[e,g,r]),b.useEffect(()=>{const N=()=>{K(!document.hidden)};return K(!document.hidden),document.addEventListener("visibilitychange",N),()=>document.removeEventListener("visibilitychange",N)},[]),b.useEffect(()=>{if(!h||!c)return;const N=setInterval(()=>{B&&(C(c.id,h),V(c.id,h))},6e4);return()=>clearInterval(N)},[h,c,B]);const D=async()=>{const N=localStorage.getItem("currentEventId"),se=localStorage.getItem("currentSessionId");if(!N||!se){t(tt("Home"));return}m(se);try{const ie=await ja.filter({id:N});if(ie.length>0)d(ie[0]);else{t(tt("Home"));return}await Promise.all([C(N,se),V(N,se)])}catch(ie){console.error("Error initializing session:",ie)}k(!1)},C=async(N,se)=>{try{const ie=await cs.filter({event_id:N,is_visible:!0}),ee=ie.find(z=>z.session_id===se);s(ee);const te=ie.filter(z=>z.session_id!==se);n(te),ee||(console.warn("Current user profile not found for session, redirecting."),t(tt("Home")))}catch(ie){console.error("Error loading profiles:",ie)}},V=async(N,se)=>{try{const ie=await _r.filter({liker_session_id:se,event_id:N});R(new Set(ie.map(ee=>ee.liked_session_id)))}catch(ie){console.error("Error loading likes:",ie)}},L=()=>{if(!r){l([]);return}let N=e.filter(se=>{var te;const ie=r.interested_in==="everyone"||r.interested_in==="men"&&se.gender_identity==="man"||r.interested_in==="women"&&se.gender_identity==="woman"||r.interested_in==="non-binary"&&se.gender_identity==="non-binary",ee=se.interested_in==="everyone"||se.interested_in==="men"&&r.gender_identity==="man"||se.interested_in==="women"&&r.gender_identity==="woman"||se.interested_in==="non-binary"&&r.gender_identity==="non-binary";return!(!ie||!ee||!(se.age>=g.age_min&&se.age<=g.age_max)||g.gender!=="all"&&se.gender_identity!==g.gender||g.interests.length>0&&!((te=se.interests)!=null&&te.some(z=>g.interests.includes(z))))});l(N)},F=async N=>{if(P.has(N.session_id)||!r)return;const se=localStorage.getItem("currentEventId"),ie=r.session_id;try{R(z=>new Set([...z,N.session_id]));const ee=await _r.create({event_id:se,liker_session_id:ie,liked_session_id:N.session_id,is_mutual:!1,liker_notified_of_match:!1,liked_notified_of_match:!1}),te=await _r.filter({event_id:se,liker_session_id:N.session_id,liked_session_id:ie});if(te.length>0){const z=te[0];await _r.update(ee.id,{is_mutual:!0,liker_notified_of_match:!0}),await _r.update(z.id,{is_mutual:!0,liked_notified_of_match:!0}),alert(`🎉 It's a Match! You and ${N.first_name} liked each other.`),t(tt("Matches"))}}catch(ee){console.error("Error liking profile:",ee),R(te=>{const z=new Set(te);return z.delete(N.session_id),z})}},$=N=>{j(N)};return T?y.jsx("div",{className:"min-h-screen flex items-center justify-center pb-20 bg-white dark:bg-gray-900",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600 mx-auto mb-4"}),y.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Loading singles at this event..."})]})}):y.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900 pb-20",children:[y.jsxs("div",{className:"max-w-md mx-auto px-4 py-8",children:[y.jsxs("div",{className:"flex items-center justify-between mb-6",children:[y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full flex items-center justify-center",children:y.jsx(ko,{className:"w-3 h-3 text-white"})}),y.jsx("span",{className:"font-semibold text-lg bg-gradient-to-r from-pink-500 to-purple-600 bg-clip-text text-transparent",children:"Hooked"})]}),y.jsxs("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:["Singles at ",c==null?void 0:c.name]}),y.jsxs("p",{className:"text-gray-500 dark:text-gray-400",children:[o.length," people discovered"]})]}),y.jsx(He,{onClick:()=>S(!0),variant:"outline",size:"icon",className:"rounded-full border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 bg-white dark:bg-gray-800",children:y.jsx(H1,{className:"w-5 h-5"})})]}),y.jsx("div",{className:"grid grid-cols-3 gap-3",children:o.map(N=>y.jsx("div",{className:"relative",children:y.jsx(hn,{className:"border-0 shadow-md hover:shadow-lg transition-all duration-300 cursor-pointer overflow-hidden bg-white dark:bg-gray-800",onClick:()=>$(N),children:y.jsx(fn,{className:"p-0",children:y.jsxs("div",{className:"relative aspect-square",children:[N.profile_photo_url?y.jsx("img",{src:N.profile_photo_url,alt:`${N.first_name}'s profile`,className:"w-full h-full object-cover",loading:"lazy",onError:se=>{se.target.style.display="none";const ie=se.target.nextElementSibling;ie&&(ie.style.display="flex")}}):null,y.jsx("div",{className:"w-full h-full flex items-center justify-center text-white font-semibold text-lg absolute inset-0",style:{backgroundColor:N.profile_color||"#cccccc",display:N.profile_photo_url?"none":"flex"},children:N.first_name[0]}),y.jsx("button",{onClick:se=>{se.stopPropagation(),F(N)},disabled:P.has(N.session_id),className:`absolute top-2 right-2 p-2 rounded-full shadow-lg transition-all ${P.has(N.session_id)?"bg-white/90 dark:bg-gray-800/90 text-pink-500 cursor-not-allowed":"bg-white/90 dark:bg-gray-800/90 text-gray-400 dark:text-gray-500 hover:bg-pink-50 dark:hover:bg-pink-900/20 hover:text-pink-500 hover:scale-110"}`,children:y.jsx(ko,{className:`w-4 h-4 ${P.has(N.session_id)?"fill-current text-pink-500":"text-gray-400 dark:text-gray-500 hover:text-pink-500"}`})}),y.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-3",children:y.jsx("h3",{className:"font-semibold text-white text-sm truncate",children:N.first_name})})]})})})},N.id))}),o.length===0&&!T&&y.jsx(hn,{className:"border-0 shadow-lg mt-8 bg-white dark:bg-gray-800",children:y.jsxs(fn,{className:"p-8 text-center",children:[y.jsx(Ku,{className:"w-12 h-12 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),y.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"No singles found"}),y.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mb-4",children:"Try adjusting your filters or check back later as more people join the event."}),y.jsx(He,{onClick:()=>S(!0),variant:"outline",className:"rounded-xl border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 bg-white dark:bg-gray-800",children:"Adjust Filters"})]})}),E&&y.jsx(hK,{filters:g,onFiltersChange:w,onClose:()=>S(!1)}),M&&y.jsx(RN,{profile:M,onClose:()=>j(null),onLike:()=>{F(M),j(null)},isLiked:P.has(M.session_id)})]}),y.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 z-30",children:y.jsx("div",{className:"max-w-md mx-auto px-4 py-3",children:y.jsxs("div",{className:"flex justify-around",children:[y.jsxs("button",{onClick:()=>t(tt("Profile")),className:"flex flex-col items-center gap-1 py-2 px-4 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300",children:[y.jsx(wd,{className:"w-6 h-6"}),y.jsx("span",{className:"text-xs",children:"Profile"})]}),y.jsxs("button",{className:"flex flex-col items-center gap-1 py-2 px-4 text-purple-600 dark:text-purple-400",children:[y.jsx(Ku,{className:"w-6 h-6"}),y.jsx("span",{className:"text-xs font-medium",children:"Discover"})]}),y.jsxs("button",{onClick:()=>t(tt("Matches")),className:"flex flex-col items-center gap-1 py-2 px-4 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300",children:[y.jsx(qu,{className:"w-6 h-6"}),y.jsx("span",{className:"text-xs",children:"Matches"})]})]})})})]})}function ms(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Wa(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const DN=6048e5,fK=864e5;let pK={};function pm(){return pK}function pd(t,e){var c,d,h,m;const n=pm(),r=(e==null?void 0:e.weekStartsOn)??((d=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??n.weekStartsOn??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.weekStartsOn)??0,s=ms(t),o=s.getDay(),l=(o<r?7:0)+o-r;return s.setDate(s.getDate()-l),s.setHours(0,0,0,0),s}function bp(t){return pd(t,{weekStartsOn:1})}function MN(t){const e=ms(t),n=e.getFullYear(),r=Wa(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=bp(r),o=Wa(t,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const l=bp(o);return e.getTime()>=s.getTime()?n+1:e.getTime()>=l.getTime()?n:n-1}function f1(t){const e=ms(t);return e.setHours(0,0,0,0),e}function p1(t){const e=ms(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function mK(t,e){const n=f1(t),r=f1(e),s=+n-p1(n),o=+r-p1(r);return Math.round((s-o)/fK)}function gK(t){const e=MN(t),n=Wa(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),bp(n)}function yK(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function vK(t){if(!yK(t)&&typeof t!="number")return!1;const e=ms(t);return!isNaN(Number(e))}function wK(t){const e=ms(t),n=Wa(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const _K={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},xK=(t,e,n)=>{let r;const s=_K[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function jy(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const bK={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},EK={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},TK={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},SK={date:jy({formats:bK,defaultWidth:"full"}),time:jy({formats:EK,defaultWidth:"full"}),dateTime:jy({formats:TK,defaultWidth:"full"})},kK={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},IK=(t,e,n,r)=>kK[t];function xu(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const l=t.defaultFormattingWidth||t.defaultWidth,c=n!=null&&n.width?String(n.width):l;s=t.formattingValues[c]||t.formattingValues[l]}else{const l=t.defaultWidth,c=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[c]||t.values[l]}const o=t.argumentCallback?t.argumentCallback(e):e;return s[o]}}const CK={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},PK={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},AK={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},RK={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},NK={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},DK={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},MK=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},OK={ordinalNumber:MK,era:xu({values:CK,defaultWidth:"wide"}),quarter:xu({values:PK,defaultWidth:"wide",argumentCallback:t=>t-1}),month:xu({values:AK,defaultWidth:"wide"}),day:xu({values:RK,defaultWidth:"wide"}),dayPeriod:xu({values:NK,defaultWidth:"wide",formattingValues:DK,defaultFormattingWidth:"wide"})};function bu(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(s);if(!o)return null;const l=o[0],c=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],d=Array.isArray(c)?LK(c,g=>g.test(l)):VK(c,g=>g.test(l));let h;h=t.valueCallback?t.valueCallback(d):d,h=n.valueCallback?n.valueCallback(h):h;const m=e.slice(l.length);return{value:h,rest:m}}}function VK(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function LK(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function jK(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],o=e.match(t.parsePattern);if(!o)return null;let l=t.valueCallback?t.valueCallback(o[0]):o[0];l=n.valueCallback?n.valueCallback(l):l;const c=e.slice(s.length);return{value:l,rest:c}}}const FK=/^(\d+)(th|st|nd|rd)?/i,UK=/\d+/i,BK={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},$K={any:[/^b/i,/^(a|c)/i]},zK={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},WK={any:[/1/i,/2/i,/3/i,/4/i]},HK={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},qK={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},KK={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},GK={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},YK={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},QK={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},XK={ordinalNumber:jK({matchPattern:FK,parsePattern:UK,valueCallback:t=>parseInt(t,10)}),era:bu({matchPatterns:BK,defaultMatchWidth:"wide",parsePatterns:$K,defaultParseWidth:"any"}),quarter:bu({matchPatterns:zK,defaultMatchWidth:"wide",parsePatterns:WK,defaultParseWidth:"any",valueCallback:t=>t+1}),month:bu({matchPatterns:HK,defaultMatchWidth:"wide",parsePatterns:qK,defaultParseWidth:"any"}),day:bu({matchPatterns:KK,defaultMatchWidth:"wide",parsePatterns:GK,defaultParseWidth:"any"}),dayPeriod:bu({matchPatterns:YK,defaultMatchWidth:"any",parsePatterns:QK,defaultParseWidth:"any"})},JK={code:"en-US",formatDistance:xK,formatLong:SK,formatRelative:IK,localize:OK,match:XK,options:{weekStartsOn:0,firstWeekContainsDate:1}};function ZK(t){const e=ms(t);return mK(e,wK(e))+1}function eG(t){const e=ms(t),n=+bp(e)-+gK(e);return Math.round(n/DN)+1}function ON(t,e){var m,g,w,E;const n=ms(t),r=n.getFullYear(),s=pm(),o=(e==null?void 0:e.firstWeekContainsDate)??((g=(m=e==null?void 0:e.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??s.firstWeekContainsDate??((E=(w=s.locale)==null?void 0:w.options)==null?void 0:E.firstWeekContainsDate)??1,l=Wa(t,0);l.setFullYear(r+1,0,o),l.setHours(0,0,0,0);const c=pd(l,e),d=Wa(t,0);d.setFullYear(r,0,o),d.setHours(0,0,0,0);const h=pd(d,e);return n.getTime()>=c.getTime()?r+1:n.getTime()>=h.getTime()?r:r-1}function tG(t,e){var c,d,h,m;const n=pm(),r=(e==null?void 0:e.firstWeekContainsDate)??((d=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,s=ON(t,e),o=Wa(t,0);return o.setFullYear(s,0,r),o.setHours(0,0,0,0),pd(o,e)}function nG(t,e){const n=ms(t),r=+pd(n,e)-+tG(n,e);return Math.round(r/DN)+1}function lt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const ho={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return lt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):lt(n+1,2)},d(t,e){return lt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return lt(t.getHours()%12||12,e.length)},H(t,e){return lt(t.getHours(),e.length)},m(t,e){return lt(t.getMinutes(),e.length)},s(t,e){return lt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return lt(s,e.length)}},Ll={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},m1={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return ho.y(t,e)},Y:function(t,e,n,r){const s=ON(t,r),o=s>0?s:1-s;if(e==="YY"){const l=o%100;return lt(l,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):lt(o,e.length)},R:function(t,e){const n=MN(t);return lt(n,e.length)},u:function(t,e){const n=t.getFullYear();return lt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return lt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return lt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return ho.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return lt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=nG(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):lt(s,e.length)},I:function(t,e,n){const r=eG(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):lt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):ho.d(t,e)},D:function(t,e,n){const r=ZK(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):lt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),o=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return lt(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),o=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return lt(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return lt(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=Ll.noon:r===0?s=Ll.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=Ll.evening:r>=12?s=Ll.afternoon:r>=4?s=Ll.morning:s=Ll.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ho.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):ho.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):lt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):lt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):ho.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):ho.s(t,e)},S:function(t,e){return ho.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return y1(r);case"XXXX":case"XX":return ba(r);case"XXXXX":case"XXX":default:return ba(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return y1(r);case"xxxx":case"xx":return ba(r);case"xxxxx":case"xxx":default:return ba(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+g1(r,":");case"OOOO":default:return"GMT"+ba(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+g1(r,":");case"zzzz":default:return"GMT"+ba(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return lt(r,e.length)},T:function(t,e,n){const r=t.getTime();return lt(r,e.length)}};function g1(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),o=r%60;return o===0?n+String(s):n+String(s)+e+lt(o,2)}function y1(t,e){return t%60===0?(t>0?"-":"+")+lt(Math.abs(t)/60,2):ba(t,e)}function ba(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=lt(Math.trunc(r/60),2),o=lt(r%60,2);return n+s+e+o}const v1=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},VN=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},rG=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return v1(t,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",v1(r,e)).replace("{{time}}",VN(s,e))},sG={p:VN,P:rG},iG=/^D+$/,oG=/^Y+$/,aG=["D","DD","YY","YYYY"];function lG(t){return iG.test(t)}function cG(t){return oG.test(t)}function uG(t,e,n){const r=dG(t,e,n);if(console.warn(r),aG.includes(t))throw new RangeError(r)}function dG(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const hG=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,fG=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,pG=/^'([^]*?)'?$/,mG=/''/g,gG=/[a-zA-Z]/;function yG(t,e,n){var m,g,w,E;const r=pm(),s=r.locale??JK,o=r.firstWeekContainsDate??((g=(m=r.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??1,l=r.weekStartsOn??((E=(w=r.locale)==null?void 0:w.options)==null?void 0:E.weekStartsOn)??0,c=ms(t);if(!vK(c))throw new RangeError("Invalid time value");let d=e.match(fG).map(S=>{const T=S[0];if(T==="p"||T==="P"){const k=sG[T];return k(S,s.formatLong)}return S}).join("").match(hG).map(S=>{if(S==="''")return{isToken:!1,value:"'"};const T=S[0];if(T==="'")return{isToken:!1,value:vG(S)};if(m1[T])return{isToken:!0,value:S};if(T.match(gG))throw new RangeError("Format string contains an unescaped latin alphabet character `"+T+"`");return{isToken:!1,value:S}});s.localize.preprocessor&&(d=s.localize.preprocessor(c,d));const h={firstWeekContainsDate:o,weekStartsOn:l,locale:s};return d.map(S=>{if(!S.isToken)return S.value;const T=S.value;(cG(T)||lG(T))&&uG(T,e,String(t));const k=m1[T[0]];return k(c,T,s.localize,h)}).join("")}function vG(t){const e=t.match(pG);return e?e[1].replace(mG,"'"):t}function wG({matchName:t,onConfirm:e,onCancel:n,isSharing:r}){const[s,o]=b.useState({fullName:"",phoneNumber:""}),[l,c]=b.useState("confirm"),[d,h]=b.useState(!1),m=async()=>{var E,S,T,k;if(h(!0),navigator.contacts)try{const P=await navigator.contacts.select(["name","tel"]);if(P&&P.length>0){const R=P[0],M=((S=(E=R.name)==null?void 0:E[0])==null?void 0:S.formatted)||"",j=((k=(T=R.tel)==null?void 0:T[0])==null?void 0:k.value)||"";if(M&&j){o({fullName:M,phoneNumber:j}),w({fullName:M,phoneNumber:j}),h(!1);return}}}catch{console.log("Contact access not available or denied, falling back to manual entry")}c("enter"),h(!1)},g=()=>{!s.fullName.trim()||!s.phoneNumber.trim()||w(s)},w=async E=>{h(!0);try{await e(E),c("success"),setTimeout(()=>{n()},2e3)}catch(S){console.error("Error sharing contact info:",S),alert("Failed to share contact info. Please try again.")}h(!1)};return y.jsx("div",{className:"fixed inset-0 z-[200] bg-black/70 dark:bg-black/80 backdrop-blur-sm flex items-center justify-center p-4",children:y.jsxs(Gs.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white dark:bg-gray-800 rounded-2xl p-6 w-full max-w-sm shadow-2xl relative",children:[y.jsx("button",{onClick:n,className:"absolute top-4 right-4 p-2 text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700","aria-label":"Close",children:y.jsx(zn,{className:"w-5 h-5"})}),l==="confirm"&&y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-4",children:y.jsx(Wy,{className:"w-8 h-8 text-white"})}),y.jsx("h3",{className:"font-semibold text-xl mb-2 text-gray-900 dark:text-white",children:"Share Contact Info?"}),y.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-6 leading-relaxed",children:["This will share your name and phone number with ",y.jsx("span",{className:"font-medium",children:t}),". This action cannot be undone."]}),y.jsxs("div",{className:"flex gap-3",children:[y.jsx(He,{onClick:n,variant:"outline",className:"flex-1 border-gray-200 dark:border-gray-600 text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700",disabled:d,children:"Not Yet"}),y.jsx(He,{onClick:m,className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white",disabled:d,children:d?y.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):"Share"})]})]}),l==="enter"&&y.jsxs("div",{children:[y.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-4",children:y.jsx(wd,{className:"w-8 h-8 text-white"})}),y.jsx("h3",{className:"font-semibold text-xl mb-2 text-center text-gray-900 dark:text-white",children:"Enter Your Contact Info"}),y.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-6 text-center text-sm",children:["Please enter your details to share with ",t]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx(or,{htmlFor:"fullName",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Full Name"}),y.jsx(Vo,{id:"fullName",type:"text",placeholder:"Your full name",value:s.fullName,onChange:E=>o(S=>({...S,fullName:E.target.value})),className:"mt-1 rounded-xl border-2 border-gray-200 dark:border-gray-600 focus:border-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",autoFocus:!0})]}),y.jsxs("div",{children:[y.jsx(or,{htmlFor:"phoneNumber",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Phone Number"}),y.jsx(Vo,{id:"phoneNumber",type:"tel",placeholder:"Your phone number",value:s.phoneNumber,onChange:E=>o(S=>({...S,phoneNumber:E.target.value})),className:"mt-1 rounded-xl border-2 border-gray-200 dark:border-gray-600 focus:border-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-800 text-gray-900 dark:text-white"})]})]}),y.jsxs("div",{className:"flex gap-3 mt-6",children:[y.jsx(He,{onClick:()=>c("confirm"),variant:"outline",className:"flex-1 border-gray-200 dark:border-gray-600 text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700",children:"Back"}),y.jsx(He,{onClick:g,disabled:!s.fullName.trim()||!s.phoneNumber.trim()||d,className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white",children:d?y.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):"Confirm Share"})]})]}),l==="success"&&y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-green-500 to-emerald-600 rounded-full flex items-center justify-center mx-auto mb-4",children:y.jsx(qM,{className:"w-8 h-8 text-white"})}),y.jsx("h3",{className:"font-semibold text-xl mb-2 text-gray-900 dark:text-white",children:"Contact Info Shared!"}),y.jsxs("p",{className:"text-gray-600 dark:text-gray-400 leading-relaxed",children:["Your contact information has been shared with ",t,". They can now see your name and phone number."]})]})]})})}function _G({match:t,onClose:e}){var $;const[n,r]=b.useState([]),[s,o]=b.useState(""),[l,c]=b.useState(!0),[d,h]=b.useState(!1),[m,g]=b.useState(!1),[w,E]=b.useState(null),[S,T]=b.useState(!0),k=b.useRef(null),P=localStorage.getItem("currentSessionId"),R=localStorage.getItem("currentEventId"),M=`${P}_${t.session_id}`.split("").sort().join(""),[j,B]=b.useState(!1);b.useEffect(()=>{B(!1)},[t.session_id]);const K=b.useCallback(async()=>{try{const N=await zl.filter({match_id:M,receiver_session_id:P,is_read:!1,event_id:R});N.length>0&&await Promise.all(N.map(se=>zl.update(se.id,{is_read:!0})))}catch(N){console.error("Error marking messages as read:",N)}},[M,P,R]),D=b.useCallback(async()=>{try{const N=await zl.filter({event_id:R,match_id:M},"created_date");r(N),K()}catch(N){console.error("Error loading messages:",N)}c(!1)},[R,M,K]);b.useEffect(()=>{const N=()=>{T(!document.hidden)};return document.addEventListener("visibilitychange",N),()=>document.removeEventListener("visibilitychange",N)},[]),b.useEffect(()=>{D(),V();const N=setInterval(()=>{S&&(D(),V())},3e4);return()=>clearInterval(N)},[S,D]),b.useEffect(()=>{C()},[n]);const C=()=>{var N;(N=k.current)==null||N.scrollIntoView({behavior:"smooth"})},V=async()=>{try{(await dy.filter({event_id:R,match_id:M,sharer_session_id:P})).length>0&&g(!0);const se=await dy.filter({event_id:R,match_id:M,sharer_session_id:t.session_id,recipient_session_id:P});se.length>0&&E(se[0])}catch(N){console.error("Error loading contact shares:",N)}},L=async N=>{if(N.preventDefault(),!s.trim())return;const se=s.trim();o("");try{const ie={id:`temp_${Date.now()}`,content:se,sender_session_id:P,created_date:new Date().toISOString()};r(ee=>[...ee,ie]),await zl.create({event_id:R,sender_session_id:P,receiver_session_id:t.session_id,content:se,match_id:M,is_read:!1})}catch(ie){console.error("Error sending message:",ie),r(ee=>ee.filter(te=>!te.id.startsWith("temp_"))),o(se)}},F=async N=>{try{await dy.create({event_id:R,sharer_session_id:P,recipient_session_id:t.session_id,full_name:N.fullName,phone_number:N.phoneNumber,match_id:M}),g(!0),h(!1),V()}catch(se){throw console.error("Error sharing contact info:",se),se}};return y.jsx(um,{open:!0,onOpenChange:e,children:y.jsx("div",{className:"fixed inset-0 z-50 bg-black/40 dark:bg-black/70 flex items-center justify-center p-4 modal-overlay",children:y.jsxs("div",{className:"modal-content w-full max-w-sm h-[600px] bg-white dark:bg-gray-900 rounded-2xl flex flex-col shadow-2xl",children:[y.jsxs(dm,{className:"p-4 border-b border-gray-200 dark:border-gray-700 bg-gradient-to-r from-pink-50 to-purple-50 dark:from-pink-900/20 dark:to-purple-900/20 rounded-t-2xl",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[t.profile_photo_url&&!j?y.jsx("img",{src:t.profile_photo_url,alt:`${t.first_name}'s avatar`,className:"w-10 h-10 rounded-full object-cover border-2 border-purple-200 dark:border-purple-700",loading:"lazy",onError:()=>B(!0)}):y.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white font-semibold",style:{backgroundColor:t.profile_color},children:t.first_name[0]}),y.jsxs("div",{children:[y.jsx(hm,{className:"text-lg text-gray-900 dark:text-white",children:t.first_name}),y.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[y.jsx(W1,{className:"w-3 h-3 text-gray-400 dark:text-gray-500"}),y.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Expires at midnight"})]})]}),y.jsxs("div",{className:"flex gap-1",children:[!m&&y.jsx(He,{variant:"ghost",size:"icon",onClick:()=>h(!0),className:"rounded-full text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800",title:"Share contact info",children:y.jsx(Fb,{className:"w-4 h-4"})}),y.jsx(He,{variant:"ghost",size:"icon",onClick:e,className:"rounded-full text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800",children:y.jsx(zn,{className:"w-4 h-4"})})]})]}),y.jsx("div",{className:"flex flex-wrap gap-1 mt-3",children:($=t.interests)==null?void 0:$.map(N=>y.jsx(Ws,{variant:"outline",className:"text-xs rounded-full border-purple-200 dark:border-purple-700 text-purple-600 dark:text-purple-300 bg-white dark:bg-gray-800",children:N},N))}),(m||w)&&y.jsxs("div",{className:"mt-3 space-y-2",children:[m&&y.jsxs("div",{className:"flex items-center gap-2 text-xs text-green-600 dark:text-green-400",children:[y.jsx(Fb,{className:"w-3 h-3"}),y.jsx("span",{children:"You shared your contact info"})]}),w&&y.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-3",children:[y.jsxs("div",{className:"flex items-center gap-2 text-xs text-blue-600 dark:text-blue-400 mb-2",children:[y.jsx(Wy,{className:"w-3 h-3"}),y.jsxs("span",{children:[t.first_name," shared their contact info"]})]}),y.jsxs("div",{className:"text-sm text-gray-900 dark:text-white",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[y.jsx(wd,{className:"w-3 h-3 text-gray-500 dark:text-gray-400"}),y.jsx("span",{className:"font-medium",children:w.full_name})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(Wy,{className:"w-3 h-3 text-gray-500 dark:text-gray-400"}),y.jsx("span",{className:"font-mono",children:w.phone_number})]})]})]})]})]}),y.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 bg-gray-50 dark:bg-gray-800",children:[l?y.jsx("div",{className:"flex justify-center py-8",children:y.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-purple-600"})}):n.length===0?y.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:y.jsxs("p",{className:"text-sm",children:["🎉 You matched! Say hello to ",t.first_name]})}):n.map(N=>y.jsx("div",{className:`flex ${N.sender_session_id===P?"justify-end":"justify-start"}`,children:y.jsxs("div",{className:`max-w-[80%] px-4 py-2 rounded-2xl ${N.sender_session_id===P?"bg-gradient-to-r from-purple-500 to-pink-600 text-white":"bg-white dark:bg-gray-700 text-gray-900 dark:text-white border border-gray-200 dark:border-gray-600"}`,children:[y.jsx("p",{className:"text-sm",children:N.content}),y.jsx("p",{className:`text-xs mt-1 ${N.sender_session_id===P?"text-purple-100":"text-gray-500 dark:text-gray-400"}`,children:yG(new Date(N.created_date),"HH:mm")})]})},N.id)),y.jsx("div",{ref:k})]}),y.jsx("form",{onSubmit:L,className:"p-4 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 rounded-b-2xl",children:y.jsxs("div",{className:"flex gap-2",children:[y.jsx(Vo,{value:s,onChange:N=>o(N.target.value),placeholder:`Message ${t.first_name}...`,className:"flex-1 rounded-full border-2 border-gray-200 dark:border-gray-600 focus:border-purple-400 dark:focus:border-purple-400 bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder:text-gray-400 dark:placeholder:text-gray-500"}),y.jsx(He,{type:"submit",disabled:!s.trim(),className:"bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700 text-white rounded-full",size:"icon",children:y.jsx(gO,{className:"w-4 h-4"})})]})}),d&&y.jsx(wG,{matchName:t.first_name,onConfirm:F,onCancel:()=>h(!1)})]})})})}function LN(){const t=Xs(),[e,n]=b.useState([]),[r,s]=b.useState(null),[o,l]=b.useState(null),[c,d]=b.useState(!0),[h,m]=b.useState(!0),g=localStorage.getItem("currentSessionId"),w=localStorage.getItem("currentEventId"),E=b.useCallback(async T=>{if(!g||!w||T.length===0)return;const k=await _r.filter({event_id:w,is_mutual:!0});for(const P of T){const R=k.find(j=>j.liker_session_id===g&&j.liked_session_id===P.session_id);if(R&&!R.liker_notified_of_match)try{await _r.update(R.id,{liker_notified_of_match:!0})}catch(j){console.error("Error updating my like notification status:",j)}const M=k.find(j=>j.liker_session_id===P.session_id&&j.liked_session_id===g);if(M&&!M.liked_notified_of_match)try{await _r.update(M.id,{liked_notified_of_match:!0})}catch(j){console.error("Error updating their like notification status:",j)}}},[g,w]),S=b.useCallback(async()=>{if(!g||!w){d(!1);return}try{const T=await _r.filter({liker_session_id:g,event_id:w,is_mutual:!0}),k=await _r.filter({liked_session_id:g,event_id:w,is_mutual:!0}),P=new Set([...T.map(j=>j.liked_session_id),...k.map(j=>j.liker_session_id)]);if(P.size===0){n([]),d(!1);return}const R=await cs.filter({session_id:Array.from(P),event_id:w}),M=await Promise.all(R.map(async j=>{const B=[g,j.session_id].sort(),K=`${B[0]}_${B[1]}`,D=await zl.filter({match_id:K,receiver_session_id:g,is_read:!1,event_id:w});return{...j,unreadCount:D.length}}));n(M.filter(Boolean)),R.length>0&&E(R)}catch(T){console.error("Error loading matches:",T)}d(!1)},[g,w,E]);return b.useEffect(()=>{const T=()=>{m(!document.hidden)};return document.addEventListener("visibilitychange",T),()=>document.removeEventListener("visibilitychange",T)},[]),b.useEffect(()=>{S();const T=setInterval(()=>{h&&S()},45e3);return()=>clearInterval(T)},[S,h]),b.useEffect(()=>{const k=new URLSearchParams(window.location.search).get("openChat");if(k&&e.length>0){const P=e.find(R=>R.session_id===k);P&&(s(P),window.history.replaceState({},document.title,window.location.pathname))}},[e]),c?y.jsx("div",{className:"min-h-screen flex items-center justify-center pb-20 bg-white dark:bg-gray-900",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-pink-600 mx-auto mb-4"}),y.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Loading your matches..."})]})}):y.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900 pb-20",children:[y.jsxs("div",{className:"max-w-md mx-auto px-4 py-8",children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-pink-500 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:y.jsx(ko,{className:"w-8 h-8 text-white"})}),y.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Your Matches"}),y.jsxs("p",{className:"text-gray-500 dark:text-gray-400",children:[e.length," mutual ",e.length===1?"connection":"connections"," at this event"]})]}),y.jsxs("div",{className:"space-y-4",children:[e.map(T=>{var k,P;return y.jsx(hn,{className:"border-0 shadow-lg hover:shadow-xl transition-all duration-300 bg-white dark:bg-gray-800",children:y.jsx(fn,{className:"p-6",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsxs("div",{className:"relative",children:[T.profile_photo_url?y.jsxs(y.Fragment,{children:[y.jsx("img",{src:T.profile_photo_url,alt:`${T.first_name}'s avatar`,className:"w-16 h-16 rounded-full object-cover border-2 border-purple-200 dark:border-purple-700 cursor-pointer hover:opacity-80 transition-opacity",loading:"lazy",onClick:()=>l(T),onError:R=>{R.target.style.display="none";const M=R.target.nextElementSibling;M&&(M.style.display="flex")}}),y.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center text-white font-semibold text-xl cursor-pointer hover:opacity-80 transition-opacity absolute inset-0 border-2 border-purple-200 dark:border-purple-700",style:{backgroundColor:T.profile_color,display:"none"},onClick:()=>l(T),children:T.first_name[0]})]}):y.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center text-white font-semibold text-xl cursor-pointer hover:opacity-80 transition-opacity border-2 border-purple-200 dark:border-purple-700",style:{backgroundColor:T.profile_color},onClick:()=>l(T),children:T.first_name[0]}),y.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-gradient-to-r from-pink-500 to-red-500 rounded-full flex items-center justify-center shadow-md",children:y.jsx(wO,{className:"w-3 h-3 text-white"})})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-semibold text-lg text-gray-900 dark:text-white",children:T.first_name}),y.jsxs("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:[T.age," years old"]}),y.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[(k=T.interests)==null?void 0:k.slice(0,2).map(R=>y.jsx(Ws,{variant:"outline",className:"text-xs rounded-full border-purple-200 dark:border-purple-600 text-purple-600 dark:text-purple-300 bg-purple-50 dark:bg-purple-900/30",children:R},R)),((P=T.interests)==null?void 0:P.length)>2&&y.jsxs(Ws,{variant:"outline",className:"text-xs rounded-full border-gray-200 dark:border-gray-600 text-gray-500 dark:text-gray-400 bg-gray-50 dark:bg-gray-800",children:["+",T.interests.length-2]})]})]})]}),y.jsxs("div",{className:"flex flex-col items-center gap-2",children:[y.jsx(He,{onClick:()=>s(T),className:"bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700 text-white rounded-full",size:"icon",children:y.jsx(qu,{className:"w-5 h-5"})}),T.unreadCount>0&&y.jsx(Ws,{className:"bg-red-500 text-white rounded-full px-2 py-0.5 text-xs",children:T.unreadCount})]})]})})},T.id)}),e.length===0&&!c&&y.jsx(hn,{className:"border-0 shadow-lg bg-white dark:bg-gray-800",children:y.jsxs(fn,{className:"p-8 text-center",children:[y.jsx(Ku,{className:"w-16 h-16 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),y.jsx("h3",{className:"font-semibold text-xl text-gray-900 dark:text-white mb-2",children:"No matches yet"}),y.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"Start liking profiles to find your matches! When someone likes you back, they'll appear here."}),y.jsx(He,{onClick:()=>t(tt("Discovery")),className:"bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700 text-white rounded-xl px-6",children:"Discover Singles"})]})})]})]}),y.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 z-30",children:y.jsx("div",{className:"max-w-md mx-auto px-4 py-3",children:y.jsxs("div",{className:"flex justify-around",children:[y.jsxs("button",{onClick:()=>t(tt("Profile")),className:"flex flex-col items-center gap-1 py-2 px-4 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300",children:[y.jsx(wd,{className:"w-6 h-6"}),y.jsx("span",{className:"text-xs",children:"Profile"})]}),y.jsxs("button",{onClick:()=>t(tt("Discovery")),className:"flex flex-col items-center gap-1 py-2 px-4 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300",children:[y.jsx(Ku,{className:"w-6 h-6"}),y.jsx("span",{className:"text-xs",children:"Discover"})]}),y.jsxs("button",{className:"flex flex-col items-center gap-1 py-2 px-4 text-purple-600 dark:text-purple-400",children:[y.jsx(qu,{className:"w-6 h-6"}),y.jsx("span",{className:"text-xs font-medium",children:"Matches"})]})]})})}),r&&y.jsx(_G,{match:r,onClose:()=>{s(null),S()}}),o&&y.jsx(RN,{profile:o,onClose:()=>l(null),onLike:()=>{l(null)},isLiked:!0})]})}function xG(){const t=Xs(),[e,n]=b.useState(!0),[r,s]=b.useState(null);b.useEffect(()=>{l()},[]);const o=async(d=10,h=500)=>{for(let m=0;m<d;m++){try{const g=await Ca.me();if(g&&g.email)return g}catch{}await new Promise(g=>setTimeout(g,h))}return null},l=async()=>{try{const h=new URLSearchParams(window.location.search).get("code");if(!h){s("No event code provided in the URL."),n(!1);return}const m=await ja.filter({event_code:h.toUpperCase()});if(m.length===0){s("Invalid event code."),n(!1);return}const g=m[0],w=new Date().toISOString();if(!g.starts_at||!g.expires_at){s("This event is not configured correctly. Please contact the organizer."),n(!1);return}const E=g.starts_at<=w&&w<g.expires_at;if(w<g.starts_at){s("This event hasn't started yet. Try again soon!"),n(!1);return}if(w>=g.expires_at){s("This event has ended."),n(!1);return}localStorage.setItem("currentEventId",g.id),localStorage.setItem("currentEventCode",g.event_code);const S=await o();if(S&&S.email){const k=S.email.toLowerCase(),R=(await cs.list()).filter(M=>M.event_id===g.id&&M.email===k);if(R.length>0){const M=R[0];localStorage.setItem("currentSessionId",M.session_id),localStorage.setItem("currentProfileId",M.id),localStorage.setItem("currentProfileColor",M.profile_color||"#cccccc"),M.profile_photo_url&&localStorage.setItem("currentProfilePhotoUrl",M.profile_photo_url),console.log(`Found existing profile for ${S.email} in event ${g.name}`),t(tt("Discovery"));return}}const T=localStorage.getItem("currentSessionId");if(T)try{if((await cs.filter({session_id:T,event_id:g.id})).length>0){t(tt("Discovery"));return}}catch(k){console.warn("Error checking existing profile:",k)}t(tt("Consent"))}catch(d){console.error("Error processing event join:",d),s("Unable to process event access. Please try again."),n(!1)}},c=()=>{t(tt("Home"))};return e?y.jsx("div",{className:"min-h-screen bg-white dark:bg-gray-900 flex items-center justify-center p-4",children:y.jsx(hn,{className:"border-0 shadow-xl max-w-md w-full bg-white dark:bg-gray-800",children:y.jsxs(fn,{className:"p-8 text-center",children:[y.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-6"}),y.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Joining Event..."}),y.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Please wait while we verify your event access."})]})})}):r?y.jsx("div",{className:"min-h-screen bg-white dark:bg-gray-900 flex items-center justify-center p-4",children:y.jsx(hn,{className:"border-0 shadow-xl max-w-md w-full bg-white dark:bg-gray-800",children:y.jsxs(fn,{className:"p-8 text-center",children:[y.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/20 rounded-full flex items-center justify-center mx-auto mb-6",children:y.jsx(z1,{className:"w-8 h-8 text-red-600 dark:text-red-400"})}),y.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Unable to Join Event"}),y.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:r}),y.jsx("div",{className:"flex gap-3",children:y.jsx(He,{onClick:c,className:"w-full bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700 text-white",children:"Return to Home"})})]})})}):y.jsx("div",{className:"min-h-screen bg-white dark:bg-gray-900 flex items-center justify-center p-4",children:y.jsx(hn,{className:"border-0 shadow-xl max-w-md w-full bg-white dark:bg-gray-800",children:y.jsxs(fn,{className:"p-8 text-center",children:[y.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Processing..."}),y.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Redirecting you to the event."})]})})})}var mm="Switch",[bG,YG]=Ac(mm),[EG,TG]=bG(mm),jN=b.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:o,required:l,disabled:c,value:d="on",onCheckedChange:h,form:m,...g}=t,[w,E]=b.useState(null),S=ct(e,M=>E(M)),T=b.useRef(!1),k=w?m||!!w.closest("form"):!0,[P,R]=fd({prop:s,defaultProp:o??!1,onChange:h,caller:mm});return y.jsxs(EG,{scope:n,checked:P,disabled:c,children:[y.jsx(Ze.button,{type:"button",role:"switch","aria-checked":P,"aria-required":l,"data-state":$N(P),"data-disabled":c?"":void 0,disabled:c,value:d,...g,ref:S,onClick:st(t.onClick,M=>{R(j=>!j),k&&(T.current=M.isPropagationStopped(),T.current||M.stopPropagation())})}),k&&y.jsx(BN,{control:w,bubbles:!T.current,name:r,value:d,checked:P,required:l,disabled:c,form:m,style:{transform:"translateX(-100%)"}})]})});jN.displayName=mm;var FN="SwitchThumb",UN=b.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=TG(FN,n);return y.jsx(Ze.span,{"data-state":$N(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});UN.displayName=FN;var SG="SwitchBubbleInput",BN=b.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...s},o)=>{const l=b.useRef(null),c=ct(l,o),d=h_(n),h=l_(e);return b.useEffect(()=>{const m=l.current;if(!m)return;const g=window.HTMLInputElement.prototype,E=Object.getOwnPropertyDescriptor(g,"checked").set;if(d!==n&&E){const S=new Event("click",{bubbles:r});E.call(m,n),m.dispatchEvent(S)}},[d,n,r]),y.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:c,style:{...s.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});BN.displayName=SG;function $N(t){return t?"checked":"unchecked"}var zN=jN,kG=UN;const WN=b.forwardRef(({className:t,...e},n)=>y.jsx(zN,{className:it("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:y.jsx(kG,{className:it("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));WN.displayName=zN.displayName;const IG=["music","tech","food","books","travel","art","fitness","nature","movies","business","photography","dancing","yoga","gaming","comedy","startups","fashion","spirituality","volunteering","crypto","cocktails","politics","hiking","design","podcasts","pets","wellness"];function HN(){var j;const t=Xs(),[e,n]=b.useState(null),[r,s]=b.useState(null),[o,l]=b.useState({bio:!1,interests:!1,height:!1}),[c,d]=b.useState({bio:"",interests:[],height:""}),[h,m]=b.useState(!0),[g,w]=b.useState(!1),E=b.useCallback(async()=>{m(!0);try{const B=await Ca.me();if(!B){t(tt("Home"));return}n(B),d({bio:B.bio||"",interests:B.interests||[],height:B.height||""});const K=localStorage.getItem("currentEventId"),D=localStorage.getItem("currentSessionId");if(K&&D){const C=await cs.filter({event_id:K,session_id:D});C.length>0&&s(C[0])}}catch(B){console.error("Error loading profile data:",B),Vt.error("Failed to load profile.")}finally{m(!1)}},[t]);b.useEffect(()=>{E()},[E]);const S=B=>{l(K=>({...K,[B]:!K[B]}))},T=B=>{d(K=>{const D=K.interests.includes(B)?K.interests.filter(C=>C!==B):[...K.interests,B];return D.length>3?(Vt.warning("You can select up to 3 interests."),K):{...K,interests:D}})},k=async B=>{try{await Ca.updateMyUserData({[B]:c[B]}),Vt.success(`${B.charAt(0).toUpperCase()+B.slice(1)} updated!`),S(B),await E()}catch(K){console.error(`Error updating ${B}:`,K),Vt.error(`Failed to update ${B}.`)}},P=async B=>{const K=B.target.files[0];if(K){w(!0);try{const{file_url:D}=await pN({file:K});await Ca.updateMyUserData({profile_photo_url:D}),Vt.success("Profile photo updated!"),await E()}catch(D){console.error("Error uploading photo:",D),Vt.error("Failed to upload photo.")}finally{w(!1)}}},R=async()=>{if(r)try{const B=!r.is_visible;await cs.update(r.id,{is_visible:B}),s(K=>({...K,is_visible:B})),Vt.success(`Profile is now ${B?"visible":"hidden"}.`)}catch(B){console.error("Error updating visibility:",B),Vt.error("Failed to update visibility.")}},M=async()=>{if(!(!r||!confirm("Are you sure you want to leave this event? This will delete your profile for this event and cannot be undone.")))try{await cs.delete(r.id),localStorage.removeItem("currentEventId"),localStorage.removeItem("currentSessionId"),localStorage.removeItem("currentEventCode"),localStorage.removeItem("currentProfileColor"),localStorage.removeItem("currentProfilePhotoUrl"),Vt.success("You have left the event."),t(tt("Home"))}catch(B){console.error("Error leaving event:",B),Vt.error("Failed to leave event.")}};return h?y.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white dark:bg-gray-900",children:y.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"})}):y.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900 pb-20",children:[y.jsx("style",{children:`
        .visibility-switch[data-state='checked'] {
          background-color: #34D399;
        }
        .visibility-switch[data-state='unchecked'] {
          background-color: #E5E7EB;
        }
        .dark .visibility-switch[data-state='unchecked'] {
          background-color: #4B5563;
        }
        .visibility-switch span {
          background-color: white !important;
        }
      `}),y.jsxs("div",{className:"max-w-md mx-auto px-4 py-8",children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsxs("div",{className:"relative w-24 h-24 mx-auto mb-4",children:[y.jsxs("label",{htmlFor:"profile-photo-upload",className:"cursor-pointer group",children:[e.profile_photo_url?y.jsx("img",{src:e.profile_photo_url,alt:"Profile",className:"w-24 h-24 rounded-full object-cover border-4 border-white dark:border-gray-800 shadow-lg"}):y.jsx("div",{className:"w-24 h-24 rounded-full flex items-center justify-center text-white font-semibold text-4xl",style:{backgroundColor:e.profile_color},children:e.full_name?e.full_name[0]:"?"}),y.jsx("div",{className:"absolute inset-0 rounded-full bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:y.jsx(zy,{className:"w-8 h-8 text-white"})})]}),y.jsx("input",{id:"profile-photo-upload",type:"file",accept:"image/*",onChange:P,className:"hidden",disabled:g}),g&&y.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-full",children:y.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-white"})})]}),y.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.full_name}),y.jsxs("p",{className:"text-gray-500 dark:text-gray-400",children:[e.age," years old"]})]}),y.jsxs(hn,{className:"border-0 shadow-lg mb-6 bg-white dark:bg-gray-800",children:[y.jsxs(Cs,{className:"flex flex-row items-center justify-between",children:[y.jsx(is,{className:"text-lg text-gray-900 dark:text-white",children:"About Me"}),y.jsx(He,{variant:"ghost",size:"icon",onClick:()=>S("bio"),className:"text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-gray-100",children:o.bio?y.jsx(zn,{className:"w-4 h-4"}):y.jsx(Qg,{className:"w-4 h-4"})})]}),y.jsx(fn,{children:o.bio?y.jsxs("div",{className:"space-y-4",children:[y.jsx(pp,{value:c.bio,onChange:B=>d(K=>({...K,bio:B.target.value})),placeholder:"Tell us a little about yourself...",className:"h-24 bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white placeholder:text-gray-400 dark:placeholder:text-gray-500"}),y.jsxs(He,{onClick:()=>k("bio"),className:"w-full bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700 text-white rounded-xl py-2",children:[y.jsx(Yg,{className:"w-4 h-4 mr-2"})," Save Bio"]})]}):y.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:e.bio||"No bio yet. Add one!"})})]}),y.jsxs(hn,{className:"border-0 shadow-lg mb-6 bg-white dark:bg-gray-800",children:[y.jsxs(Cs,{className:"flex flex-row items-center justify-between",children:[y.jsx(is,{className:"text-lg text-gray-900 dark:text-white",children:"Interests"}),y.jsx(He,{variant:"ghost",size:"icon",onClick:()=>S("interests"),className:"text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-gray-100",children:o.interests?y.jsx(zn,{className:"w-4 h-4"}):y.jsx(Qg,{className:"w-4 h-4"})})]}),y.jsx(fn,{children:o.interests?y.jsxs("div",{className:"space-y-4",children:[y.jsx("div",{className:"flex flex-wrap gap-2",children:IG.map(B=>y.jsx(Ws,{onClick:()=>T(B),className:`cursor-pointer px-3 py-2 rounded-full transition-all ${c.interests.includes(B)?"interest-chip-selected bg-gradient-to-r from-purple-500 to-pink-600 text-white hover:from-purple-600 hover:to-pink-700":"interest-chip-default border-2 border-gray-200 dark:border-gray-600 hover:border-purple-300 dark:hover:border-purple-400 text-gray-600 dark:text-gray-300 hover:text-purple-600 dark:hover:text-purple-400 bg-white dark:bg-gray-800"}`,children:B},B))}),y.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[c.interests.length," / 3 selected"]}),y.jsxs(He,{onClick:()=>k("interests"),className:"w-full bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700 text-white rounded-xl py-2",children:[y.jsx(Yg,{className:"w-4 h-4 mr-2"})," Save Interests"]})]}):y.jsx("div",{className:"flex flex-wrap gap-2",children:((j=e.interests)==null?void 0:j.map(B=>y.jsx(Ws,{className:"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300",children:B},B)))||y.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No interests added yet."})})})]}),y.jsxs(hn,{className:"border-0 shadow-lg mb-6 bg-white dark:bg-gray-800",children:[y.jsxs(Cs,{className:"flex flex-row items-center justify-between",children:[y.jsx(is,{className:"text-lg text-gray-900 dark:text-white",children:"Height"}),y.jsx(He,{variant:"ghost",size:"icon",onClick:()=>S("height"),className:"text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-gray-100",children:o.height?y.jsx(zn,{className:"w-4 h-4"}):y.jsx(Qg,{className:"w-4 h-4"})})]}),y.jsx(fn,{children:o.height?y.jsxs("div",{className:"space-y-4",children:[y.jsx(Vo,{type:"number",value:c.height,onChange:B=>d(K=>({...K,height:B.target.value})),placeholder:"Height in cm",className:"w-full height-input bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white placeholder:text-gray-400 dark:placeholder:text-gray-500"}),y.jsxs(He,{onClick:()=>k("height"),className:"w-full bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700 text-white rounded-xl py-2",children:[y.jsx(Yg,{className:"w-4 h-4 mr-2"})," Save Height"]})]}):y.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:e.height?`${e.height} cm`:"Not specified"})})]}),r&&y.jsxs(y.Fragment,{children:[y.jsxs(hn,{className:"border-0 shadow-lg mb-6 bg-white dark:bg-gray-800",children:[y.jsxs(Cs,{className:"flex flex-row items-center justify-between",children:[y.jsxs(is,{className:"flex items-center gap-2 text-lg text-gray-900 dark:text-white",children:[r.is_visible?y.jsx(JM,{className:"w-5 h-5 text-green-500"}):y.jsx(QM,{className:"w-5 h-5 text-gray-400 dark:text-gray-500"}),"Event Visibility"]}),y.jsx(WN,{checked:r.is_visible,onCheckedChange:R,className:"visibility-switch"})]}),y.jsx(fn,{children:y.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:r.is_visible?"Your profile is visible to others at the current event.":"You are currently hidden from other attendees."})})]}),y.jsxs(hn,{className:"border-0 shadow-lg border-red-100 dark:border-red-900/20 bg-white dark:bg-gray-800",children:[y.jsx(Cs,{children:y.jsxs(is,{className:"flex items-center gap-2 text-lg text-red-600 dark:text-red-400",children:[y.jsx(rO,{className:"w-5 h-5"}),"Leave Event"]})}),y.jsxs(fn,{children:[y.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4",children:"Permanently remove your profile from this event. This action cannot be undone."}),y.jsxs(He,{onClick:M,variant:"destructive",className:"w-full h-auto whitespace-normal",children:[y.jsx(TO,{className:"w-4 h-4 mr-2"}),"Leave Event & Delete Event Profile"]})]})]})]}),y.jsxs(hn,{className:"border-0 shadow-lg mb-6 mt-8 bg-white dark:bg-gray-800",children:[y.jsx(Cs,{children:y.jsxs(is,{className:"flex items-center gap-2 text-lg text-gray-900 dark:text-white",children:[y.jsx(z1,{className:"w-5 h-5 text-orange-500"}),"Safety & Reporting"]})}),y.jsxs(fn,{children:[y.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"If you encounter inappropriate behavior, you can report users to event moderators."}),y.jsx(He,{variant:"outline",className:"w-full border-orange-200 dark:border-orange-700 text-orange-600 dark:text-orange-400 hover:bg-orange-50 dark:hover:bg-orange-900/20 bg-white dark:bg-gray-800",onClick:()=>{alert("Report functionality will be implemented soon.")},children:"Report a User"})]})]}),y.jsxs(hn,{className:"border-0 shadow-lg mb-6 bg-white dark:bg-gray-800",children:[y.jsx(Cs,{children:y.jsxs(is,{className:"flex items-center gap-2 text-lg text-gray-900 dark:text-white",children:[y.jsx(W1,{className:"w-5 h-5 text-blue-500"}),"Automatic Data Expiration"]})}),y.jsxs(fn,{children:[y.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"Your profile, matches, and chat messages will be automatically deleted when this event ends. No data is stored permanently."}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs("div",{className:"flex items-center gap-2 text-blue-600 dark:text-blue-400",children:[y.jsx(Nl,{className:"w-4 h-4"}),y.jsx("span",{className:"text-sm",children:"Profile expires automatically"})]}),y.jsxs("div",{className:"flex items-center gap-2 text-blue-600 dark:text-blue-400",children:[y.jsx(Nl,{className:"w-4 h-4"}),y.jsx("span",{className:"text-sm",children:"Messages deleted at midnight"})]}),y.jsxs("div",{className:"flex items-center gap-2 text-blue-600 dark:text-blue-400",children:[y.jsx(Nl,{className:"w-4 h-4"}),y.jsx("span",{className:"text-sm",children:"No permanent account created"})]})]})]})]}),y.jsxs(hn,{className:"border-0 shadow-lg mb-6 bg-white dark:bg-gray-800",children:[y.jsx(Cs,{children:y.jsxs(is,{className:"flex items-center gap-2 text-lg text-gray-900 dark:text-white",children:[y.jsx(iO,{className:"w-5 h-5 text-purple-500"}),"Email Data Usage"]})}),y.jsxs(fn,{children:[y.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"Your email address is only used for post-event feedback surveys and is never visible to other users at this event."}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs("div",{className:"flex items-center gap-2 text-purple-600 dark:text-purple-400",children:[y.jsx(Nl,{className:"w-4 h-4"}),y.jsx("span",{className:"text-sm",children:"Only used for feedback requests"})]}),y.jsxs("div",{className:"flex items-center gap-2 text-purple-600 dark:text-purple-400",children:[y.jsx(Nl,{className:"w-4 h-4"}),y.jsx("span",{className:"text-sm",children:"Never shared with other users"})]}),y.jsxs("div",{className:"flex items-center gap-2 text-purple-600 dark:text-purple-400",children:[y.jsx(Nl,{className:"w-4 h-4"}),y.jsx("span",{className:"text-sm",children:"Not used for marketing purposes"})]})]})]})]})]}),y.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 z-30",children:y.jsx("div",{className:"max-w-md mx-auto px-4 py-3",children:y.jsxs("div",{className:"flex justify-around",children:[y.jsxs("button",{className:"flex flex-col items-center gap-1 py-2 px-4 text-purple-600 dark:text-purple-400",children:[y.jsx(wd,{className:"w-6 h-6"}),y.jsx("span",{className:"text-xs font-medium",children:"Profile"})]}),y.jsxs("button",{onClick:()=>t(tt("Discovery")),className:"flex flex-col items-center gap-1 py-2 px-4 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300",children:[y.jsx(Ku,{className:"w-6 h-6"}),y.jsx("span",{className:"text-xs",children:"Discover"})]}),y.jsxs("button",{onClick:()=>t(tt("Matches")),className:"flex flex-col items-center gap-1 py-2 px-4 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300",children:[y.jsx(qu,{className:"w-6 h-6"}),y.jsx("span",{className:"text-xs",children:"Matches"})]})]})})})]})}const w1={Home:r0,Consent:mN,Discovery:NN,Matches:LN,join:xG,Profile:HN};function CG(t){t.endsWith("/")&&(t=t.slice(0,-1));let e=t.split("/").pop();return e.includes("?")&&(e=e.split("?")[0]),Object.keys(w1).find(r=>r.toLowerCase()===e.toLowerCase())||Object.keys(w1)[0]}function PG(){const t=Mi(),e=CG(t.pathname);return y.jsx(_q,{currentPageName:e,children:y.jsxs(eM,{children:[y.jsx(fo,{path:"/",element:y.jsx(r0,{})}),y.jsx(fo,{path:"/Home",element:y.jsx(r0,{})}),y.jsx(fo,{path:"/Consent",element:y.jsx(mN,{})}),y.jsx(fo,{path:"/Discovery",element:y.jsx(NN,{})}),y.jsx(fo,{path:"/Matches",element:y.jsx(LN,{})}),y.jsx(fo,{path:"/join",element:y.jsx("join",{})}),y.jsx(fo,{path:"/Profile",element:y.jsx(HN,{})})]})})}function AG(){return y.jsx(EM,{children:y.jsx(PG,{})})}const RG=20,NG=1e6,wi={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let Fy=0;function DG(){return Fy=(Fy+1)%Number.MAX_VALUE,Fy.toString()}const Uy=new Map,_1=t=>{if(Uy.has(t))return;const e=setTimeout(()=>{Uy.delete(t),Wu({type:wi.REMOVE_TOAST,toastId:t})},NG);Uy.set(t,e)},MG=(t,e)=>{switch(e.type){case wi.ADD_TOAST:return{...t,toasts:[e.toast,...t.toasts].slice(0,RG)};case wi.UPDATE_TOAST:return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case wi.DISMISS_TOAST:{const{toastId:n}=e;return n?_1(n):t.toasts.forEach(r=>{_1(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case wi.REMOVE_TOAST:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Bf=[];let $f={toasts:[]};function Wu(t){$f=MG($f,t),Bf.forEach(e=>{e($f)})}function OG({...t}){const e=DG(),n=s=>Wu({type:wi.UPDATE_TOAST,toast:{...s,id:e}}),r=()=>Wu({type:wi.DISMISS_TOAST,toastId:e});return Wu({type:wi.ADD_TOAST,toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function VG(){const[t,e]=b.useState($f);return b.useEffect(()=>(Bf.push(e),()=>{const n=Bf.indexOf(e);n>-1&&Bf.splice(n,1)}),[t]),{...t,toast:OG,dismiss:n=>Wu({type:wi.DISMISS_TOAST,toastId:n})}}const qN=b.forwardRef(({...t},e)=>y.jsx("div",{ref:e,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...t}));qN.displayName="ToastProvider";const KN=b.forwardRef(({...t},e)=>y.jsx("div",{ref:e,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...t}));KN.displayName="ToastViewport";const LG=Qp("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),GN=b.forwardRef(({className:t,variant:e,...n},r)=>y.jsx("div",{ref:r,className:it(LG({variant:e}),t),...n}));GN.displayName="Toast";const jG=b.forwardRef(({className:t,...e},n)=>y.jsx("div",{ref:n,className:it("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));jG.displayName="ToastAction";const YN=b.forwardRef(({className:t,...e},n)=>y.jsx("button",{ref:n,className:it("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:y.jsx(zn,{className:"h-4 w-4"})}));YN.displayName="ToastClose";const QN=b.forwardRef(({className:t,...e},n)=>y.jsx("div",{ref:n,className:it("text-sm font-semibold",t),...e}));QN.displayName="ToastTitle";const XN=b.forwardRef(({className:t,...e},n)=>y.jsx("div",{ref:n,className:it("text-sm opacity-90",t),...e}));XN.displayName="ToastDescription";function FG(){const{toasts:t}=VG();return y.jsxs(qN,{children:[t.map(function({id:e,title:n,description:r,action:s,...o}){return y.jsxs(GN,{...o,children:[y.jsxs("div",{className:"grid gap-1",children:[n&&y.jsx(QN,{children:n}),r&&y.jsx(XN,{children:r})]}),s,y.jsx(YN,{})]},e)}),y.jsx(KN,{})]})}function UG(){return y.jsxs(y.Fragment,{children:[y.jsx(AG,{}),y.jsx(FG,{})]})}uD.createRoot(document.getElementById("root")).render(y.jsx(UG,{}));
