function iM(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function _v(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Xg={exports:{}},Eu={},Jg={exports:{}},Ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kb;function oM(){if(Kb)return Ke;Kb=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function v(H){return H===null||typeof H!="object"?null:(H=y&&H[y]||H["@@iterator"],typeof H=="function"?H:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,k={};function T(H,X,ne){this.props=H,this.context=X,this.refs=k,this.updater=ne||b}T.prototype.isReactComponent={},T.prototype.setState=function(H,X){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,X,"setState")},T.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function C(){}C.prototype=T.prototype;function P(H,X,ne){this.props=H,this.context=X,this.refs=k,this.updater=ne||b}var R=P.prototype=new C;R.constructor=P,S(R,T.prototype),R.isPureReactComponent=!0;var L=Array.isArray,F=Object.prototype.hasOwnProperty,q={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function N(H,X,ne){var fe,Ee={},we=null,ue=null;if(X!=null)for(fe in X.ref!==void 0&&(ue=X.ref),X.key!==void 0&&(we=""+X.key),X)F.call(X,fe)&&!M.hasOwnProperty(fe)&&(Ee[fe]=X[fe]);var _e=arguments.length-2;if(_e===1)Ee.children=ne;else if(1<_e){for(var Pe=Array(_e),Ne=0;Ne<_e;Ne++)Pe[Ne]=arguments[Ne+2];Ee.children=Pe}if(H&&H.defaultProps)for(fe in _e=H.defaultProps,_e)Ee[fe]===void 0&&(Ee[fe]=_e[fe]);return{$$typeof:t,type:H,key:we,ref:ue,props:Ee,_owner:q.current}}function O(H,X){return{$$typeof:t,type:H.type,key:X,ref:H.ref,props:H.props,_owner:H._owner}}function V(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function U(H){var X={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(ne){return X[ne]})}var $=/\/+/g;function D(H,X){return typeof H=="object"&&H!==null&&H.key!=null?U(""+H.key):X.toString(36)}function se(H,X,ne,fe,Ee){var we=typeof H;(we==="undefined"||we==="boolean")&&(H=null);var ue=!1;if(H===null)ue=!0;else switch(we){case"string":case"number":ue=!0;break;case"object":switch(H.$$typeof){case t:case e:ue=!0}}if(ue)return ue=H,Ee=Ee(ue),H=fe===""?"."+D(ue,0):fe,L(Ee)?(ne="",H!=null&&(ne=H.replace($,"$&/")+"/"),se(Ee,X,ne,"",function(Ne){return Ne})):Ee!=null&&(V(Ee)&&(Ee=O(Ee,ne+(!Ee.key||ue&&ue.key===Ee.key?"":(""+Ee.key).replace($,"$&/")+"/")+H)),X.push(Ee)),1;if(ue=0,fe=fe===""?".":fe+":",L(H))for(var _e=0;_e<H.length;_e++){we=H[_e];var Pe=fe+D(we,_e);ue+=se(we,X,ne,Pe,Ee)}else if(Pe=v(H),typeof Pe=="function")for(H=Pe.call(H),_e=0;!(we=H.next()).done;)we=we.value,Pe=fe+D(we,_e++),ue+=se(we,X,ne,Pe,Ee);else if(we==="object")throw X=String(H),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return ue}function ie(H,X,ne){if(H==null)return H;var fe=[],Ee=0;return se(H,fe,"","",function(we){return X.call(ne,we,Ee++)}),fe}function ee(H){if(H._status===-1){var X=H._result;X=X(),X.then(function(ne){(H._status===0||H._status===-1)&&(H._status=1,H._result=ne)},function(ne){(H._status===0||H._status===-1)&&(H._status=2,H._result=ne)}),H._status===-1&&(H._status=0,H._result=X)}if(H._status===1)return H._result.default;throw H._result}var te={current:null},z={transition:null},oe={ReactCurrentDispatcher:te,ReactCurrentBatchConfig:z,ReactCurrentOwner:q};function le(){throw Error("act(...) is not supported in production builds of React.")}return Ke.Children={map:ie,forEach:function(H,X,ne){ie(H,function(){X.apply(this,arguments)},ne)},count:function(H){var X=0;return ie(H,function(){X++}),X},toArray:function(H){return ie(H,function(X){return X})||[]},only:function(H){if(!V(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},Ke.Component=T,Ke.Fragment=n,Ke.Profiler=s,Ke.PureComponent=P,Ke.StrictMode=r,Ke.Suspense=d,Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oe,Ke.act=le,Ke.cloneElement=function(H,X,ne){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var fe=S({},H.props),Ee=H.key,we=H.ref,ue=H._owner;if(X!=null){if(X.ref!==void 0&&(we=X.ref,ue=q.current),X.key!==void 0&&(Ee=""+X.key),H.type&&H.type.defaultProps)var _e=H.type.defaultProps;for(Pe in X)F.call(X,Pe)&&!M.hasOwnProperty(Pe)&&(fe[Pe]=X[Pe]===void 0&&_e!==void 0?_e[Pe]:X[Pe])}var Pe=arguments.length-2;if(Pe===1)fe.children=ne;else if(1<Pe){_e=Array(Pe);for(var Ne=0;Ne<Pe;Ne++)_e[Ne]=arguments[Ne+2];fe.children=_e}return{$$typeof:t,type:H.type,key:Ee,ref:we,props:fe,_owner:ue}},Ke.createContext=function(H){return H={$$typeof:l,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:o,_context:H},H.Consumer=H},Ke.createElement=N,Ke.createFactory=function(H){var X=N.bind(null,H);return X.type=H,X},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function(H){return{$$typeof:c,render:H}},Ke.isValidElement=V,Ke.lazy=function(H){return{$$typeof:g,_payload:{_status:-1,_result:H},_init:ee}},Ke.memo=function(H,X){return{$$typeof:h,type:H,compare:X===void 0?null:X}},Ke.startTransition=function(H){var X=z.transition;z.transition={};try{H()}finally{z.transition=X}},Ke.unstable_act=le,Ke.useCallback=function(H,X){return te.current.useCallback(H,X)},Ke.useContext=function(H){return te.current.useContext(H)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function(H){return te.current.useDeferredValue(H)},Ke.useEffect=function(H,X){return te.current.useEffect(H,X)},Ke.useId=function(){return te.current.useId()},Ke.useImperativeHandle=function(H,X,ne){return te.current.useImperativeHandle(H,X,ne)},Ke.useInsertionEffect=function(H,X){return te.current.useInsertionEffect(H,X)},Ke.useLayoutEffect=function(H,X){return te.current.useLayoutEffect(H,X)},Ke.useMemo=function(H,X){return te.current.useMemo(H,X)},Ke.useReducer=function(H,X,ne){return te.current.useReducer(H,X,ne)},Ke.useRef=function(H){return te.current.useRef(H)},Ke.useState=function(H){return te.current.useState(H)},Ke.useSyncExternalStore=function(H,X,ne){return te.current.useSyncExternalStore(H,X,ne)},Ke.useTransition=function(){return te.current.useTransition()},Ke.version="18.3.1",Ke}var Gb;function bv(){return Gb||(Gb=1,Jg.exports=oM()),Jg.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yb;function aM(){if(Yb)return Eu;Yb=1;var t=bv(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,h){var g,y={},v=null,b=null;h!==void 0&&(v=""+h),d.key!==void 0&&(v=""+d.key),d.ref!==void 0&&(b=d.ref);for(g in d)r.call(d,g)&&!o.hasOwnProperty(g)&&(y[g]=d[g]);if(c&&c.defaultProps)for(g in d=c.defaultProps,d)y[g]===void 0&&(y[g]=d[g]);return{$$typeof:e,type:c,key:v,ref:b,props:y,_owner:s.current}}return Eu.Fragment=n,Eu.jsx=l,Eu.jsxs=l,Eu}var Qb;function lM(){return Qb||(Qb=1,Xg.exports=aM()),Xg.exports}var f=lM(),x=bv();const me=_v(x),W1=iM({__proto__:null,default:me},[x]);var sf={},Zg={exports:{}},cr={},ey={exports:{}},ty={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xb;function cM(){return Xb||(Xb=1,function(t){function e(z,oe){var le=z.length;z.push(oe);e:for(;0<le;){var H=le-1>>>1,X=z[H];if(0<s(X,oe))z[H]=oe,z[le]=X,le=H;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var oe=z[0],le=z.pop();if(le!==oe){z[0]=le;e:for(var H=0,X=z.length,ne=X>>>1;H<ne;){var fe=2*(H+1)-1,Ee=z[fe],we=fe+1,ue=z[we];if(0>s(Ee,le))we<X&&0>s(ue,Ee)?(z[H]=ue,z[we]=le,H=we):(z[H]=Ee,z[fe]=le,H=fe);else if(we<X&&0>s(ue,le))z[H]=ue,z[we]=le,H=we;else break e}}return oe}function s(z,oe){var le=z.sortIndex-oe.sortIndex;return le!==0?le:z.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var d=[],h=[],g=1,y=null,v=3,b=!1,S=!1,k=!1,T=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(z){for(var oe=n(h);oe!==null;){if(oe.callback===null)r(h);else if(oe.startTime<=z)r(h),oe.sortIndex=oe.expirationTime,e(d,oe);else break;oe=n(h)}}function L(z){if(k=!1,R(z),!S)if(n(d)!==null)S=!0,ee(F);else{var oe=n(h);oe!==null&&te(L,oe.startTime-z)}}function F(z,oe){S=!1,k&&(k=!1,C(N),N=-1),b=!0;var le=v;try{for(R(oe),y=n(d);y!==null&&(!(y.expirationTime>oe)||z&&!U());){var H=y.callback;if(typeof H=="function"){y.callback=null,v=y.priorityLevel;var X=H(y.expirationTime<=oe);oe=t.unstable_now(),typeof X=="function"?y.callback=X:y===n(d)&&r(d),R(oe)}else r(d);y=n(d)}if(y!==null)var ne=!0;else{var fe=n(h);fe!==null&&te(L,fe.startTime-oe),ne=!1}return ne}finally{y=null,v=le,b=!1}}var q=!1,M=null,N=-1,O=5,V=-1;function U(){return!(t.unstable_now()-V<O)}function $(){if(M!==null){var z=t.unstable_now();V=z;var oe=!0;try{oe=M(!0,z)}finally{oe?D():(q=!1,M=null)}}else q=!1}var D;if(typeof P=="function")D=function(){P($)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,ie=se.port2;se.port1.onmessage=$,D=function(){ie.postMessage(null)}}else D=function(){T($,0)};function ee(z){M=z,q||(q=!0,D())}function te(z,oe){N=T(function(){z(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){S||b||(S=!0,ee(F))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(z){switch(v){case 1:case 2:case 3:var oe=3;break;default:oe=v}var le=v;v=oe;try{return z()}finally{v=le}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,oe){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var le=v;v=z;try{return oe()}finally{v=le}},t.unstable_scheduleCallback=function(z,oe,le){var H=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?H+le:H):le=H,z){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=le+X,z={id:g++,callback:oe,priorityLevel:z,startTime:le,expirationTime:X,sortIndex:-1},le>H?(z.sortIndex=le,e(h,z),n(d)===null&&z===n(h)&&(k?(C(N),N=-1):k=!0,te(L,le-H))):(z.sortIndex=X,e(d,z),S||b||(S=!0,ee(F))),z},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(z){var oe=v;return function(){var le=v;v=oe;try{return z.apply(this,arguments)}finally{v=le}}}}(ty)),ty}var Jb;function uM(){return Jb||(Jb=1,ey.exports=cM()),ey.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zb;function dM(){if(Zb)return cr;Zb=1;var t=bv(),e=uM();function n(i){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function o(i,a){l(i,a),l(i+"Capture",a)}function l(i,a){for(s[i]=a,i=0;i<a.length;i++)r.add(a[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function v(i){return d.call(y,i)?!0:d.call(g,i)?!1:h.test(i)?y[i]=!0:(g[i]=!0,!1)}function b(i,a,u,m){if(u!==null&&u.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return m?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function S(i,a,u,m){if(a===null||typeof a>"u"||b(i,a,u,m))return!0;if(m)return!1;if(u!==null)switch(u.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function k(i,a,u,m,w,E,A){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=m,this.attributeNamespace=w,this.mustUseProperty=u,this.propertyName=i,this.type=a,this.sanitizeURL=E,this.removeEmptyString=A}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){T[i]=new k(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var a=i[0];T[a]=new k(a,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){T[i]=new k(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){T[i]=new k(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){T[i]=new k(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){T[i]=new k(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){T[i]=new k(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){T[i]=new k(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){T[i]=new k(i,5,!1,i.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function P(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var a=i.replace(C,P);T[a]=new k(a,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var a=i.replace(C,P);T[a]=new k(a,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var a=i.replace(C,P);T[a]=new k(a,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){T[i]=new k(i,1,!1,i.toLowerCase(),null,!1,!1)}),T.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){T[i]=new k(i,1,!1,i.toLowerCase(),null,!0,!0)});function R(i,a,u,m){var w=T.hasOwnProperty(a)?T[a]:null;(w!==null?w.type!==0:m||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(S(a,u,w,m)&&(u=null),m||w===null?v(a)&&(u===null?i.removeAttribute(a):i.setAttribute(a,""+u)):w.mustUseProperty?i[w.propertyName]=u===null?w.type===3?!1:"":u:(a=w.attributeName,m=w.attributeNamespace,u===null?i.removeAttribute(a):(w=w.type,u=w===3||w===4&&u===!0?"":""+u,m?i.setAttributeNS(m,a,u):i.setAttribute(a,u))))}var L=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,F=Symbol.for("react.element"),q=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),U=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),ie=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),te=Symbol.for("react.offscreen"),z=Symbol.iterator;function oe(i){return i===null||typeof i!="object"?null:(i=z&&i[z]||i["@@iterator"],typeof i=="function"?i:null)}var le=Object.assign,H;function X(i){if(H===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);H=a&&a[1]||""}return`
`+H+i}var ne=!1;function fe(i,a){if(!i||ne)return"";ne=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(J){var m=J}Reflect.construct(i,[],a)}else{try{a.call()}catch(J){m=J}i.call(a.prototype)}else{try{throw Error()}catch(J){m=J}i()}}catch(J){if(J&&m&&typeof J.stack=="string"){for(var w=J.stack.split(`
`),E=m.stack.split(`
`),A=w.length-1,B=E.length-1;1<=A&&0<=B&&w[A]!==E[B];)B--;for(;1<=A&&0<=B;A--,B--)if(w[A]!==E[B]){if(A!==1||B!==1)do if(A--,B--,0>B||w[A]!==E[B]){var W=`
`+w[A].replace(" at new "," at ");return i.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",i.displayName)),W}while(1<=A&&0<=B);break}}}finally{ne=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?X(i):""}function Ee(i){switch(i.tag){case 5:return X(i.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return i=fe(i.type,!1),i;case 11:return i=fe(i.type.render,!1),i;case 1:return i=fe(i.type,!0),i;default:return""}}function we(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case M:return"Fragment";case q:return"Portal";case O:return"Profiler";case N:return"StrictMode";case D:return"Suspense";case se:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case U:return(i.displayName||"Context")+".Consumer";case V:return(i._context.displayName||"Context")+".Provider";case $:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case ie:return a=i.displayName||null,a!==null?a:we(i.type)||"Memo";case ee:a=i._payload,i=i._init;try{return we(i(a))}catch{}}return null}function ue(i){var a=i.type;switch(i.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=a.render,i=i.displayName||i.name||"",a.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return we(a);case 8:return a===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function _e(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Pe(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ne(i){var a=Pe(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),m=""+i[a];if(!i.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var w=u.get,E=u.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return w.call(this)},set:function(A){m=""+A,E.call(this,A)}}),Object.defineProperty(i,a,{enumerable:u.enumerable}),{getValue:function(){return m},setValue:function(A){m=""+A},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function $e(i){i._valueTracker||(i._valueTracker=Ne(i))}function He(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var u=a.getValue(),m="";return i&&(m=Pe(i)?i.checked?"true":"false":i.value),i=m,i!==u?(a.setValue(i),!0):!1}function _t(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Ot(i,a){var u=a.checked;return le({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function Qn(i,a){var u=a.defaultValue==null?"":a.defaultValue,m=a.checked!=null?a.checked:a.defaultChecked;u=_e(a.value!=null?a.value:u),i._wrapperState={initialChecked:m,initialValue:u,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Xn(i,a){a=a.checked,a!=null&&R(i,"checked",a,!1)}function vn(i,a){Xn(i,a);var u=_e(a.value),m=a.type;if(u!=null)m==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(m==="submit"||m==="reset"){i.removeAttribute("value");return}a.hasOwnProperty("value")?Bt(i,a.type,u):a.hasOwnProperty("defaultValue")&&Bt(i,a.type,_e(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(i.defaultChecked=!!a.defaultChecked)}function ni(i,a,u){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var m=a.type;if(!(m!=="submit"&&m!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+i._wrapperState.initialValue,u||a===i.value||(i.value=a),i.defaultValue=a}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function Bt(i,a,u){(a!=="number"||_t(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var Wr=Array.isArray;function qr(i,a,u,m){if(i=i.options,a){a={};for(var w=0;w<u.length;w++)a["$"+u[w]]=!0;for(u=0;u<i.length;u++)w=a.hasOwnProperty("$"+i[u].value),i[u].selected!==w&&(i[u].selected=w),w&&m&&(i[u].defaultSelected=!0)}else{for(u=""+_e(u),a=null,w=0;w<i.length;w++){if(i[w].value===u){i[w].selected=!0,m&&(i[w].defaultSelected=!0);return}a!==null||i[w].disabled||(a=i[w])}a!==null&&(a.selected=!0)}}function tn(i,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return le({},a,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function pr(i,a){var u=a.value;if(u==null){if(u=a.children,a=a.defaultValue,u!=null){if(a!=null)throw Error(n(92));if(Wr(u)){if(1<u.length)throw Error(n(93));u=u[0]}a=u}a==null&&(a=""),u=a}i._wrapperState={initialValue:_e(u)}}function Bi(i,a){var u=_e(a.value),m=_e(a.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),a.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),m!=null&&(i.defaultValue=""+m)}function Yo(i){var a=i.textContent;a===i._wrapperState.initialValue&&a!==""&&a!==null&&(i.value=a)}function bt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $t(i,a){return i==null||i==="http://www.w3.org/1999/xhtml"?bt(a):i==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Nr,ri=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,u,m,w){MSApp.execUnsafeLocalFunction(function(){return i(a,u,m,w)})}:i}(function(i,a){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=a;else{for(Nr=Nr||document.createElement("div"),Nr.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Nr.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;a.firstChild;)i.appendChild(a.firstChild)}});function Fn(i,a){if(a){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=a;return}}i.textContent=a}var xs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Jn=["Webkit","ms","Moz","O"];Object.keys(xs).forEach(function(i){Jn.forEach(function(a){a=a+i.charAt(0).toUpperCase()+i.substring(1),xs[a]=xs[i]})});function Qo(i,a,u){return a==null||typeof a=="boolean"||a===""?"":u||typeof a!="number"||a===0||xs.hasOwnProperty(i)&&xs[i]?(""+a).trim():a+"px"}function Xo(i,a){i=i.style;for(var u in a)if(a.hasOwnProperty(u)){var m=u.indexOf("--")===0,w=Qo(u,a[u],m);u==="float"&&(u="cssFloat"),m?i.setProperty(u,w):i[u]=w}}var $i=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zi(i,a){if(a){if($i[i]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function Jo(i,a){if(i.indexOf("-")===-1)return typeof a.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kr=null;function Un(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Hi=null,Zn=null,mr=null;function si(i){if(i=lu(i)){if(typeof Hi!="function")throw Error(n(280));var a=i.stateNode;a&&(a=wh(a),Hi(i.stateNode,i.type,a))}}function De(i){Zn?mr?mr.push(i):mr=[i]:Zn=i}function Et(){if(Zn){var i=Zn,a=mr;if(mr=Zn=null,si(i),a)for(i=0;i<a.length;i++)si(a[i])}}function kt(i,a){return i(a)}function nn(){}var er=!1;function Ct(i,a,u){if(er)return i(a,u);er=!0;try{return kt(i,a,u)}finally{er=!1,(Zn!==null||mr!==null)&&(nn(),Et())}}function Ze(i,a){var u=i.stateNode;if(u===null)return null;var m=wh(u);if(m===null)return null;u=m[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(i=i.type,m=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!m;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(n(231,a,typeof u));return u}var Gr=!1;if(c)try{var Nt={};Object.defineProperty(Nt,"passive",{get:function(){Gr=!0}}),window.addEventListener("test",Nt,Nt),window.removeEventListener("test",Nt,Nt)}catch{Gr=!1}function rn(i,a,u,m,w,E,A,B,W){var J=Array.prototype.slice.call(arguments,3);try{a.apply(u,J)}catch(de){this.onError(de)}}var _s=!1,tr=null,Ar=!1,$c=null,Sm={onError:function(i){_s=!0,tr=i}};function rl(i,a,u,m,w,E,A,B,W){_s=!1,tr=null,rn.apply(Sm,arguments)}function Hd(i,a,u,m,w,E,A,B,W){if(rl.apply(this,arguments),_s){if(_s){var J=tr;_s=!1,tr=null}else throw Error(n(198));Ar||(Ar=!0,$c=J)}}function Yr(i){var a=i,u=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(u=a.return),i=a.return;while(i)}return a.tag===3?u:null}function Zo(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function Qr(i){if(Yr(i)!==i)throw Error(n(188))}function Wd(i){var a=i.alternate;if(!a){if(a=Yr(i),a===null)throw Error(n(188));return a!==i?null:i}for(var u=i,m=a;;){var w=u.return;if(w===null)break;var E=w.alternate;if(E===null){if(m=w.return,m!==null){u=m;continue}break}if(w.child===E.child){for(E=w.child;E;){if(E===u)return Qr(w),i;if(E===m)return Qr(w),a;E=E.sibling}throw Error(n(188))}if(u.return!==m.return)u=w,m=E;else{for(var A=!1,B=w.child;B;){if(B===u){A=!0,u=w,m=E;break}if(B===m){A=!0,m=w,u=E;break}B=B.sibling}if(!A){for(B=E.child;B;){if(B===u){A=!0,u=E,m=w;break}if(B===m){A=!0,m=E,u=w;break}B=B.sibling}if(!A)throw Error(n(189))}}if(u.alternate!==m)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?i:a}function zc(i){return i=Wd(i),i!==null?sl(i):null}function sl(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var a=sl(i);if(a!==null)return a;i=i.sibling}return null}var il=e.unstable_scheduleCallback,Hc=e.unstable_cancelCallback,qd=e.unstable_shouldYield,Tm=e.unstable_requestPaint,pt=e.unstable_now,Kd=e.unstable_getCurrentPriorityLevel,ea=e.unstable_ImmediatePriority,Wi=e.unstable_UserBlockingPriority,Pr=e.unstable_NormalPriority,Wc=e.unstable_LowPriority,Gd=e.unstable_IdlePriority,ta=null,gr=null;function Yd(i){if(gr&&typeof gr.onCommitFiberRoot=="function")try{gr.onCommitFiberRoot(ta,i,void 0,(i.current.flags&128)===128)}catch{}}var Bn=Math.clz32?Math.clz32:Xd,qc=Math.log,Qd=Math.LN2;function Xd(i){return i>>>=0,i===0?32:31-(qc(i)/Qd|0)|0}var ol=64,al=4194304;function qi(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function na(i,a){var u=i.pendingLanes;if(u===0)return 0;var m=0,w=i.suspendedLanes,E=i.pingedLanes,A=u&268435455;if(A!==0){var B=A&~w;B!==0?m=qi(B):(E&=A,E!==0&&(m=qi(E)))}else A=u&~w,A!==0?m=qi(A):E!==0&&(m=qi(E));if(m===0)return 0;if(a!==0&&a!==m&&(a&w)===0&&(w=m&-m,E=a&-a,w>=E||w===16&&(E&4194240)!==0))return a;if((m&4)!==0&&(m|=u&16),a=i.entangledLanes,a!==0)for(i=i.entanglements,a&=m;0<a;)u=31-Bn(a),w=1<<u,m|=i[u],a&=~w;return m}function Im(i,a){switch(i){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ii(i,a){for(var u=i.suspendedLanes,m=i.pingedLanes,w=i.expirationTimes,E=i.pendingLanes;0<E;){var A=31-Bn(E),B=1<<A,W=w[A];W===-1?((B&u)===0||(B&m)!==0)&&(w[A]=Im(B,a)):W<=a&&(i.expiredLanes|=B),E&=~B}}function yr(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function ra(){var i=ol;return ol<<=1,(ol&4194240)===0&&(ol=64),i}function Ki(i){for(var a=[],u=0;31>u;u++)a.push(i);return a}function Gi(i,a,u){i.pendingLanes|=a,a!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,a=31-Bn(a),i[a]=u}function ft(i,a){var u=i.pendingLanes&~a;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=a,i.mutableReadLanes&=a,i.entangledLanes&=a,a=i.entanglements;var m=i.eventTimes;for(i=i.expirationTimes;0<u;){var w=31-Bn(u),E=1<<w;a[w]=0,m[w]=-1,i[w]=-1,u&=~E}}function Yi(i,a){var u=i.entangledLanes|=a;for(i=i.entanglements;u;){var m=31-Bn(u),w=1<<m;w&a|i[m]&a&&(i[m]|=a),u&=~w}}var Je=0;function Qi(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Jd,ll,Zd,eh,th,Kc=!1,bs=[],wn=null,Xr=null,Jr=null,Xi=new Map,Rr=new Map,Es=[],Cm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nh(i,a){switch(i){case"focusin":case"focusout":wn=null;break;case"dragenter":case"dragleave":Xr=null;break;case"mouseover":case"mouseout":Jr=null;break;case"pointerover":case"pointerout":Xi.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rr.delete(a.pointerId)}}function nr(i,a,u,m,w,E){return i===null||i.nativeEvent!==E?(i={blockedOn:a,domEventName:u,eventSystemFlags:m,nativeEvent:E,targetContainers:[w]},a!==null&&(a=lu(a),a!==null&&ll(a)),i):(i.eventSystemFlags|=m,a=i.targetContainers,w!==null&&a.indexOf(w)===-1&&a.push(w),i)}function Nm(i,a,u,m,w){switch(a){case"focusin":return wn=nr(wn,i,a,u,m,w),!0;case"dragenter":return Xr=nr(Xr,i,a,u,m,w),!0;case"mouseover":return Jr=nr(Jr,i,a,u,m,w),!0;case"pointerover":var E=w.pointerId;return Xi.set(E,nr(Xi.get(E)||null,i,a,u,m,w)),!0;case"gotpointercapture":return E=w.pointerId,Rr.set(E,nr(Rr.get(E)||null,i,a,u,m,w)),!0}return!1}function rh(i){var a=la(i.target);if(a!==null){var u=Yr(a);if(u!==null){if(a=u.tag,a===13){if(a=Zo(u),a!==null){i.blockedOn=a,th(i.priority,function(){Zd(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function oi(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var u=cl(i.domEventName,i.eventSystemFlags,a[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var m=new u.constructor(u.type,u);Kr=m,u.target.dispatchEvent(m),Kr=null}else return a=lu(u),a!==null&&ll(a),i.blockedOn=u,!1;a.shift()}return!0}function sa(i,a,u){oi(i)&&u.delete(a)}function sh(){Kc=!1,wn!==null&&oi(wn)&&(wn=null),Xr!==null&&oi(Xr)&&(Xr=null),Jr!==null&&oi(Jr)&&(Jr=null),Xi.forEach(sa),Rr.forEach(sa)}function Zr(i,a){i.blockedOn===a&&(i.blockedOn=null,Kc||(Kc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,sh)))}function es(i){function a(w){return Zr(w,i)}if(0<bs.length){Zr(bs[0],i);for(var u=1;u<bs.length;u++){var m=bs[u];m.blockedOn===i&&(m.blockedOn=null)}}for(wn!==null&&Zr(wn,i),Xr!==null&&Zr(Xr,i),Jr!==null&&Zr(Jr,i),Xi.forEach(a),Rr.forEach(a),u=0;u<Es.length;u++)m=Es[u],m.blockedOn===i&&(m.blockedOn=null);for(;0<Es.length&&(u=Es[0],u.blockedOn===null);)rh(u),u.blockedOn===null&&Es.shift()}var ai=L.ReactCurrentBatchConfig,Ji=!0;function St(i,a,u,m){var w=Je,E=ai.transition;ai.transition=null;try{Je=1,Gc(i,a,u,m)}finally{Je=w,ai.transition=E}}function Am(i,a,u,m){var w=Je,E=ai.transition;ai.transition=null;try{Je=4,Gc(i,a,u,m)}finally{Je=w,ai.transition=E}}function Gc(i,a,u,m){if(Ji){var w=cl(i,a,u,m);if(w===null)Bm(i,a,m,ia,u),nh(i,m);else if(Nm(w,i,a,u,m))m.stopPropagation();else if(nh(i,m),a&4&&-1<Cm.indexOf(i)){for(;w!==null;){var E=lu(w);if(E!==null&&Jd(E),E=cl(i,a,u,m),E===null&&Bm(i,a,m,ia,u),E===w)break;w=E}w!==null&&m.stopPropagation()}else Bm(i,a,m,null,u)}}var ia=null;function cl(i,a,u,m){if(ia=null,i=Un(m),i=la(i),i!==null)if(a=Yr(i),a===null)i=null;else if(u=a.tag,u===13){if(i=Zo(a),i!==null)return i;i=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null);return ia=i,null}function Yc(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Kd()){case ea:return 1;case Wi:return 4;case Pr:case Wc:return 16;case Gd:return 536870912;default:return 16}default:return 16}}var vr=null,ul=null,rr=null;function Qc(){if(rr)return rr;var i,a=ul,u=a.length,m,w="value"in vr?vr.value:vr.textContent,E=w.length;for(i=0;i<u&&a[i]===w[i];i++);var A=u-i;for(m=1;m<=A&&a[u-m]===w[E-m];m++);return rr=w.slice(i,1<m?1-m:void 0)}function dl(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function ks(){return!0}function Xc(){return!1}function xn(i){function a(u,m,w,E,A){this._reactName=u,this._targetInst=w,this.type=m,this.nativeEvent=E,this.target=A,this.currentTarget=null;for(var B in i)i.hasOwnProperty(B)&&(u=i[B],this[B]=u?u(E):E[B]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?ks:Xc,this.isPropagationStopped=Xc,this}return le(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=ks)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=ks)},persist:function(){},isPersistent:ks}),a}var ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hl=xn(ts),Ss=le({},ts,{view:0,detail:0}),Pm=xn(Ss),fl,li,Zi,oa=le({},Ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ts,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Zi&&(Zi&&i.type==="mousemove"?(fl=i.screenX-Zi.screenX,li=i.screenY-Zi.screenY):li=fl=0,Zi=i),fl)},movementY:function(i){return"movementY"in i?i.movementY:li}}),pl=xn(oa),Jc=le({},oa,{dataTransfer:0}),ih=xn(Jc),ml=le({},Ss,{relatedTarget:0}),gl=xn(ml),oh=le({},ts,{animationName:0,elapsedTime:0,pseudoElement:0}),ci=xn(oh),ah=le({},ts,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),lh=xn(ah),ch=le({},ts,{data:0}),Zc=xn(ch),yl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dh(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=uh[i])?!!a[i]:!1}function Ts(){return dh}var p=le({},Ss,{key:function(i){if(i.key){var a=yl[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=dl(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?$n[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ts,charCode:function(i){return i.type==="keypress"?dl(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?dl(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),_=xn(p),I=le({},oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),j=xn(I),G=le({},Ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ts}),Z=xn(G),ge=le({},ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),dt=xn(ge),sn=le({},oa,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),et=xn(sn),dn=[9,13,27,32],Gt=c&&"CompositionEvent"in window,Dr=null;c&&"documentMode"in document&&(Dr=document.documentMode);var wr=c&&"TextEvent"in window&&!Dr,aa=c&&(!Gt||Dr&&8<Dr&&11>=Dr),vl=" ",Bx=!1;function $x(i,a){switch(i){case"keyup":return dn.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zx(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var wl=!1;function nD(i,a){switch(i){case"compositionend":return zx(a);case"keypress":return a.which!==32?null:(Bx=!0,vl);case"textInput":return i=a.data,i===vl&&Bx?null:i;default:return null}}function rD(i,a){if(wl)return i==="compositionend"||!Gt&&$x(i,a)?(i=Qc(),rr=ul=vr=null,wl=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return aa&&a.locale!=="ko"?null:a.data;default:return null}}var sD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hx(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!sD[i.type]:a==="textarea"}function Wx(i,a,u,m){De(m),a=gh(a,"onChange"),0<a.length&&(u=new hl("onChange","change",null,u,m),i.push({event:u,listeners:a}))}var eu=null,tu=null;function iD(i){c_(i,0)}function hh(i){var a=kl(i);if(He(a))return i}function oD(i,a){if(i==="change")return a}var qx=!1;if(c){var Rm;if(c){var Dm="oninput"in document;if(!Dm){var Kx=document.createElement("div");Kx.setAttribute("oninput","return;"),Dm=typeof Kx.oninput=="function"}Rm=Dm}else Rm=!1;qx=Rm&&(!document.documentMode||9<document.documentMode)}function Gx(){eu&&(eu.detachEvent("onpropertychange",Yx),tu=eu=null)}function Yx(i){if(i.propertyName==="value"&&hh(tu)){var a=[];Wx(a,tu,i,Un(i)),Ct(iD,a)}}function aD(i,a,u){i==="focusin"?(Gx(),eu=a,tu=u,eu.attachEvent("onpropertychange",Yx)):i==="focusout"&&Gx()}function lD(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return hh(tu)}function cD(i,a){if(i==="click")return hh(a)}function uD(i,a){if(i==="input"||i==="change")return hh(a)}function dD(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var ns=typeof Object.is=="function"?Object.is:dD;function nu(i,a){if(ns(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var u=Object.keys(i),m=Object.keys(a);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var w=u[m];if(!d.call(a,w)||!ns(i[w],a[w]))return!1}return!0}function Qx(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Xx(i,a){var u=Qx(i);i=0;for(var m;u;){if(u.nodeType===3){if(m=i+u.textContent.length,i<=a&&m>=a)return{node:u,offset:a-i};i=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Qx(u)}}function Jx(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?Jx(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function Zx(){for(var i=window,a=_t();a instanceof i.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)i=a.contentWindow;else break;a=_t(i.document)}return a}function Mm(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}function hD(i){var a=Zx(),u=i.focusedElem,m=i.selectionRange;if(a!==u&&u&&u.ownerDocument&&Jx(u.ownerDocument.documentElement,u)){if(m!==null&&Mm(u)){if(a=m.start,i=m.end,i===void 0&&(i=a),"selectionStart"in u)u.selectionStart=a,u.selectionEnd=Math.min(i,u.value.length);else if(i=(a=u.ownerDocument||document)&&a.defaultView||window,i.getSelection){i=i.getSelection();var w=u.textContent.length,E=Math.min(m.start,w);m=m.end===void 0?E:Math.min(m.end,w),!i.extend&&E>m&&(w=m,m=E,E=w),w=Xx(u,E);var A=Xx(u,m);w&&A&&(i.rangeCount!==1||i.anchorNode!==w.node||i.anchorOffset!==w.offset||i.focusNode!==A.node||i.focusOffset!==A.offset)&&(a=a.createRange(),a.setStart(w.node,w.offset),i.removeAllRanges(),E>m?(i.addRange(a),i.extend(A.node,A.offset)):(a.setEnd(A.node,A.offset),i.addRange(a)))}}for(a=[],i=u;i=i.parentNode;)i.nodeType===1&&a.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<a.length;u++)i=a[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var fD=c&&"documentMode"in document&&11>=document.documentMode,xl=null,jm=null,ru=null,Om=!1;function e_(i,a,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Om||xl==null||xl!==_t(m)||(m=xl,"selectionStart"in m&&Mm(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),ru&&nu(ru,m)||(ru=m,m=gh(jm,"onSelect"),0<m.length&&(a=new hl("onSelect","select",null,a,u),i.push({event:a,listeners:m}),a.target=xl)))}function fh(i,a){var u={};return u[i.toLowerCase()]=a.toLowerCase(),u["Webkit"+i]="webkit"+a,u["Moz"+i]="moz"+a,u}var _l={animationend:fh("Animation","AnimationEnd"),animationiteration:fh("Animation","AnimationIteration"),animationstart:fh("Animation","AnimationStart"),transitionend:fh("Transition","TransitionEnd")},Lm={},t_={};c&&(t_=document.createElement("div").style,"AnimationEvent"in window||(delete _l.animationend.animation,delete _l.animationiteration.animation,delete _l.animationstart.animation),"TransitionEvent"in window||delete _l.transitionend.transition);function ph(i){if(Lm[i])return Lm[i];if(!_l[i])return i;var a=_l[i],u;for(u in a)if(a.hasOwnProperty(u)&&u in t_)return Lm[i]=a[u];return i}var n_=ph("animationend"),r_=ph("animationiteration"),s_=ph("animationstart"),i_=ph("transitionend"),o_=new Map,a_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function eo(i,a){o_.set(i,a),o(a,[i])}for(var Vm=0;Vm<a_.length;Vm++){var Fm=a_[Vm],pD=Fm.toLowerCase(),mD=Fm[0].toUpperCase()+Fm.slice(1);eo(pD,"on"+mD)}eo(n_,"onAnimationEnd"),eo(r_,"onAnimationIteration"),eo(s_,"onAnimationStart"),eo("dblclick","onDoubleClick"),eo("focusin","onFocus"),eo("focusout","onBlur"),eo(i_,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var su="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gD=new Set("cancel close invalid load scroll toggle".split(" ").concat(su));function l_(i,a,u){var m=i.type||"unknown-event";i.currentTarget=u,Hd(m,a,void 0,i),i.currentTarget=null}function c_(i,a){a=(a&4)!==0;for(var u=0;u<i.length;u++){var m=i[u],w=m.event;m=m.listeners;e:{var E=void 0;if(a)for(var A=m.length-1;0<=A;A--){var B=m[A],W=B.instance,J=B.currentTarget;if(B=B.listener,W!==E&&w.isPropagationStopped())break e;l_(w,B,J),E=W}else for(A=0;A<m.length;A++){if(B=m[A],W=B.instance,J=B.currentTarget,B=B.listener,W!==E&&w.isPropagationStopped())break e;l_(w,B,J),E=W}}}if(Ar)throw i=$c,Ar=!1,$c=null,i}function vt(i,a){var u=a[Km];u===void 0&&(u=a[Km]=new Set);var m=i+"__bubble";u.has(m)||(u_(a,i,2,!1),u.add(m))}function Um(i,a,u){var m=0;a&&(m|=4),u_(u,i,m,a)}var mh="_reactListening"+Math.random().toString(36).slice(2);function iu(i){if(!i[mh]){i[mh]=!0,r.forEach(function(u){u!=="selectionchange"&&(gD.has(u)||Um(u,!1,i),Um(u,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[mh]||(a[mh]=!0,Um("selectionchange",!1,a))}}function u_(i,a,u,m){switch(Yc(a)){case 1:var w=St;break;case 4:w=Am;break;default:w=Gc}u=w.bind(null,a,u,i),w=void 0,!Gr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(w=!0),m?w!==void 0?i.addEventListener(a,u,{capture:!0,passive:w}):i.addEventListener(a,u,!0):w!==void 0?i.addEventListener(a,u,{passive:w}):i.addEventListener(a,u,!1)}function Bm(i,a,u,m,w){var E=m;if((a&1)===0&&(a&2)===0&&m!==null)e:for(;;){if(m===null)return;var A=m.tag;if(A===3||A===4){var B=m.stateNode.containerInfo;if(B===w||B.nodeType===8&&B.parentNode===w)break;if(A===4)for(A=m.return;A!==null;){var W=A.tag;if((W===3||W===4)&&(W=A.stateNode.containerInfo,W===w||W.nodeType===8&&W.parentNode===w))return;A=A.return}for(;B!==null;){if(A=la(B),A===null)return;if(W=A.tag,W===5||W===6){m=E=A;continue e}B=B.parentNode}}m=m.return}Ct(function(){var J=E,de=Un(u),he=[];e:{var ce=o_.get(i);if(ce!==void 0){var ve=hl,ke=i;switch(i){case"keypress":if(dl(u)===0)break e;case"keydown":case"keyup":ve=_;break;case"focusin":ke="focus",ve=gl;break;case"focusout":ke="blur",ve=gl;break;case"beforeblur":case"afterblur":ve=gl;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=pl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=ih;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=Z;break;case n_:case r_:case s_:ve=ci;break;case i_:ve=dt;break;case"scroll":ve=Pm;break;case"wheel":ve=et;break;case"copy":case"cut":case"paste":ve=lh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=j}var Ie=(a&4)!==0,zt=!Ie&&i==="scroll",Y=Ie?ce!==null?ce+"Capture":null:ce;Ie=[];for(var K=J,Q;K!==null;){Q=K;var pe=Q.stateNode;if(Q.tag===5&&pe!==null&&(Q=pe,Y!==null&&(pe=Ze(K,Y),pe!=null&&Ie.push(ou(K,pe,Q)))),zt)break;K=K.return}0<Ie.length&&(ce=new ve(ce,ke,null,u,de),he.push({event:ce,listeners:Ie}))}}if((a&7)===0){e:{if(ce=i==="mouseover"||i==="pointerover",ve=i==="mouseout"||i==="pointerout",ce&&u!==Kr&&(ke=u.relatedTarget||u.fromElement)&&(la(ke)||ke[ui]))break e;if((ve||ce)&&(ce=de.window===de?de:(ce=de.ownerDocument)?ce.defaultView||ce.parentWindow:window,ve?(ke=u.relatedTarget||u.toElement,ve=J,ke=ke?la(ke):null,ke!==null&&(zt=Yr(ke),ke!==zt||ke.tag!==5&&ke.tag!==6)&&(ke=null)):(ve=null,ke=J),ve!==ke)){if(Ie=pl,pe="onMouseLeave",Y="onMouseEnter",K="mouse",(i==="pointerout"||i==="pointerover")&&(Ie=j,pe="onPointerLeave",Y="onPointerEnter",K="pointer"),zt=ve==null?ce:kl(ve),Q=ke==null?ce:kl(ke),ce=new Ie(pe,K+"leave",ve,u,de),ce.target=zt,ce.relatedTarget=Q,pe=null,la(de)===J&&(Ie=new Ie(Y,K+"enter",ke,u,de),Ie.target=Q,Ie.relatedTarget=zt,pe=Ie),zt=pe,ve&&ke)t:{for(Ie=ve,Y=ke,K=0,Q=Ie;Q;Q=bl(Q))K++;for(Q=0,pe=Y;pe;pe=bl(pe))Q++;for(;0<K-Q;)Ie=bl(Ie),K--;for(;0<Q-K;)Y=bl(Y),Q--;for(;K--;){if(Ie===Y||Y!==null&&Ie===Y.alternate)break t;Ie=bl(Ie),Y=bl(Y)}Ie=null}else Ie=null;ve!==null&&d_(he,ce,ve,Ie,!1),ke!==null&&zt!==null&&d_(he,zt,ke,Ie,!0)}}e:{if(ce=J?kl(J):window,ve=ce.nodeName&&ce.nodeName.toLowerCase(),ve==="select"||ve==="input"&&ce.type==="file")var Ce=oD;else if(Hx(ce))if(qx)Ce=uD;else{Ce=lD;var Me=aD}else(ve=ce.nodeName)&&ve.toLowerCase()==="input"&&(ce.type==="checkbox"||ce.type==="radio")&&(Ce=cD);if(Ce&&(Ce=Ce(i,J))){Wx(he,Ce,u,de);break e}Me&&Me(i,ce,J),i==="focusout"&&(Me=ce._wrapperState)&&Me.controlled&&ce.type==="number"&&Bt(ce,"number",ce.value)}switch(Me=J?kl(J):window,i){case"focusin":(Hx(Me)||Me.contentEditable==="true")&&(xl=Me,jm=J,ru=null);break;case"focusout":ru=jm=xl=null;break;case"mousedown":Om=!0;break;case"contextmenu":case"mouseup":case"dragend":Om=!1,e_(he,u,de);break;case"selectionchange":if(fD)break;case"keydown":case"keyup":e_(he,u,de)}var je;if(Gt)e:{switch(i){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else wl?$x(i,u)&&(Ue="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Ue="onCompositionStart");Ue&&(aa&&u.locale!=="ko"&&(wl||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&wl&&(je=Qc()):(vr=de,ul="value"in vr?vr.value:vr.textContent,wl=!0)),Me=gh(J,Ue),0<Me.length&&(Ue=new Zc(Ue,i,null,u,de),he.push({event:Ue,listeners:Me}),je?Ue.data=je:(je=zx(u),je!==null&&(Ue.data=je)))),(je=wr?nD(i,u):rD(i,u))&&(J=gh(J,"onBeforeInput"),0<J.length&&(de=new Zc("onBeforeInput","beforeinput",null,u,de),he.push({event:de,listeners:J}),de.data=je))}c_(he,a)})}function ou(i,a,u){return{instance:i,listener:a,currentTarget:u}}function gh(i,a){for(var u=a+"Capture",m=[];i!==null;){var w=i,E=w.stateNode;w.tag===5&&E!==null&&(w=E,E=Ze(i,u),E!=null&&m.unshift(ou(i,E,w)),E=Ze(i,a),E!=null&&m.push(ou(i,E,w))),i=i.return}return m}function bl(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function d_(i,a,u,m,w){for(var E=a._reactName,A=[];u!==null&&u!==m;){var B=u,W=B.alternate,J=B.stateNode;if(W!==null&&W===m)break;B.tag===5&&J!==null&&(B=J,w?(W=Ze(u,E),W!=null&&A.unshift(ou(u,W,B))):w||(W=Ze(u,E),W!=null&&A.push(ou(u,W,B)))),u=u.return}A.length!==0&&i.push({event:a,listeners:A})}var yD=/\r\n?/g,vD=/\u0000|\uFFFD/g;function h_(i){return(typeof i=="string"?i:""+i).replace(yD,`
`).replace(vD,"")}function yh(i,a,u){if(a=h_(a),h_(i)!==a&&u)throw Error(n(425))}function vh(){}var $m=null,zm=null;function Hm(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Wm=typeof setTimeout=="function"?setTimeout:void 0,wD=typeof clearTimeout=="function"?clearTimeout:void 0,f_=typeof Promise=="function"?Promise:void 0,xD=typeof queueMicrotask=="function"?queueMicrotask:typeof f_<"u"?function(i){return f_.resolve(null).then(i).catch(_D)}:Wm;function _D(i){setTimeout(function(){throw i})}function qm(i,a){var u=a,m=0;do{var w=u.nextSibling;if(i.removeChild(u),w&&w.nodeType===8)if(u=w.data,u==="/$"){if(m===0){i.removeChild(w),es(a);return}m--}else u!=="$"&&u!=="$?"&&u!=="$!"||m++;u=w}while(u);es(a)}function to(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return i}function p_(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return i;a--}else u==="/$"&&a++}i=i.previousSibling}return null}var El=Math.random().toString(36).slice(2),Is="__reactFiber$"+El,au="__reactProps$"+El,ui="__reactContainer$"+El,Km="__reactEvents$"+El,bD="__reactListeners$"+El,ED="__reactHandles$"+El;function la(i){var a=i[Is];if(a)return a;for(var u=i.parentNode;u;){if(a=u[ui]||u[Is]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(i=p_(i);i!==null;){if(u=i[Is])return u;i=p_(i)}return a}i=u,u=i.parentNode}return null}function lu(i){return i=i[Is]||i[ui],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function kl(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function wh(i){return i[au]||null}var Gm=[],Sl=-1;function no(i){return{current:i}}function wt(i){0>Sl||(i.current=Gm[Sl],Gm[Sl]=null,Sl--)}function mt(i,a){Sl++,Gm[Sl]=i.current,i.current=a}var ro={},In=no(ro),sr=no(!1),ca=ro;function Tl(i,a){var u=i.type.contextTypes;if(!u)return ro;var m=i.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===a)return m.__reactInternalMemoizedMaskedChildContext;var w={},E;for(E in u)w[E]=a[E];return m&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=a,i.__reactInternalMemoizedMaskedChildContext=w),w}function ir(i){return i=i.childContextTypes,i!=null}function xh(){wt(sr),wt(In)}function m_(i,a,u){if(In.current!==ro)throw Error(n(168));mt(In,a),mt(sr,u)}function g_(i,a,u){var m=i.stateNode;if(a=a.childContextTypes,typeof m.getChildContext!="function")return u;m=m.getChildContext();for(var w in m)if(!(w in a))throw Error(n(108,ue(i)||"Unknown",w));return le({},u,m)}function _h(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||ro,ca=In.current,mt(In,i),mt(sr,sr.current),!0}function y_(i,a,u){var m=i.stateNode;if(!m)throw Error(n(169));u?(i=g_(i,a,ca),m.__reactInternalMemoizedMergedChildContext=i,wt(sr),wt(In),mt(In,i)):wt(sr),mt(sr,u)}var di=null,bh=!1,Ym=!1;function v_(i){di===null?di=[i]:di.push(i)}function kD(i){bh=!0,v_(i)}function so(){if(!Ym&&di!==null){Ym=!0;var i=0,a=Je;try{var u=di;for(Je=1;i<u.length;i++){var m=u[i];do m=m(!0);while(m!==null)}di=null,bh=!1}catch(w){throw di!==null&&(di=di.slice(i+1)),il(ea,so),w}finally{Je=a,Ym=!1}}return null}var Il=[],Cl=0,Eh=null,kh=0,Mr=[],jr=0,ua=null,hi=1,fi="";function da(i,a){Il[Cl++]=kh,Il[Cl++]=Eh,Eh=i,kh=a}function w_(i,a,u){Mr[jr++]=hi,Mr[jr++]=fi,Mr[jr++]=ua,ua=i;var m=hi;i=fi;var w=32-Bn(m)-1;m&=~(1<<w),u+=1;var E=32-Bn(a)+w;if(30<E){var A=w-w%5;E=(m&(1<<A)-1).toString(32),m>>=A,w-=A,hi=1<<32-Bn(a)+w|u<<w|m,fi=E+i}else hi=1<<E|u<<w|m,fi=i}function Qm(i){i.return!==null&&(da(i,1),w_(i,1,0))}function Xm(i){for(;i===Eh;)Eh=Il[--Cl],Il[Cl]=null,kh=Il[--Cl],Il[Cl]=null;for(;i===ua;)ua=Mr[--jr],Mr[jr]=null,fi=Mr[--jr],Mr[jr]=null,hi=Mr[--jr],Mr[jr]=null}var xr=null,_r=null,Tt=!1,rs=null;function x_(i,a){var u=Fr(5,null,null,0);u.elementType="DELETED",u.stateNode=a,u.return=i,a=i.deletions,a===null?(i.deletions=[u],i.flags|=16):a.push(u)}function __(i,a){switch(i.tag){case 5:var u=i.type;return a=a.nodeType!==1||u.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(i.stateNode=a,xr=i,_r=to(a.firstChild),!0):!1;case 6:return a=i.pendingProps===""||a.nodeType!==3?null:a,a!==null?(i.stateNode=a,xr=i,_r=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(u=ua!==null?{id:hi,overflow:fi}:null,i.memoizedState={dehydrated:a,treeContext:u,retryLane:1073741824},u=Fr(18,null,null,0),u.stateNode=a,u.return=i,i.child=u,xr=i,_r=null,!0):!1;default:return!1}}function Jm(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Zm(i){if(Tt){var a=_r;if(a){var u=a;if(!__(i,a)){if(Jm(i))throw Error(n(418));a=to(u.nextSibling);var m=xr;a&&__(i,a)?x_(m,u):(i.flags=i.flags&-4097|2,Tt=!1,xr=i)}}else{if(Jm(i))throw Error(n(418));i.flags=i.flags&-4097|2,Tt=!1,xr=i}}}function b_(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;xr=i}function Sh(i){if(i!==xr)return!1;if(!Tt)return b_(i),Tt=!0,!1;var a;if((a=i.tag!==3)&&!(a=i.tag!==5)&&(a=i.type,a=a!=="head"&&a!=="body"&&!Hm(i.type,i.memoizedProps)),a&&(a=_r)){if(Jm(i))throw E_(),Error(n(418));for(;a;)x_(i,a),a=to(a.nextSibling)}if(b_(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(a===0){_r=to(i.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++}i=i.nextSibling}_r=null}}else _r=xr?to(i.stateNode.nextSibling):null;return!0}function E_(){for(var i=_r;i;)i=to(i.nextSibling)}function Nl(){_r=xr=null,Tt=!1}function eg(i){rs===null?rs=[i]:rs.push(i)}var SD=L.ReactCurrentBatchConfig;function cu(i,a,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var m=u.stateNode}if(!m)throw Error(n(147,i));var w=m,E=""+i;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===E?a.ref:(a=function(A){var B=w.refs;A===null?delete B[E]:B[E]=A},a._stringRef=E,a)}if(typeof i!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,i))}return i}function Th(i,a){throw i=Object.prototype.toString.call(a),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i))}function k_(i){var a=i._init;return a(i._payload)}function S_(i){function a(Y,K){if(i){var Q=Y.deletions;Q===null?(Y.deletions=[K],Y.flags|=16):Q.push(K)}}function u(Y,K){if(!i)return null;for(;K!==null;)a(Y,K),K=K.sibling;return null}function m(Y,K){for(Y=new Map;K!==null;)K.key!==null?Y.set(K.key,K):Y.set(K.index,K),K=K.sibling;return Y}function w(Y,K){return Y=fo(Y,K),Y.index=0,Y.sibling=null,Y}function E(Y,K,Q){return Y.index=Q,i?(Q=Y.alternate,Q!==null?(Q=Q.index,Q<K?(Y.flags|=2,K):Q):(Y.flags|=2,K)):(Y.flags|=1048576,K)}function A(Y){return i&&Y.alternate===null&&(Y.flags|=2),Y}function B(Y,K,Q,pe){return K===null||K.tag!==6?(K=Wg(Q,Y.mode,pe),K.return=Y,K):(K=w(K,Q),K.return=Y,K)}function W(Y,K,Q,pe){var Ce=Q.type;return Ce===M?de(Y,K,Q.props.children,pe,Q.key):K!==null&&(K.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===ee&&k_(Ce)===K.type)?(pe=w(K,Q.props),pe.ref=cu(Y,K,Q),pe.return=Y,pe):(pe=Qh(Q.type,Q.key,Q.props,null,Y.mode,pe),pe.ref=cu(Y,K,Q),pe.return=Y,pe)}function J(Y,K,Q,pe){return K===null||K.tag!==4||K.stateNode.containerInfo!==Q.containerInfo||K.stateNode.implementation!==Q.implementation?(K=qg(Q,Y.mode,pe),K.return=Y,K):(K=w(K,Q.children||[]),K.return=Y,K)}function de(Y,K,Q,pe,Ce){return K===null||K.tag!==7?(K=wa(Q,Y.mode,pe,Ce),K.return=Y,K):(K=w(K,Q),K.return=Y,K)}function he(Y,K,Q){if(typeof K=="string"&&K!==""||typeof K=="number")return K=Wg(""+K,Y.mode,Q),K.return=Y,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case F:return Q=Qh(K.type,K.key,K.props,null,Y.mode,Q),Q.ref=cu(Y,null,K),Q.return=Y,Q;case q:return K=qg(K,Y.mode,Q),K.return=Y,K;case ee:var pe=K._init;return he(Y,pe(K._payload),Q)}if(Wr(K)||oe(K))return K=wa(K,Y.mode,Q,null),K.return=Y,K;Th(Y,K)}return null}function ce(Y,K,Q,pe){var Ce=K!==null?K.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Ce!==null?null:B(Y,K,""+Q,pe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case F:return Q.key===Ce?W(Y,K,Q,pe):null;case q:return Q.key===Ce?J(Y,K,Q,pe):null;case ee:return Ce=Q._init,ce(Y,K,Ce(Q._payload),pe)}if(Wr(Q)||oe(Q))return Ce!==null?null:de(Y,K,Q,pe,null);Th(Y,Q)}return null}function ve(Y,K,Q,pe,Ce){if(typeof pe=="string"&&pe!==""||typeof pe=="number")return Y=Y.get(Q)||null,B(K,Y,""+pe,Ce);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case F:return Y=Y.get(pe.key===null?Q:pe.key)||null,W(K,Y,pe,Ce);case q:return Y=Y.get(pe.key===null?Q:pe.key)||null,J(K,Y,pe,Ce);case ee:var Me=pe._init;return ve(Y,K,Q,Me(pe._payload),Ce)}if(Wr(pe)||oe(pe))return Y=Y.get(Q)||null,de(K,Y,pe,Ce,null);Th(K,pe)}return null}function ke(Y,K,Q,pe){for(var Ce=null,Me=null,je=K,Ue=K=0,pn=null;je!==null&&Ue<Q.length;Ue++){je.index>Ue?(pn=je,je=null):pn=je.sibling;var ot=ce(Y,je,Q[Ue],pe);if(ot===null){je===null&&(je=pn);break}i&&je&&ot.alternate===null&&a(Y,je),K=E(ot,K,Ue),Me===null?Ce=ot:Me.sibling=ot,Me=ot,je=pn}if(Ue===Q.length)return u(Y,je),Tt&&da(Y,Ue),Ce;if(je===null){for(;Ue<Q.length;Ue++)je=he(Y,Q[Ue],pe),je!==null&&(K=E(je,K,Ue),Me===null?Ce=je:Me.sibling=je,Me=je);return Tt&&da(Y,Ue),Ce}for(je=m(Y,je);Ue<Q.length;Ue++)pn=ve(je,Y,Ue,Q[Ue],pe),pn!==null&&(i&&pn.alternate!==null&&je.delete(pn.key===null?Ue:pn.key),K=E(pn,K,Ue),Me===null?Ce=pn:Me.sibling=pn,Me=pn);return i&&je.forEach(function(po){return a(Y,po)}),Tt&&da(Y,Ue),Ce}function Ie(Y,K,Q,pe){var Ce=oe(Q);if(typeof Ce!="function")throw Error(n(150));if(Q=Ce.call(Q),Q==null)throw Error(n(151));for(var Me=Ce=null,je=K,Ue=K=0,pn=null,ot=Q.next();je!==null&&!ot.done;Ue++,ot=Q.next()){je.index>Ue?(pn=je,je=null):pn=je.sibling;var po=ce(Y,je,ot.value,pe);if(po===null){je===null&&(je=pn);break}i&&je&&po.alternate===null&&a(Y,je),K=E(po,K,Ue),Me===null?Ce=po:Me.sibling=po,Me=po,je=pn}if(ot.done)return u(Y,je),Tt&&da(Y,Ue),Ce;if(je===null){for(;!ot.done;Ue++,ot=Q.next())ot=he(Y,ot.value,pe),ot!==null&&(K=E(ot,K,Ue),Me===null?Ce=ot:Me.sibling=ot,Me=ot);return Tt&&da(Y,Ue),Ce}for(je=m(Y,je);!ot.done;Ue++,ot=Q.next())ot=ve(je,Y,Ue,ot.value,pe),ot!==null&&(i&&ot.alternate!==null&&je.delete(ot.key===null?Ue:ot.key),K=E(ot,K,Ue),Me===null?Ce=ot:Me.sibling=ot,Me=ot);return i&&je.forEach(function(sM){return a(Y,sM)}),Tt&&da(Y,Ue),Ce}function zt(Y,K,Q,pe){if(typeof Q=="object"&&Q!==null&&Q.type===M&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case F:e:{for(var Ce=Q.key,Me=K;Me!==null;){if(Me.key===Ce){if(Ce=Q.type,Ce===M){if(Me.tag===7){u(Y,Me.sibling),K=w(Me,Q.props.children),K.return=Y,Y=K;break e}}else if(Me.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===ee&&k_(Ce)===Me.type){u(Y,Me.sibling),K=w(Me,Q.props),K.ref=cu(Y,Me,Q),K.return=Y,Y=K;break e}u(Y,Me);break}else a(Y,Me);Me=Me.sibling}Q.type===M?(K=wa(Q.props.children,Y.mode,pe,Q.key),K.return=Y,Y=K):(pe=Qh(Q.type,Q.key,Q.props,null,Y.mode,pe),pe.ref=cu(Y,K,Q),pe.return=Y,Y=pe)}return A(Y);case q:e:{for(Me=Q.key;K!==null;){if(K.key===Me)if(K.tag===4&&K.stateNode.containerInfo===Q.containerInfo&&K.stateNode.implementation===Q.implementation){u(Y,K.sibling),K=w(K,Q.children||[]),K.return=Y,Y=K;break e}else{u(Y,K);break}else a(Y,K);K=K.sibling}K=qg(Q,Y.mode,pe),K.return=Y,Y=K}return A(Y);case ee:return Me=Q._init,zt(Y,K,Me(Q._payload),pe)}if(Wr(Q))return ke(Y,K,Q,pe);if(oe(Q))return Ie(Y,K,Q,pe);Th(Y,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,K!==null&&K.tag===6?(u(Y,K.sibling),K=w(K,Q),K.return=Y,Y=K):(u(Y,K),K=Wg(Q,Y.mode,pe),K.return=Y,Y=K),A(Y)):u(Y,K)}return zt}var Al=S_(!0),T_=S_(!1),Ih=no(null),Ch=null,Pl=null,tg=null;function ng(){tg=Pl=Ch=null}function rg(i){var a=Ih.current;wt(Ih),i._currentValue=a}function sg(i,a,u){for(;i!==null;){var m=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,m!==null&&(m.childLanes|=a)):m!==null&&(m.childLanes&a)!==a&&(m.childLanes|=a),i===u)break;i=i.return}}function Rl(i,a){Ch=i,tg=Pl=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&a)!==0&&(or=!0),i.firstContext=null)}function Or(i){var a=i._currentValue;if(tg!==i)if(i={context:i,memoizedValue:a,next:null},Pl===null){if(Ch===null)throw Error(n(308));Pl=i,Ch.dependencies={lanes:0,firstContext:i}}else Pl=Pl.next=i;return a}var ha=null;function ig(i){ha===null?ha=[i]:ha.push(i)}function I_(i,a,u,m){var w=a.interleaved;return w===null?(u.next=u,ig(a)):(u.next=w.next,w.next=u),a.interleaved=u,pi(i,m)}function pi(i,a){i.lanes|=a;var u=i.alternate;for(u!==null&&(u.lanes|=a),u=i,i=i.return;i!==null;)i.childLanes|=a,u=i.alternate,u!==null&&(u.childLanes|=a),u=i,i=i.return;return u.tag===3?u.stateNode:null}var io=!1;function og(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function C_(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function mi(i,a){return{eventTime:i,lane:a,tag:0,payload:null,callback:null,next:null}}function oo(i,a,u){var m=i.updateQueue;if(m===null)return null;if(m=m.shared,(rt&2)!==0){var w=m.pending;return w===null?a.next=a:(a.next=w.next,w.next=a),m.pending=a,pi(i,u)}return w=m.interleaved,w===null?(a.next=a,ig(m)):(a.next=w.next,w.next=a),m.interleaved=a,pi(i,u)}function Nh(i,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194240)!==0)){var m=a.lanes;m&=i.pendingLanes,u|=m,a.lanes=u,Yi(i,u)}}function N_(i,a){var u=i.updateQueue,m=i.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var w=null,E=null;if(u=u.firstBaseUpdate,u!==null){do{var A={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};E===null?w=E=A:E=E.next=A,u=u.next}while(u!==null);E===null?w=E=a:E=E.next=a}else w=E=a;u={baseState:m.baseState,firstBaseUpdate:w,lastBaseUpdate:E,shared:m.shared,effects:m.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=a:i.next=a,u.lastBaseUpdate=a}function Ah(i,a,u,m){var w=i.updateQueue;io=!1;var E=w.firstBaseUpdate,A=w.lastBaseUpdate,B=w.shared.pending;if(B!==null){w.shared.pending=null;var W=B,J=W.next;W.next=null,A===null?E=J:A.next=J,A=W;var de=i.alternate;de!==null&&(de=de.updateQueue,B=de.lastBaseUpdate,B!==A&&(B===null?de.firstBaseUpdate=J:B.next=J,de.lastBaseUpdate=W))}if(E!==null){var he=w.baseState;A=0,de=J=W=null,B=E;do{var ce=B.lane,ve=B.eventTime;if((m&ce)===ce){de!==null&&(de=de.next={eventTime:ve,lane:0,tag:B.tag,payload:B.payload,callback:B.callback,next:null});e:{var ke=i,Ie=B;switch(ce=a,ve=u,Ie.tag){case 1:if(ke=Ie.payload,typeof ke=="function"){he=ke.call(ve,he,ce);break e}he=ke;break e;case 3:ke.flags=ke.flags&-65537|128;case 0:if(ke=Ie.payload,ce=typeof ke=="function"?ke.call(ve,he,ce):ke,ce==null)break e;he=le({},he,ce);break e;case 2:io=!0}}B.callback!==null&&B.lane!==0&&(i.flags|=64,ce=w.effects,ce===null?w.effects=[B]:ce.push(B))}else ve={eventTime:ve,lane:ce,tag:B.tag,payload:B.payload,callback:B.callback,next:null},de===null?(J=de=ve,W=he):de=de.next=ve,A|=ce;if(B=B.next,B===null){if(B=w.shared.pending,B===null)break;ce=B,B=ce.next,ce.next=null,w.lastBaseUpdate=ce,w.shared.pending=null}}while(!0);if(de===null&&(W=he),w.baseState=W,w.firstBaseUpdate=J,w.lastBaseUpdate=de,a=w.shared.interleaved,a!==null){w=a;do A|=w.lane,w=w.next;while(w!==a)}else E===null&&(w.shared.lanes=0);ma|=A,i.lanes=A,i.memoizedState=he}}function A_(i,a,u){if(i=a.effects,a.effects=null,i!==null)for(a=0;a<i.length;a++){var m=i[a],w=m.callback;if(w!==null){if(m.callback=null,m=u,typeof w!="function")throw Error(n(191,w));w.call(m)}}}var uu={},Cs=no(uu),du=no(uu),hu=no(uu);function fa(i){if(i===uu)throw Error(n(174));return i}function ag(i,a){switch(mt(hu,a),mt(du,i),mt(Cs,uu),i=a.nodeType,i){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:$t(null,"");break;default:i=i===8?a.parentNode:a,a=i.namespaceURI||null,i=i.tagName,a=$t(a,i)}wt(Cs),mt(Cs,a)}function Dl(){wt(Cs),wt(du),wt(hu)}function P_(i){fa(hu.current);var a=fa(Cs.current),u=$t(a,i.type);a!==u&&(mt(du,i),mt(Cs,u))}function lg(i){du.current===i&&(wt(Cs),wt(du))}var At=no(0);function Ph(i){for(var a=i;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var cg=[];function ug(){for(var i=0;i<cg.length;i++)cg[i]._workInProgressVersionPrimary=null;cg.length=0}var Rh=L.ReactCurrentDispatcher,dg=L.ReactCurrentBatchConfig,pa=0,Pt=null,on=null,hn=null,Dh=!1,fu=!1,pu=0,TD=0;function Cn(){throw Error(n(321))}function hg(i,a){if(a===null)return!1;for(var u=0;u<a.length&&u<i.length;u++)if(!ns(i[u],a[u]))return!1;return!0}function fg(i,a,u,m,w,E){if(pa=E,Pt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Rh.current=i===null||i.memoizedState===null?AD:PD,i=u(m,w),fu){E=0;do{if(fu=!1,pu=0,25<=E)throw Error(n(301));E+=1,hn=on=null,a.updateQueue=null,Rh.current=RD,i=u(m,w)}while(fu)}if(Rh.current=Oh,a=on!==null&&on.next!==null,pa=0,hn=on=Pt=null,Dh=!1,a)throw Error(n(300));return i}function pg(){var i=pu!==0;return pu=0,i}function Ns(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hn===null?Pt.memoizedState=hn=i:hn=hn.next=i,hn}function Lr(){if(on===null){var i=Pt.alternate;i=i!==null?i.memoizedState:null}else i=on.next;var a=hn===null?Pt.memoizedState:hn.next;if(a!==null)hn=a,on=i;else{if(i===null)throw Error(n(310));on=i,i={memoizedState:on.memoizedState,baseState:on.baseState,baseQueue:on.baseQueue,queue:on.queue,next:null},hn===null?Pt.memoizedState=hn=i:hn=hn.next=i}return hn}function mu(i,a){return typeof a=="function"?a(i):a}function mg(i){var a=Lr(),u=a.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var m=on,w=m.baseQueue,E=u.pending;if(E!==null){if(w!==null){var A=w.next;w.next=E.next,E.next=A}m.baseQueue=w=E,u.pending=null}if(w!==null){E=w.next,m=m.baseState;var B=A=null,W=null,J=E;do{var de=J.lane;if((pa&de)===de)W!==null&&(W=W.next={lane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),m=J.hasEagerState?J.eagerState:i(m,J.action);else{var he={lane:de,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null};W===null?(B=W=he,A=m):W=W.next=he,Pt.lanes|=de,ma|=de}J=J.next}while(J!==null&&J!==E);W===null?A=m:W.next=B,ns(m,a.memoizedState)||(or=!0),a.memoizedState=m,a.baseState=A,a.baseQueue=W,u.lastRenderedState=m}if(i=u.interleaved,i!==null){w=i;do E=w.lane,Pt.lanes|=E,ma|=E,w=w.next;while(w!==i)}else w===null&&(u.lanes=0);return[a.memoizedState,u.dispatch]}function gg(i){var a=Lr(),u=a.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var m=u.dispatch,w=u.pending,E=a.memoizedState;if(w!==null){u.pending=null;var A=w=w.next;do E=i(E,A.action),A=A.next;while(A!==w);ns(E,a.memoizedState)||(or=!0),a.memoizedState=E,a.baseQueue===null&&(a.baseState=E),u.lastRenderedState=E}return[E,m]}function R_(){}function D_(i,a){var u=Pt,m=Lr(),w=a(),E=!ns(m.memoizedState,w);if(E&&(m.memoizedState=w,or=!0),m=m.queue,yg(O_.bind(null,u,m,i),[i]),m.getSnapshot!==a||E||hn!==null&&hn.memoizedState.tag&1){if(u.flags|=2048,gu(9,j_.bind(null,u,m,w,a),void 0,null),fn===null)throw Error(n(349));(pa&30)!==0||M_(u,a,w)}return w}function M_(i,a,u){i.flags|=16384,i={getSnapshot:a,value:u},a=Pt.updateQueue,a===null?(a={lastEffect:null,stores:null},Pt.updateQueue=a,a.stores=[i]):(u=a.stores,u===null?a.stores=[i]:u.push(i))}function j_(i,a,u,m){a.value=u,a.getSnapshot=m,L_(a)&&V_(i)}function O_(i,a,u){return u(function(){L_(a)&&V_(i)})}function L_(i){var a=i.getSnapshot;i=i.value;try{var u=a();return!ns(i,u)}catch{return!0}}function V_(i){var a=pi(i,1);a!==null&&as(a,i,1,-1)}function F_(i){var a=Ns();return typeof i=="function"&&(i=i()),a.memoizedState=a.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mu,lastRenderedState:i},a.queue=i,i=i.dispatch=ND.bind(null,Pt,i),[a.memoizedState,i]}function gu(i,a,u,m){return i={tag:i,create:a,destroy:u,deps:m,next:null},a=Pt.updateQueue,a===null?(a={lastEffect:null,stores:null},Pt.updateQueue=a,a.lastEffect=i.next=i):(u=a.lastEffect,u===null?a.lastEffect=i.next=i:(m=u.next,u.next=i,i.next=m,a.lastEffect=i)),i}function U_(){return Lr().memoizedState}function Mh(i,a,u,m){var w=Ns();Pt.flags|=i,w.memoizedState=gu(1|a,u,void 0,m===void 0?null:m)}function jh(i,a,u,m){var w=Lr();m=m===void 0?null:m;var E=void 0;if(on!==null){var A=on.memoizedState;if(E=A.destroy,m!==null&&hg(m,A.deps)){w.memoizedState=gu(a,u,E,m);return}}Pt.flags|=i,w.memoizedState=gu(1|a,u,E,m)}function B_(i,a){return Mh(8390656,8,i,a)}function yg(i,a){return jh(2048,8,i,a)}function $_(i,a){return jh(4,2,i,a)}function z_(i,a){return jh(4,4,i,a)}function H_(i,a){if(typeof a=="function")return i=i(),a(i),function(){a(null)};if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function W_(i,a,u){return u=u!=null?u.concat([i]):null,jh(4,4,H_.bind(null,a,i),u)}function vg(){}function q_(i,a){var u=Lr();a=a===void 0?null:a;var m=u.memoizedState;return m!==null&&a!==null&&hg(a,m[1])?m[0]:(u.memoizedState=[i,a],i)}function K_(i,a){var u=Lr();a=a===void 0?null:a;var m=u.memoizedState;return m!==null&&a!==null&&hg(a,m[1])?m[0]:(i=i(),u.memoizedState=[i,a],i)}function G_(i,a,u){return(pa&21)===0?(i.baseState&&(i.baseState=!1,or=!0),i.memoizedState=u):(ns(u,a)||(u=ra(),Pt.lanes|=u,ma|=u,i.baseState=!0),a)}function ID(i,a){var u=Je;Je=u!==0&&4>u?u:4,i(!0);var m=dg.transition;dg.transition={};try{i(!1),a()}finally{Je=u,dg.transition=m}}function Y_(){return Lr().memoizedState}function CD(i,a,u){var m=uo(i);if(u={lane:m,action:u,hasEagerState:!1,eagerState:null,next:null},Q_(i))X_(a,u);else if(u=I_(i,a,u,m),u!==null){var w=Hn();as(u,i,m,w),J_(u,a,m)}}function ND(i,a,u){var m=uo(i),w={lane:m,action:u,hasEagerState:!1,eagerState:null,next:null};if(Q_(i))X_(a,w);else{var E=i.alternate;if(i.lanes===0&&(E===null||E.lanes===0)&&(E=a.lastRenderedReducer,E!==null))try{var A=a.lastRenderedState,B=E(A,u);if(w.hasEagerState=!0,w.eagerState=B,ns(B,A)){var W=a.interleaved;W===null?(w.next=w,ig(a)):(w.next=W.next,W.next=w),a.interleaved=w;return}}catch{}finally{}u=I_(i,a,w,m),u!==null&&(w=Hn(),as(u,i,m,w),J_(u,a,m))}}function Q_(i){var a=i.alternate;return i===Pt||a!==null&&a===Pt}function X_(i,a){fu=Dh=!0;var u=i.pending;u===null?a.next=a:(a.next=u.next,u.next=a),i.pending=a}function J_(i,a,u){if((u&4194240)!==0){var m=a.lanes;m&=i.pendingLanes,u|=m,a.lanes=u,Yi(i,u)}}var Oh={readContext:Or,useCallback:Cn,useContext:Cn,useEffect:Cn,useImperativeHandle:Cn,useInsertionEffect:Cn,useLayoutEffect:Cn,useMemo:Cn,useReducer:Cn,useRef:Cn,useState:Cn,useDebugValue:Cn,useDeferredValue:Cn,useTransition:Cn,useMutableSource:Cn,useSyncExternalStore:Cn,useId:Cn,unstable_isNewReconciler:!1},AD={readContext:Or,useCallback:function(i,a){return Ns().memoizedState=[i,a===void 0?null:a],i},useContext:Or,useEffect:B_,useImperativeHandle:function(i,a,u){return u=u!=null?u.concat([i]):null,Mh(4194308,4,H_.bind(null,a,i),u)},useLayoutEffect:function(i,a){return Mh(4194308,4,i,a)},useInsertionEffect:function(i,a){return Mh(4,2,i,a)},useMemo:function(i,a){var u=Ns();return a=a===void 0?null:a,i=i(),u.memoizedState=[i,a],i},useReducer:function(i,a,u){var m=Ns();return a=u!==void 0?u(a):a,m.memoizedState=m.baseState=a,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:a},m.queue=i,i=i.dispatch=CD.bind(null,Pt,i),[m.memoizedState,i]},useRef:function(i){var a=Ns();return i={current:i},a.memoizedState=i},useState:F_,useDebugValue:vg,useDeferredValue:function(i){return Ns().memoizedState=i},useTransition:function(){var i=F_(!1),a=i[0];return i=ID.bind(null,i[1]),Ns().memoizedState=i,[a,i]},useMutableSource:function(){},useSyncExternalStore:function(i,a,u){var m=Pt,w=Ns();if(Tt){if(u===void 0)throw Error(n(407));u=u()}else{if(u=a(),fn===null)throw Error(n(349));(pa&30)!==0||M_(m,a,u)}w.memoizedState=u;var E={value:u,getSnapshot:a};return w.queue=E,B_(O_.bind(null,m,E,i),[i]),m.flags|=2048,gu(9,j_.bind(null,m,E,u,a),void 0,null),u},useId:function(){var i=Ns(),a=fn.identifierPrefix;if(Tt){var u=fi,m=hi;u=(m&~(1<<32-Bn(m)-1)).toString(32)+u,a=":"+a+"R"+u,u=pu++,0<u&&(a+="H"+u.toString(32)),a+=":"}else u=TD++,a=":"+a+"r"+u.toString(32)+":";return i.memoizedState=a},unstable_isNewReconciler:!1},PD={readContext:Or,useCallback:q_,useContext:Or,useEffect:yg,useImperativeHandle:W_,useInsertionEffect:$_,useLayoutEffect:z_,useMemo:K_,useReducer:mg,useRef:U_,useState:function(){return mg(mu)},useDebugValue:vg,useDeferredValue:function(i){var a=Lr();return G_(a,on.memoizedState,i)},useTransition:function(){var i=mg(mu)[0],a=Lr().memoizedState;return[i,a]},useMutableSource:R_,useSyncExternalStore:D_,useId:Y_,unstable_isNewReconciler:!1},RD={readContext:Or,useCallback:q_,useContext:Or,useEffect:yg,useImperativeHandle:W_,useInsertionEffect:$_,useLayoutEffect:z_,useMemo:K_,useReducer:gg,useRef:U_,useState:function(){return gg(mu)},useDebugValue:vg,useDeferredValue:function(i){var a=Lr();return on===null?a.memoizedState=i:G_(a,on.memoizedState,i)},useTransition:function(){var i=gg(mu)[0],a=Lr().memoizedState;return[i,a]},useMutableSource:R_,useSyncExternalStore:D_,useId:Y_,unstable_isNewReconciler:!1};function ss(i,a){if(i&&i.defaultProps){a=le({},a),i=i.defaultProps;for(var u in i)a[u]===void 0&&(a[u]=i[u]);return a}return a}function wg(i,a,u,m){a=i.memoizedState,u=u(m,a),u=u==null?a:le({},a,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Lh={isMounted:function(i){return(i=i._reactInternals)?Yr(i)===i:!1},enqueueSetState:function(i,a,u){i=i._reactInternals;var m=Hn(),w=uo(i),E=mi(m,w);E.payload=a,u!=null&&(E.callback=u),a=oo(i,E,w),a!==null&&(as(a,i,w,m),Nh(a,i,w))},enqueueReplaceState:function(i,a,u){i=i._reactInternals;var m=Hn(),w=uo(i),E=mi(m,w);E.tag=1,E.payload=a,u!=null&&(E.callback=u),a=oo(i,E,w),a!==null&&(as(a,i,w,m),Nh(a,i,w))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var u=Hn(),m=uo(i),w=mi(u,m);w.tag=2,a!=null&&(w.callback=a),a=oo(i,w,m),a!==null&&(as(a,i,m,u),Nh(a,i,m))}};function Z_(i,a,u,m,w,E,A){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(m,E,A):a.prototype&&a.prototype.isPureReactComponent?!nu(u,m)||!nu(w,E):!0}function eb(i,a,u){var m=!1,w=ro,E=a.contextType;return typeof E=="object"&&E!==null?E=Or(E):(w=ir(a)?ca:In.current,m=a.contextTypes,E=(m=m!=null)?Tl(i,w):ro),a=new a(u,E),i.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Lh,i.stateNode=a,a._reactInternals=i,m&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=w,i.__reactInternalMemoizedMaskedChildContext=E),a}function tb(i,a,u,m){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,m),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,m),a.state!==i&&Lh.enqueueReplaceState(a,a.state,null)}function xg(i,a,u,m){var w=i.stateNode;w.props=u,w.state=i.memoizedState,w.refs={},og(i);var E=a.contextType;typeof E=="object"&&E!==null?w.context=Or(E):(E=ir(a)?ca:In.current,w.context=Tl(i,E)),w.state=i.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(wg(i,a,E,u),w.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(a=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),a!==w.state&&Lh.enqueueReplaceState(w,w.state,null),Ah(i,u,w,m),w.state=i.memoizedState),typeof w.componentDidMount=="function"&&(i.flags|=4194308)}function Ml(i,a){try{var u="",m=a;do u+=Ee(m),m=m.return;while(m);var w=u}catch(E){w=`
Error generating stack: `+E.message+`
`+E.stack}return{value:i,source:a,stack:w,digest:null}}function _g(i,a,u){return{value:i,source:null,stack:u??null,digest:a??null}}function bg(i,a){try{console.error(a.value)}catch(u){setTimeout(function(){throw u})}}var DD=typeof WeakMap=="function"?WeakMap:Map;function nb(i,a,u){u=mi(-1,u),u.tag=3,u.payload={element:null};var m=a.value;return u.callback=function(){Hh||(Hh=!0,Lg=m),bg(i,a)},u}function rb(i,a,u){u=mi(-1,u),u.tag=3;var m=i.type.getDerivedStateFromError;if(typeof m=="function"){var w=a.value;u.payload=function(){return m(w)},u.callback=function(){bg(i,a)}}var E=i.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(u.callback=function(){bg(i,a),typeof m!="function"&&(lo===null?lo=new Set([this]):lo.add(this));var A=a.stack;this.componentDidCatch(a.value,{componentStack:A!==null?A:""})}),u}function sb(i,a,u){var m=i.pingCache;if(m===null){m=i.pingCache=new DD;var w=new Set;m.set(a,w)}else w=m.get(a),w===void 0&&(w=new Set,m.set(a,w));w.has(u)||(w.add(u),i=KD.bind(null,i,a,u),a.then(i,i))}function ib(i){do{var a;if((a=i.tag===13)&&(a=i.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return i;i=i.return}while(i!==null);return null}function ob(i,a,u,m,w){return(i.mode&1)===0?(i===a?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(a=mi(-1,1),a.tag=2,oo(u,a,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=w,i)}var MD=L.ReactCurrentOwner,or=!1;function zn(i,a,u,m){a.child=i===null?T_(a,null,u,m):Al(a,i.child,u,m)}function ab(i,a,u,m,w){u=u.render;var E=a.ref;return Rl(a,w),m=fg(i,a,u,m,E,w),u=pg(),i!==null&&!or?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~w,gi(i,a,w)):(Tt&&u&&Qm(a),a.flags|=1,zn(i,a,m,w),a.child)}function lb(i,a,u,m,w){if(i===null){var E=u.type;return typeof E=="function"&&!Hg(E)&&E.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(a.tag=15,a.type=E,cb(i,a,E,m,w)):(i=Qh(u.type,null,m,a,a.mode,w),i.ref=a.ref,i.return=a,a.child=i)}if(E=i.child,(i.lanes&w)===0){var A=E.memoizedProps;if(u=u.compare,u=u!==null?u:nu,u(A,m)&&i.ref===a.ref)return gi(i,a,w)}return a.flags|=1,i=fo(E,m),i.ref=a.ref,i.return=a,a.child=i}function cb(i,a,u,m,w){if(i!==null){var E=i.memoizedProps;if(nu(E,m)&&i.ref===a.ref)if(or=!1,a.pendingProps=m=E,(i.lanes&w)!==0)(i.flags&131072)!==0&&(or=!0);else return a.lanes=i.lanes,gi(i,a,w)}return Eg(i,a,u,m,w)}function ub(i,a,u){var m=a.pendingProps,w=m.children,E=i!==null?i.memoizedState:null;if(m.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},mt(Ol,br),br|=u;else{if((u&1073741824)===0)return i=E!==null?E.baseLanes|u:u,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:i,cachePool:null,transitions:null},a.updateQueue=null,mt(Ol,br),br|=i,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=E!==null?E.baseLanes:u,mt(Ol,br),br|=m}else E!==null?(m=E.baseLanes|u,a.memoizedState=null):m=u,mt(Ol,br),br|=m;return zn(i,a,w,u),a.child}function db(i,a){var u=a.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(a.flags|=512,a.flags|=2097152)}function Eg(i,a,u,m,w){var E=ir(u)?ca:In.current;return E=Tl(a,E),Rl(a,w),u=fg(i,a,u,m,E,w),m=pg(),i!==null&&!or?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~w,gi(i,a,w)):(Tt&&m&&Qm(a),a.flags|=1,zn(i,a,u,w),a.child)}function hb(i,a,u,m,w){if(ir(u)){var E=!0;_h(a)}else E=!1;if(Rl(a,w),a.stateNode===null)Fh(i,a),eb(a,u,m),xg(a,u,m,w),m=!0;else if(i===null){var A=a.stateNode,B=a.memoizedProps;A.props=B;var W=A.context,J=u.contextType;typeof J=="object"&&J!==null?J=Or(J):(J=ir(u)?ca:In.current,J=Tl(a,J));var de=u.getDerivedStateFromProps,he=typeof de=="function"||typeof A.getSnapshotBeforeUpdate=="function";he||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(B!==m||W!==J)&&tb(a,A,m,J),io=!1;var ce=a.memoizedState;A.state=ce,Ah(a,m,A,w),W=a.memoizedState,B!==m||ce!==W||sr.current||io?(typeof de=="function"&&(wg(a,u,de,m),W=a.memoizedState),(B=io||Z_(a,u,B,m,ce,W,J))?(he||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(a.flags|=4194308)):(typeof A.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=m,a.memoizedState=W),A.props=m,A.state=W,A.context=J,m=B):(typeof A.componentDidMount=="function"&&(a.flags|=4194308),m=!1)}else{A=a.stateNode,C_(i,a),B=a.memoizedProps,J=a.type===a.elementType?B:ss(a.type,B),A.props=J,he=a.pendingProps,ce=A.context,W=u.contextType,typeof W=="object"&&W!==null?W=Or(W):(W=ir(u)?ca:In.current,W=Tl(a,W));var ve=u.getDerivedStateFromProps;(de=typeof ve=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(B!==he||ce!==W)&&tb(a,A,m,W),io=!1,ce=a.memoizedState,A.state=ce,Ah(a,m,A,w);var ke=a.memoizedState;B!==he||ce!==ke||sr.current||io?(typeof ve=="function"&&(wg(a,u,ve,m),ke=a.memoizedState),(J=io||Z_(a,u,J,m,ce,ke,W)||!1)?(de||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(m,ke,W),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(m,ke,W)),typeof A.componentDidUpdate=="function"&&(a.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof A.componentDidUpdate!="function"||B===i.memoizedProps&&ce===i.memoizedState||(a.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||B===i.memoizedProps&&ce===i.memoizedState||(a.flags|=1024),a.memoizedProps=m,a.memoizedState=ke),A.props=m,A.state=ke,A.context=W,m=J):(typeof A.componentDidUpdate!="function"||B===i.memoizedProps&&ce===i.memoizedState||(a.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||B===i.memoizedProps&&ce===i.memoizedState||(a.flags|=1024),m=!1)}return kg(i,a,u,m,E,w)}function kg(i,a,u,m,w,E){db(i,a);var A=(a.flags&128)!==0;if(!m&&!A)return w&&y_(a,u,!1),gi(i,a,E);m=a.stateNode,MD.current=a;var B=A&&typeof u.getDerivedStateFromError!="function"?null:m.render();return a.flags|=1,i!==null&&A?(a.child=Al(a,i.child,null,E),a.child=Al(a,null,B,E)):zn(i,a,B,E),a.memoizedState=m.state,w&&y_(a,u,!0),a.child}function fb(i){var a=i.stateNode;a.pendingContext?m_(i,a.pendingContext,a.pendingContext!==a.context):a.context&&m_(i,a.context,!1),ag(i,a.containerInfo)}function pb(i,a,u,m,w){return Nl(),eg(w),a.flags|=256,zn(i,a,u,m),a.child}var Sg={dehydrated:null,treeContext:null,retryLane:0};function Tg(i){return{baseLanes:i,cachePool:null,transitions:null}}function mb(i,a,u){var m=a.pendingProps,w=At.current,E=!1,A=(a.flags&128)!==0,B;if((B=A)||(B=i!==null&&i.memoizedState===null?!1:(w&2)!==0),B?(E=!0,a.flags&=-129):(i===null||i.memoizedState!==null)&&(w|=1),mt(At,w&1),i===null)return Zm(a),i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((a.mode&1)===0?a.lanes=1:i.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(A=m.children,i=m.fallback,E?(m=a.mode,E=a.child,A={mode:"hidden",children:A},(m&1)===0&&E!==null?(E.childLanes=0,E.pendingProps=A):E=Xh(A,m,0,null),i=wa(i,m,u,null),E.return=a,i.return=a,E.sibling=i,a.child=E,a.child.memoizedState=Tg(u),a.memoizedState=Sg,i):Ig(a,A));if(w=i.memoizedState,w!==null&&(B=w.dehydrated,B!==null))return jD(i,a,A,m,B,w,u);if(E){E=m.fallback,A=a.mode,w=i.child,B=w.sibling;var W={mode:"hidden",children:m.children};return(A&1)===0&&a.child!==w?(m=a.child,m.childLanes=0,m.pendingProps=W,a.deletions=null):(m=fo(w,W),m.subtreeFlags=w.subtreeFlags&14680064),B!==null?E=fo(B,E):(E=wa(E,A,u,null),E.flags|=2),E.return=a,m.return=a,m.sibling=E,a.child=m,m=E,E=a.child,A=i.child.memoizedState,A=A===null?Tg(u):{baseLanes:A.baseLanes|u,cachePool:null,transitions:A.transitions},E.memoizedState=A,E.childLanes=i.childLanes&~u,a.memoizedState=Sg,m}return E=i.child,i=E.sibling,m=fo(E,{mode:"visible",children:m.children}),(a.mode&1)===0&&(m.lanes=u),m.return=a,m.sibling=null,i!==null&&(u=a.deletions,u===null?(a.deletions=[i],a.flags|=16):u.push(i)),a.child=m,a.memoizedState=null,m}function Ig(i,a){return a=Xh({mode:"visible",children:a},i.mode,0,null),a.return=i,i.child=a}function Vh(i,a,u,m){return m!==null&&eg(m),Al(a,i.child,null,u),i=Ig(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function jD(i,a,u,m,w,E,A){if(u)return a.flags&256?(a.flags&=-257,m=_g(Error(n(422))),Vh(i,a,A,m)):a.memoizedState!==null?(a.child=i.child,a.flags|=128,null):(E=m.fallback,w=a.mode,m=Xh({mode:"visible",children:m.children},w,0,null),E=wa(E,w,A,null),E.flags|=2,m.return=a,E.return=a,m.sibling=E,a.child=m,(a.mode&1)!==0&&Al(a,i.child,null,A),a.child.memoizedState=Tg(A),a.memoizedState=Sg,E);if((a.mode&1)===0)return Vh(i,a,A,null);if(w.data==="$!"){if(m=w.nextSibling&&w.nextSibling.dataset,m)var B=m.dgst;return m=B,E=Error(n(419)),m=_g(E,m,void 0),Vh(i,a,A,m)}if(B=(A&i.childLanes)!==0,or||B){if(m=fn,m!==null){switch(A&-A){case 4:w=2;break;case 16:w=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:w=32;break;case 536870912:w=268435456;break;default:w=0}w=(w&(m.suspendedLanes|A))!==0?0:w,w!==0&&w!==E.retryLane&&(E.retryLane=w,pi(i,w),as(m,i,w,-1))}return zg(),m=_g(Error(n(421))),Vh(i,a,A,m)}return w.data==="$?"?(a.flags|=128,a.child=i.child,a=GD.bind(null,i),w._reactRetry=a,null):(i=E.treeContext,_r=to(w.nextSibling),xr=a,Tt=!0,rs=null,i!==null&&(Mr[jr++]=hi,Mr[jr++]=fi,Mr[jr++]=ua,hi=i.id,fi=i.overflow,ua=a),a=Ig(a,m.children),a.flags|=4096,a)}function gb(i,a,u){i.lanes|=a;var m=i.alternate;m!==null&&(m.lanes|=a),sg(i.return,a,u)}function Cg(i,a,u,m,w){var E=i.memoizedState;E===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:w}:(E.isBackwards=a,E.rendering=null,E.renderingStartTime=0,E.last=m,E.tail=u,E.tailMode=w)}function yb(i,a,u){var m=a.pendingProps,w=m.revealOrder,E=m.tail;if(zn(i,a,m.children,u),m=At.current,(m&2)!==0)m=m&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&gb(i,u,a);else if(i.tag===19)gb(i,u,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}m&=1}if(mt(At,m),(a.mode&1)===0)a.memoizedState=null;else switch(w){case"forwards":for(u=a.child,w=null;u!==null;)i=u.alternate,i!==null&&Ph(i)===null&&(w=u),u=u.sibling;u=w,u===null?(w=a.child,a.child=null):(w=u.sibling,u.sibling=null),Cg(a,!1,w,u,E);break;case"backwards":for(u=null,w=a.child,a.child=null;w!==null;){if(i=w.alternate,i!==null&&Ph(i)===null){a.child=w;break}i=w.sibling,w.sibling=u,u=w,w=i}Cg(a,!0,u,null,E);break;case"together":Cg(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Fh(i,a){(a.mode&1)===0&&i!==null&&(i.alternate=null,a.alternate=null,a.flags|=2)}function gi(i,a,u){if(i!==null&&(a.dependencies=i.dependencies),ma|=a.lanes,(u&a.childLanes)===0)return null;if(i!==null&&a.child!==i.child)throw Error(n(153));if(a.child!==null){for(i=a.child,u=fo(i,i.pendingProps),a.child=u,u.return=a;i.sibling!==null;)i=i.sibling,u=u.sibling=fo(i,i.pendingProps),u.return=a;u.sibling=null}return a.child}function OD(i,a,u){switch(a.tag){case 3:fb(a),Nl();break;case 5:P_(a);break;case 1:ir(a.type)&&_h(a);break;case 4:ag(a,a.stateNode.containerInfo);break;case 10:var m=a.type._context,w=a.memoizedProps.value;mt(Ih,m._currentValue),m._currentValue=w;break;case 13:if(m=a.memoizedState,m!==null)return m.dehydrated!==null?(mt(At,At.current&1),a.flags|=128,null):(u&a.child.childLanes)!==0?mb(i,a,u):(mt(At,At.current&1),i=gi(i,a,u),i!==null?i.sibling:null);mt(At,At.current&1);break;case 19:if(m=(u&a.childLanes)!==0,(i.flags&128)!==0){if(m)return yb(i,a,u);a.flags|=128}if(w=a.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),mt(At,At.current),m)break;return null;case 22:case 23:return a.lanes=0,ub(i,a,u)}return gi(i,a,u)}var vb,Ng,wb,xb;vb=function(i,a){for(var u=a.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Ng=function(){},wb=function(i,a,u,m){var w=i.memoizedProps;if(w!==m){i=a.stateNode,fa(Cs.current);var E=null;switch(u){case"input":w=Ot(i,w),m=Ot(i,m),E=[];break;case"select":w=le({},w,{value:void 0}),m=le({},m,{value:void 0}),E=[];break;case"textarea":w=tn(i,w),m=tn(i,m),E=[];break;default:typeof w.onClick!="function"&&typeof m.onClick=="function"&&(i.onclick=vh)}zi(u,m);var A;u=null;for(J in w)if(!m.hasOwnProperty(J)&&w.hasOwnProperty(J)&&w[J]!=null)if(J==="style"){var B=w[J];for(A in B)B.hasOwnProperty(A)&&(u||(u={}),u[A]="")}else J!=="dangerouslySetInnerHTML"&&J!=="children"&&J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&J!=="autoFocus"&&(s.hasOwnProperty(J)?E||(E=[]):(E=E||[]).push(J,null));for(J in m){var W=m[J];if(B=w!=null?w[J]:void 0,m.hasOwnProperty(J)&&W!==B&&(W!=null||B!=null))if(J==="style")if(B){for(A in B)!B.hasOwnProperty(A)||W&&W.hasOwnProperty(A)||(u||(u={}),u[A]="");for(A in W)W.hasOwnProperty(A)&&B[A]!==W[A]&&(u||(u={}),u[A]=W[A])}else u||(E||(E=[]),E.push(J,u)),u=W;else J==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,B=B?B.__html:void 0,W!=null&&B!==W&&(E=E||[]).push(J,W)):J==="children"?typeof W!="string"&&typeof W!="number"||(E=E||[]).push(J,""+W):J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&(s.hasOwnProperty(J)?(W!=null&&J==="onScroll"&&vt("scroll",i),E||B===W||(E=[])):(E=E||[]).push(J,W))}u&&(E=E||[]).push("style",u);var J=E;(a.updateQueue=J)&&(a.flags|=4)}},xb=function(i,a,u,m){u!==m&&(a.flags|=4)};function yu(i,a){if(!Tt)switch(i.tailMode){case"hidden":a=i.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:m.sibling=null}}function Nn(i){var a=i.alternate!==null&&i.alternate.child===i.child,u=0,m=0;if(a)for(var w=i.child;w!==null;)u|=w.lanes|w.childLanes,m|=w.subtreeFlags&14680064,m|=w.flags&14680064,w.return=i,w=w.sibling;else for(w=i.child;w!==null;)u|=w.lanes|w.childLanes,m|=w.subtreeFlags,m|=w.flags,w.return=i,w=w.sibling;return i.subtreeFlags|=m,i.childLanes=u,a}function LD(i,a,u){var m=a.pendingProps;switch(Xm(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nn(a),null;case 1:return ir(a.type)&&xh(),Nn(a),null;case 3:return m=a.stateNode,Dl(),wt(sr),wt(In),ug(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(i===null||i.child===null)&&(Sh(a)?a.flags|=4:i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,rs!==null&&(Ug(rs),rs=null))),Ng(i,a),Nn(a),null;case 5:lg(a);var w=fa(hu.current);if(u=a.type,i!==null&&a.stateNode!=null)wb(i,a,u,m,w),i.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!m){if(a.stateNode===null)throw Error(n(166));return Nn(a),null}if(i=fa(Cs.current),Sh(a)){m=a.stateNode,u=a.type;var E=a.memoizedProps;switch(m[Is]=a,m[au]=E,i=(a.mode&1)!==0,u){case"dialog":vt("cancel",m),vt("close",m);break;case"iframe":case"object":case"embed":vt("load",m);break;case"video":case"audio":for(w=0;w<su.length;w++)vt(su[w],m);break;case"source":vt("error",m);break;case"img":case"image":case"link":vt("error",m),vt("load",m);break;case"details":vt("toggle",m);break;case"input":Qn(m,E),vt("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!E.multiple},vt("invalid",m);break;case"textarea":pr(m,E),vt("invalid",m)}zi(u,E),w=null;for(var A in E)if(E.hasOwnProperty(A)){var B=E[A];A==="children"?typeof B=="string"?m.textContent!==B&&(E.suppressHydrationWarning!==!0&&yh(m.textContent,B,i),w=["children",B]):typeof B=="number"&&m.textContent!==""+B&&(E.suppressHydrationWarning!==!0&&yh(m.textContent,B,i),w=["children",""+B]):s.hasOwnProperty(A)&&B!=null&&A==="onScroll"&&vt("scroll",m)}switch(u){case"input":$e(m),ni(m,E,!0);break;case"textarea":$e(m),Yo(m);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(m.onclick=vh)}m=w,a.updateQueue=m,m!==null&&(a.flags|=4)}else{A=w.nodeType===9?w:w.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=bt(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=A.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof m.is=="string"?i=A.createElement(u,{is:m.is}):(i=A.createElement(u),u==="select"&&(A=i,m.multiple?A.multiple=!0:m.size&&(A.size=m.size))):i=A.createElementNS(i,u),i[Is]=a,i[au]=m,vb(i,a,!1,!1),a.stateNode=i;e:{switch(A=Jo(u,m),u){case"dialog":vt("cancel",i),vt("close",i),w=m;break;case"iframe":case"object":case"embed":vt("load",i),w=m;break;case"video":case"audio":for(w=0;w<su.length;w++)vt(su[w],i);w=m;break;case"source":vt("error",i),w=m;break;case"img":case"image":case"link":vt("error",i),vt("load",i),w=m;break;case"details":vt("toggle",i),w=m;break;case"input":Qn(i,m),w=Ot(i,m),vt("invalid",i);break;case"option":w=m;break;case"select":i._wrapperState={wasMultiple:!!m.multiple},w=le({},m,{value:void 0}),vt("invalid",i);break;case"textarea":pr(i,m),w=tn(i,m),vt("invalid",i);break;default:w=m}zi(u,w),B=w;for(E in B)if(B.hasOwnProperty(E)){var W=B[E];E==="style"?Xo(i,W):E==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,W!=null&&ri(i,W)):E==="children"?typeof W=="string"?(u!=="textarea"||W!=="")&&Fn(i,W):typeof W=="number"&&Fn(i,""+W):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(s.hasOwnProperty(E)?W!=null&&E==="onScroll"&&vt("scroll",i):W!=null&&R(i,E,W,A))}switch(u){case"input":$e(i),ni(i,m,!1);break;case"textarea":$e(i),Yo(i);break;case"option":m.value!=null&&i.setAttribute("value",""+_e(m.value));break;case"select":i.multiple=!!m.multiple,E=m.value,E!=null?qr(i,!!m.multiple,E,!1):m.defaultValue!=null&&qr(i,!!m.multiple,m.defaultValue,!0);break;default:typeof w.onClick=="function"&&(i.onclick=vh)}switch(u){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Nn(a),null;case 6:if(i&&a.stateNode!=null)xb(i,a,i.memoizedProps,m);else{if(typeof m!="string"&&a.stateNode===null)throw Error(n(166));if(u=fa(hu.current),fa(Cs.current),Sh(a)){if(m=a.stateNode,u=a.memoizedProps,m[Is]=a,(E=m.nodeValue!==u)&&(i=xr,i!==null))switch(i.tag){case 3:yh(m.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&yh(m.nodeValue,u,(i.mode&1)!==0)}E&&(a.flags|=4)}else m=(u.nodeType===9?u:u.ownerDocument).createTextNode(m),m[Is]=a,a.stateNode=m}return Nn(a),null;case 13:if(wt(At),m=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Tt&&_r!==null&&(a.mode&1)!==0&&(a.flags&128)===0)E_(),Nl(),a.flags|=98560,E=!1;else if(E=Sh(a),m!==null&&m.dehydrated!==null){if(i===null){if(!E)throw Error(n(318));if(E=a.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(n(317));E[Is]=a}else Nl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Nn(a),E=!1}else rs!==null&&(Ug(rs),rs=null),E=!0;if(!E)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=u,a):(m=m!==null,m!==(i!==null&&i.memoizedState!==null)&&m&&(a.child.flags|=8192,(a.mode&1)!==0&&(i===null||(At.current&1)!==0?an===0&&(an=3):zg())),a.updateQueue!==null&&(a.flags|=4),Nn(a),null);case 4:return Dl(),Ng(i,a),i===null&&iu(a.stateNode.containerInfo),Nn(a),null;case 10:return rg(a.type._context),Nn(a),null;case 17:return ir(a.type)&&xh(),Nn(a),null;case 19:if(wt(At),E=a.memoizedState,E===null)return Nn(a),null;if(m=(a.flags&128)!==0,A=E.rendering,A===null)if(m)yu(E,!1);else{if(an!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(A=Ph(i),A!==null){for(a.flags|=128,yu(E,!1),m=A.updateQueue,m!==null&&(a.updateQueue=m,a.flags|=4),a.subtreeFlags=0,m=u,u=a.child;u!==null;)E=u,i=m,E.flags&=14680066,A=E.alternate,A===null?(E.childLanes=0,E.lanes=i,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=A.childLanes,E.lanes=A.lanes,E.child=A.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=A.memoizedProps,E.memoizedState=A.memoizedState,E.updateQueue=A.updateQueue,E.type=A.type,i=A.dependencies,E.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return mt(At,At.current&1|2),a.child}i=i.sibling}E.tail!==null&&pt()>Ll&&(a.flags|=128,m=!0,yu(E,!1),a.lanes=4194304)}else{if(!m)if(i=Ph(A),i!==null){if(a.flags|=128,m=!0,u=i.updateQueue,u!==null&&(a.updateQueue=u,a.flags|=4),yu(E,!0),E.tail===null&&E.tailMode==="hidden"&&!A.alternate&&!Tt)return Nn(a),null}else 2*pt()-E.renderingStartTime>Ll&&u!==1073741824&&(a.flags|=128,m=!0,yu(E,!1),a.lanes=4194304);E.isBackwards?(A.sibling=a.child,a.child=A):(u=E.last,u!==null?u.sibling=A:a.child=A,E.last=A)}return E.tail!==null?(a=E.tail,E.rendering=a,E.tail=a.sibling,E.renderingStartTime=pt(),a.sibling=null,u=At.current,mt(At,m?u&1|2:u&1),a):(Nn(a),null);case 22:case 23:return $g(),m=a.memoizedState!==null,i!==null&&i.memoizedState!==null!==m&&(a.flags|=8192),m&&(a.mode&1)!==0?(br&1073741824)!==0&&(Nn(a),a.subtreeFlags&6&&(a.flags|=8192)):Nn(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function VD(i,a){switch(Xm(a),a.tag){case 1:return ir(a.type)&&xh(),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Dl(),wt(sr),wt(In),ug(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 5:return lg(a),null;case 13:if(wt(At),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(n(340));Nl()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return wt(At),null;case 4:return Dl(),null;case 10:return rg(a.type._context),null;case 22:case 23:return $g(),null;case 24:return null;default:return null}}var Uh=!1,An=!1,FD=typeof WeakSet=="function"?WeakSet:Set,be=null;function jl(i,a){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(m){Lt(i,a,m)}else u.current=null}function Ag(i,a,u){try{u()}catch(m){Lt(i,a,m)}}var _b=!1;function UD(i,a){if($m=Ji,i=Zx(),Mm(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var w=m.anchorOffset,E=m.focusNode;m=m.focusOffset;try{u.nodeType,E.nodeType}catch{u=null;break e}var A=0,B=-1,W=-1,J=0,de=0,he=i,ce=null;t:for(;;){for(var ve;he!==u||w!==0&&he.nodeType!==3||(B=A+w),he!==E||m!==0&&he.nodeType!==3||(W=A+m),he.nodeType===3&&(A+=he.nodeValue.length),(ve=he.firstChild)!==null;)ce=he,he=ve;for(;;){if(he===i)break t;if(ce===u&&++J===w&&(B=A),ce===E&&++de===m&&(W=A),(ve=he.nextSibling)!==null)break;he=ce,ce=he.parentNode}he=ve}u=B===-1||W===-1?null:{start:B,end:W}}else u=null}u=u||{start:0,end:0}}else u=null;for(zm={focusedElem:i,selectionRange:u},Ji=!1,be=a;be!==null;)if(a=be,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,be=i;else for(;be!==null;){a=be;try{var ke=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(ke!==null){var Ie=ke.memoizedProps,zt=ke.memoizedState,Y=a.stateNode,K=Y.getSnapshotBeforeUpdate(a.elementType===a.type?Ie:ss(a.type,Ie),zt);Y.__reactInternalSnapshotBeforeUpdate=K}break;case 3:var Q=a.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(pe){Lt(a,a.return,pe)}if(i=a.sibling,i!==null){i.return=a.return,be=i;break}be=a.return}return ke=_b,_b=!1,ke}function vu(i,a,u){var m=a.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var w=m=m.next;do{if((w.tag&i)===i){var E=w.destroy;w.destroy=void 0,E!==void 0&&Ag(a,u,E)}w=w.next}while(w!==m)}}function Bh(i,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&i)===i){var m=u.create;u.destroy=m()}u=u.next}while(u!==a)}}function Pg(i){var a=i.ref;if(a!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof a=="function"?a(i):a.current=i}}function bb(i){var a=i.alternate;a!==null&&(i.alternate=null,bb(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&(delete a[Is],delete a[au],delete a[Km],delete a[bD],delete a[ED])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Eb(i){return i.tag===5||i.tag===3||i.tag===4}function kb(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Eb(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Rg(i,a,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,a?u.nodeType===8?u.parentNode.insertBefore(i,a):u.insertBefore(i,a):(u.nodeType===8?(a=u.parentNode,a.insertBefore(i,u)):(a=u,a.appendChild(i)),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=vh));else if(m!==4&&(i=i.child,i!==null))for(Rg(i,a,u),i=i.sibling;i!==null;)Rg(i,a,u),i=i.sibling}function Dg(i,a,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,a?u.insertBefore(i,a):u.appendChild(i);else if(m!==4&&(i=i.child,i!==null))for(Dg(i,a,u),i=i.sibling;i!==null;)Dg(i,a,u),i=i.sibling}var _n=null,is=!1;function ao(i,a,u){for(u=u.child;u!==null;)Sb(i,a,u),u=u.sibling}function Sb(i,a,u){if(gr&&typeof gr.onCommitFiberUnmount=="function")try{gr.onCommitFiberUnmount(ta,u)}catch{}switch(u.tag){case 5:An||jl(u,a);case 6:var m=_n,w=is;_n=null,ao(i,a,u),_n=m,is=w,_n!==null&&(is?(i=_n,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):_n.removeChild(u.stateNode));break;case 18:_n!==null&&(is?(i=_n,u=u.stateNode,i.nodeType===8?qm(i.parentNode,u):i.nodeType===1&&qm(i,u),es(i)):qm(_n,u.stateNode));break;case 4:m=_n,w=is,_n=u.stateNode.containerInfo,is=!0,ao(i,a,u),_n=m,is=w;break;case 0:case 11:case 14:case 15:if(!An&&(m=u.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){w=m=m.next;do{var E=w,A=E.destroy;E=E.tag,A!==void 0&&((E&2)!==0||(E&4)!==0)&&Ag(u,a,A),w=w.next}while(w!==m)}ao(i,a,u);break;case 1:if(!An&&(jl(u,a),m=u.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=u.memoizedProps,m.state=u.memoizedState,m.componentWillUnmount()}catch(B){Lt(u,a,B)}ao(i,a,u);break;case 21:ao(i,a,u);break;case 22:u.mode&1?(An=(m=An)||u.memoizedState!==null,ao(i,a,u),An=m):ao(i,a,u);break;default:ao(i,a,u)}}function Tb(i){var a=i.updateQueue;if(a!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new FD),a.forEach(function(m){var w=YD.bind(null,i,m);u.has(m)||(u.add(m),m.then(w,w))})}}function os(i,a){var u=a.deletions;if(u!==null)for(var m=0;m<u.length;m++){var w=u[m];try{var E=i,A=a,B=A;e:for(;B!==null;){switch(B.tag){case 5:_n=B.stateNode,is=!1;break e;case 3:_n=B.stateNode.containerInfo,is=!0;break e;case 4:_n=B.stateNode.containerInfo,is=!0;break e}B=B.return}if(_n===null)throw Error(n(160));Sb(E,A,w),_n=null,is=!1;var W=w.alternate;W!==null&&(W.return=null),w.return=null}catch(J){Lt(w,a,J)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)Ib(a,i),a=a.sibling}function Ib(i,a){var u=i.alternate,m=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(os(a,i),As(i),m&4){try{vu(3,i,i.return),Bh(3,i)}catch(Ie){Lt(i,i.return,Ie)}try{vu(5,i,i.return)}catch(Ie){Lt(i,i.return,Ie)}}break;case 1:os(a,i),As(i),m&512&&u!==null&&jl(u,u.return);break;case 5:if(os(a,i),As(i),m&512&&u!==null&&jl(u,u.return),i.flags&32){var w=i.stateNode;try{Fn(w,"")}catch(Ie){Lt(i,i.return,Ie)}}if(m&4&&(w=i.stateNode,w!=null)){var E=i.memoizedProps,A=u!==null?u.memoizedProps:E,B=i.type,W=i.updateQueue;if(i.updateQueue=null,W!==null)try{B==="input"&&E.type==="radio"&&E.name!=null&&Xn(w,E),Jo(B,A);var J=Jo(B,E);for(A=0;A<W.length;A+=2){var de=W[A],he=W[A+1];de==="style"?Xo(w,he):de==="dangerouslySetInnerHTML"?ri(w,he):de==="children"?Fn(w,he):R(w,de,he,J)}switch(B){case"input":vn(w,E);break;case"textarea":Bi(w,E);break;case"select":var ce=w._wrapperState.wasMultiple;w._wrapperState.wasMultiple=!!E.multiple;var ve=E.value;ve!=null?qr(w,!!E.multiple,ve,!1):ce!==!!E.multiple&&(E.defaultValue!=null?qr(w,!!E.multiple,E.defaultValue,!0):qr(w,!!E.multiple,E.multiple?[]:"",!1))}w[au]=E}catch(Ie){Lt(i,i.return,Ie)}}break;case 6:if(os(a,i),As(i),m&4){if(i.stateNode===null)throw Error(n(162));w=i.stateNode,E=i.memoizedProps;try{w.nodeValue=E}catch(Ie){Lt(i,i.return,Ie)}}break;case 3:if(os(a,i),As(i),m&4&&u!==null&&u.memoizedState.isDehydrated)try{es(a.containerInfo)}catch(Ie){Lt(i,i.return,Ie)}break;case 4:os(a,i),As(i);break;case 13:os(a,i),As(i),w=i.child,w.flags&8192&&(E=w.memoizedState!==null,w.stateNode.isHidden=E,!E||w.alternate!==null&&w.alternate.memoizedState!==null||(Og=pt())),m&4&&Tb(i);break;case 22:if(de=u!==null&&u.memoizedState!==null,i.mode&1?(An=(J=An)||de,os(a,i),An=J):os(a,i),As(i),m&8192){if(J=i.memoizedState!==null,(i.stateNode.isHidden=J)&&!de&&(i.mode&1)!==0)for(be=i,de=i.child;de!==null;){for(he=be=de;be!==null;){switch(ce=be,ve=ce.child,ce.tag){case 0:case 11:case 14:case 15:vu(4,ce,ce.return);break;case 1:jl(ce,ce.return);var ke=ce.stateNode;if(typeof ke.componentWillUnmount=="function"){m=ce,u=ce.return;try{a=m,ke.props=a.memoizedProps,ke.state=a.memoizedState,ke.componentWillUnmount()}catch(Ie){Lt(m,u,Ie)}}break;case 5:jl(ce,ce.return);break;case 22:if(ce.memoizedState!==null){Ab(he);continue}}ve!==null?(ve.return=ce,be=ve):Ab(he)}de=de.sibling}e:for(de=null,he=i;;){if(he.tag===5){if(de===null){de=he;try{w=he.stateNode,J?(E=w.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(B=he.stateNode,W=he.memoizedProps.style,A=W!=null&&W.hasOwnProperty("display")?W.display:null,B.style.display=Qo("display",A))}catch(Ie){Lt(i,i.return,Ie)}}}else if(he.tag===6){if(de===null)try{he.stateNode.nodeValue=J?"":he.memoizedProps}catch(Ie){Lt(i,i.return,Ie)}}else if((he.tag!==22&&he.tag!==23||he.memoizedState===null||he===i)&&he.child!==null){he.child.return=he,he=he.child;continue}if(he===i)break e;for(;he.sibling===null;){if(he.return===null||he.return===i)break e;de===he&&(de=null),he=he.return}de===he&&(de=null),he.sibling.return=he.return,he=he.sibling}}break;case 19:os(a,i),As(i),m&4&&Tb(i);break;case 21:break;default:os(a,i),As(i)}}function As(i){var a=i.flags;if(a&2){try{e:{for(var u=i.return;u!==null;){if(Eb(u)){var m=u;break e}u=u.return}throw Error(n(160))}switch(m.tag){case 5:var w=m.stateNode;m.flags&32&&(Fn(w,""),m.flags&=-33);var E=kb(i);Dg(i,E,w);break;case 3:case 4:var A=m.stateNode.containerInfo,B=kb(i);Rg(i,B,A);break;default:throw Error(n(161))}}catch(W){Lt(i,i.return,W)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function BD(i,a,u){be=i,Cb(i)}function Cb(i,a,u){for(var m=(i.mode&1)!==0;be!==null;){var w=be,E=w.child;if(w.tag===22&&m){var A=w.memoizedState!==null||Uh;if(!A){var B=w.alternate,W=B!==null&&B.memoizedState!==null||An;B=Uh;var J=An;if(Uh=A,(An=W)&&!J)for(be=w;be!==null;)A=be,W=A.child,A.tag===22&&A.memoizedState!==null?Pb(w):W!==null?(W.return=A,be=W):Pb(w);for(;E!==null;)be=E,Cb(E),E=E.sibling;be=w,Uh=B,An=J}Nb(i)}else(w.subtreeFlags&8772)!==0&&E!==null?(E.return=w,be=E):Nb(i)}}function Nb(i){for(;be!==null;){var a=be;if((a.flags&8772)!==0){var u=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:An||Bh(5,a);break;case 1:var m=a.stateNode;if(a.flags&4&&!An)if(u===null)m.componentDidMount();else{var w=a.elementType===a.type?u.memoizedProps:ss(a.type,u.memoizedProps);m.componentDidUpdate(w,u.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var E=a.updateQueue;E!==null&&A_(a,E,m);break;case 3:var A=a.updateQueue;if(A!==null){if(u=null,a.child!==null)switch(a.child.tag){case 5:u=a.child.stateNode;break;case 1:u=a.child.stateNode}A_(a,A,u)}break;case 5:var B=a.stateNode;if(u===null&&a.flags&4){u=B;var W=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":W.autoFocus&&u.focus();break;case"img":W.src&&(u.src=W.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var J=a.alternate;if(J!==null){var de=J.memoizedState;if(de!==null){var he=de.dehydrated;he!==null&&es(he)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}An||a.flags&512&&Pg(a)}catch(ce){Lt(a,a.return,ce)}}if(a===i){be=null;break}if(u=a.sibling,u!==null){u.return=a.return,be=u;break}be=a.return}}function Ab(i){for(;be!==null;){var a=be;if(a===i){be=null;break}var u=a.sibling;if(u!==null){u.return=a.return,be=u;break}be=a.return}}function Pb(i){for(;be!==null;){var a=be;try{switch(a.tag){case 0:case 11:case 15:var u=a.return;try{Bh(4,a)}catch(W){Lt(a,u,W)}break;case 1:var m=a.stateNode;if(typeof m.componentDidMount=="function"){var w=a.return;try{m.componentDidMount()}catch(W){Lt(a,w,W)}}var E=a.return;try{Pg(a)}catch(W){Lt(a,E,W)}break;case 5:var A=a.return;try{Pg(a)}catch(W){Lt(a,A,W)}}}catch(W){Lt(a,a.return,W)}if(a===i){be=null;break}var B=a.sibling;if(B!==null){B.return=a.return,be=B;break}be=a.return}}var $D=Math.ceil,$h=L.ReactCurrentDispatcher,Mg=L.ReactCurrentOwner,Vr=L.ReactCurrentBatchConfig,rt=0,fn=null,Yt=null,bn=0,br=0,Ol=no(0),an=0,wu=null,ma=0,zh=0,jg=0,xu=null,ar=null,Og=0,Ll=1/0,yi=null,Hh=!1,Lg=null,lo=null,Wh=!1,co=null,qh=0,_u=0,Vg=null,Kh=-1,Gh=0;function Hn(){return(rt&6)!==0?pt():Kh!==-1?Kh:Kh=pt()}function uo(i){return(i.mode&1)===0?1:(rt&2)!==0&&bn!==0?bn&-bn:SD.transition!==null?(Gh===0&&(Gh=ra()),Gh):(i=Je,i!==0||(i=window.event,i=i===void 0?16:Yc(i.type)),i)}function as(i,a,u,m){if(50<_u)throw _u=0,Vg=null,Error(n(185));Gi(i,u,m),((rt&2)===0||i!==fn)&&(i===fn&&((rt&2)===0&&(zh|=u),an===4&&ho(i,bn)),lr(i,m),u===1&&rt===0&&(a.mode&1)===0&&(Ll=pt()+500,bh&&so()))}function lr(i,a){var u=i.callbackNode;ii(i,a);var m=na(i,i===fn?bn:0);if(m===0)u!==null&&Hc(u),i.callbackNode=null,i.callbackPriority=0;else if(a=m&-m,i.callbackPriority!==a){if(u!=null&&Hc(u),a===1)i.tag===0?kD(Db.bind(null,i)):v_(Db.bind(null,i)),xD(function(){(rt&6)===0&&so()}),u=null;else{switch(Qi(m)){case 1:u=ea;break;case 4:u=Wi;break;case 16:u=Pr;break;case 536870912:u=Gd;break;default:u=Pr}u=Bb(u,Rb.bind(null,i))}i.callbackPriority=a,i.callbackNode=u}}function Rb(i,a){if(Kh=-1,Gh=0,(rt&6)!==0)throw Error(n(327));var u=i.callbackNode;if(Vl()&&i.callbackNode!==u)return null;var m=na(i,i===fn?bn:0);if(m===0)return null;if((m&30)!==0||(m&i.expiredLanes)!==0||a)a=Yh(i,m);else{a=m;var w=rt;rt|=2;var E=jb();(fn!==i||bn!==a)&&(yi=null,Ll=pt()+500,ya(i,a));do try{WD();break}catch(B){Mb(i,B)}while(!0);ng(),$h.current=E,rt=w,Yt!==null?a=0:(fn=null,bn=0,a=an)}if(a!==0){if(a===2&&(w=yr(i),w!==0&&(m=w,a=Fg(i,w))),a===1)throw u=wu,ya(i,0),ho(i,m),lr(i,pt()),u;if(a===6)ho(i,m);else{if(w=i.current.alternate,(m&30)===0&&!zD(w)&&(a=Yh(i,m),a===2&&(E=yr(i),E!==0&&(m=E,a=Fg(i,E))),a===1))throw u=wu,ya(i,0),ho(i,m),lr(i,pt()),u;switch(i.finishedWork=w,i.finishedLanes=m,a){case 0:case 1:throw Error(n(345));case 2:va(i,ar,yi);break;case 3:if(ho(i,m),(m&130023424)===m&&(a=Og+500-pt(),10<a)){if(na(i,0)!==0)break;if(w=i.suspendedLanes,(w&m)!==m){Hn(),i.pingedLanes|=i.suspendedLanes&w;break}i.timeoutHandle=Wm(va.bind(null,i,ar,yi),a);break}va(i,ar,yi);break;case 4:if(ho(i,m),(m&4194240)===m)break;for(a=i.eventTimes,w=-1;0<m;){var A=31-Bn(m);E=1<<A,A=a[A],A>w&&(w=A),m&=~E}if(m=w,m=pt()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*$D(m/1960))-m,10<m){i.timeoutHandle=Wm(va.bind(null,i,ar,yi),m);break}va(i,ar,yi);break;case 5:va(i,ar,yi);break;default:throw Error(n(329))}}}return lr(i,pt()),i.callbackNode===u?Rb.bind(null,i):null}function Fg(i,a){var u=xu;return i.current.memoizedState.isDehydrated&&(ya(i,a).flags|=256),i=Yh(i,a),i!==2&&(a=ar,ar=u,a!==null&&Ug(a)),i}function Ug(i){ar===null?ar=i:ar.push.apply(ar,i)}function zD(i){for(var a=i;;){if(a.flags&16384){var u=a.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var m=0;m<u.length;m++){var w=u[m],E=w.getSnapshot;w=w.value;try{if(!ns(E(),w))return!1}catch{return!1}}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ho(i,a){for(a&=~jg,a&=~zh,i.suspendedLanes|=a,i.pingedLanes&=~a,i=i.expirationTimes;0<a;){var u=31-Bn(a),m=1<<u;i[u]=-1,a&=~m}}function Db(i){if((rt&6)!==0)throw Error(n(327));Vl();var a=na(i,0);if((a&1)===0)return lr(i,pt()),null;var u=Yh(i,a);if(i.tag!==0&&u===2){var m=yr(i);m!==0&&(a=m,u=Fg(i,m))}if(u===1)throw u=wu,ya(i,0),ho(i,a),lr(i,pt()),u;if(u===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=a,va(i,ar,yi),lr(i,pt()),null}function Bg(i,a){var u=rt;rt|=1;try{return i(a)}finally{rt=u,rt===0&&(Ll=pt()+500,bh&&so())}}function ga(i){co!==null&&co.tag===0&&(rt&6)===0&&Vl();var a=rt;rt|=1;var u=Vr.transition,m=Je;try{if(Vr.transition=null,Je=1,i)return i()}finally{Je=m,Vr.transition=u,rt=a,(rt&6)===0&&so()}}function $g(){br=Ol.current,wt(Ol)}function ya(i,a){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,wD(u)),Yt!==null)for(u=Yt.return;u!==null;){var m=u;switch(Xm(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&xh();break;case 3:Dl(),wt(sr),wt(In),ug();break;case 5:lg(m);break;case 4:Dl();break;case 13:wt(At);break;case 19:wt(At);break;case 10:rg(m.type._context);break;case 22:case 23:$g()}u=u.return}if(fn=i,Yt=i=fo(i.current,null),bn=br=a,an=0,wu=null,jg=zh=ma=0,ar=xu=null,ha!==null){for(a=0;a<ha.length;a++)if(u=ha[a],m=u.interleaved,m!==null){u.interleaved=null;var w=m.next,E=u.pending;if(E!==null){var A=E.next;E.next=w,m.next=A}u.pending=m}ha=null}return i}function Mb(i,a){do{var u=Yt;try{if(ng(),Rh.current=Oh,Dh){for(var m=Pt.memoizedState;m!==null;){var w=m.queue;w!==null&&(w.pending=null),m=m.next}Dh=!1}if(pa=0,hn=on=Pt=null,fu=!1,pu=0,Mg.current=null,u===null||u.return===null){an=1,wu=a,Yt=null;break}e:{var E=i,A=u.return,B=u,W=a;if(a=bn,B.flags|=32768,W!==null&&typeof W=="object"&&typeof W.then=="function"){var J=W,de=B,he=de.tag;if((de.mode&1)===0&&(he===0||he===11||he===15)){var ce=de.alternate;ce?(de.updateQueue=ce.updateQueue,de.memoizedState=ce.memoizedState,de.lanes=ce.lanes):(de.updateQueue=null,de.memoizedState=null)}var ve=ib(A);if(ve!==null){ve.flags&=-257,ob(ve,A,B,E,a),ve.mode&1&&sb(E,J,a),a=ve,W=J;var ke=a.updateQueue;if(ke===null){var Ie=new Set;Ie.add(W),a.updateQueue=Ie}else ke.add(W);break e}else{if((a&1)===0){sb(E,J,a),zg();break e}W=Error(n(426))}}else if(Tt&&B.mode&1){var zt=ib(A);if(zt!==null){(zt.flags&65536)===0&&(zt.flags|=256),ob(zt,A,B,E,a),eg(Ml(W,B));break e}}E=W=Ml(W,B),an!==4&&(an=2),xu===null?xu=[E]:xu.push(E),E=A;do{switch(E.tag){case 3:E.flags|=65536,a&=-a,E.lanes|=a;var Y=nb(E,W,a);N_(E,Y);break e;case 1:B=W;var K=E.type,Q=E.stateNode;if((E.flags&128)===0&&(typeof K.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(lo===null||!lo.has(Q)))){E.flags|=65536,a&=-a,E.lanes|=a;var pe=rb(E,B,a);N_(E,pe);break e}}E=E.return}while(E!==null)}Lb(u)}catch(Ce){a=Ce,Yt===u&&u!==null&&(Yt=u=u.return);continue}break}while(!0)}function jb(){var i=$h.current;return $h.current=Oh,i===null?Oh:i}function zg(){(an===0||an===3||an===2)&&(an=4),fn===null||(ma&268435455)===0&&(zh&268435455)===0||ho(fn,bn)}function Yh(i,a){var u=rt;rt|=2;var m=jb();(fn!==i||bn!==a)&&(yi=null,ya(i,a));do try{HD();break}catch(w){Mb(i,w)}while(!0);if(ng(),rt=u,$h.current=m,Yt!==null)throw Error(n(261));return fn=null,bn=0,an}function HD(){for(;Yt!==null;)Ob(Yt)}function WD(){for(;Yt!==null&&!qd();)Ob(Yt)}function Ob(i){var a=Ub(i.alternate,i,br);i.memoizedProps=i.pendingProps,a===null?Lb(i):Yt=a,Mg.current=null}function Lb(i){var a=i;do{var u=a.alternate;if(i=a.return,(a.flags&32768)===0){if(u=LD(u,a,br),u!==null){Yt=u;return}}else{if(u=VD(u,a),u!==null){u.flags&=32767,Yt=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{an=6,Yt=null;return}}if(a=a.sibling,a!==null){Yt=a;return}Yt=a=i}while(a!==null);an===0&&(an=5)}function va(i,a,u){var m=Je,w=Vr.transition;try{Vr.transition=null,Je=1,qD(i,a,u,m)}finally{Vr.transition=w,Je=m}return null}function qD(i,a,u,m){do Vl();while(co!==null);if((rt&6)!==0)throw Error(n(327));u=i.finishedWork;var w=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var E=u.lanes|u.childLanes;if(ft(i,E),i===fn&&(Yt=fn=null,bn=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Wh||(Wh=!0,Bb(Pr,function(){return Vl(),null})),E=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||E){E=Vr.transition,Vr.transition=null;var A=Je;Je=1;var B=rt;rt|=4,Mg.current=null,UD(i,u),Ib(u,i),hD(zm),Ji=!!$m,zm=$m=null,i.current=u,BD(u),Tm(),rt=B,Je=A,Vr.transition=E}else i.current=u;if(Wh&&(Wh=!1,co=i,qh=w),E=i.pendingLanes,E===0&&(lo=null),Yd(u.stateNode),lr(i,pt()),a!==null)for(m=i.onRecoverableError,u=0;u<a.length;u++)w=a[u],m(w.value,{componentStack:w.stack,digest:w.digest});if(Hh)throw Hh=!1,i=Lg,Lg=null,i;return(qh&1)!==0&&i.tag!==0&&Vl(),E=i.pendingLanes,(E&1)!==0?i===Vg?_u++:(_u=0,Vg=i):_u=0,so(),null}function Vl(){if(co!==null){var i=Qi(qh),a=Vr.transition,u=Je;try{if(Vr.transition=null,Je=16>i?16:i,co===null)var m=!1;else{if(i=co,co=null,qh=0,(rt&6)!==0)throw Error(n(331));var w=rt;for(rt|=4,be=i.current;be!==null;){var E=be,A=E.child;if((be.flags&16)!==0){var B=E.deletions;if(B!==null){for(var W=0;W<B.length;W++){var J=B[W];for(be=J;be!==null;){var de=be;switch(de.tag){case 0:case 11:case 15:vu(8,de,E)}var he=de.child;if(he!==null)he.return=de,be=he;else for(;be!==null;){de=be;var ce=de.sibling,ve=de.return;if(bb(de),de===J){be=null;break}if(ce!==null){ce.return=ve,be=ce;break}be=ve}}}var ke=E.alternate;if(ke!==null){var Ie=ke.child;if(Ie!==null){ke.child=null;do{var zt=Ie.sibling;Ie.sibling=null,Ie=zt}while(Ie!==null)}}be=E}}if((E.subtreeFlags&2064)!==0&&A!==null)A.return=E,be=A;else e:for(;be!==null;){if(E=be,(E.flags&2048)!==0)switch(E.tag){case 0:case 11:case 15:vu(9,E,E.return)}var Y=E.sibling;if(Y!==null){Y.return=E.return,be=Y;break e}be=E.return}}var K=i.current;for(be=K;be!==null;){A=be;var Q=A.child;if((A.subtreeFlags&2064)!==0&&Q!==null)Q.return=A,be=Q;else e:for(A=K;be!==null;){if(B=be,(B.flags&2048)!==0)try{switch(B.tag){case 0:case 11:case 15:Bh(9,B)}}catch(Ce){Lt(B,B.return,Ce)}if(B===A){be=null;break e}var pe=B.sibling;if(pe!==null){pe.return=B.return,be=pe;break e}be=B.return}}if(rt=w,so(),gr&&typeof gr.onPostCommitFiberRoot=="function")try{gr.onPostCommitFiberRoot(ta,i)}catch{}m=!0}return m}finally{Je=u,Vr.transition=a}}return!1}function Vb(i,a,u){a=Ml(u,a),a=nb(i,a,1),i=oo(i,a,1),a=Hn(),i!==null&&(Gi(i,1,a),lr(i,a))}function Lt(i,a,u){if(i.tag===3)Vb(i,i,u);else for(;a!==null;){if(a.tag===3){Vb(a,i,u);break}else if(a.tag===1){var m=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(lo===null||!lo.has(m))){i=Ml(u,i),i=rb(a,i,1),a=oo(a,i,1),i=Hn(),a!==null&&(Gi(a,1,i),lr(a,i));break}}a=a.return}}function KD(i,a,u){var m=i.pingCache;m!==null&&m.delete(a),a=Hn(),i.pingedLanes|=i.suspendedLanes&u,fn===i&&(bn&u)===u&&(an===4||an===3&&(bn&130023424)===bn&&500>pt()-Og?ya(i,0):jg|=u),lr(i,a)}function Fb(i,a){a===0&&((i.mode&1)===0?a=1:(a=al,al<<=1,(al&130023424)===0&&(al=4194304)));var u=Hn();i=pi(i,a),i!==null&&(Gi(i,a,u),lr(i,u))}function GD(i){var a=i.memoizedState,u=0;a!==null&&(u=a.retryLane),Fb(i,u)}function YD(i,a){var u=0;switch(i.tag){case 13:var m=i.stateNode,w=i.memoizedState;w!==null&&(u=w.retryLane);break;case 19:m=i.stateNode;break;default:throw Error(n(314))}m!==null&&m.delete(a),Fb(i,u)}var Ub;Ub=function(i,a,u){if(i!==null)if(i.memoizedProps!==a.pendingProps||sr.current)or=!0;else{if((i.lanes&u)===0&&(a.flags&128)===0)return or=!1,OD(i,a,u);or=(i.flags&131072)!==0}else or=!1,Tt&&(a.flags&1048576)!==0&&w_(a,kh,a.index);switch(a.lanes=0,a.tag){case 2:var m=a.type;Fh(i,a),i=a.pendingProps;var w=Tl(a,In.current);Rl(a,u),w=fg(null,a,m,i,w,u);var E=pg();return a.flags|=1,typeof w=="object"&&w!==null&&typeof w.render=="function"&&w.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,ir(m)?(E=!0,_h(a)):E=!1,a.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,og(a),w.updater=Lh,a.stateNode=w,w._reactInternals=a,xg(a,m,i,u),a=kg(null,a,m,!0,E,u)):(a.tag=0,Tt&&E&&Qm(a),zn(null,a,w,u),a=a.child),a;case 16:m=a.elementType;e:{switch(Fh(i,a),i=a.pendingProps,w=m._init,m=w(m._payload),a.type=m,w=a.tag=XD(m),i=ss(m,i),w){case 0:a=Eg(null,a,m,i,u);break e;case 1:a=hb(null,a,m,i,u);break e;case 11:a=ab(null,a,m,i,u);break e;case 14:a=lb(null,a,m,ss(m.type,i),u);break e}throw Error(n(306,m,""))}return a;case 0:return m=a.type,w=a.pendingProps,w=a.elementType===m?w:ss(m,w),Eg(i,a,m,w,u);case 1:return m=a.type,w=a.pendingProps,w=a.elementType===m?w:ss(m,w),hb(i,a,m,w,u);case 3:e:{if(fb(a),i===null)throw Error(n(387));m=a.pendingProps,E=a.memoizedState,w=E.element,C_(i,a),Ah(a,m,null,u);var A=a.memoizedState;if(m=A.element,E.isDehydrated)if(E={element:m,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},a.updateQueue.baseState=E,a.memoizedState=E,a.flags&256){w=Ml(Error(n(423)),a),a=pb(i,a,m,u,w);break e}else if(m!==w){w=Ml(Error(n(424)),a),a=pb(i,a,m,u,w);break e}else for(_r=to(a.stateNode.containerInfo.firstChild),xr=a,Tt=!0,rs=null,u=T_(a,null,m,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Nl(),m===w){a=gi(i,a,u);break e}zn(i,a,m,u)}a=a.child}return a;case 5:return P_(a),i===null&&Zm(a),m=a.type,w=a.pendingProps,E=i!==null?i.memoizedProps:null,A=w.children,Hm(m,w)?A=null:E!==null&&Hm(m,E)&&(a.flags|=32),db(i,a),zn(i,a,A,u),a.child;case 6:return i===null&&Zm(a),null;case 13:return mb(i,a,u);case 4:return ag(a,a.stateNode.containerInfo),m=a.pendingProps,i===null?a.child=Al(a,null,m,u):zn(i,a,m,u),a.child;case 11:return m=a.type,w=a.pendingProps,w=a.elementType===m?w:ss(m,w),ab(i,a,m,w,u);case 7:return zn(i,a,a.pendingProps,u),a.child;case 8:return zn(i,a,a.pendingProps.children,u),a.child;case 12:return zn(i,a,a.pendingProps.children,u),a.child;case 10:e:{if(m=a.type._context,w=a.pendingProps,E=a.memoizedProps,A=w.value,mt(Ih,m._currentValue),m._currentValue=A,E!==null)if(ns(E.value,A)){if(E.children===w.children&&!sr.current){a=gi(i,a,u);break e}}else for(E=a.child,E!==null&&(E.return=a);E!==null;){var B=E.dependencies;if(B!==null){A=E.child;for(var W=B.firstContext;W!==null;){if(W.context===m){if(E.tag===1){W=mi(-1,u&-u),W.tag=2;var J=E.updateQueue;if(J!==null){J=J.shared;var de=J.pending;de===null?W.next=W:(W.next=de.next,de.next=W),J.pending=W}}E.lanes|=u,W=E.alternate,W!==null&&(W.lanes|=u),sg(E.return,u,a),B.lanes|=u;break}W=W.next}}else if(E.tag===10)A=E.type===a.type?null:E.child;else if(E.tag===18){if(A=E.return,A===null)throw Error(n(341));A.lanes|=u,B=A.alternate,B!==null&&(B.lanes|=u),sg(A,u,a),A=E.sibling}else A=E.child;if(A!==null)A.return=E;else for(A=E;A!==null;){if(A===a){A=null;break}if(E=A.sibling,E!==null){E.return=A.return,A=E;break}A=A.return}E=A}zn(i,a,w.children,u),a=a.child}return a;case 9:return w=a.type,m=a.pendingProps.children,Rl(a,u),w=Or(w),m=m(w),a.flags|=1,zn(i,a,m,u),a.child;case 14:return m=a.type,w=ss(m,a.pendingProps),w=ss(m.type,w),lb(i,a,m,w,u);case 15:return cb(i,a,a.type,a.pendingProps,u);case 17:return m=a.type,w=a.pendingProps,w=a.elementType===m?w:ss(m,w),Fh(i,a),a.tag=1,ir(m)?(i=!0,_h(a)):i=!1,Rl(a,u),eb(a,m,w),xg(a,m,w,u),kg(null,a,m,!0,i,u);case 19:return yb(i,a,u);case 22:return ub(i,a,u)}throw Error(n(156,a.tag))};function Bb(i,a){return il(i,a)}function QD(i,a,u,m){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fr(i,a,u,m){return new QD(i,a,u,m)}function Hg(i){return i=i.prototype,!(!i||!i.isReactComponent)}function XD(i){if(typeof i=="function")return Hg(i)?1:0;if(i!=null){if(i=i.$$typeof,i===$)return 11;if(i===ie)return 14}return 2}function fo(i,a){var u=i.alternate;return u===null?(u=Fr(i.tag,a,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=a,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,a=i.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function Qh(i,a,u,m,w,E){var A=2;if(m=i,typeof i=="function")Hg(i)&&(A=1);else if(typeof i=="string")A=5;else e:switch(i){case M:return wa(u.children,w,E,a);case N:A=8,w|=8;break;case O:return i=Fr(12,u,a,w|2),i.elementType=O,i.lanes=E,i;case D:return i=Fr(13,u,a,w),i.elementType=D,i.lanes=E,i;case se:return i=Fr(19,u,a,w),i.elementType=se,i.lanes=E,i;case te:return Xh(u,w,E,a);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case V:A=10;break e;case U:A=9;break e;case $:A=11;break e;case ie:A=14;break e;case ee:A=16,m=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return a=Fr(A,u,a,w),a.elementType=i,a.type=m,a.lanes=E,a}function wa(i,a,u,m){return i=Fr(7,i,m,a),i.lanes=u,i}function Xh(i,a,u,m){return i=Fr(22,i,m,a),i.elementType=te,i.lanes=u,i.stateNode={isHidden:!1},i}function Wg(i,a,u){return i=Fr(6,i,null,a),i.lanes=u,i}function qg(i,a,u){return a=Fr(4,i.children!==null?i.children:[],i.key,a),a.lanes=u,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}function JD(i,a,u,m,w){this.tag=a,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ki(0),this.expirationTimes=Ki(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ki(0),this.identifierPrefix=m,this.onRecoverableError=w,this.mutableSourceEagerHydrationData=null}function Kg(i,a,u,m,w,E,A,B,W){return i=new JD(i,a,u,B,W),a===1?(a=1,E===!0&&(a|=8)):a=0,E=Fr(3,null,null,a),i.current=E,E.stateNode=i,E.memoizedState={element:m,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},og(E),i}function ZD(i,a,u){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:q,key:m==null?null:""+m,children:i,containerInfo:a,implementation:u}}function $b(i){if(!i)return ro;i=i._reactInternals;e:{if(Yr(i)!==i||i.tag!==1)throw Error(n(170));var a=i;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(ir(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(i.tag===1){var u=i.type;if(ir(u))return g_(i,u,a)}return a}function zb(i,a,u,m,w,E,A,B,W){return i=Kg(u,m,!0,i,w,E,A,B,W),i.context=$b(null),u=i.current,m=Hn(),w=uo(u),E=mi(m,w),E.callback=a??null,oo(u,E,w),i.current.lanes=w,Gi(i,w,m),lr(i,m),i}function Jh(i,a,u,m){var w=a.current,E=Hn(),A=uo(w);return u=$b(u),a.context===null?a.context=u:a.pendingContext=u,a=mi(E,A),a.payload={element:i},m=m===void 0?null:m,m!==null&&(a.callback=m),i=oo(w,a,A),i!==null&&(as(i,w,A,E),Nh(i,w,A)),A}function Zh(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Hb(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<a?u:a}}function Gg(i,a){Hb(i,a),(i=i.alternate)&&Hb(i,a)}function eM(){return null}var Wb=typeof reportError=="function"?reportError:function(i){console.error(i)};function Yg(i){this._internalRoot=i}ef.prototype.render=Yg.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(n(409));Jh(i,a,null,null)},ef.prototype.unmount=Yg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;ga(function(){Jh(null,i,null,null)}),a[ui]=null}};function ef(i){this._internalRoot=i}ef.prototype.unstable_scheduleHydration=function(i){if(i){var a=eh();i={blockedOn:null,target:i,priority:a};for(var u=0;u<Es.length&&a!==0&&a<Es[u].priority;u++);Es.splice(u,0,i),u===0&&rh(i)}};function Qg(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function tf(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function qb(){}function tM(i,a,u,m,w){if(w){if(typeof m=="function"){var E=m;m=function(){var J=Zh(A);E.call(J)}}var A=zb(a,m,i,0,null,!1,!1,"",qb);return i._reactRootContainer=A,i[ui]=A.current,iu(i.nodeType===8?i.parentNode:i),ga(),A}for(;w=i.lastChild;)i.removeChild(w);if(typeof m=="function"){var B=m;m=function(){var J=Zh(W);B.call(J)}}var W=Kg(i,0,!1,null,null,!1,!1,"",qb);return i._reactRootContainer=W,i[ui]=W.current,iu(i.nodeType===8?i.parentNode:i),ga(function(){Jh(a,W,u,m)}),W}function nf(i,a,u,m,w){var E=u._reactRootContainer;if(E){var A=E;if(typeof w=="function"){var B=w;w=function(){var W=Zh(A);B.call(W)}}Jh(a,A,i,w)}else A=tM(u,a,i,w,m);return Zh(A)}Jd=function(i){switch(i.tag){case 3:var a=i.stateNode;if(a.current.memoizedState.isDehydrated){var u=qi(a.pendingLanes);u!==0&&(Yi(a,u|1),lr(a,pt()),(rt&6)===0&&(Ll=pt()+500,so()))}break;case 13:ga(function(){var m=pi(i,1);if(m!==null){var w=Hn();as(m,i,1,w)}}),Gg(i,1)}},ll=function(i){if(i.tag===13){var a=pi(i,134217728);if(a!==null){var u=Hn();as(a,i,134217728,u)}Gg(i,134217728)}},Zd=function(i){if(i.tag===13){var a=uo(i),u=pi(i,a);if(u!==null){var m=Hn();as(u,i,a,m)}Gg(i,a)}},eh=function(){return Je},th=function(i,a){var u=Je;try{return Je=i,a()}finally{Je=u}},Hi=function(i,a,u){switch(a){case"input":if(vn(i,u),a=u.name,u.type==="radio"&&a!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<u.length;a++){var m=u[a];if(m!==i&&m.form===i.form){var w=wh(m);if(!w)throw Error(n(90));He(m),vn(m,w)}}}break;case"textarea":Bi(i,u);break;case"select":a=u.value,a!=null&&qr(i,!!u.multiple,a,!1)}},kt=Bg,nn=ga;var nM={usingClientEntryPoint:!1,Events:[lu,kl,wh,De,Et,Bg]},bu={findFiberByHostInstance:la,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rM={bundleType:bu.bundleType,version:bu.version,rendererPackageName:bu.rendererPackageName,rendererConfig:bu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:L.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=zc(i),i===null?null:i.stateNode},findFiberByHostInstance:bu.findFiberByHostInstance||eM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rf.isDisabled&&rf.supportsFiber)try{ta=rf.inject(rM),gr=rf}catch{}}return cr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nM,cr.createPortal=function(i,a){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qg(a))throw Error(n(200));return ZD(i,a,null,u)},cr.createRoot=function(i,a){if(!Qg(i))throw Error(n(299));var u=!1,m="",w=Wb;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(w=a.onRecoverableError)),a=Kg(i,1,!1,null,null,u,!1,m,w),i[ui]=a.current,iu(i.nodeType===8?i.parentNode:i),new Yg(a)},cr.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=zc(a),i=i===null?null:i.stateNode,i},cr.flushSync=function(i){return ga(i)},cr.hydrate=function(i,a,u){if(!tf(a))throw Error(n(200));return nf(null,i,a,!0,u)},cr.hydrateRoot=function(i,a,u){if(!Qg(i))throw Error(n(405));var m=u!=null&&u.hydratedSources||null,w=!1,E="",A=Wb;if(u!=null&&(u.unstable_strictMode===!0&&(w=!0),u.identifierPrefix!==void 0&&(E=u.identifierPrefix),u.onRecoverableError!==void 0&&(A=u.onRecoverableError)),a=zb(a,null,i,1,u??null,w,!1,E,A),i[ui]=a.current,iu(i),m)for(i=0;i<m.length;i++)u=m[i],w=u._getVersion,w=w(u._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[u,w]:a.mutableSourceEagerHydrationData.push(u,w);return new ef(a)},cr.render=function(i,a,u){if(!tf(a))throw Error(n(200));return nf(null,i,a,!1,u)},cr.unmountComponentAtNode=function(i){if(!tf(i))throw Error(n(40));return i._reactRootContainer?(ga(function(){nf(null,null,i,!1,function(){i._reactRootContainer=null,i[ui]=null})}),!0):!1},cr.unstable_batchedUpdates=Bg,cr.unstable_renderSubtreeIntoContainer=function(i,a,u,m){if(!tf(u))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return nf(i,a,u,!1,m)},cr.version="18.3.1-next-f1338f8080-20240426",cr}var eE;function q1(){if(eE)return Zg.exports;eE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Zg.exports=dM(),Zg.exports}var tE;function hM(){if(tE)return sf;tE=1;var t=q1();return sf.createRoot=t.createRoot,sf.hydrateRoot=t.hydrateRoot,sf}var fM=hM();const pM=_v(fM);/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var nE="popstate";function mM(t={}){function e(r,s){let{pathname:o,search:l,hash:c}=r.location;return Yy("",{pathname:o,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Ju(s)}return yM(e,n,null,t)}function Dt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ks(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function gM(){return Math.random().toString(36).substring(2,10)}function rE(t,e){return{usr:t.state,key:t.key,idx:e}}function Yy(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ec(e):e,state:n,key:e&&e.key||r||gM()}}function Ju({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ec(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function yM(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:o=!1}=r,l=s.history,c="POP",d=null,h=g();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function g(){return(l.state||{idx:null}).idx}function y(){c="POP";let T=g(),C=T==null?null:T-h;h=T,d&&d({action:c,location:k.location,delta:C})}function v(T,C){c="PUSH";let P=Yy(k.location,T,C);h=g()+1;let R=rE(P,h),L=k.createHref(P);try{l.pushState(R,"",L)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;s.location.assign(L)}o&&d&&d({action:c,location:k.location,delta:1})}function b(T,C){c="REPLACE";let P=Yy(k.location,T,C);h=g();let R=rE(P,h),L=k.createHref(P);l.replaceState(R,"",L),o&&d&&d({action:c,location:k.location,delta:0})}function S(T){return vM(T)}let k={get action(){return c},get location(){return t(s,l)},listen(T){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(nE,y),d=T,()=>{s.removeEventListener(nE,y),d=null}},createHref(T){return e(s,T)},createURL:S,encodeLocation(T){let C=S(T);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:v,replace:b,go(T){return l.go(T)}};return k}function vM(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Dt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Ju(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function K1(t,e,n="/"){return wM(t,e,n,!1)}function wM(t,e,n,r){let s=typeof e=="string"?Ec(e):e,o=Ti(s.pathname||"/",n);if(o==null)return null;let l=G1(t);xM(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let h=PM(o);c=NM(l[d],h,r)}return c}function G1(t,e=[],n=[],r=""){let s=(o,l,c)=>{let d={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};d.relativePath.startsWith("/")&&(Dt(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let h=Ei([r,d.relativePath]),g=n.concat(d);o.children&&o.children.length>0&&(Dt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),G1(o.children,e,g,h)),!(o.path==null&&!o.index)&&e.push({path:h,score:IM(h,o.index),routesMeta:g})};return t.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))s(o,l);else for(let d of Y1(o.path))s(o,l,d)}),e}function Y1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let l=Y1(r.join("/")),c=[];return c.push(...l.map(d=>d===""?o:[o,d].join("/"))),s&&c.push(...l),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function xM(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:CM(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var _M=/^:[\w-]+$/,bM=3,EM=2,kM=1,SM=10,TM=-2,sE=t=>t==="*";function IM(t,e){let n=t.split("/"),r=n.length;return n.some(sE)&&(r+=TM),e&&(r+=EM),n.filter(s=>!sE(s)).reduce((s,o)=>s+(_M.test(o)?bM:o===""?kM:SM),r)}function CM(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function NM(t,e,n=!1){let{routesMeta:r}=t,s={},o="/",l=[];for(let c=0;c<r.length;++c){let d=r[c],h=c===r.length-1,g=o==="/"?e:e.slice(o.length)||"/",y=tp({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},g),v=d.route;if(!y&&h&&n&&!r[r.length-1].route.index&&(y=tp({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!y)return null;Object.assign(s,y.params),l.push({params:s,pathname:Ei([o,y.pathname]),pathnameBase:jM(Ei([o,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(o=Ei([o,y.pathnameBase]))}return l}function tp(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=AM(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let o=s[0],l=o.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((h,{paramName:g,isOptional:y},v)=>{if(g==="*"){let S=c[v]||"";l=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const b=c[v];return y&&!b?h[g]=void 0:h[g]=(b||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:l,pattern:t}}function AM(t,e=!1,n=!0){Ks(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function PM(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ks(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ti(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function RM(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Ec(t):t;return{pathname:n?n.startsWith("/")?n:DM(n,e):e,search:OM(r),hash:LM(s)}}function DM(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function ny(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function MM(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Q1(t){let e=MM(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function X1(t,e,n,r=!1){let s;typeof t=="string"?s=Ec(t):(s={...t},Dt(!s.pathname||!s.pathname.includes("?"),ny("?","pathname","search",s)),Dt(!s.pathname||!s.pathname.includes("#"),ny("#","pathname","hash",s)),Dt(!s.search||!s.search.includes("#"),ny("#","search","hash",s)));let o=t===""||s.pathname==="",l=o?"/":s.pathname,c;if(l==null)c=n;else{let y=e.length-1;if(!r&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),y-=1;s.pathname=v.join("/")}c=y>=0?e[y]:"/"}let d=RM(s,c),h=l&&l!=="/"&&l.endsWith("/"),g=(o||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(h||g)&&(d.pathname+="/"),d}var Ei=t=>t.join("/").replace(/\/\/+/g,"/"),jM=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),OM=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,LM=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function VM(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var J1=["POST","PUT","PATCH","DELETE"];new Set(J1);var FM=["GET",...J1];new Set(FM);var kc=x.createContext(null);kc.displayName="DataRouter";var jp=x.createContext(null);jp.displayName="DataRouterState";x.createContext(!1);var Z1=x.createContext({isTransitioning:!1});Z1.displayName="ViewTransition";var UM=x.createContext(new Map);UM.displayName="Fetchers";var BM=x.createContext(null);BM.displayName="Await";var Js=x.createContext(null);Js.displayName="Navigation";var _d=x.createContext(null);_d.displayName="Location";var Li=x.createContext({outlet:null,matches:[],isDataRoute:!1});Li.displayName="Route";var Ev=x.createContext(null);Ev.displayName="RouteError";function $M(t,{relative:e}={}){Dt(bd(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=x.useContext(Js),{hash:s,pathname:o,search:l}=Ed(t,{relative:e}),c=o;return n!=="/"&&(c=o==="/"?n:Ei([n,o])),r.createHref({pathname:c,search:l,hash:s})}function bd(){return x.useContext(_d)!=null}function Vi(){return Dt(bd(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(_d).location}var eT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function tT(t){x.useContext(Js).static||x.useLayoutEffect(t)}function Zs(){let{isDataRoute:t}=x.useContext(Li);return t?tj():zM()}function zM(){Dt(bd(),"useNavigate() may be used only in the context of a <Router> component.");let t=x.useContext(kc),{basename:e,navigator:n}=x.useContext(Js),{matches:r}=x.useContext(Li),{pathname:s}=Vi(),o=JSON.stringify(Q1(r)),l=x.useRef(!1);return tT(()=>{l.current=!0}),x.useCallback((d,h={})=>{if(Ks(l.current,eT),!l.current)return;if(typeof d=="number"){n.go(d);return}let g=X1(d,JSON.parse(o),s,h.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Ei([e,g.pathname])),(h.replace?n.replace:n.push)(g,h.state,h)},[e,n,o,s,t])}x.createContext(null);function Ed(t,{relative:e}={}){let{matches:n}=x.useContext(Li),{pathname:r}=Vi(),s=JSON.stringify(Q1(n));return x.useMemo(()=>X1(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function HM(t,e){return nT(t,e)}function nT(t,e,n,r){var C;Dt(bd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=x.useContext(Js),{matches:o}=x.useContext(Li),l=o[o.length-1],c=l?l.params:{},d=l?l.pathname:"/",h=l?l.pathnameBase:"/",g=l&&l.route;{let P=g&&g.path||"";rT(d,!g||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let y=Vi(),v;if(e){let P=typeof e=="string"?Ec(e):e;Dt(h==="/"||((C=P.pathname)==null?void 0:C.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${P.pathname}" was given in the \`location\` prop.`),v=P}else v=y;let b=v.pathname||"/",S=b;if(h!=="/"){let P=h.replace(/^\//,"").split("/");S="/"+b.replace(/^\//,"").split("/").slice(P.length).join("/")}let k=K1(t,{pathname:S});Ks(g||k!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Ks(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=YM(k&&k.map(P=>Object.assign({},P,{params:Object.assign({},c,P.params),pathname:Ei([h,s.encodeLocation?s.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?h:Ei([h,s.encodeLocation?s.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),o,n,r);return e&&T?x.createElement(_d.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},T):T}function WM(){let t=ej(),e=VM(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:o},"ErrorBoundary")," or"," ",x.createElement("code",{style:o},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),n?x.createElement("pre",{style:s},n):null,l)}var qM=x.createElement(WM,null),KM=class extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?x.createElement(Li.Provider,{value:this.props.routeContext},x.createElement(Ev.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function GM({routeContext:t,match:e,children:n}){let r=x.useContext(kc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),x.createElement(Li.Provider,{value:t},n)}function YM(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=n==null?void 0:n.errors;if(o!=null){let d=s.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);Dt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,c=-1;if(n)for(let d=0;d<s.length;d++){let h=s[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:g,errors:y}=n,v=h.route.loader&&!g.hasOwnProperty(h.route.id)&&(!y||y[h.route.id]===void 0);if(h.route.lazy||v){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((d,h,g)=>{let y,v=!1,b=null,S=null;n&&(y=o&&h.route.id?o[h.route.id]:void 0,b=h.route.errorElement||qM,l&&(c<0&&g===0?(rT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,S=null):c===g&&(v=!0,S=h.route.hydrateFallbackElement||null)));let k=e.concat(s.slice(0,g+1)),T=()=>{let C;return y?C=b:v?C=S:h.route.Component?C=x.createElement(h.route.Component,null):h.route.element?C=h.route.element:C=d,x.createElement(GM,{match:h,routeContext:{outlet:d,matches:k,isDataRoute:n!=null},children:C})};return n&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?x.createElement(KM,{location:n.location,revalidation:n.revalidation,component:b,error:y,children:T(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):T()},null)}function kv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QM(t){let e=x.useContext(kc);return Dt(e,kv(t)),e}function XM(t){let e=x.useContext(jp);return Dt(e,kv(t)),e}function JM(t){let e=x.useContext(Li);return Dt(e,kv(t)),e}function Sv(t){let e=JM(t),n=e.matches[e.matches.length-1];return Dt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function ZM(){return Sv("useRouteId")}function ej(){var r;let t=x.useContext(Ev),e=XM("useRouteError"),n=Sv("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function tj(){let{router:t}=QM("useNavigate"),e=Sv("useNavigate"),n=x.useRef(!1);return tT(()=>{n.current=!0}),x.useCallback(async(s,o={})=>{Ks(n.current,eT),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...o}))},[t,e])}var iE={};function rT(t,e,n){!e&&!iE[t]&&(iE[t]=!0,Ks(!1,n))}x.memo(nj);function nj({routes:t,future:e,state:n}){return nT(t,void 0,n,e)}function wi(t){Dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function rj({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:o=!1}){Dt(!bd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=x.useMemo(()=>({basename:l,navigator:s,static:o,future:{}}),[l,s,o]);typeof n=="string"&&(n=Ec(n));let{pathname:d="/",search:h="",hash:g="",state:y=null,key:v="default"}=n,b=x.useMemo(()=>{let S=Ti(d,l);return S==null?null:{location:{pathname:S,search:h,hash:g,state:y,key:v},navigationType:r}},[l,d,h,g,y,v,r]);return Ks(b!=null,`<Router basename="${l}"> is not able to match the URL "${d}${h}${g}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:x.createElement(Js.Provider,{value:c},x.createElement(_d.Provider,{children:e,value:b}))}function sj({children:t,location:e}){return HM(Qy(t),e)}function Qy(t,e=[]){let n=[];return x.Children.forEach(t,(r,s)=>{if(!x.isValidElement(r))return;let o=[...e,s];if(r.type===x.Fragment){n.push.apply(n,Qy(r.props.children,o));return}Dt(r.type===wi,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Dt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Qy(r.props.children,o)),n.push(l)}),n}var Af="get",Pf="application/x-www-form-urlencoded";function Op(t){return t!=null&&typeof t.tagName=="string"}function ij(t){return Op(t)&&t.tagName.toLowerCase()==="button"}function oj(t){return Op(t)&&t.tagName.toLowerCase()==="form"}function aj(t){return Op(t)&&t.tagName.toLowerCase()==="input"}function lj(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function cj(t,e){return t.button===0&&(!e||e==="_self")&&!lj(t)}var of=null;function uj(){if(of===null)try{new FormData(document.createElement("form"),0),of=!1}catch{of=!0}return of}var dj=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ry(t){return t!=null&&!dj.has(t)?(Ks(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Pf}"`),null):t}function hj(t,e){let n,r,s,o,l;if(oj(t)){let c=t.getAttribute("action");r=c?Ti(c,e):null,n=t.getAttribute("method")||Af,s=ry(t.getAttribute("enctype"))||Pf,o=new FormData(t)}else if(ij(t)||aj(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||c.getAttribute("action");if(r=d?Ti(d,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||Af,s=ry(t.getAttribute("formenctype"))||ry(c.getAttribute("enctype"))||Pf,o=new FormData(c,t),!uj()){let{name:h,type:g,value:y}=t;if(g==="image"){let v=h?`${h}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else h&&o.append(h,y)}}else{if(Op(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Af,r=null,s=Pf,l=t}return o&&s==="text/plain"&&(l=o,o=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Tv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function fj(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Ti(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function pj(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function mj(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function gj(t,e,n){let r=await Promise.all(t.map(async s=>{let o=e.routes[s.route.id];if(o){let l=await pj(o,n);return l.links?l.links():[]}return[]}));return xj(r.flat(1).filter(mj).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function oE(t,e,n,r,s,o){let l=(d,h)=>n[h]?d.route.id!==n[h].route.id:!0,c=(d,h)=>{var g;return n[h].pathname!==d.pathname||((g=n[h].route.path)==null?void 0:g.endsWith("*"))&&n[h].params["*"]!==d.params["*"]};return o==="assets"?e.filter((d,h)=>l(d,h)||c(d,h)):o==="data"?e.filter((d,h)=>{var y;let g=r.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(l(d,h)||c(d,h))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((y=n[0])==null?void 0:y.params)||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function yj(t,e,{includeHydrateFallback:n}={}){return vj(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function vj(t){return[...new Set(t)]}function wj(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function xj(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let o=JSON.stringify(wj(s));return n.has(o)||(n.add(o),r.push({key:o,link:s})),r},[])}function sT(){let t=x.useContext(kc);return Tv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function _j(){let t=x.useContext(jp);return Tv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Iv=x.createContext(void 0);Iv.displayName="FrameworkContext";function iT(){let t=x.useContext(Iv);return Tv(t,"You must render this element inside a <HydratedRouter> element"),t}function bj(t,e){let n=x.useContext(Iv),[r,s]=x.useState(!1),[o,l]=x.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:h,onMouseLeave:g,onTouchStart:y}=e,v=x.useRef(null);x.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let k=C=>{C.forEach(P=>{l(P.isIntersecting)})},T=new IntersectionObserver(k,{threshold:.5});return v.current&&T.observe(v.current),()=>{T.disconnect()}}},[t]),x.useEffect(()=>{if(r){let k=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(k)}}},[r]);let b=()=>{s(!0)},S=()=>{s(!1),l(!1)};return n?t!=="intent"?[o,v,{}]:[o,v,{onFocus:ku(c,b),onBlur:ku(d,S),onMouseEnter:ku(h,b),onMouseLeave:ku(g,S),onTouchStart:ku(y,b)}]:[!1,v,{}]}function ku(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Ej({page:t,...e}){let{router:n}=sT(),r=x.useMemo(()=>K1(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?x.createElement(Sj,{page:t,matches:r,...e}):null}function kj(t){let{manifest:e,routeModules:n}=iT(),[r,s]=x.useState([]);return x.useEffect(()=>{let o=!1;return gj(t,e,n).then(l=>{o||s(l)}),()=>{o=!0}},[t,e,n]),r}function Sj({page:t,matches:e,...n}){let r=Vi(),{manifest:s,routeModules:o}=iT(),{basename:l}=sT(),{loaderData:c,matches:d}=_j(),h=x.useMemo(()=>oE(t,e,d,s,r,"data"),[t,e,d,s,r]),g=x.useMemo(()=>oE(t,e,d,s,r,"assets"),[t,e,d,s,r]),y=x.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let S=new Set,k=!1;if(e.forEach(C=>{var R;let P=s.routes[C.route.id];!P||!P.hasLoader||(!h.some(L=>L.route.id===C.route.id)&&C.route.id in c&&((R=o[C.route.id])!=null&&R.shouldRevalidate)||P.hasClientLoader?k=!0:S.add(C.route.id))}),S.size===0)return[];let T=fj(t,l,"data");return k&&S.size>0&&T.searchParams.set("_routes",e.filter(C=>S.has(C.route.id)).map(C=>C.route.id).join(",")),[T.pathname+T.search]},[l,c,r,s,h,e,t,o]),v=x.useMemo(()=>yj(g,s),[g,s]),b=kj(g);return x.createElement(x.Fragment,null,y.map(S=>x.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),v.map(S=>x.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),b.map(({key:S,link:k})=>x.createElement("link",{key:S,...k})))}function Tj(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var oT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{oT&&(window.__reactRouterVersion="7.7.1")}catch{}function Ij({basename:t,children:e,window:n}){let r=x.useRef();r.current==null&&(r.current=mM({window:n,v5Compat:!0}));let s=r.current,[o,l]=x.useState({action:s.action,location:s.location}),c=x.useCallback(d=>{x.startTransition(()=>l(d))},[l]);return x.useLayoutEffect(()=>s.listen(c),[s,c]),x.createElement(rj,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:s})}var aT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lT=x.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:o,replace:l,state:c,target:d,to:h,preventScrollReset:g,viewTransition:y,...v},b){let{basename:S}=x.useContext(Js),k=typeof h=="string"&&aT.test(h),T,C=!1;if(typeof h=="string"&&k&&(T=h,oT))try{let O=new URL(window.location.href),V=h.startsWith("//")?new URL(O.protocol+h):new URL(h),U=Ti(V.pathname,S);V.origin===O.origin&&U!=null?h=U+V.search+V.hash:C=!0}catch{Ks(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=$M(h,{relative:s}),[R,L,F]=bj(r,v),q=Pj(h,{replace:l,state:c,target:d,preventScrollReset:g,relative:s,viewTransition:y});function M(O){e&&e(O),O.defaultPrevented||q(O)}let N=x.createElement("a",{...v,...F,href:T||P,onClick:C||o?e:M,ref:Tj(b,L),target:d,"data-discover":!k&&n==="render"?"true":void 0});return R&&!k?x.createElement(x.Fragment,null,N,x.createElement(Ej,{page:P})):N});lT.displayName="Link";var Cj=x.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:o,to:l,viewTransition:c,children:d,...h},g){let y=Ed(l,{relative:h.relative}),v=Vi(),b=x.useContext(jp),{navigator:S,basename:k}=x.useContext(Js),T=b!=null&&Oj(y)&&c===!0,C=S.encodeLocation?S.encodeLocation(y).pathname:y.pathname,P=v.pathname,R=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(P=P.toLowerCase(),R=R?R.toLowerCase():null,C=C.toLowerCase()),R&&k&&(R=Ti(R,k)||R);const L=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let F=P===C||!s&&P.startsWith(C)&&P.charAt(L)==="/",q=R!=null&&(R===C||!s&&R.startsWith(C)&&R.charAt(C.length)==="/"),M={isActive:F,isPending:q,isTransitioning:T},N=F?e:void 0,O;typeof r=="function"?O=r(M):O=[r,F?"active":null,q?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let V=typeof o=="function"?o(M):o;return x.createElement(lT,{...h,"aria-current":N,className:O,ref:g,style:V,to:l,viewTransition:c},typeof d=="function"?d(M):d)});Cj.displayName="NavLink";var Nj=x.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:o,method:l=Af,action:c,onSubmit:d,relative:h,preventScrollReset:g,viewTransition:y,...v},b)=>{let S=Mj(),k=jj(c,{relative:h}),T=l.toLowerCase()==="get"?"get":"post",C=typeof c=="string"&&aT.test(c),P=R=>{if(d&&d(R),R.defaultPrevented)return;R.preventDefault();let L=R.nativeEvent.submitter,F=(L==null?void 0:L.getAttribute("formmethod"))||l;S(L||R.currentTarget,{fetcherKey:e,method:F,navigate:n,replace:s,state:o,relative:h,preventScrollReset:g,viewTransition:y})};return x.createElement("form",{ref:b,method:T,action:k,onSubmit:r?d:P,...v,"data-discover":!C&&t==="render"?"true":void 0})});Nj.displayName="Form";function Aj(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cT(t){let e=x.useContext(kc);return Dt(e,Aj(t)),e}function Pj(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:o,viewTransition:l}={}){let c=Zs(),d=Vi(),h=Ed(t,{relative:o});return x.useCallback(g=>{if(cj(g,e)){g.preventDefault();let y=n!==void 0?n:Ju(d)===Ju(h);c(t,{replace:y,state:r,preventScrollReset:s,relative:o,viewTransition:l})}},[d,c,h,n,r,e,t,s,o,l])}var Rj=0,Dj=()=>`__${String(++Rj)}__`;function Mj(){let{router:t}=cT("useSubmit"),{basename:e}=x.useContext(Js),n=ZM();return x.useCallback(async(r,s={})=>{let{action:o,method:l,encType:c,formData:d,body:h}=hj(r,e);if(s.navigate===!1){let g=s.fetcherKey||Dj();await t.fetch(g,n,s.action||o,{preventScrollReset:s.preventScrollReset,formData:d,body:h,formMethod:s.method||l,formEncType:s.encType||c,flushSync:s.flushSync})}else await t.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:d,body:h,formMethod:s.method||l,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function jj(t,{relative:e}={}){let{basename:n}=x.useContext(Js),r=x.useContext(Li);Dt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={...Ed(t||".",{relative:e})},l=Vi();if(t==null){o.search=l.search;let c=new URLSearchParams(o.search),d=c.getAll("index");if(d.some(g=>g==="")){c.delete("index"),d.filter(y=>y).forEach(y=>c.append("index",y));let g=c.toString();o.search=g?`?${g}`:""}}return(!t||t===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Ei([n,o.pathname])),Ju(o)}function Oj(t,{relative:e}={}){let n=x.useContext(Z1);Dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=cT("useViewTransitionState"),s=Ed(t,{relative:e});if(!n.isTransitioning)return!1;let o=Ti(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Ti(n.nextLocation.pathname,r)||n.nextLocation.pathname;return tp(s.pathname,l)!=null||tp(s.pathname,o)!=null}var kd=q1();const uT=_v(kd);function it(t){return"/"+t.toLowerCase().replace(/ /g,"-")}/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lj=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),dT=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Vj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fj=x.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:l,...c},d)=>x.createElement("svg",{ref:d,...Vj,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:dT("lucide",s),...c},[...l.map(([h,g])=>x.createElement(h,g)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=(t,e)=>{const n=x.forwardRef(({className:r,...s},o)=>x.createElement(Fj,{ref:o,iconNode:e,className:dT(`lucide-${Lj(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uj=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Cv=We("ArrowRight",Uj);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bj=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],hT=We("Calendar",Bj);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $j=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Xy=We("Camera",$j);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zj=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],Hj=We("ChartNoAxesColumn",zj);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wj=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],qj=We("Check",Wj);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Nv=We("ChevronDown",Kj);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],fT=We("ChevronUp",Gj);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Av=We("CircleAlert",Yj);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Jy=We("CircleCheckBig",Qj);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Fl=We("CircleCheck",Xj);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],aE=We("CirclePlus",Jj);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],lE=We("CircleX",Zj);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],pT=We("Clock",eO);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tO=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],nO=We("Copy",tO);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rO=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],mT=We("Download",rO);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sO=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],iO=We("EyeOff",sO);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oO=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],aO=We("Eye",oO);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lO=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]],cO=We("FileImage",lO);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO=[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]],gT=We("Filter",uO);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dO=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],Pv=We("Hash",dO);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hO=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Ii=We("Heart",hO);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fO=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Zy=We("LoaderCircle",fO);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pO=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],mO=We("LogOut",pO);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gO=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],yO=We("Mail",gO);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vO=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],wO=We("MapPin",vO);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xO=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],dc=We("MessageCircle",xO);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _O=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],e0=We("MessageSquare",_O);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bO=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],EO=We("PartyPopper",bO);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kO=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],t0=We("Phone",kO);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SO=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],TO=We("QrCode",SO);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IO=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],CO=We("Ruler",IO);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NO=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Rf=We("Save",NO);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AO=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],PO=We("Send",AO);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RO=[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]],cE=We("Share",RO);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DO=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],MO=We("Sparkles",DO);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jO=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Df=We("SquarePen",jO);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OO=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],yT=We("Star",OO);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LO=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],vT=We("Trash2",LO);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VO=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],FO=We("Upload",VO);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Sd=We("User",UO);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BO=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Ma=We("Users",BO);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $O=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],yn=We("X",$O),zO=()=>{};var uE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},HO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],l=t[n++],c=t[n++],d=((s&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=t[n++],l=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|l&63)}}return e.join("")},xT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const o=t[s],l=s+1<t.length,c=l?t[s+1]:0,d=s+2<t.length,h=d?t[s+2]:0,g=o>>2,y=(o&3)<<4|c>>4;let v=(c&15)<<2|h>>6,b=h&63;d||(b=64,l||(v=64)),r.push(n[g],n[y],n[v],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(wT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):HO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const h=s<t.length?n[t.charAt(s)]:64;++s;const y=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||c==null||h==null||y==null)throw new WO;const v=o<<2|c>>4;if(r.push(v),h!==64){const b=c<<4&240|h>>2;if(r.push(b),y!==64){const S=h<<6&192|y;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class WO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qO=function(t){const e=wT(t);return xT.encodeByteArray(e,!0)},np=function(t){return qO(t).replace(/\./g,"")},_T=function(t){try{return xT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GO=()=>KO().__FIREBASE_DEFAULTS__,YO=()=>{if(typeof process>"u"||typeof uE>"u")return;const t=uE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},QO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&_T(t[1]);return e&&JSON.parse(e)},Lp=()=>{try{return zO()||GO()||YO()||QO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},bT=t=>{var e,n;return(n=(e=Lp())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},ET=t=>{const e=bT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},kT=()=>{var t;return(t=Lp())==null?void 0:t.config},ST=t=>{var e;return(e=Lp())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $o(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Rv(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[np(JSON.stringify(n)),np(JSON.stringify(l)),""].join(".")}const Fu={};function JO(){const t={prod:[],emulator:[]};for(const e of Object.keys(Fu))Fu[e]?t.emulator.push(e):t.prod.push(e);return t}function ZO(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let dE=!1;function Dv(t,e){if(typeof window>"u"||typeof document>"u"||!$o(window.location.host)||Fu[t]===e||Fu[t]||dE)return;Fu[t]=e;function n(v){return`__firebase__banner__${v}`}const r="__firebase__banner",o=JO().prod.length>0;function l(){const v=document.getElementById(r);v&&v.remove()}function c(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function d(v,b){v.setAttribute("width","24"),v.setAttribute("id",b),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function h(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{dE=!0,l()},v}function g(v,b){v.setAttribute("id",b),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function y(){const v=ZO(r),b=n("text"),S=document.getElementById(b)||document.createElement("span"),k=n("learnmore"),T=document.getElementById(k)||document.createElement("a"),C=n("preprendIcon"),P=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const R=v.element;c(R),g(T,k);const L=h();d(P,C),R.append(P,S,T,L),document.body.appendChild(R)}o?(S.innerText="Preview backend disconnected.",P.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(P.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function e4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ln())}function t4(){var e;const t=(e=Lp())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function n4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function r4(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function s4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function i4(){const t=Ln();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function o4(){return!t4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function a4(){try{return typeof indexedDB=="object"}catch{return!1}}function l4(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4="FirebaseError";class ei extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=c4,Object.setPrototypeOf(this,ei.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Td.prototype.create)}}class Td{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],l=o?u4(o,r):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new ei(s,c,r)}}function u4(t,e){return t.replace(d4,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const d4=/\{\$([^}]+)}/g;function h4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ja(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const o=t[s],l=e[s];if(hE(o)&&hE(l)){if(!ja(o,l))return!1}else if(o!==l)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function hE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Id(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Au(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function Pu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function f4(t,e){const n=new p4(t,e);return n.subscribe.bind(n)}class p4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");m4(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=sy),s.error===void 0&&(s.error=sy),s.complete===void 0&&(s.complete=sy);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function m4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function sy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(t){return t&&t._delegate?t._delegate:t}class Po{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new XO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(v4(e))try{this.getOrInitializeService({instanceIdentifier:Ea})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=Ea){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ea){return this.instances.has(e)}getOptions(e=Ea){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&l.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:y4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ea){return this.component?this.component.multipleInstances?e:Ea:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function y4(t){return t===Ea?void 0:t}function v4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new g4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ye||(Ye={}));const x4={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},_4=Ye.INFO,b4={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},E4=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=b4[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Mv{constructor(e){this.name=e,this._logLevel=_4,this._logHandler=E4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?x4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}}const k4=(t,e)=>e.some(n=>t instanceof n);let fE,pE;function S4(){return fE||(fE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function T4(){return pE||(pE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const IT=new WeakMap,n0=new WeakMap,CT=new WeakMap,iy=new WeakMap,jv=new WeakMap;function I4(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(Io(t.result)),s()},l=()=>{r(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&IT.set(n,t)}).catch(()=>{}),jv.set(e,t),e}function C4(t){if(n0.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),s()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});n0.set(t,e)}let r0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return n0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||CT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Io(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function N4(t){r0=t(r0)}function A4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(oy(this),e,...n);return CT.set(r,e.sort?e.sort():[e]),Io(r)}:T4().includes(t)?function(...e){return t.apply(oy(this),e),Io(IT.get(this))}:function(...e){return Io(t.apply(oy(this),e))}}function P4(t){return typeof t=="function"?A4(t):(t instanceof IDBTransaction&&C4(t),k4(t,S4())?new Proxy(t,r0):t)}function Io(t){if(t instanceof IDBRequest)return I4(t);if(iy.has(t))return iy.get(t);const e=P4(t);return e!==t&&(iy.set(t,e),jv.set(e,t)),e}const oy=t=>jv.get(t);function R4(t,e,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const l=indexedDB.open(t,e),c=Io(l);return r&&l.addEventListener("upgradeneeded",d=>{r(Io(l.result),d.oldVersion,d.newVersion,Io(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{o&&d.addEventListener("close",()=>o()),s&&d.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const D4=["get","getKey","getAll","getAllKeys","count"],M4=["put","add","delete","clear"],ay=new Map;function mE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ay.get(e))return ay.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=M4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||D4.includes(n)))return;const o=async function(l,...c){const d=this.transaction(l,s?"readwrite":"readonly");let h=d.store;return r&&(h=h.index(c.shift())),(await Promise.all([h[n](...c),s&&d.done]))[0]};return ay.set(e,o),o}N4(t=>({...t,get:(e,n,r)=>mE(e,n)||t.get(e,n,r),has:(e,n)=>!!mE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(O4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function O4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const s0="@firebase/app",gE="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci=new Mv("@firebase/app"),L4="@firebase/app-compat",V4="@firebase/analytics-compat",F4="@firebase/analytics",U4="@firebase/app-check-compat",B4="@firebase/app-check",$4="@firebase/auth",z4="@firebase/auth-compat",H4="@firebase/database",W4="@firebase/data-connect",q4="@firebase/database-compat",K4="@firebase/functions",G4="@firebase/functions-compat",Y4="@firebase/installations",Q4="@firebase/installations-compat",X4="@firebase/messaging",J4="@firebase/messaging-compat",Z4="@firebase/performance",eL="@firebase/performance-compat",tL="@firebase/remote-config",nL="@firebase/remote-config-compat",rL="@firebase/storage",sL="@firebase/storage-compat",iL="@firebase/firestore",oL="@firebase/ai",aL="@firebase/firestore-compat",lL="firebase",cL="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0="[DEFAULT]",uL={[s0]:"fire-core",[L4]:"fire-core-compat",[F4]:"fire-analytics",[V4]:"fire-analytics-compat",[B4]:"fire-app-check",[U4]:"fire-app-check-compat",[$4]:"fire-auth",[z4]:"fire-auth-compat",[H4]:"fire-rtdb",[W4]:"fire-data-connect",[q4]:"fire-rtdb-compat",[K4]:"fire-fn",[G4]:"fire-fn-compat",[Y4]:"fire-iid",[Q4]:"fire-iid-compat",[X4]:"fire-fcm",[J4]:"fire-fcm-compat",[Z4]:"fire-perf",[eL]:"fire-perf-compat",[tL]:"fire-rc",[nL]:"fire-rc-compat",[rL]:"fire-gcs",[sL]:"fire-gcs-compat",[iL]:"fire-fst",[aL]:"fire-fst-compat",[oL]:"fire-vertex","fire-js":"fire-js",[lL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rp=new Map,dL=new Map,o0=new Map;function yE(t,e){try{t.container.addComponent(e)}catch(n){Ci.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Oa(t){const e=t.name;if(o0.has(e))return Ci.debug(`There were multiple attempts to register component ${e}.`),!1;o0.set(e,t);for(const n of rp.values())yE(n,t);for(const n of dL.values())yE(n,t);return!0}function Vp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function kr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Co=new Td("app","Firebase",hL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Po("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Co.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga=cL;function a0(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:i0,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Co.create("bad-app-name",{appName:String(s)});if(n||(n=kT()),!n)throw Co.create("no-options");const o=rp.get(s);if(o){if(ja(n,o.options)&&ja(r,o.config))return o;throw Co.create("duplicate-app",{appName:s})}const l=new w4(s);for(const d of o0.values())l.addComponent(d);const c=new fL(n,r,l);return rp.set(s,c),c}function Ov(t=i0){const e=rp.get(t);if(!e&&t===i0&&kT())return a0();if(!e)throw Co.create("no-app",{appName:t});return e}function Os(t,e,n){let r=uL[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${r}" with version "${e}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ci.warn(l.join(" "));return}Oa(new Po(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL="firebase-heartbeat-database",mL=1,Zu="firebase-heartbeat-store";let ly=null;function NT(){return ly||(ly=R4(pL,mL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Zu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Co.create("idb-open",{originalErrorMessage:t.message})})),ly}async function gL(t){try{const n=(await NT()).transaction(Zu),r=await n.objectStore(Zu).get(AT(t));return await n.done,r}catch(e){if(e instanceof ei)Ci.warn(e.message);else{const n=Co.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ci.warn(n.message)}}}async function vE(t,e){try{const r=(await NT()).transaction(Zu,"readwrite");await r.objectStore(Zu).put(e,AT(t)),await r.done}catch(n){if(n instanceof ei)Ci.warn(n.message);else{const r=Co.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ci.warn(r.message)}}}function AT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yL=1024,vL=30;class wL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _L(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=wE();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>vL){const l=bL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ci.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=wE(),{heartbeatsToSend:r,unsentEntries:s}=xL(this._heartbeatsCache.heartbeats),o=np(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Ci.warn(n),""}}}function wE(){return new Date().toISOString().substring(0,10)}function xL(t,e=yL){const n=[];let r=t.slice();for(const s of t){const o=n.find(l=>l.agent===s.agent);if(o){if(o.dates.push(s.date),xE(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),xE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class _L{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return a4()?l4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await gL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return vE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return vE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function xE(t){return np(JSON.stringify({version:2,heartbeats:t})).length}function bL(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EL(t){Oa(new Po("platform-logger",e=>new j4(e),"PRIVATE")),Oa(new Po("heartbeat",e=>new wL(e),"PRIVATE")),Os(s0,gE,t),Os(s0,gE,"esm2020"),Os("fire-js","")}EL("");var kL="firebase",SL="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Os(kL,SL,"app");function PT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const TL=PT,RT=new Td("auth","Firebase",PT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sp=new Mv("@firebase/auth");function IL(t,...e){sp.logLevel<=Ye.WARN&&sp.warn(`Auth (${Ga}): ${t}`,...e)}function Mf(t,...e){sp.logLevel<=Ye.ERROR&&sp.error(`Auth (${Ga}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fs(t,...e){throw Lv(t,...e)}function Ls(t,...e){return Lv(t,...e)}function DT(t,e,n){const r={...TL(),[e]:n};return new Td("auth","Firebase",r).create(e,{appName:t.name})}function ki(t){return DT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Lv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return RT.create(t,...e)}function Oe(t,e,...n){if(!t)throw Lv(e,...n)}function xi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Mf(e),new Error(e)}function Ni(t,e){t||xi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function CL(){return _E()==="http:"||_E()==="https:"}function _E(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(CL()||r4()||"connection"in navigator)?navigator.onLine:!0}function AL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ni(n>e,"Short delay should be less than long delay!"),this.isMobile=e4()||s4()}get(){return NL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vv(t,e){Ni(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],DL=new Cd(3e4,6e4);function zo(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Fi(t,e,n,r,s={}){return jT(t,s,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const c=Id({key:t.config.apiKey,...l}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:d,...o};return n4()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&$o(t.emulatorConfig.host)&&(h.credentials="include"),MT.fetch()(await OT(t,t.config.apiHost,n,c),h)})}async function jT(t,e,n){t._canInitEmulator=!1;const r={...PL,...e};try{const s=new jL(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw af(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[d,h]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw af(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw af(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw af(t,"user-disabled",l);const g=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw DT(t,g,h);fs(t,g)}}catch(s){if(s instanceof ei)throw s;fs(t,"network-request-failed",{message:String(s)})}}async function Nd(t,e,n,r,s={}){const o=await Fi(t,e,n,r,s);return"mfaPendingCredential"in o&&fs(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function OT(t,e,n,r){const s=`${e}${n}?${r}`,o=t,l=o.config.emulator?Vv(t.config,s):`${t.config.apiScheme}://${s}`;return RL.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function ML(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class jL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ls(this.auth,"network-request-failed")),DL.get())})}}function af(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Ls(t,e,r);return s.customData._tokenResponse=n,s}function bE(t){return t!==void 0&&t.enterprise!==void 0}class OL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return ML(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function LL(t,e){return Fi(t,"GET","/v2/recaptchaConfig",zo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VL(t,e){return Fi(t,"POST","/v1/accounts:delete",e)}async function ip(t,e){return Fi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function FL(t,e=!1){const n=Mt(t),r=await n.getIdToken(e),s=Fv(r);Oe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:Uu(cy(s.auth_time)),issuedAtTime:Uu(cy(s.iat)),expirationTime:Uu(cy(s.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function cy(t){return Number(t)*1e3}function Fv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Mf("JWT malformed, contained fewer than 3 sections"),null;try{const s=_T(n);return s?JSON.parse(s):(Mf("Failed to decode base64 JWT payload"),null)}catch(s){return Mf("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function EE(t){const e=Fv(t);return Oe(e,"internal-error"),Oe(typeof e.exp<"u","internal-error"),Oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ei&&UL(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function UL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Uu(this.lastLoginAt),this.creationTime=Uu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function op(t){var y;const e=t.auth,n=await t.getIdToken(),r=await hc(t,ip(e,{idToken:n}));Oe(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=(y=s.providerUserInfo)!=null&&y.length?LT(s.providerUserInfo):[],l=zL(t.providerData,o),c=t.isAnonymous,d=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),h=c?d:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new c0(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,g)}async function $L(t){const e=Mt(t);await op(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function zL(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function LT(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HL(t,e){const n=await jT(t,{},async()=>{const r=Id({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,l=await OT(t,s,"/v1/token",`key=${o}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:c,body:r};return t.emulatorConfig&&$o(t.emulatorConfig.host)&&(d.credentials="include"),MT.fetch()(l,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function WL(t,e){return Fi(t,"POST","/v2/accounts:revokeToken",zo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Oe(e.idToken,"internal-error"),Oe(typeof e.idToken<"u","internal-error"),Oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):EE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Oe(e.length!==0,"internal-error");const n=EE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:o}=await HL(e,n);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:o}=n,l=new tc;return r&&(Oe(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(Oe(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),o&&(Oe(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new tc,this.toJSON())}_performRefresh(){return xi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mo(t,e){Oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class us{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new BL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new c0(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await hc(this,this.stsTokenManager.getToken(this.auth,e));return Oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return FL(this,e)}reload(){return $L(this)}_assign(e){this!==e&&(Oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new us({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await op(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(kr(this.auth.app))return Promise.reject(ki(this.auth));const e=await this.getIdToken();return await hc(this,VL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,o=n.phoneNumber??void 0,l=n.photoURL??void 0,c=n.tenantId??void 0,d=n._redirectEventId??void 0,h=n.createdAt??void 0,g=n.lastLoginAt??void 0,{uid:y,emailVerified:v,isAnonymous:b,providerData:S,stsTokenManager:k}=n;Oe(y&&k,e,"internal-error");const T=tc.fromJSON(this.name,k);Oe(typeof y=="string",e,"internal-error"),mo(r,e.name),mo(s,e.name),Oe(typeof v=="boolean",e,"internal-error"),Oe(typeof b=="boolean",e,"internal-error"),mo(o,e.name),mo(l,e.name),mo(c,e.name),mo(d,e.name),mo(h,e.name),mo(g,e.name);const C=new us({uid:y,auth:e,email:s,emailVerified:v,displayName:r,isAnonymous:b,photoURL:l,phoneNumber:o,tenantId:c,stsTokenManager:T,createdAt:h,lastLoginAt:g});return S&&Array.isArray(S)&&(C.providerData=S.map(P=>({...P}))),d&&(C._redirectEventId=d),C}static async _fromIdTokenResponse(e,n,r=!1){const s=new tc;s.updateFromServerResponse(n);const o=new us({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await op(o),o}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Oe(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?LT(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),c=new tc;c.updateFromIdToken(r);const d=new us({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:l}),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new c0(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(d,h),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE=new Map;function _i(t){Ni(t instanceof Function,"Expected a class definition");let e=kE.get(t);return e?(Ni(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,kE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}VT.type="NONE";const SE=VT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jf(t,e,n){return`firebase:${t}:${e}:${n}`}class nc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=jf(this.userKey,s.apiKey,o),this.fullPersistenceKey=jf("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ip(this.auth,{idToken:e}).catch(()=>{});return n?us._fromGetAccountInfoResponse(this.auth,n,e):null}return us._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new nc(_i(SE),e,r);const s=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let o=s[0]||_i(SE);const l=jf(r,e.config.apiKey,e.name);let c=null;for(const h of n)try{const g=await h._get(l);if(g){let y;if(typeof g=="string"){const v=await ip(e,{idToken:g}).catch(()=>{});if(!v)break;y=await us._fromGetAccountInfoResponse(e,v,g)}else y=us._fromJSON(e,g);h!==o&&(c=y),o=h;break}}catch{}const d=s.filter(h=>h._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new nc(o,e,r):(o=d[0],c&&await o._set(l,c.toJSON()),await Promise.all(n.map(async h=>{if(h!==o)try{await h._remove(l)}catch{}})),new nc(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($T(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(FT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(HT(e))return"Blackberry";if(WT(e))return"Webos";if(UT(e))return"Safari";if((e.includes("chrome/")||BT(e))&&!e.includes("edge/"))return"Chrome";if(zT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function FT(t=Ln()){return/firefox\//i.test(t)}function UT(t=Ln()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function BT(t=Ln()){return/crios\//i.test(t)}function $T(t=Ln()){return/iemobile/i.test(t)}function zT(t=Ln()){return/android/i.test(t)}function HT(t=Ln()){return/blackberry/i.test(t)}function WT(t=Ln()){return/webos/i.test(t)}function Uv(t=Ln()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function qL(t=Ln()){var e;return Uv(t)&&!!((e=window.navigator)!=null&&e.standalone)}function KL(){return i4()&&document.documentMode===10}function qT(t=Ln()){return Uv(t)||zT(t)||WT(t)||HT(t)||/windows phone/i.test(t)||$T(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(t,e=[]){let n;switch(t){case"Browser":n=TE(Ln());break;case"Worker":n=`${TE(Ln())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ga}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((l,c)=>{try{const d=e(o);l(d)}catch(d){c(d)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YL(t,e={}){return Fi(t,"GET","/v2/passwordPolicy",zo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QL=6;class XL{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??QL,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new IE(this),this.idTokenSubscription=new IE(this),this.beforeStateQueue=new GL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=RT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=_i(n)),this._initializationPromise=this.queue(async()=>{var r,s,o;if(!this._deleted&&(this.persistenceManager=await nc.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ip(this,{idToken:e}),r=await us._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(kr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(o=this.redirectUser)==null?void 0:o._redirectEventId,c=r==null?void 0:r._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&(d!=null&&d.user)&&(r=d.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await op(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=AL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(kr(this.app))return Promise.reject(ki(this));const n=e?Mt(e):null;return n&&Oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return kr(this.app)?Promise.reject(ki(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return kr(this.app)?Promise.reject(ki(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_i(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await YL(this),n=new XL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Td("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await WL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&_i(e)||this._popupRedirectResolver;Oe(n,this,"argument-error"),this.redirectPersistenceManager=await nc.create(this,[_i(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Oe(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,s);return()=>{l=!0,d()}}else{const d=e.addObserver(n);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=KT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(kr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&IL(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ya(t){return Mt(t)}class IE{constructor(e){this.auth=e,this.observer=null,this.addObserver=f4(n=>this.observer=n)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZL(t){Fp=t}function GT(t){return Fp.loadJS(t)}function eV(){return Fp.recaptchaEnterpriseScript}function tV(){return Fp.gapiScript}function nV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class rV{constructor(){this.enterprise=new sV}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class sV{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const iV="recaptcha-enterprise",YT="NO_RECAPTCHA";class oV{constructor(e){this.type=iV,this.auth=Ya(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,c)=>{LL(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const h=new OL(d);return o.tenantId==null?o._agentRecaptchaConfig=h:o._tenantRecaptchaConfigs[o.tenantId]=h,l(h.siteKey)}}).catch(d=>{c(d)})})}function s(o,l,c){const d=window.grecaptcha;bE(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(h=>{l(h)}).catch(()=>{l(YT)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new rV().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{r(this.auth).then(c=>{if(!n&&bE(window.grecaptcha))s(c,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=eV();d.length!==0&&(d+=c),GT(d).then(()=>{s(c,o,l)}).catch(h=>{l(h)})}}).catch(c=>{l(c)})})}}async function CE(t,e,n,r=!1,s=!1){const o=new oV(t);let l;if(s)l=YT;else try{l=await o.verify(n)}catch{l=await o.verify(n,!0)}const c={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const d=c.phoneEnrollmentInfo.phoneNumber,h=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const d=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function u0(t,e,n,r,s){var o;if((o=t._getRecaptchaConfig())!=null&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await CE(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await CE(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aV(t,e){const n=Vp(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(ja(o,e??{}))return s;fs(s,"already-initialized")}return n.initialize({options:e})}function lV(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(_i);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function cV(t,e,n){const r=Ya(t);Oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=QT(e),{host:l,port:c}=uV(e),d=c===null?"":`:${c}`,h={url:`${o}//${l}${d}/`},g=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Oe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Oe(ja(h,r.config.emulator)&&ja(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,$o(l)?(Rv(`${o}//${l}${d}`),Dv("Auth",!0)):dV()}function QT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function uV(t){const e=QT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:NE(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:NE(l)}}}function NE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function dV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return xi("not implemented")}_getIdTokenResponse(e){return xi("not implemented")}_linkToIdToken(e,n){return xi("not implemented")}_getReauthenticationResolver(e){return xi("not implemented")}}async function hV(t,e){return Fi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fV(t,e){return Nd(t,"POST","/v1/accounts:signInWithPassword",zo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pV(t,e){return Nd(t,"POST","/v1/accounts:signInWithEmailLink",zo(t,e))}async function mV(t,e){return Nd(t,"POST","/v1/accounts:signInWithEmailLink",zo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed extends Bv{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new ed(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ed(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return u0(e,n,"signInWithPassword",fV);case"emailLink":return pV(e,{email:this._email,oobCode:this._password});default:fs(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return u0(e,r,"signUpPassword",hV);case"emailLink":return mV(e,{idToken:n,email:this._email,oobCode:this._password});default:fs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rc(t,e){return Nd(t,"POST","/v1/accounts:signInWithIdp",zo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gV="http://localhost";class La extends Bv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new La(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):fs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...o}=n;if(!r||!s)return null;const l=new La(r,s);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return rc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,rc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,rc(e,n)}buildRequest(){const e={requestUri:gV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Id(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function vV(t){const e=Au(Pu(t)).link,n=e?Au(Pu(e)).deep_link_id:null,r=Au(Pu(t)).deep_link_id;return(r?Au(Pu(r)).link:null)||r||n||e||t}class $v{constructor(e){const n=Au(Pu(e)),r=n.apiKey??null,s=n.oobCode??null,o=yV(n.mode??null);Oe(r&&s&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=vV(e);try{return new $v(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(){this.providerId=Sc.PROVIDER_ID}static credential(e,n){return ed._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=$v.parseLink(n);return Oe(r,"argument-error"),ed._fromEmailAndCode(e,r.code,r.tenantId)}}Sc.PROVIDER_ID="password";Sc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Sc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad extends XT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo extends Ad{constructor(){super("facebook.com")}static credential(e){return La._fromParams({providerId:xo.PROVIDER_ID,signInMethod:xo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xo.credentialFromTaggedObject(e)}static credentialFromError(e){return xo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xo.credential(e.oauthAccessToken)}catch{return null}}}xo.FACEBOOK_SIGN_IN_METHOD="facebook.com";xo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o extends Ad{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return La._fromParams({providerId:_o.PROVIDER_ID,signInMethod:_o.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return _o.credentialFromTaggedObject(e)}static credentialFromError(e){return _o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return _o.credential(n,r)}catch{return null}}}_o.GOOGLE_SIGN_IN_METHOD="google.com";_o.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo extends Ad{constructor(){super("github.com")}static credential(e){return La._fromParams({providerId:bo.PROVIDER_ID,signInMethod:bo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bo.credentialFromTaggedObject(e)}static credentialFromError(e){return bo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bo.credential(e.oauthAccessToken)}catch{return null}}}bo.GITHUB_SIGN_IN_METHOD="github.com";bo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo extends Ad{constructor(){super("twitter.com")}static credential(e,n){return La._fromParams({providerId:Eo.PROVIDER_ID,signInMethod:Eo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Eo.credentialFromTaggedObject(e)}static credentialFromError(e){return Eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Eo.credential(n,r)}catch{return null}}}Eo.TWITTER_SIGN_IN_METHOD="twitter.com";Eo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wV(t,e){return Nd(t,"POST","/v1/accounts:signUp",zo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const o=await us._fromIdTokenResponse(e,r,s),l=AE(r);return new Va({user:o,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=AE(r);return new Va({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function AE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap extends ei{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,ap.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new ap(e,n,r,s)}}function JT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?ap._fromErrorAndOperation(t,o,e,r):o})}async function xV(t,e,n=!1){const r=await hc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Va._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _V(t,e,n=!1){const{auth:r}=t;if(kr(r.app))return Promise.reject(ki(r));const s="reauthenticate";try{const o=await hc(t,JT(r,s,e,t),n);Oe(o.idToken,r,"internal-error");const l=Fv(o.idToken);Oe(l,r,"internal-error");const{sub:c}=l;return Oe(t.uid===c,r,"user-mismatch"),Va._forOperation(t,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&fs(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZT(t,e,n=!1){if(kr(t.app))return Promise.reject(ki(t));const r="signIn",s=await JT(t,r,e),o=await Va._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(o.user),o}async function bV(t,e){return ZT(Ya(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eI(t){const e=Ya(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function EV(t,e,n){if(kr(t.app))return Promise.reject(ki(t));const r=Ya(t),l=await u0(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",wV).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&eI(t),d}),c=await Va._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(c.user),c}function kV(t,e,n){return kr(t.app)?Promise.reject(ki(t)):bV(Mt(t),Sc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&eI(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SV(t,e){return Fi(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TV(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Mt(t),o={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},l=await hc(r,SV(r.auth,o));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const c=r.providerData.find(({providerId:d})=>d==="password");c&&(c.displayName=r.displayName,c.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function IV(t,e,n,r){return Mt(t).onIdTokenChanged(e,n,r)}function CV(t,e,n){return Mt(t).beforeAuthStateChanged(e,n)}function NV(t,e,n,r){return Mt(t).onAuthStateChanged(e,n,r)}function AV(t){return Mt(t).signOut()}const lp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(lp,"1"),this.storage.removeItem(lp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PV=1e3,RV=10;class nI extends tI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,d)=>{this.notifyListeners(l,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);KL()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,RV):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},PV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}nI.type="LOCAL";const DV=nI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI extends tI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}rI.type="SESSION";const sI=rI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Up(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:o}=n.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(l).map(async h=>h(n.origin,o)),d=await MV(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Up.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,l;return new Promise((c,d)=>{const h=zv("",20);s.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(y){const v=y;if(v.data.eventId===h)switch(v.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(v.data.response);break;default:clearTimeout(g),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vs(){return window}function OV(t){Vs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(){return typeof Vs().WorkerGlobalScope<"u"&&typeof Vs().importScripts=="function"}async function LV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function VV(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function FV(){return iI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI="firebaseLocalStorageDb",UV=1,cp="firebaseLocalStorage",aI="fbase_key";class Pd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Bp(t,e){return t.transaction([cp],e?"readwrite":"readonly").objectStore(cp)}function BV(){const t=indexedDB.deleteDatabase(oI);return new Pd(t).toPromise()}function d0(){const t=indexedDB.open(oI,UV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(cp,{keyPath:aI})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(cp)?e(r):(r.close(),await BV(),e(await d0()))})})}async function PE(t,e,n){const r=Bp(t,!0).put({[aI]:e,value:n});return new Pd(r).toPromise()}async function $V(t,e){const n=Bp(t,!1).get(e),r=await new Pd(n).toPromise();return r===void 0?null:r.value}function RE(t,e){const n=Bp(t,!0).delete(e);return new Pd(n).toPromise()}const zV=800,HV=3;class lI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await d0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>HV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return iI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Up._getInstance(FV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await LV(),!this.activeServiceWorker)return;this.sender=new jV(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||VV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await d0();return await PE(e,lp,"1"),await RE(e,lp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>PE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>$V(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>RE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=Bp(s,!1).getAll();return new Pd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),zV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}lI.type="LOCAL";const WV=lI;new Cd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qV(t,e){return e?_i(e):(Oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv extends Bv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return rc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return rc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return rc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function KV(t){return ZT(t.auth,new Hv(t),t.bypassAuthState)}function GV(t){const{auth:e,user:n}=t;return Oe(n,e,"internal-error"),_V(n,new Hv(t),t.bypassAuthState)}async function YV(t){const{auth:e,user:n}=t;return Oe(n,e,"internal-error"),xV(n,new Hv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e,n,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:o,error:l,type:c}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return KV;case"linkViaPopup":case"linkViaRedirect":return YV;case"reauthViaPopup":case"reauthViaRedirect":return GV;default:fs(this.auth,"internal-error")}}resolve(e){Ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QV=new Cd(2e3,1e4);class Yl extends cI{constructor(e,n,r,s,o){super(e,n,s,o),this.provider=r,this.authWindow=null,this.pollId=null,Yl.currentPopupAction&&Yl.currentPopupAction.cancel(),Yl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Oe(e,this.auth,"internal-error"),e}async onExecution(){Ni(this.filter.length===1,"Popup operations only handle one event");const e=zv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ls(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Ls(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Yl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ls(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,QV.get())};e()}}Yl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XV="pendingRedirect",Of=new Map;class JV extends cI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Of.get(this.auth._key());if(!e){try{const r=await ZV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Of.set(this.auth._key(),e)}return this.bypassAuthState||Of.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ZV(t,e){const n=n5(e),r=t5(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function e5(t,e){Of.set(t._key(),e)}function t5(t){return _i(t._redirectPersistence)}function n5(t){return jf(XV,t.config.apiKey,t.name)}async function r5(t,e,n=!1){if(kr(t.app))return Promise.reject(ki(t));const r=Ya(t),s=qV(r,e),l=await new JV(r,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s5=600*1e3;class i5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!o5(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!uI(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ls(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=s5&&this.cachedEventUids.clear(),this.cachedEventUids.has(DE(e))}saveEventToCache(e){this.cachedEventUids.add(DE(e)),this.lastProcessedEventTime=Date.now()}}function DE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function uI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function o5(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a5(t,e={}){return Fi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,c5=/^https?/;async function u5(t){if(t.config.emulator)return;const{authorizedDomains:e}=await a5(t);for(const n of e)try{if(d5(n))return}catch{}fs(t,"unauthorized-domain")}function d5(t){const e=l0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!c5.test(n))return!1;if(l5.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h5=new Cd(3e4,6e4);function ME(){const t=Vs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function f5(t){return new Promise((e,n)=>{var s,o,l;function r(){ME(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ME(),n(Ls(t,"network-request-failed"))},timeout:h5.get()})}if((o=(s=Vs().gapi)==null?void 0:s.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((l=Vs().gapi)!=null&&l.load)r();else{const c=nV("iframefcb");return Vs()[c]=()=>{gapi.load?r():n(Ls(t,"network-request-failed"))},GT(`${tV()}?onload=${c}`).catch(d=>n(d))}}).catch(e=>{throw Lf=null,e})}let Lf=null;function p5(t){return Lf=Lf||f5(t),Lf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m5=new Cd(5e3,15e3),g5="__/auth/iframe",y5="emulator/auth/iframe",v5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},w5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function x5(t){const e=t.config;Oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Vv(e,y5):`https://${t.config.authDomain}/${g5}`,r={apiKey:e.apiKey,appName:t.name,v:Ga},s=w5.get(t.config.apiHost);s&&(r.eid=s);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Id(r).slice(1)}`}async function _5(t){const e=await p5(t),n=Vs().gapi;return Oe(n,t,"internal-error"),e.open({where:document.body,url:x5(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:v5,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const l=Ls(t,"network-request-failed"),c=Vs().setTimeout(()=>{o(l)},m5.get());function d(){Vs().clearTimeout(c),s(r)}r.ping(d).then(d,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},E5=500,k5=600,S5="_blank",T5="http://localhost";class jE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function I5(t,e,n,r=E5,s=k5){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const d={...b5,width:r.toString(),height:s.toString(),top:o,left:l},h=Ln().toLowerCase();n&&(c=BT(h)?S5:n),FT(h)&&(e=e||T5,d.scrollbars="yes");const g=Object.entries(d).reduce((v,[b,S])=>`${v}${b}=${S},`,"");if(qL(h)&&c!=="_self")return C5(e||"",c),new jE(null);const y=window.open(e||"",c,g);Oe(y,t,"popup-blocked");try{y.focus()}catch{}return new jE(y)}function C5(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N5="__/auth/handler",A5="emulator/auth/handler",P5=encodeURIComponent("fac");async function OE(t,e,n,r,s,o){Oe(t.config.authDomain,t,"auth-domain-config-required"),Oe(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ga,eventId:s};if(e instanceof XT){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",h4(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,y]of Object.entries({}))l[g]=y}if(e instanceof Ad){const g=e.getScopes().filter(y=>y!=="");g.length>0&&(l.scopes=g.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const g of Object.keys(c))c[g]===void 0&&delete c[g];const d=await t._getAppCheckToken(),h=d?`#${P5}=${encodeURIComponent(d)}`:"";return`${R5(t)}?${Id(c).slice(1)}${h}`}function R5({config:t}){return t.emulator?Vv(t,A5):`https://${t.authDomain}/${N5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uy="webStorageSupport";class D5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sI,this._completeRedirectFn=r5,this._overrideRedirectResult=e5}async _openPopup(e,n,r,s){var l;Ni((l=this.eventManagers[e._key()])==null?void 0:l.manager,"_initialize() not called before _openPopup()");const o=await OE(e,n,r,l0(),s);return I5(e,o,zv())}async _openRedirect(e,n,r,s){await this._originValidation(e);const o=await OE(e,n,r,l0(),s);return OV(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(Ni(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await _5(e),r=new i5(e);return n.register("authEvent",s=>(Oe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(uy,{type:uy},s=>{var l;const o=(l=s==null?void 0:s[0])==null?void 0:l[uy];o!==void 0&&n(!!o),fs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=u5(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return qT()||UT()||Uv()}}const M5=D5;var LE="@firebase/auth",VE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O5(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function L5(t){Oa(new Po("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;Oe(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:KT(t)},h=new JL(r,s,o,d);return lV(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Oa(new Po("auth-internal",e=>{const n=Ya(e.getProvider("auth").getImmediate());return(r=>new j5(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Os(LE,VE,O5(t)),Os(LE,VE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V5=300,F5=ST("authIdTokenMaxAge")||V5;let FE=null;const U5=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>F5)return;const s=n==null?void 0:n.token;FE!==s&&(FE=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function B5(t=Ov()){const e=Vp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=aV(t,{popupRedirectResolver:M5,persistence:[WV,DV,sI]}),r=ST("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=U5(o.toString());CV(n,l,()=>l(n.currentUser)),IV(n,c=>l(c))}}const s=bT("auth");return s&&cV(n,`http://${s}`),n}function $5(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}ZL({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const o=Ls("internal-error");o.customData=s,n(o)},r.type="text/javascript",r.charset="UTF-8",$5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});L5("Browser");var UE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var No,dI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,N){function O(){}O.prototype=N.prototype,M.D=N.prototype,M.prototype=new O,M.prototype.constructor=M,M.C=function(V,U,$){for(var D=Array(arguments.length-2),se=2;se<arguments.length;se++)D[se-2]=arguments[se];return N.prototype[U].apply(V,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(M,N,O){O||(O=0);var V=Array(16);if(typeof N=="string")for(var U=0;16>U;++U)V[U]=N.charCodeAt(O++)|N.charCodeAt(O++)<<8|N.charCodeAt(O++)<<16|N.charCodeAt(O++)<<24;else for(U=0;16>U;++U)V[U]=N[O++]|N[O++]<<8|N[O++]<<16|N[O++]<<24;N=M.g[0],O=M.g[1],U=M.g[2];var $=M.g[3],D=N+($^O&(U^$))+V[0]+3614090360&4294967295;N=O+(D<<7&4294967295|D>>>25),D=$+(U^N&(O^U))+V[1]+3905402710&4294967295,$=N+(D<<12&4294967295|D>>>20),D=U+(O^$&(N^O))+V[2]+606105819&4294967295,U=$+(D<<17&4294967295|D>>>15),D=O+(N^U&($^N))+V[3]+3250441966&4294967295,O=U+(D<<22&4294967295|D>>>10),D=N+($^O&(U^$))+V[4]+4118548399&4294967295,N=O+(D<<7&4294967295|D>>>25),D=$+(U^N&(O^U))+V[5]+1200080426&4294967295,$=N+(D<<12&4294967295|D>>>20),D=U+(O^$&(N^O))+V[6]+2821735955&4294967295,U=$+(D<<17&4294967295|D>>>15),D=O+(N^U&($^N))+V[7]+4249261313&4294967295,O=U+(D<<22&4294967295|D>>>10),D=N+($^O&(U^$))+V[8]+1770035416&4294967295,N=O+(D<<7&4294967295|D>>>25),D=$+(U^N&(O^U))+V[9]+2336552879&4294967295,$=N+(D<<12&4294967295|D>>>20),D=U+(O^$&(N^O))+V[10]+4294925233&4294967295,U=$+(D<<17&4294967295|D>>>15),D=O+(N^U&($^N))+V[11]+2304563134&4294967295,O=U+(D<<22&4294967295|D>>>10),D=N+($^O&(U^$))+V[12]+1804603682&4294967295,N=O+(D<<7&4294967295|D>>>25),D=$+(U^N&(O^U))+V[13]+4254626195&4294967295,$=N+(D<<12&4294967295|D>>>20),D=U+(O^$&(N^O))+V[14]+2792965006&4294967295,U=$+(D<<17&4294967295|D>>>15),D=O+(N^U&($^N))+V[15]+1236535329&4294967295,O=U+(D<<22&4294967295|D>>>10),D=N+(U^$&(O^U))+V[1]+4129170786&4294967295,N=O+(D<<5&4294967295|D>>>27),D=$+(O^U&(N^O))+V[6]+3225465664&4294967295,$=N+(D<<9&4294967295|D>>>23),D=U+(N^O&($^N))+V[11]+643717713&4294967295,U=$+(D<<14&4294967295|D>>>18),D=O+($^N&(U^$))+V[0]+3921069994&4294967295,O=U+(D<<20&4294967295|D>>>12),D=N+(U^$&(O^U))+V[5]+3593408605&4294967295,N=O+(D<<5&4294967295|D>>>27),D=$+(O^U&(N^O))+V[10]+38016083&4294967295,$=N+(D<<9&4294967295|D>>>23),D=U+(N^O&($^N))+V[15]+3634488961&4294967295,U=$+(D<<14&4294967295|D>>>18),D=O+($^N&(U^$))+V[4]+3889429448&4294967295,O=U+(D<<20&4294967295|D>>>12),D=N+(U^$&(O^U))+V[9]+568446438&4294967295,N=O+(D<<5&4294967295|D>>>27),D=$+(O^U&(N^O))+V[14]+3275163606&4294967295,$=N+(D<<9&4294967295|D>>>23),D=U+(N^O&($^N))+V[3]+4107603335&4294967295,U=$+(D<<14&4294967295|D>>>18),D=O+($^N&(U^$))+V[8]+1163531501&4294967295,O=U+(D<<20&4294967295|D>>>12),D=N+(U^$&(O^U))+V[13]+2850285829&4294967295,N=O+(D<<5&4294967295|D>>>27),D=$+(O^U&(N^O))+V[2]+4243563512&4294967295,$=N+(D<<9&4294967295|D>>>23),D=U+(N^O&($^N))+V[7]+1735328473&4294967295,U=$+(D<<14&4294967295|D>>>18),D=O+($^N&(U^$))+V[12]+2368359562&4294967295,O=U+(D<<20&4294967295|D>>>12),D=N+(O^U^$)+V[5]+4294588738&4294967295,N=O+(D<<4&4294967295|D>>>28),D=$+(N^O^U)+V[8]+2272392833&4294967295,$=N+(D<<11&4294967295|D>>>21),D=U+($^N^O)+V[11]+1839030562&4294967295,U=$+(D<<16&4294967295|D>>>16),D=O+(U^$^N)+V[14]+4259657740&4294967295,O=U+(D<<23&4294967295|D>>>9),D=N+(O^U^$)+V[1]+2763975236&4294967295,N=O+(D<<4&4294967295|D>>>28),D=$+(N^O^U)+V[4]+1272893353&4294967295,$=N+(D<<11&4294967295|D>>>21),D=U+($^N^O)+V[7]+4139469664&4294967295,U=$+(D<<16&4294967295|D>>>16),D=O+(U^$^N)+V[10]+3200236656&4294967295,O=U+(D<<23&4294967295|D>>>9),D=N+(O^U^$)+V[13]+681279174&4294967295,N=O+(D<<4&4294967295|D>>>28),D=$+(N^O^U)+V[0]+3936430074&4294967295,$=N+(D<<11&4294967295|D>>>21),D=U+($^N^O)+V[3]+3572445317&4294967295,U=$+(D<<16&4294967295|D>>>16),D=O+(U^$^N)+V[6]+76029189&4294967295,O=U+(D<<23&4294967295|D>>>9),D=N+(O^U^$)+V[9]+3654602809&4294967295,N=O+(D<<4&4294967295|D>>>28),D=$+(N^O^U)+V[12]+3873151461&4294967295,$=N+(D<<11&4294967295|D>>>21),D=U+($^N^O)+V[15]+530742520&4294967295,U=$+(D<<16&4294967295|D>>>16),D=O+(U^$^N)+V[2]+3299628645&4294967295,O=U+(D<<23&4294967295|D>>>9),D=N+(U^(O|~$))+V[0]+4096336452&4294967295,N=O+(D<<6&4294967295|D>>>26),D=$+(O^(N|~U))+V[7]+1126891415&4294967295,$=N+(D<<10&4294967295|D>>>22),D=U+(N^($|~O))+V[14]+2878612391&4294967295,U=$+(D<<15&4294967295|D>>>17),D=O+($^(U|~N))+V[5]+4237533241&4294967295,O=U+(D<<21&4294967295|D>>>11),D=N+(U^(O|~$))+V[12]+1700485571&4294967295,N=O+(D<<6&4294967295|D>>>26),D=$+(O^(N|~U))+V[3]+2399980690&4294967295,$=N+(D<<10&4294967295|D>>>22),D=U+(N^($|~O))+V[10]+4293915773&4294967295,U=$+(D<<15&4294967295|D>>>17),D=O+($^(U|~N))+V[1]+2240044497&4294967295,O=U+(D<<21&4294967295|D>>>11),D=N+(U^(O|~$))+V[8]+1873313359&4294967295,N=O+(D<<6&4294967295|D>>>26),D=$+(O^(N|~U))+V[15]+4264355552&4294967295,$=N+(D<<10&4294967295|D>>>22),D=U+(N^($|~O))+V[6]+2734768916&4294967295,U=$+(D<<15&4294967295|D>>>17),D=O+($^(U|~N))+V[13]+1309151649&4294967295,O=U+(D<<21&4294967295|D>>>11),D=N+(U^(O|~$))+V[4]+4149444226&4294967295,N=O+(D<<6&4294967295|D>>>26),D=$+(O^(N|~U))+V[11]+3174756917&4294967295,$=N+(D<<10&4294967295|D>>>22),D=U+(N^($|~O))+V[2]+718787259&4294967295,U=$+(D<<15&4294967295|D>>>17),D=O+($^(U|~N))+V[9]+3951481745&4294967295,M.g[0]=M.g[0]+N&4294967295,M.g[1]=M.g[1]+(U+(D<<21&4294967295|D>>>11))&4294967295,M.g[2]=M.g[2]+U&4294967295,M.g[3]=M.g[3]+$&4294967295}r.prototype.u=function(M,N){N===void 0&&(N=M.length);for(var O=N-this.blockSize,V=this.B,U=this.h,$=0;$<N;){if(U==0)for(;$<=O;)s(this,M,$),$+=this.blockSize;if(typeof M=="string"){for(;$<N;)if(V[U++]=M.charCodeAt($++),U==this.blockSize){s(this,V),U=0;break}}else for(;$<N;)if(V[U++]=M[$++],U==this.blockSize){s(this,V),U=0;break}}this.h=U,this.o+=N},r.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var N=1;N<M.length-8;++N)M[N]=0;var O=8*this.o;for(N=M.length-8;N<M.length;++N)M[N]=O&255,O/=256;for(this.u(M),M=Array(16),N=O=0;4>N;++N)for(var V=0;32>V;V+=8)M[O++]=this.g[N]>>>V&255;return M};function o(M,N){var O=c;return Object.prototype.hasOwnProperty.call(O,M)?O[M]:O[M]=N(M)}function l(M,N){this.h=N;for(var O=[],V=!0,U=M.length-1;0<=U;U--){var $=M[U]|0;V&&$==N||(O[U]=$,V=!1)}this.g=O}var c={};function d(M){return-128<=M&&128>M?o(M,function(N){return new l([N|0],0>N?-1:0)}):new l([M|0],0>M?-1:0)}function h(M){if(isNaN(M)||!isFinite(M))return y;if(0>M)return T(h(-M));for(var N=[],O=1,V=0;M>=O;V++)N[V]=M/O|0,O*=4294967296;return new l(N,0)}function g(M,N){if(M.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(M.charAt(0)=="-")return T(g(M.substring(1),N));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=h(Math.pow(N,8)),V=y,U=0;U<M.length;U+=8){var $=Math.min(8,M.length-U),D=parseInt(M.substring(U,U+$),N);8>$?($=h(Math.pow(N,$)),V=V.j($).add(h(D))):(V=V.j(O),V=V.add(h(D)))}return V}var y=d(0),v=d(1),b=d(16777216);t=l.prototype,t.m=function(){if(k(this))return-T(this).m();for(var M=0,N=1,O=0;O<this.g.length;O++){var V=this.i(O);M+=(0<=V?V:4294967296+V)*N,N*=4294967296}return M},t.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(S(this))return"0";if(k(this))return"-"+T(this).toString(M);for(var N=h(Math.pow(M,6)),O=this,V="";;){var U=L(O,N).g;O=C(O,U.j(N));var $=((0<O.g.length?O.g[0]:O.h)>>>0).toString(M);if(O=U,S(O))return $+V;for(;6>$.length;)$="0"+$;V=$+V}},t.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function S(M){if(M.h!=0)return!1;for(var N=0;N<M.g.length;N++)if(M.g[N]!=0)return!1;return!0}function k(M){return M.h==-1}t.l=function(M){return M=C(this,M),k(M)?-1:S(M)?0:1};function T(M){for(var N=M.g.length,O=[],V=0;V<N;V++)O[V]=~M.g[V];return new l(O,~M.h).add(v)}t.abs=function(){return k(this)?T(this):this},t.add=function(M){for(var N=Math.max(this.g.length,M.g.length),O=[],V=0,U=0;U<=N;U++){var $=V+(this.i(U)&65535)+(M.i(U)&65535),D=($>>>16)+(this.i(U)>>>16)+(M.i(U)>>>16);V=D>>>16,$&=65535,D&=65535,O[U]=D<<16|$}return new l(O,O[O.length-1]&-2147483648?-1:0)};function C(M,N){return M.add(T(N))}t.j=function(M){if(S(this)||S(M))return y;if(k(this))return k(M)?T(this).j(T(M)):T(T(this).j(M));if(k(M))return T(this.j(T(M)));if(0>this.l(b)&&0>M.l(b))return h(this.m()*M.m());for(var N=this.g.length+M.g.length,O=[],V=0;V<2*N;V++)O[V]=0;for(V=0;V<this.g.length;V++)for(var U=0;U<M.g.length;U++){var $=this.i(V)>>>16,D=this.i(V)&65535,se=M.i(U)>>>16,ie=M.i(U)&65535;O[2*V+2*U]+=D*ie,P(O,2*V+2*U),O[2*V+2*U+1]+=$*ie,P(O,2*V+2*U+1),O[2*V+2*U+1]+=D*se,P(O,2*V+2*U+1),O[2*V+2*U+2]+=$*se,P(O,2*V+2*U+2)}for(V=0;V<N;V++)O[V]=O[2*V+1]<<16|O[2*V];for(V=N;V<2*N;V++)O[V]=0;return new l(O,0)};function P(M,N){for(;(M[N]&65535)!=M[N];)M[N+1]+=M[N]>>>16,M[N]&=65535,N++}function R(M,N){this.g=M,this.h=N}function L(M,N){if(S(N))throw Error("division by zero");if(S(M))return new R(y,y);if(k(M))return N=L(T(M),N),new R(T(N.g),T(N.h));if(k(N))return N=L(M,T(N)),new R(T(N.g),N.h);if(30<M.g.length){if(k(M)||k(N))throw Error("slowDivide_ only works with positive integers.");for(var O=v,V=N;0>=V.l(M);)O=F(O),V=F(V);var U=q(O,1),$=q(V,1);for(V=q(V,2),O=q(O,2);!S(V);){var D=$.add(V);0>=D.l(M)&&(U=U.add(O),$=D),V=q(V,1),O=q(O,1)}return N=C(M,U.j(N)),new R(U,N)}for(U=y;0<=M.l(N);){for(O=Math.max(1,Math.floor(M.m()/N.m())),V=Math.ceil(Math.log(O)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),$=h(O),D=$.j(N);k(D)||0<D.l(M);)O-=V,$=h(O),D=$.j(N);S($)&&($=v),U=U.add($),M=C(M,D)}return new R(U,M)}t.A=function(M){return L(this,M).h},t.and=function(M){for(var N=Math.max(this.g.length,M.g.length),O=[],V=0;V<N;V++)O[V]=this.i(V)&M.i(V);return new l(O,this.h&M.h)},t.or=function(M){for(var N=Math.max(this.g.length,M.g.length),O=[],V=0;V<N;V++)O[V]=this.i(V)|M.i(V);return new l(O,this.h|M.h)},t.xor=function(M){for(var N=Math.max(this.g.length,M.g.length),O=[],V=0;V<N;V++)O[V]=this.i(V)^M.i(V);return new l(O,this.h^M.h)};function F(M){for(var N=M.g.length+1,O=[],V=0;V<N;V++)O[V]=M.i(V)<<1|M.i(V-1)>>>31;return new l(O,M.h)}function q(M,N){var O=N>>5;N%=32;for(var V=M.g.length-O,U=[],$=0;$<V;$++)U[$]=0<N?M.i($+O)>>>N|M.i($+O+1)<<32-N:M.i($+O);return new l(U,M.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,dI=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=g,No=l}).apply(typeof UE<"u"?UE:typeof self<"u"?self:typeof window<"u"?window:{});var lf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hI,Ru,fI,Vf,h0,pI,mI,gI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,_,I){return p==Array.prototype||p==Object.prototype||(p[_]=I.value),p};function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof lf=="object"&&lf];for(var _=0;_<p.length;++_){var I=p[_];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=n(this);function s(p,_){if(_)e:{var I=r;p=p.split(".");for(var j=0;j<p.length-1;j++){var G=p[j];if(!(G in I))break e;I=I[G]}p=p[p.length-1],j=I[p],_=_(j),_!=j&&_!=null&&e(I,p,{configurable:!0,writable:!0,value:_})}}function o(p,_){p instanceof String&&(p+="");var I=0,j=!1,G={next:function(){if(!j&&I<p.length){var Z=I++;return{value:_(Z,p[Z]),done:!1}}return j=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}s("Array.prototype.values",function(p){return p||function(){return o(this,function(_,I){return I})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(p){var _=typeof p;return _=_!="object"?_:p?Array.isArray(p)?"array":_:"null",_=="array"||_=="object"&&typeof p.length=="number"}function h(p){var _=typeof p;return _=="object"&&p!=null||_=="function"}function g(p,_,I){return p.call.apply(p.bind,arguments)}function y(p,_,I){if(!p)throw Error();if(2<arguments.length){var j=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,j),p.apply(_,G)}}return function(){return p.apply(_,arguments)}}function v(p,_,I){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:y,v.apply(null,arguments)}function b(p,_){var I=Array.prototype.slice.call(arguments,1);return function(){var j=I.slice();return j.push.apply(j,arguments),p.apply(this,j)}}function S(p,_){function I(){}I.prototype=_.prototype,p.aa=_.prototype,p.prototype=new I,p.prototype.constructor=p,p.Qb=function(j,G,Z){for(var ge=Array(arguments.length-2),dt=2;dt<arguments.length;dt++)ge[dt-2]=arguments[dt];return _.prototype[G].apply(j,ge)}}function k(p){const _=p.length;if(0<_){const I=Array(_);for(let j=0;j<_;j++)I[j]=p[j];return I}return[]}function T(p,_){for(let I=1;I<arguments.length;I++){const j=arguments[I];if(d(j)){const G=p.length||0,Z=j.length||0;p.length=G+Z;for(let ge=0;ge<Z;ge++)p[G+ge]=j[ge]}else p.push(j)}}class C{constructor(_,I){this.i=_,this.j=I,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function P(p){return/^[\s\xa0]*$/.test(p)}function R(){var p=c.navigator;return p&&(p=p.userAgent)?p:""}function L(p){return L[" "](p),p}L[" "]=function(){};var F=R().indexOf("Gecko")!=-1&&!(R().toLowerCase().indexOf("webkit")!=-1&&R().indexOf("Edge")==-1)&&!(R().indexOf("Trident")!=-1||R().indexOf("MSIE")!=-1)&&R().indexOf("Edge")==-1;function q(p,_,I){for(const j in p)_.call(I,p[j],j,p)}function M(p,_){for(const I in p)_.call(void 0,p[I],I,p)}function N(p){const _={};for(const I in p)_[I]=p[I];return _}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(p,_){let I,j;for(let G=1;G<arguments.length;G++){j=arguments[G];for(I in j)p[I]=j[I];for(let Z=0;Z<O.length;Z++)I=O[Z],Object.prototype.hasOwnProperty.call(j,I)&&(p[I]=j[I])}}function U(p){var _=1;p=p.split(":");const I=[];for(;0<_&&p.length;)I.push(p.shift()),_--;return p.length&&I.push(p.join(":")),I}function $(p){c.setTimeout(()=>{throw p},0)}function D(){var p=oe;let _=null;return p.g&&(_=p.g,p.g=p.g.next,p.g||(p.h=null),_.next=null),_}class se{constructor(){this.h=this.g=null}add(_,I){const j=ie.get();j.set(_,I),this.h?this.h.next=j:this.g=j,this.h=j}}var ie=new C(()=>new ee,p=>p.reset());class ee{constructor(){this.next=this.g=this.h=null}set(_,I){this.h=_,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let te,z=!1,oe=new se,le=()=>{const p=c.Promise.resolve(void 0);te=()=>{p.then(H)}};var H=()=>{for(var p;p=D();){try{p.h.call(p.g)}catch(I){$(I)}var _=ie;_.j(p),100>_.h&&(_.h++,p.next=_.g,_.g=p)}z=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ne(p,_){this.type=p,this.g=this.target=_,this.defaultPrevented=!1}ne.prototype.h=function(){this.defaultPrevented=!0};var fe=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var p=!1,_=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const I=()=>{};c.addEventListener("test",I,_),c.removeEventListener("test",I,_)}catch{}return p}();function Ee(p,_){if(ne.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var I=this.type=p.type,j=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=_,_=p.relatedTarget){if(F){e:{try{L(_.nodeName);var G=!0;break e}catch{}G=!1}G||(_=null)}}else I=="mouseover"?_=p.fromElement:I=="mouseout"&&(_=p.toElement);this.relatedTarget=_,j?(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:we[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&Ee.aa.h.call(this)}}S(Ee,ne);var we={2:"touch",3:"pen",4:"mouse"};Ee.prototype.h=function(){Ee.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var ue="closure_listenable_"+(1e6*Math.random()|0),_e=0;function Pe(p,_,I,j,G){this.listener=p,this.proxy=null,this.src=_,this.type=I,this.capture=!!j,this.ha=G,this.key=++_e,this.da=this.fa=!1}function Ne(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function $e(p){this.src=p,this.g={},this.h=0}$e.prototype.add=function(p,_,I,j,G){var Z=p.toString();p=this.g[Z],p||(p=this.g[Z]=[],this.h++);var ge=_t(p,_,j,G);return-1<ge?(_=p[ge],I||(_.fa=!1)):(_=new Pe(_,this.src,Z,!!j,G),_.fa=I,p.push(_)),_};function He(p,_){var I=_.type;if(I in p.g){var j=p.g[I],G=Array.prototype.indexOf.call(j,_,void 0),Z;(Z=0<=G)&&Array.prototype.splice.call(j,G,1),Z&&(Ne(_),p.g[I].length==0&&(delete p.g[I],p.h--))}}function _t(p,_,I,j){for(var G=0;G<p.length;++G){var Z=p[G];if(!Z.da&&Z.listener==_&&Z.capture==!!I&&Z.ha==j)return G}return-1}var Ot="closure_lm_"+(1e6*Math.random()|0),Qn={};function Xn(p,_,I,j,G){if(Array.isArray(_)){for(var Z=0;Z<_.length;Z++)Xn(p,_[Z],I,j,G);return null}return I=Yo(I),p&&p[ue]?p.K(_,I,h(j)?!!j.capture:!1,G):vn(p,_,I,!1,j,G)}function vn(p,_,I,j,G,Z){if(!_)throw Error("Invalid event type");var ge=h(G)?!!G.capture:!!G,dt=pr(p);if(dt||(p[Ot]=dt=new $e(p)),I=dt.add(_,I,j,ge,Z),I.proxy)return I;if(j=ni(),I.proxy=j,j.src=p,j.listener=I,p.addEventListener)fe||(G=ge),G===void 0&&(G=!1),p.addEventListener(_.toString(),j,G);else if(p.attachEvent)p.attachEvent(qr(_.toString()),j);else if(p.addListener&&p.removeListener)p.addListener(j);else throw Error("addEventListener and attachEvent are unavailable.");return I}function ni(){function p(I){return _.call(p.src,p.listener,I)}const _=tn;return p}function Bt(p,_,I,j,G){if(Array.isArray(_))for(var Z=0;Z<_.length;Z++)Bt(p,_[Z],I,j,G);else j=h(j)?!!j.capture:!!j,I=Yo(I),p&&p[ue]?(p=p.i,_=String(_).toString(),_ in p.g&&(Z=p.g[_],I=_t(Z,I,j,G),-1<I&&(Ne(Z[I]),Array.prototype.splice.call(Z,I,1),Z.length==0&&(delete p.g[_],p.h--)))):p&&(p=pr(p))&&(_=p.g[_.toString()],p=-1,_&&(p=_t(_,I,j,G)),(I=-1<p?_[p]:null)&&Wr(I))}function Wr(p){if(typeof p!="number"&&p&&!p.da){var _=p.src;if(_&&_[ue])He(_.i,p);else{var I=p.type,j=p.proxy;_.removeEventListener?_.removeEventListener(I,j,p.capture):_.detachEvent?_.detachEvent(qr(I),j):_.addListener&&_.removeListener&&_.removeListener(j),(I=pr(_))?(He(I,p),I.h==0&&(I.src=null,_[Ot]=null)):Ne(p)}}}function qr(p){return p in Qn?Qn[p]:Qn[p]="on"+p}function tn(p,_){if(p.da)p=!0;else{_=new Ee(_,this);var I=p.listener,j=p.ha||p.src;p.fa&&Wr(p),p=I.call(j,_)}return p}function pr(p){return p=p[Ot],p instanceof $e?p:null}var Bi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yo(p){return typeof p=="function"?p:(p[Bi]||(p[Bi]=function(_){return p.handleEvent(_)}),p[Bi])}function bt(){X.call(this),this.i=new $e(this),this.M=this,this.F=null}S(bt,X),bt.prototype[ue]=!0,bt.prototype.removeEventListener=function(p,_,I,j){Bt(this,p,_,I,j)};function $t(p,_){var I,j=p.F;if(j)for(I=[];j;j=j.F)I.push(j);if(p=p.M,j=_.type||_,typeof _=="string")_=new ne(_,p);else if(_ instanceof ne)_.target=_.target||p;else{var G=_;_=new ne(j,p),V(_,G)}if(G=!0,I)for(var Z=I.length-1;0<=Z;Z--){var ge=_.g=I[Z];G=Nr(ge,j,!0,_)&&G}if(ge=_.g=p,G=Nr(ge,j,!0,_)&&G,G=Nr(ge,j,!1,_)&&G,I)for(Z=0;Z<I.length;Z++)ge=_.g=I[Z],G=Nr(ge,j,!1,_)&&G}bt.prototype.N=function(){if(bt.aa.N.call(this),this.i){var p=this.i,_;for(_ in p.g){for(var I=p.g[_],j=0;j<I.length;j++)Ne(I[j]);delete p.g[_],p.h--}}this.F=null},bt.prototype.K=function(p,_,I,j){return this.i.add(String(p),_,!1,I,j)},bt.prototype.L=function(p,_,I,j){return this.i.add(String(p),_,!0,I,j)};function Nr(p,_,I,j){if(_=p.i.g[String(_)],!_)return!0;_=_.concat();for(var G=!0,Z=0;Z<_.length;++Z){var ge=_[Z];if(ge&&!ge.da&&ge.capture==I){var dt=ge.listener,sn=ge.ha||ge.src;ge.fa&&He(p.i,ge),G=dt.call(sn,j)!==!1&&G}}return G&&!j.defaultPrevented}function ri(p,_,I){if(typeof p=="function")I&&(p=v(p,I));else if(p&&typeof p.handleEvent=="function")p=v(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:c.setTimeout(p,_||0)}function Fn(p){p.g=ri(()=>{p.g=null,p.i&&(p.i=!1,Fn(p))},p.l);const _=p.h;p.h=null,p.m.apply(null,_)}class xs extends X{constructor(_,I){super(),this.m=_,this.l=I,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Fn(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Jn(p){X.call(this),this.h=p,this.g={}}S(Jn,X);var Qo=[];function Xo(p){q(p.g,function(_,I){this.g.hasOwnProperty(I)&&Wr(_)},p),p.g={}}Jn.prototype.N=function(){Jn.aa.N.call(this),Xo(this)},Jn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $i=c.JSON.stringify,zi=c.JSON.parse,Jo=class{stringify(p){return c.JSON.stringify(p,void 0)}parse(p){return c.JSON.parse(p,void 0)}};function Kr(){}Kr.prototype.h=null;function Un(p){return p.h||(p.h=p.i())}function Hi(){}var Zn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function mr(){ne.call(this,"d")}S(mr,ne);function si(){ne.call(this,"c")}S(si,ne);var De={},Et=null;function kt(){return Et=Et||new bt}De.La="serverreachability";function nn(p){ne.call(this,De.La,p)}S(nn,ne);function er(p){const _=kt();$t(_,new nn(_))}De.STAT_EVENT="statevent";function Ct(p,_){ne.call(this,De.STAT_EVENT,p),this.stat=_}S(Ct,ne);function Ze(p){const _=kt();$t(_,new Ct(_,p))}De.Ma="timingevent";function Gr(p,_){ne.call(this,De.Ma,p),this.size=_}S(Gr,ne);function Nt(p,_){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){p()},_)}function rn(){this.g=!0}rn.prototype.xa=function(){this.g=!1};function _s(p,_,I,j,G,Z){p.info(function(){if(p.g)if(Z)for(var ge="",dt=Z.split("&"),sn=0;sn<dt.length;sn++){var et=dt[sn].split("=");if(1<et.length){var dn=et[0];et=et[1];var Gt=dn.split("_");ge=2<=Gt.length&&Gt[1]=="type"?ge+(dn+"="+et+"&"):ge+(dn+"=redacted&")}}else ge=null;else ge=Z;return"XMLHTTP REQ ("+j+") [attempt "+G+"]: "+_+`
`+I+`
`+ge})}function tr(p,_,I,j,G,Z,ge){p.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+G+"]: "+_+`
`+I+`
`+Z+" "+ge})}function Ar(p,_,I,j){p.info(function(){return"XMLHTTP TEXT ("+_+"): "+Sm(p,I)+(j?" "+j:"")})}function $c(p,_){p.info(function(){return"TIMEOUT: "+_})}rn.prototype.info=function(){};function Sm(p,_){if(!p.g)return _;if(!_)return null;try{var I=JSON.parse(_);if(I){for(p=0;p<I.length;p++)if(Array.isArray(I[p])){var j=I[p];if(!(2>j.length)){var G=j[1];if(Array.isArray(G)&&!(1>G.length)){var Z=G[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var ge=1;ge<G.length;ge++)G[ge]=""}}}}return $i(I)}catch{return _}}var rl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Hd={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Yr;function Zo(){}S(Zo,Kr),Zo.prototype.g=function(){return new XMLHttpRequest},Zo.prototype.i=function(){return{}},Yr=new Zo;function Qr(p,_,I,j){this.j=p,this.i=_,this.l=I,this.R=j||1,this.U=new Jn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Wd}function Wd(){this.i=null,this.g="",this.h=!1}var zc={},sl={};function il(p,_,I){p.L=1,p.v=Yi(yr(_)),p.m=I,p.P=!0,Hc(p,null)}function Hc(p,_){p.F=Date.now(),pt(p),p.A=yr(p.v);var I=p.A,j=p.R;Array.isArray(j)||(j=[String(j)]),Xi(I.i,"t",j),p.C=0,I=p.j.J,p.h=new Wd,p.g=ch(p.j,I?_:null,!p.m),0<p.O&&(p.M=new xs(v(p.Y,p,p.g),p.O)),_=p.U,I=p.g,j=p.ca;var G="readystatechange";Array.isArray(G)||(G&&(Qo[0]=G.toString()),G=Qo);for(var Z=0;Z<G.length;Z++){var ge=Xn(I,G[Z],j||_.handleEvent,!1,_.h||_);if(!ge)break;_.g[ge.key]=ge}_=p.H?N(p.H):{},p.m?(p.u||(p.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,_)):(p.u="GET",p.g.ea(p.A,p.u,null,_)),er(),_s(p.i,p.u,p.A,p.l,p.R,p.m)}Qr.prototype.ca=function(p){p=p.target;const _=this.M;_&&rr(p)==3?_.j():this.Y(p)},Qr.prototype.Y=function(p){try{if(p==this.g)e:{const Gt=rr(this.g);var _=this.g.Ba();const Dr=this.g.Z();if(!(3>Gt)&&(Gt!=3||this.g&&(this.h.h||this.g.oa()||Qc(this.g)))){this.J||Gt!=4||_==7||(_==8||0>=Dr?er(3):er(2)),ea(this);var I=this.g.Z();this.X=I;t:if(qd(this)){var j=Qc(this.g);p="";var G=j.length,Z=rr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pr(this),Wi(this);var ge="";break t}this.h.i=new c.TextDecoder}for(_=0;_<G;_++)this.h.h=!0,p+=this.h.i.decode(j[_],{stream:!(Z&&_==G-1)});j.length=0,this.h.g+=p,this.C=0,ge=this.h.g}else ge=this.g.oa();if(this.o=I==200,tr(this.i,this.u,this.A,this.l,this.R,Gt,I),this.o){if(this.T&&!this.K){t:{if(this.g){var dt,sn=this.g;if((dt=sn.g?sn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(dt)){var et=dt;break t}}et=null}if(I=et)Ar(this.i,this.l,I,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wc(this,I);else{this.o=!1,this.s=3,Ze(12),Pr(this),Wi(this);break e}}if(this.P){I=!0;let wr;for(;!this.J&&this.C<ge.length;)if(wr=Tm(this,ge),wr==sl){Gt==4&&(this.s=4,Ze(14),I=!1),Ar(this.i,this.l,null,"[Incomplete Response]");break}else if(wr==zc){this.s=4,Ze(15),Ar(this.i,this.l,ge,"[Invalid Chunk]"),I=!1;break}else Ar(this.i,this.l,wr,null),Wc(this,wr);if(qd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Gt!=4||ge.length!=0||this.h.h||(this.s=1,Ze(16),I=!1),this.o=this.o&&I,!I)Ar(this.i,this.l,ge,"[Invalid Chunked Response]"),Pr(this),Wi(this);else if(0<ge.length&&!this.W){this.W=!0;var dn=this.j;dn.g==this&&dn.ba&&!dn.M&&(dn.j.info("Great, no buffering proxy detected. Bytes received: "+ge.length),Jc(dn),dn.M=!0,Ze(11))}}else Ar(this.i,this.l,ge,null),Wc(this,ge);Gt==4&&Pr(this),this.o&&!this.J&&(Gt==4?gl(this.j,this):(this.o=!1,pt(this)))}else dl(this.g),I==400&&0<ge.indexOf("Unknown SID")?(this.s=3,Ze(12)):(this.s=0,Ze(13)),Pr(this),Wi(this)}}}catch{}finally{}};function qd(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function Tm(p,_){var I=p.C,j=_.indexOf(`
`,I);return j==-1?sl:(I=Number(_.substring(I,j)),isNaN(I)?zc:(j+=1,j+I>_.length?sl:(_=_.slice(j,j+I),p.C=j+I,_)))}Qr.prototype.cancel=function(){this.J=!0,Pr(this)};function pt(p){p.S=Date.now()+p.I,Kd(p,p.I)}function Kd(p,_){if(p.B!=null)throw Error("WatchDog timer not null");p.B=Nt(v(p.ba,p),_)}function ea(p){p.B&&(c.clearTimeout(p.B),p.B=null)}Qr.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?($c(this.i,this.A),this.L!=2&&(er(),Ze(17)),Pr(this),this.s=2,Wi(this)):Kd(this,this.S-p)};function Wi(p){p.j.G==0||p.J||gl(p.j,p)}function Pr(p){ea(p);var _=p.M;_&&typeof _.ma=="function"&&_.ma(),p.M=null,Xo(p.U),p.g&&(_=p.g,p.g=null,_.abort(),_.ma())}function Wc(p,_){try{var I=p.j;if(I.G!=0&&(I.g==p||Bn(I.h,p))){if(!p.K&&Bn(I.h,p)&&I.G==3){try{var j=I.Da.g.parse(_)}catch{j=null}if(Array.isArray(j)&&j.length==3){var G=j;if(G[0]==0){e:if(!I.u){if(I.g)if(I.g.F+3e3<p.F)ml(I),ts(I);else break e;pl(I),Ze(18)}}else I.za=G[1],0<I.za-I.T&&37500>G[2]&&I.F&&I.v==0&&!I.C&&(I.C=Nt(v(I.Za,I),6e3));if(1>=Yd(I.h)&&I.ca){try{I.ca()}catch{}I.ca=void 0}}else ci(I,11)}else if((p.K||I.g==p)&&ml(I),!P(_))for(G=I.Da.g.parse(_),_=0;_<G.length;_++){let et=G[_];if(I.T=et[0],et=et[1],I.G==2)if(et[0]=="c"){I.K=et[1],I.ia=et[2];const dn=et[3];dn!=null&&(I.la=dn,I.j.info("VER="+I.la));const Gt=et[4];Gt!=null&&(I.Aa=Gt,I.j.info("SVER="+I.Aa));const Dr=et[5];Dr!=null&&typeof Dr=="number"&&0<Dr&&(j=1.5*Dr,I.L=j,I.j.info("backChannelRequestTimeoutMs_="+j)),j=I;const wr=p.g;if(wr){const aa=wr.g?wr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(aa){var Z=j.h;Z.g||aa.indexOf("spdy")==-1&&aa.indexOf("quic")==-1&&aa.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(qc(Z,Z.h),Z.h=null))}if(j.D){const vl=wr.g?wr.g.getResponseHeader("X-HTTP-Session-Id"):null;vl&&(j.ya=vl,ft(j.I,j.D,vl))}}I.G=3,I.l&&I.l.ua(),I.ba&&(I.R=Date.now()-p.F,I.j.info("Handshake RTT: "+I.R+"ms")),j=I;var ge=p;if(j.qa=lh(j,j.J?j.ia:null,j.W),ge.K){Qd(j.h,ge);var dt=ge,sn=j.L;sn&&(dt.I=sn),dt.B&&(ea(dt),pt(dt)),j.g=ge}else oa(j);0<I.i.length&&Ss(I)}else et[0]!="stop"&&et[0]!="close"||ci(I,7);else I.G==3&&(et[0]=="stop"||et[0]=="close"?et[0]=="stop"?ci(I,7):xn(I):et[0]!="noop"&&I.l&&I.l.ta(et),I.v=0)}}er(4)}catch{}}var Gd=class{constructor(p,_){this.g=p,this.map=_}};function ta(p){this.l=p||10,c.PerformanceNavigationTiming?(p=c.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function gr(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function Yd(p){return p.h?1:p.g?p.g.size:0}function Bn(p,_){return p.h?p.h==_:p.g?p.g.has(_):!1}function qc(p,_){p.g?p.g.add(_):p.h=_}function Qd(p,_){p.h&&p.h==_?p.h=null:p.g&&p.g.has(_)&&p.g.delete(_)}ta.prototype.cancel=function(){if(this.i=Xd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Xd(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let _=p.i;for(const I of p.g.values())_=_.concat(I.D);return _}return k(p.i)}function ol(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(d(p)){for(var _=[],I=p.length,j=0;j<I;j++)_.push(p[j]);return _}_=[],I=0;for(j in p)_[I++]=p[j];return _}function al(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(d(p)||typeof p=="string"){var _=[];p=p.length;for(var I=0;I<p;I++)_.push(I);return _}_=[],I=0;for(const j in p)_[I++]=j;return _}}}function qi(p,_){if(p.forEach&&typeof p.forEach=="function")p.forEach(_,void 0);else if(d(p)||typeof p=="string")Array.prototype.forEach.call(p,_,void 0);else for(var I=al(p),j=ol(p),G=j.length,Z=0;Z<G;Z++)_.call(void 0,j[Z],I&&I[Z],p)}var na=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Im(p,_){if(p){p=p.split("&");for(var I=0;I<p.length;I++){var j=p[I].indexOf("="),G=null;if(0<=j){var Z=p[I].substring(0,j);G=p[I].substring(j+1)}else Z=p[I];_(Z,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function ii(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof ii){this.h=p.h,ra(this,p.j),this.o=p.o,this.g=p.g,Ki(this,p.s),this.l=p.l;var _=p.i,I=new bs;I.i=_.i,_.g&&(I.g=new Map(_.g),I.h=_.h),Gi(this,I),this.m=p.m}else p&&(_=String(p).match(na))?(this.h=!1,ra(this,_[1]||"",!0),this.o=Je(_[2]||""),this.g=Je(_[3]||"",!0),Ki(this,_[4]),this.l=Je(_[5]||"",!0),Gi(this,_[6]||"",!0),this.m=Je(_[7]||"")):(this.h=!1,this.i=new bs(null,this.h))}ii.prototype.toString=function(){var p=[],_=this.j;_&&p.push(Qi(_,ll,!0),":");var I=this.g;return(I||_=="file")&&(p.push("//"),(_=this.o)&&p.push(Qi(_,ll,!0),"@"),p.push(encodeURIComponent(String(I)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.s,I!=null&&p.push(":",String(I))),(I=this.l)&&(this.g&&I.charAt(0)!="/"&&p.push("/"),p.push(Qi(I,I.charAt(0)=="/"?eh:Zd,!0))),(I=this.i.toString())&&p.push("?",I),(I=this.m)&&p.push("#",Qi(I,Kc)),p.join("")};function yr(p){return new ii(p)}function ra(p,_,I){p.j=I?Je(_,!0):_,p.j&&(p.j=p.j.replace(/:$/,""))}function Ki(p,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);p.s=_}else p.s=null}function Gi(p,_,I){_ instanceof bs?(p.i=_,Es(p.i,p.h)):(I||(_=Qi(_,th)),p.i=new bs(_,p.h))}function ft(p,_,I){p.i.set(_,I)}function Yi(p){return ft(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function Je(p,_){return p?_?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Qi(p,_,I){return typeof p=="string"?(p=encodeURI(p).replace(_,Jd),I&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Jd(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var ll=/[#\/\?@]/g,Zd=/[#\?:]/g,eh=/[#\?]/g,th=/[#\?@]/g,Kc=/#/g;function bs(p,_){this.h=this.g=null,this.i=p||null,this.j=!!_}function wn(p){p.g||(p.g=new Map,p.h=0,p.i&&Im(p.i,function(_,I){p.add(decodeURIComponent(_.replace(/\+/g," ")),I)}))}t=bs.prototype,t.add=function(p,_){wn(this),this.i=null,p=Rr(this,p);var I=this.g.get(p);return I||this.g.set(p,I=[]),I.push(_),this.h+=1,this};function Xr(p,_){wn(p),_=Rr(p,_),p.g.has(_)&&(p.i=null,p.h-=p.g.get(_).length,p.g.delete(_))}function Jr(p,_){return wn(p),_=Rr(p,_),p.g.has(_)}t.forEach=function(p,_){wn(this),this.g.forEach(function(I,j){I.forEach(function(G){p.call(_,G,j,this)},this)},this)},t.na=function(){wn(this);const p=Array.from(this.g.values()),_=Array.from(this.g.keys()),I=[];for(let j=0;j<_.length;j++){const G=p[j];for(let Z=0;Z<G.length;Z++)I.push(_[j])}return I},t.V=function(p){wn(this);let _=[];if(typeof p=="string")Jr(this,p)&&(_=_.concat(this.g.get(Rr(this,p))));else{p=Array.from(this.g.values());for(let I=0;I<p.length;I++)_=_.concat(p[I])}return _},t.set=function(p,_){return wn(this),this.i=null,p=Rr(this,p),Jr(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[_]),this.h+=1,this},t.get=function(p,_){return p?(p=this.V(p),0<p.length?String(p[0]):_):_};function Xi(p,_,I){Xr(p,_),0<I.length&&(p.i=null,p.g.set(Rr(p,_),k(I)),p.h+=I.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],_=Array.from(this.g.keys());for(var I=0;I<_.length;I++){var j=_[I];const Z=encodeURIComponent(String(j)),ge=this.V(j);for(j=0;j<ge.length;j++){var G=Z;ge[j]!==""&&(G+="="+encodeURIComponent(String(ge[j]))),p.push(G)}}return this.i=p.join("&")};function Rr(p,_){return _=String(_),p.j&&(_=_.toLowerCase()),_}function Es(p,_){_&&!p.j&&(wn(p),p.i=null,p.g.forEach(function(I,j){var G=j.toLowerCase();j!=G&&(Xr(this,j),Xi(this,G,I))},p)),p.j=_}function Cm(p,_){const I=new rn;if(c.Image){const j=new Image;j.onload=b(nr,I,"TestLoadImage: loaded",!0,_,j),j.onerror=b(nr,I,"TestLoadImage: error",!1,_,j),j.onabort=b(nr,I,"TestLoadImage: abort",!1,_,j),j.ontimeout=b(nr,I,"TestLoadImage: timeout",!1,_,j),c.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=p}else _(!1)}function nh(p,_){const I=new rn,j=new AbortController,G=setTimeout(()=>{j.abort(),nr(I,"TestPingServer: timeout",!1,_)},1e4);fetch(p,{signal:j.signal}).then(Z=>{clearTimeout(G),Z.ok?nr(I,"TestPingServer: ok",!0,_):nr(I,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(G),nr(I,"TestPingServer: error",!1,_)})}function nr(p,_,I,j,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),j(I)}catch{}}function Nm(){this.g=new Jo}function rh(p,_,I){const j=I||"";try{qi(p,function(G,Z){let ge=G;h(G)&&(ge=$i(G)),_.push(j+Z+"="+encodeURIComponent(ge))})}catch(G){throw _.push(j+"type="+encodeURIComponent("_badmap")),G}}function oi(p){this.l=p.Ub||null,this.j=p.eb||!1}S(oi,Kr),oi.prototype.g=function(){return new sa(this.l,this.j)},oi.prototype.i=function(p){return function(){return p}}({});function sa(p,_){bt.call(this),this.D=p,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(sa,bt),t=sa.prototype,t.open=function(p,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=_,this.readyState=1,es(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(_.body=p),(this.D||c).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Zr(this)),this.readyState=0},t.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,es(this)),this.g&&(this.readyState=3,es(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;sh(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function sh(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}t.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var _=p.value?p.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!p.done}))&&(this.response=this.responseText+=_)}p.done?Zr(this):es(this),this.readyState==3&&sh(this)}},t.Ra=function(p){this.g&&(this.response=this.responseText=p,Zr(this))},t.Qa=function(p){this.g&&(this.response=p,Zr(this))},t.ga=function(){this.g&&Zr(this)};function Zr(p){p.readyState=4,p.l=null,p.j=null,p.v=null,es(p)}t.setRequestHeader=function(p,_){this.u.append(p,_)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],_=this.h.entries();for(var I=_.next();!I.done;)I=I.value,p.push(I[0]+": "+I[1]),I=_.next();return p.join(`\r
`)};function es(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(sa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function ai(p){let _="";return q(p,function(I,j){_+=j,_+=":",_+=I,_+=`\r
`}),_}function Ji(p,_,I){e:{for(j in I){var j=!1;break e}j=!0}j||(I=ai(I),typeof p=="string"?I!=null&&encodeURIComponent(String(I)):ft(p,_,I))}function St(p){bt.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(St,bt);var Am=/^https?$/i,Gc=["POST","PUT"];t=St.prototype,t.Ha=function(p){this.J=p},t.ea=function(p,_,I,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);_=_?_.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Yr.g(),this.v=this.o?Un(this.o):Un(Yr),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(_,String(p),!0),this.B=!1}catch(Z){ia(this,Z);return}if(p=I||"",I=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var G in j)I.set(G,j[G]);else if(typeof j.keys=="function"&&typeof j.get=="function")for(const Z of j.keys())I.set(Z,j.get(Z));else throw Error("Unknown input type for opt_headers: "+String(j));j=Array.from(I.keys()).find(Z=>Z.toLowerCase()=="content-type"),G=c.FormData&&p instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Gc,_,void 0))||j||G||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,ge]of I)this.g.setRequestHeader(Z,ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ul(this),this.u=!0,this.g.send(p),this.u=!1}catch(Z){ia(this,Z)}};function ia(p,_){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=_,p.m=5,cl(p),vr(p)}function cl(p){p.A||(p.A=!0,$t(p,"complete"),$t(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,$t(this,"complete"),$t(this,"abort"),vr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vr(this,!0)),St.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Yc(this):this.bb())},t.bb=function(){Yc(this)};function Yc(p){if(p.h&&typeof l<"u"&&(!p.v[1]||rr(p)!=4||p.Z()!=2)){if(p.u&&rr(p)==4)ri(p.Ea,0,p);else if($t(p,"readystatechange"),rr(p)==4){p.h=!1;try{const ge=p.Z();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var I;if(!(I=_)){var j;if(j=ge===0){var G=String(p.D).match(na)[1]||null;!G&&c.self&&c.self.location&&(G=c.self.location.protocol.slice(0,-1)),j=!Am.test(G?G.toLowerCase():"")}I=j}if(I)$t(p,"complete"),$t(p,"success");else{p.m=6;try{var Z=2<rr(p)?p.g.statusText:""}catch{Z=""}p.l=Z+" ["+p.Z()+"]",cl(p)}}finally{vr(p)}}}}function vr(p,_){if(p.g){ul(p);const I=p.g,j=p.v[0]?()=>{}:null;p.g=null,p.v=null,_||$t(p,"ready");try{I.onreadystatechange=j}catch{}}}function ul(p){p.I&&(c.clearTimeout(p.I),p.I=null)}t.isActive=function(){return!!this.g};function rr(p){return p.g?p.g.readyState:0}t.Z=function(){try{return 2<rr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(p){if(this.g){var _=this.g.responseText;return p&&_.indexOf(p)==0&&(_=_.substring(p.length)),zi(_)}};function Qc(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function dl(p){const _={};p=(p.g&&2<=rr(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let j=0;j<p.length;j++){if(P(p[j]))continue;var I=U(p[j]);const G=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const Z=_[G]||[];_[G]=Z,Z.push(I)}M(_,function(j){return j.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ks(p,_,I){return I&&I.internalChannelParams&&I.internalChannelParams[p]||_}function Xc(p){this.Aa=0,this.i=[],this.j=new rn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ks("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ks("baseRetryDelayMs",5e3,p),this.cb=ks("retryDelaySeedMs",1e4,p),this.Wa=ks("forwardChannelMaxRetries",2,p),this.wa=ks("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new ta(p&&p.concurrentRequestLimit),this.Da=new Nm,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Xc.prototype,t.la=8,t.G=1,t.connect=function(p,_,I,j){Ze(0),this.W=p,this.H=_||{},I&&j!==void 0&&(this.H.OSID=I,this.H.OAID=j),this.F=this.X,this.I=lh(this,null,this.W),Ss(this)};function xn(p){if(hl(p),p.G==3){var _=p.U++,I=yr(p.I);if(ft(I,"SID",p.K),ft(I,"RID",_),ft(I,"TYPE","terminate"),li(p,I),_=new Qr(p,p.j,_),_.L=2,_.v=Yi(yr(I)),I=!1,c.navigator&&c.navigator.sendBeacon)try{I=c.navigator.sendBeacon(_.v.toString(),"")}catch{}!I&&c.Image&&(new Image().src=_.v,I=!0),I||(_.g=ch(_.j,null),_.g.ea(_.v)),_.F=Date.now(),pt(_)}ah(p)}function ts(p){p.g&&(Jc(p),p.g.cancel(),p.g=null)}function hl(p){ts(p),p.u&&(c.clearTimeout(p.u),p.u=null),ml(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&c.clearTimeout(p.s),p.s=null)}function Ss(p){if(!gr(p.h)&&!p.s){p.s=!0;var _=p.Ga;te||le(),z||(te(),z=!0),oe.add(_,p),p.B=0}}function Pm(p,_){return Yd(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=_.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=Nt(v(p.Ga,p,_),oh(p,p.B)),p.B++,!0)}t.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const G=new Qr(this,this.j,p);let Z=this.o;if(this.S&&(Z?(Z=N(Z),V(Z,this.S)):Z=this.S),this.m!==null||this.O||(G.H=Z,Z=null),this.P)e:{for(var _=0,I=0;I<this.i.length;I++){t:{var j=this.i[I];if("__data__"in j.map&&(j=j.map.__data__,typeof j=="string")){j=j.length;break t}j=void 0}if(j===void 0)break;if(_+=j,4096<_){_=I;break e}if(_===4096||I===this.i.length-1){_=I+1;break e}}_=1e3}else _=1e3;_=Zi(this,G,_),I=yr(this.I),ft(I,"RID",p),ft(I,"CVER",22),this.D&&ft(I,"X-HTTP-Session-Id",this.D),li(this,I),Z&&(this.O?_="headers="+encodeURIComponent(String(ai(Z)))+"&"+_:this.m&&Ji(I,this.m,Z)),qc(this.h,G),this.Ua&&ft(I,"TYPE","init"),this.P?(ft(I,"$req",_),ft(I,"SID","null"),G.T=!0,il(G,I,null)):il(G,I,_),this.G=2}}else this.G==3&&(p?fl(this,p):this.i.length==0||gr(this.h)||fl(this))};function fl(p,_){var I;_?I=_.l:I=p.U++;const j=yr(p.I);ft(j,"SID",p.K),ft(j,"RID",I),ft(j,"AID",p.T),li(p,j),p.m&&p.o&&Ji(j,p.m,p.o),I=new Qr(p,p.j,I,p.B+1),p.m===null&&(I.H=p.o),_&&(p.i=_.D.concat(p.i)),_=Zi(p,I,1e3),I.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),qc(p.h,I),il(I,j,_)}function li(p,_){p.H&&q(p.H,function(I,j){ft(_,j,I)}),p.l&&qi({},function(I,j){ft(_,j,I)})}function Zi(p,_,I){I=Math.min(p.i.length,I);var j=p.l?v(p.l.Na,p.l,p):null;e:{var G=p.i;let Z=-1;for(;;){const ge=["count="+I];Z==-1?0<I?(Z=G[0].g,ge.push("ofs="+Z)):Z=0:ge.push("ofs="+Z);let dt=!0;for(let sn=0;sn<I;sn++){let et=G[sn].g;const dn=G[sn].map;if(et-=Z,0>et)Z=Math.max(0,G[sn].g-100),dt=!1;else try{rh(dn,ge,"req"+et+"_")}catch{j&&j(dn)}}if(dt){j=ge.join("&");break e}}}return p=p.i.splice(0,I),_.D=p,j}function oa(p){if(!p.g&&!p.u){p.Y=1;var _=p.Fa;te||le(),z||(te(),z=!0),oe.add(_,p),p.v=0}}function pl(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=Nt(v(p.Fa,p),oh(p,p.v)),p.v++,!0)}t.Fa=function(){if(this.u=null,ih(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=Nt(v(this.ab,this),p)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ze(10),ts(this),ih(this))};function Jc(p){p.A!=null&&(c.clearTimeout(p.A),p.A=null)}function ih(p){p.g=new Qr(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var _=yr(p.qa);ft(_,"RID","rpc"),ft(_,"SID",p.K),ft(_,"AID",p.T),ft(_,"CI",p.F?"0":"1"),!p.F&&p.ja&&ft(_,"TO",p.ja),ft(_,"TYPE","xmlhttp"),li(p,_),p.m&&p.o&&Ji(_,p.m,p.o),p.L&&(p.g.I=p.L);var I=p.g;p=p.ia,I.L=1,I.v=Yi(yr(_)),I.m=null,I.P=!0,Hc(I,p)}t.Za=function(){this.C!=null&&(this.C=null,ts(this),pl(this),Ze(19))};function ml(p){p.C!=null&&(c.clearTimeout(p.C),p.C=null)}function gl(p,_){var I=null;if(p.g==_){ml(p),Jc(p),p.g=null;var j=2}else if(Bn(p.h,_))I=_.D,Qd(p.h,_),j=1;else return;if(p.G!=0){if(_.o)if(j==1){I=_.m?_.m.length:0,_=Date.now()-_.F;var G=p.B;j=kt(),$t(j,new Gr(j,I)),Ss(p)}else oa(p);else if(G=_.s,G==3||G==0&&0<_.X||!(j==1&&Pm(p,_)||j==2&&pl(p)))switch(I&&0<I.length&&(_=p.h,_.i=_.i.concat(I)),G){case 1:ci(p,5);break;case 4:ci(p,10);break;case 3:ci(p,6);break;default:ci(p,2)}}}function oh(p,_){let I=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(I*=2),I*_}function ci(p,_){if(p.j.info("Error code "+_),_==2){var I=v(p.fb,p),j=p.Xa;const G=!j;j=new ii(j||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||ra(j,"https"),Yi(j),G?Cm(j.toString(),I):nh(j.toString(),I)}else Ze(2);p.G=0,p.l&&p.l.sa(_),ah(p),hl(p)}t.fb=function(p){p?(this.j.info("Successfully pinged google.com"),Ze(2)):(this.j.info("Failed to ping google.com"),Ze(1))};function ah(p){if(p.G=0,p.ka=[],p.l){const _=Xd(p.h);(_.length!=0||p.i.length!=0)&&(T(p.ka,_),T(p.ka,p.i),p.h.i.length=0,k(p.i),p.i.length=0),p.l.ra()}}function lh(p,_,I){var j=I instanceof ii?yr(I):new ii(I);if(j.g!="")_&&(j.g=_+"."+j.g),Ki(j,j.s);else{var G=c.location;j=G.protocol,_=_?_+"."+G.hostname:G.hostname,G=+G.port;var Z=new ii(null);j&&ra(Z,j),_&&(Z.g=_),G&&Ki(Z,G),I&&(Z.l=I),j=Z}return I=p.D,_=p.ya,I&&_&&ft(j,I,_),ft(j,"VER",p.la),li(p,j),j}function ch(p,_,I){if(_&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=p.Ca&&!p.pa?new St(new oi({eb:I})):new St(p.pa),_.Ha(p.J),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Zc(){}t=Zc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function yl(){}yl.prototype.g=function(p,_){return new $n(p,_)};function $n(p,_){bt.call(this),this.g=new Xc(_),this.l=p,this.h=_&&_.messageUrlParams||null,p=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(p?p["X-WebChannel-Content-Type"]=_.messageContentType:p={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(p?p["X-WebChannel-Client-Profile"]=_.va:p={"X-WebChannel-Client-Profile":_.va}),this.g.S=p,(p=_&&_.Sb)&&!P(p)&&(this.g.m=p),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!P(_)&&(this.g.D=_,p=this.h,p!==null&&_ in p&&(p=this.h,_ in p&&delete p[_])),this.j=new Ts(this)}S($n,bt),$n.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$n.prototype.close=function(){xn(this.g)},$n.prototype.o=function(p){var _=this.g;if(typeof p=="string"){var I={};I.__data__=p,p=I}else this.u&&(I={},I.__data__=$i(p),p=I);_.i.push(new Gd(_.Ya++,p)),_.G==3&&Ss(_)},$n.prototype.N=function(){this.g.l=null,delete this.j,xn(this.g),delete this.g,$n.aa.N.call(this)};function uh(p){mr.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var _=p.__sm__;if(_){e:{for(const I in _){p=I;break e}p=void 0}(this.i=p)&&(p=this.i,_=_!==null&&p in _?_[p]:void 0),this.data=_}else this.data=p}S(uh,mr);function dh(){si.call(this),this.status=1}S(dh,si);function Ts(p){this.g=p}S(Ts,Zc),Ts.prototype.ua=function(){$t(this.g,"a")},Ts.prototype.ta=function(p){$t(this.g,new uh(p))},Ts.prototype.sa=function(p){$t(this.g,new dh)},Ts.prototype.ra=function(){$t(this.g,"b")},yl.prototype.createWebChannel=yl.prototype.g,$n.prototype.send=$n.prototype.o,$n.prototype.open=$n.prototype.m,$n.prototype.close=$n.prototype.close,gI=function(){return new yl},mI=function(){return kt()},pI=De,h0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},rl.NO_ERROR=0,rl.TIMEOUT=8,rl.HTTP_ERROR=6,Vf=rl,Hd.COMPLETE="complete",fI=Hd,Hi.EventType=Zn,Zn.OPEN="a",Zn.CLOSE="b",Zn.ERROR="c",Zn.MESSAGE="d",bt.prototype.listen=bt.prototype.K,Ru=Hi,St.prototype.listenOnce=St.prototype.L,St.prototype.getLastError=St.prototype.Ka,St.prototype.getLastErrorCode=St.prototype.Ba,St.prototype.getStatus=St.prototype.Z,St.prototype.getResponseJson=St.prototype.Oa,St.prototype.getResponseText=St.prototype.oa,St.prototype.send=St.prototype.ea,St.prototype.setWithCredentials=St.prototype.Ha,hI=St}).apply(typeof lf<"u"?lf:typeof self<"u"?self:typeof window<"u"?window:{});const BE="@firebase/firestore",$E="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Rn.UNAUTHENTICATED=new Rn(null),Rn.GOOGLE_CREDENTIALS=new Rn("google-credentials-uid"),Rn.FIRST_PARTY=new Rn("first-party-uid"),Rn.MOCK_USER=new Rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tc="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa=new Mv("@firebase/firestore");function Wl(){return Fa.logLevel}function xe(t,...e){if(Fa.logLevel<=Ye.DEBUG){const n=e.map(Wv);Fa.debug(`Firestore (${Tc}): ${t}`,...n)}}function Ai(t,...e){if(Fa.logLevel<=Ye.ERROR){const n=e.map(Wv);Fa.error(`Firestore (${Tc}): ${t}`,...n)}}function fc(t,...e){if(Fa.logLevel<=Ye.WARN){const n=e.map(Wv);Fa.warn(`Firestore (${Tc}): ${t}`,...n)}}function Wv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,yI(t,r,n)}function yI(t,e,n){let r=`FIRESTORE (${Tc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ai(r),new Error(r)}function ut(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||yI(e,s,r)}function ze(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends ei{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class z5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Rn.UNAUTHENTICATED))}shutdown(){}}class H5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class W5{constructor(e){this.t=e,this.currentUser=Rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ut(this.o===void 0,42304);let r=this.i;const s=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let o=new Si;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Si,e.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const d=o;e.enqueueRetryable(async()=>{await d.promise,await s(this.currentUser)})},c=d=>{xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>c(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Si)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ut(typeof r.accessToken=="string",31837,{l:r}),new vI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ut(e===null||typeof e=="string",2055,{h:e}),new Rn(e)}}class q5{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class K5{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new q5(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Rn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class G5{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,kr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ut(this.o===void 0,3512);const r=o=>{o.error!=null&&xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,xe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const s=o=>{xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new zE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ut(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new zE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=Y5(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<n&&(r+=e.charAt(s[o]%62))}return r}}function Qe(t,e){return t<e?-1:t>e?1:0}function f0(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),o=e.charAt(r);if(s!==o)return dy(s)===dy(o)?Qe(s,o):dy(s)?1:-1}return Qe(t.length,e.length)}const Q5=55296,X5=57343;function dy(t){const e=t.charCodeAt(0);return e>=Q5&&e<=X5}function pc(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE="__name__";class Rs{constructor(e,n,r){n===void 0?n=0:n>e.length&&Le(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Le(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Rs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Rs?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const o=Rs.compareSegments(e.get(s),n.get(s));if(o!==0)return o}return Qe(e.length,n.length)}static compareSegments(e,n){const r=Rs.isNumericId(e),s=Rs.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Rs.extractNumericId(e).compare(Rs.extractNumericId(n)):f0(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return No.fromString(e.substring(4,e.length-2))}}class gt extends Rs{construct(e,n,r){return new gt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ye(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new gt(n)}static emptyPath(){return new gt([])}}const J5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Sn extends Rs{construct(e,n,r){return new Sn(e,n,r)}static isValidIdentifier(e){return J5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Sn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===HE}static keyField(){return new Sn([HE])}static fromServerFormat(e){const n=[];let r="",s=0;const o=()=>{if(r.length===0)throw new ye(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new ye(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ye(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(r+=c,s++):(o(),s++)}if(o(),l)throw new ye(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Sn(n)}static emptyPath(){return new Sn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(gt.fromString(e))}static fromName(e){return new Ae(gt.fromString(e).popFirst(5))}static empty(){return new Ae(gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return gt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new gt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(t,e,n){if(!n)throw new ye(re.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Z5(t,e,n,r){if(e===!0&&r===!0)throw new ye(re.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function WE(t){if(!Ae.isDocumentKey(t))throw new ye(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function qE(t){if(Ae.isDocumentKey(t))throw new ye(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function xI(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function $p(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Le(12329,{type:typeof t})}function Pi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ye(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$p(t);throw new ye(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Rd(t,e){if(!xI(t))throw new ye(re.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(s&&typeof l!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(o!==void 0&&l!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new ye(re.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE=-62135596800,GE=1e6;class xt{static now(){return xt.fromMillis(Date.now())}static fromDate(e){return xt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*GE);return new xt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ye(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ye(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<KE)throw new ye(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/GE}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:xt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Rd(e,xt._jsonSchema))return new xt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-KE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}xt._jsonSchemaVersion="firestore/timestamp/1.0",xt._jsonSchema={type:Zt("string",xt._jsonSchemaVersion),seconds:Zt("number"),nanoseconds:Zt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{static fromTimestamp(e){return new Be(e)}static min(){return new Be(new xt(0,0))}static max(){return new Be(new xt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td=-1;function e6(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Be.fromTimestamp(r===1e9?new xt(n+1,0):new xt(n,r));return new Ro(s,Ae.empty(),e)}function t6(t){return new Ro(t.readTime,t.key,td)}class Ro{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ro(Be.min(),Ae.empty(),td)}static max(){return new Ro(Be.max(),Ae.empty(),td)}}function n6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ae.comparator(t.documentKey,e.documentKey),n!==0?n:Qe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class s6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ic(t){if(t.code!==re.FAILED_PRECONDITION||t.message!==r6)throw t;xe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Le(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ae((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ae?n:ae.resolve(n)}catch(n){return ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ae.reject(n)}static resolve(e){return new ae((n,r)=>{n(e)})}static reject(e){return new ae((n,r)=>{r(e)})}static waitFor(e){return new ae((n,r)=>{let s=0,o=0,l=!1;e.forEach(c=>{++s,c.next(()=>{++o,l&&o===s&&n()},d=>r(d))}),l=!0,o===s&&n()})}static or(e){let n=ae.resolve(!1);for(const r of e)n=n.next(s=>s?ae.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,o)=>{r.push(n.call(this,s,o))}),this.waitFor(r)}static mapArray(e,n){return new ae((r,s)=>{const o=e.length,l=new Array(o);let c=0;for(let d=0;d<o;d++){const h=d;n(e[h]).next(g=>{l[h]=g,++c,c===o&&r(l)},g=>s(g))}})}static doWhile(e,n){return new ae((r,s)=>{const o=()=>{e()===!0?n().next(()=>{o()},s):r()};o()})}}function i6(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Cc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}zp.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv=-1;function Hp(t){return t==null}function up(t){return t===0&&1/t==-1/0}function o6(t){return typeof t=="number"&&Number.isInteger(t)&&!up(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I="";function a6(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=YE(e)),e=l6(t.get(n),e);return YE(e)}function l6(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const o=t.charAt(s);switch(o){case"\0":n+="";break;case _I:n+="";break;default:n+=o}}return n}function YE(t){return t+_I+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ho(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function bI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e,n){this.comparator=e,this.root=n||kn.EMPTY}insert(e,n){return new jt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,kn.BLACK,null,null))}remove(e){return new jt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cf(this.root,e,this.comparator,!1)}getReverseIterator(){return new cf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cf(this.root,e,this.comparator,!0)}}class cf{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kn{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r??kn.RED,this.left=s??kn.EMPTY,this.right=o??kn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,o){return new kn(e??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return kn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return kn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Le(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Le(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Le(27949);return e+(this.isRed()?0:1)}}kn.EMPTY=null,kn.RED=!0,kn.BLACK=!1;kn.EMPTY=new class{constructor(){this.size=0}get key(){throw Le(57766)}get value(){throw Le(16141)}get color(){throw Le(16727)}get left(){throw Le(29726)}get right(){throw Le(36894)}copy(e,n,r,s,o){return this}insert(e,n,r){return new kn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.comparator=e,this.data=new jt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new XE(this.data.getIterator())}getIteratorFrom(e){return new XE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof un)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new un(this.comparator);return n.data=e,n}}class XE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e){this.fields=e,e.sort(Sn.comparator)}static empty(){return new Sr([])}unionWith(e){let n=new un(Sn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Sr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return pc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new EI("Invalid base64 string: "+o):o}}(e);return new Tn(n)}static fromUint8Array(e){const n=function(s){let o="";for(let l=0;l<s.length;++l)o+=String.fromCharCode(s[l]);return o}(e);return new Tn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tn.EMPTY_BYTE_STRING=new Tn("");const c6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Do(t){if(ut(!!t,39018),typeof t=="string"){let e=0;const n=c6.exec(t);if(ut(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Wt(t.seconds),nanos:Wt(t.nanos)}}function Wt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Mo(t){return typeof t=="string"?Tn.fromBase64String(t):Tn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI="server_timestamp",SI="__type__",TI="__previous_value__",II="__local_write_time__";function Gv(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[SI])==null?void 0:r.stringValue)===kI}function Wp(t){const e=t.mapValue.fields[TI];return Gv(e)?Wp(e):e}function nd(t){const e=Do(t.mapValue.fields[II].timestampValue);return new xt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(e,n,r,s,o,l,c,d,h,g){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=h,this.isUsingEmulator=g}}const dp="(default)";class rd{constructor(e,n){this.projectId=e,this.database=n||dp}static empty(){return new rd("","")}get isDefaultDatabase(){return this.database===dp}isEqual(e){return e instanceof rd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI="__type__",d6="__max__",uf={mapValue:{}},NI="__vector__",hp="value";function jo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Gv(t)?4:f6(t)?9007199254740991:h6(t)?10:11:Le(28295,{value:t})}function Gs(t,e){if(t===e)return!0;const n=jo(t);if(n!==jo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return nd(t).isEqual(nd(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const l=Do(s.timestampValue),c=Do(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,o){return Mo(s.bytesValue).isEqual(Mo(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,o){return Wt(s.geoPointValue.latitude)===Wt(o.geoPointValue.latitude)&&Wt(s.geoPointValue.longitude)===Wt(o.geoPointValue.longitude)}(t,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return Wt(s.integerValue)===Wt(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const l=Wt(s.doubleValue),c=Wt(o.doubleValue);return l===c?up(l)===up(c):isNaN(l)&&isNaN(c)}return!1}(t,e);case 9:return pc(t.arrayValue.values||[],e.arrayValue.values||[],Gs);case 10:case 11:return function(s,o){const l=s.mapValue.fields||{},c=o.mapValue.fields||{};if(QE(l)!==QE(c))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(c[d]===void 0||!Gs(l[d],c[d])))return!1;return!0}(t,e);default:return Le(52216,{left:t})}}function sd(t,e){return(t.values||[]).find(n=>Gs(n,e))!==void 0}function mc(t,e){if(t===e)return 0;const n=jo(t),r=jo(e);if(n!==r)return Qe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qe(t.booleanValue,e.booleanValue);case 2:return function(o,l){const c=Wt(o.integerValue||o.doubleValue),d=Wt(l.integerValue||l.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(t,e);case 3:return JE(t.timestampValue,e.timestampValue);case 4:return JE(nd(t),nd(e));case 5:return f0(t.stringValue,e.stringValue);case 6:return function(o,l){const c=Mo(o),d=Mo(l);return c.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(o,l){const c=o.split("/"),d=l.split("/");for(let h=0;h<c.length&&h<d.length;h++){const g=Qe(c[h],d[h]);if(g!==0)return g}return Qe(c.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,l){const c=Qe(Wt(o.latitude),Wt(l.latitude));return c!==0?c:Qe(Wt(o.longitude),Wt(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return ZE(t.arrayValue,e.arrayValue);case 10:return function(o,l){var v,b,S,k;const c=o.fields||{},d=l.fields||{},h=(v=c[hp])==null?void 0:v.arrayValue,g=(b=d[hp])==null?void 0:b.arrayValue,y=Qe(((S=h==null?void 0:h.values)==null?void 0:S.length)||0,((k=g==null?void 0:g.values)==null?void 0:k.length)||0);return y!==0?y:ZE(h,g)}(t.mapValue,e.mapValue);case 11:return function(o,l){if(o===uf.mapValue&&l===uf.mapValue)return 0;if(o===uf.mapValue)return 1;if(l===uf.mapValue)return-1;const c=o.fields||{},d=Object.keys(c),h=l.fields||{},g=Object.keys(h);d.sort(),g.sort();for(let y=0;y<d.length&&y<g.length;++y){const v=f0(d[y],g[y]);if(v!==0)return v;const b=mc(c[d[y]],h[g[y]]);if(b!==0)return b}return Qe(d.length,g.length)}(t.mapValue,e.mapValue);default:throw Le(23264,{he:n})}}function JE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Qe(t,e);const n=Do(t),r=Do(e),s=Qe(n.seconds,r.seconds);return s!==0?s:Qe(n.nanos,r.nanos)}function ZE(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const o=mc(n[s],r[s]);if(o)return o}return Qe(n.length,r.length)}function gc(t){return p0(t)}function p0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Do(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Mo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ae.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const o of n.values||[])s?s=!1:r+=",",r+=p0(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const l of r)o?o=!1:s+=",",s+=`${l}:${p0(n.fields[l])}`;return s+"}"}(t.mapValue):Le(61005,{value:t})}function Ff(t){switch(jo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Wp(t);return e?16+Ff(e):16;case 5:return 2*t.stringValue.length;case 6:return Mo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,o)=>s+Ff(o),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Ho(r.fields,(o,l)=>{s+=o.length+Ff(l)}),s}(t.mapValue);default:throw Le(13486,{value:t})}}function ek(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function m0(t){return!!t&&"integerValue"in t}function Yv(t){return!!t&&"arrayValue"in t}function tk(t){return!!t&&"nullValue"in t}function nk(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Uf(t){return!!t&&"mapValue"in t}function h6(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[CI])==null?void 0:r.stringValue)===NI}function Bu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ho(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Bu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Bu(t.arrayValue.values[n]);return e}return{...t}}function f6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===d6}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this.value=e}static empty(){return new hr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Uf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bu(n)}setAll(e){let n=Sn.emptyPath(),r={},s=[];e.forEach((l,c)=>{if(!n.isImmediateParentOf(c)){const d=this.getFieldsMap(n);this.applyChanges(d,r,s),r={},s=[],n=c.popLast()}l?r[c.lastSegment()]=Bu(l):s.push(c.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,s)}delete(e){const n=this.field(e.popLast());Uf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Gs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Uf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Ho(n,(s,o)=>e[s]=o);for(const s of r)delete e[s]}clone(){return new hr(Bu(this.value))}}function AI(t){const e=[];return Ho(t.fields,(n,r)=>{const s=new Sn([n]);if(Uf(r)){const o=AI(r.mapValue).fields;if(o.length===0)e.push(s);else for(const l of o)e.push(s.child(l))}else e.push(s)}),new Sr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e,n,r,s,o,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=o,this.data=l,this.documentState=c}static newInvalidDocument(e){return new Dn(e,0,Be.min(),Be.min(),Be.min(),hr.empty(),0)}static newFoundDocument(e,n,r,s){return new Dn(e,1,n,Be.min(),r,s,0)}static newNoDocument(e,n){return new Dn(e,2,n,Be.min(),Be.min(),hr.empty(),0)}static newUnknownDocument(e,n){return new Dn(e,3,n,Be.min(),Be.min(),hr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(e,n){this.position=e,this.inclusive=n}}function rk(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const o=e[s],l=t.position[s];if(o.field.isKeyField()?r=Ae.comparator(Ae.fromName(l.referenceValue),n.key):r=mc(l,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function sk(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Gs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,n="asc"){this.field=e,this.dir=n}}function p6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{}class Jt extends PI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new g6(e,n,r):n==="array-contains"?new w6(e,r):n==="in"?new x6(e,r):n==="not-in"?new _6(e,r):n==="array-contains-any"?new b6(e,r):new Jt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new y6(e,r):new v6(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(mc(n,this.value)):n!==null&&jo(this.value)===jo(n)&&this.matchesComparison(mc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Le(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ps extends PI{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ps(e,n)}matches(e){return RI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function RI(t){return t.op==="and"}function DI(t){return m6(t)&&RI(t)}function m6(t){for(const e of t.filters)if(e instanceof ps)return!1;return!0}function g0(t){if(t instanceof Jt)return t.field.canonicalString()+t.op.toString()+gc(t.value);if(DI(t))return t.filters.map(e=>g0(e)).join(",");{const e=t.filters.map(n=>g0(n)).join(",");return`${t.op}(${e})`}}function MI(t,e){return t instanceof Jt?function(r,s){return s instanceof Jt&&r.op===s.op&&r.field.isEqual(s.field)&&Gs(r.value,s.value)}(t,e):t instanceof ps?function(r,s){return s instanceof ps&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((o,l,c)=>o&&MI(l,s.filters[c]),!0):!1}(t,e):void Le(19439)}function jI(t){return t instanceof Jt?function(n){return`${n.field.canonicalString()} ${n.op} ${gc(n.value)}`}(t):t instanceof ps?function(n){return n.op.toString()+" {"+n.getFilters().map(jI).join(" ,")+"}"}(t):"Filter"}class g6 extends Jt{constructor(e,n,r){super(e,n,r),this.key=Ae.fromName(r.referenceValue)}matches(e){const n=Ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class y6 extends Jt{constructor(e,n){super(e,"in",n),this.keys=OI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class v6 extends Jt{constructor(e,n){super(e,"not-in",n),this.keys=OI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function OI(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>Ae.fromName(r.referenceValue))}class w6 extends Jt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Yv(n)&&sd(n.arrayValue,this.value)}}class x6 extends Jt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&sd(this.value.arrayValue,n)}}class _6 extends Jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(sd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!sd(this.value.arrayValue,n)}}class b6 extends Jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Yv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>sd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(e,n=null,r=[],s=[],o=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=l,this.endAt=c,this.Te=null}}function ik(t,e=null,n=[],r=[],s=null,o=null,l=null){return new E6(t,e,n,r,s,o,l)}function Qv(t){const e=ze(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>g0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Hp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>gc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>gc(r)).join(",")),e.Te=n}return e.Te}function Xv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!p6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!MI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!sk(t.startAt,e.startAt)&&sk(t.endAt,e.endAt)}function y0(t){return Ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,n=null,r=[],s=[],o=null,l="F",c=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function k6(t,e,n,r,s,o,l,c){return new Nc(t,e,n,r,s,o,l,c)}function Jv(t){return new Nc(t)}function ok(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function LI(t){return t.collectionGroup!==null}function $u(t){const e=ze(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new un(Sn.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(h=>{h.isInequality()&&(c=c.add(h.field))})}),c})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new id(o,r))}),n.has(Sn.keyField().canonicalString())||e.Ie.push(new id(Sn.keyField(),r))}return e.Ie}function Fs(t){const e=ze(t);return e.Ee||(e.Ee=S6(e,$u(t))),e.Ee}function S6(t,e){if(t.limitType==="F")return ik(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new id(s.field,o)});const n=t.endAt?new fp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new fp(t.startAt.position,t.startAt.inclusive):null;return ik(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function v0(t,e){const n=t.filters.concat([e]);return new Nc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function w0(t,e,n){return new Nc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function qp(t,e){return Xv(Fs(t),Fs(e))&&t.limitType===e.limitType}function VI(t){return`${Qv(Fs(t))}|lt:${t.limitType}`}function ql(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>jI(s)).join(", ")}]`),Hp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>gc(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>gc(s)).join(",")),`Target(${r})`}(Fs(t))}; limitType=${t.limitType})`}function Kp(t,e){return e.isFoundDocument()&&function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Ae.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,s){for(const o of $u(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(l,c,d){const h=rk(l,c,d);return l.inclusive?h<=0:h<0}(r.startAt,$u(r),s)||r.endAt&&!function(l,c,d){const h=rk(l,c,d);return l.inclusive?h>=0:h>0}(r.endAt,$u(r),s))}(t,e)}function T6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function FI(t){return(e,n)=>{let r=!1;for(const s of $u(t)){const o=I6(s,e,n);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function I6(t,e,n){const r=t.field.isKeyField()?Ae.comparator(e.key,n.key):function(o,l,c){const d=l.data.field(o),h=c.data.field(o);return d!==null&&h!==null?mc(d,h):Le(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Le(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ho(this.inner,(n,r)=>{for(const[s,o]of r)e(s,o)})}isEmpty(){return bI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6=new jt(Ae.comparator);function Ri(){return C6}const UI=new jt(Ae.comparator);function Du(...t){let e=UI;for(const n of t)e=e.insert(n.key,n);return e}function BI(t){let e=UI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ta(){return zu()}function $I(){return zu()}function zu(){return new Qa(t=>t.toString(),(t,e)=>t.isEqual(e))}const N6=new jt(Ae.comparator),A6=new un(Ae.comparator);function Xe(...t){let e=A6;for(const n of t)e=e.add(n);return e}const P6=new un(Qe);function R6(){return P6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:up(e)?"-0":e}}function zI(t){return{integerValue:""+t}}function D6(t,e){return o6(e)?zI(e):Zv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(){this._=void 0}}function M6(t,e,n){return t instanceof od?function(s,o){const l={fields:{[SI]:{stringValue:kI},[II]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&Gv(o)&&(o=Wp(o)),o&&(l.fields[TI]=o),{mapValue:l}}(n,e):t instanceof ad?WI(t,e):t instanceof ld?qI(t,e):function(s,o){const l=HI(s,o),c=ak(l)+ak(s.Ae);return m0(l)&&m0(s.Ae)?zI(c):Zv(s.serializer,c)}(t,e)}function j6(t,e,n){return t instanceof ad?WI(t,e):t instanceof ld?qI(t,e):n}function HI(t,e){return t instanceof pp?function(r){return m0(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class od extends Gp{}class ad extends Gp{constructor(e){super(),this.elements=e}}function WI(t,e){const n=KI(e);for(const r of t.elements)n.some(s=>Gs(s,r))||n.push(r);return{arrayValue:{values:n}}}class ld extends Gp{constructor(e){super(),this.elements=e}}function qI(t,e){let n=KI(e);for(const r of t.elements)n=n.filter(s=>!Gs(s,r));return{arrayValue:{values:n}}}class pp extends Gp{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function ak(t){return Wt(t.integerValue||t.doubleValue)}function KI(t){return Yv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(e,n){this.field=e,this.transform=n}}function L6(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof ad&&s instanceof ad||r instanceof ld&&s instanceof ld?pc(r.elements,s.elements,Gs):r instanceof pp&&s instanceof pp?Gs(r.Ae,s.Ae):r instanceof od&&s instanceof od}(t.transform,e.transform)}class V6{constructor(e,n){this.version=e,this.transformResults=n}}class hs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new hs}static exists(e){return new hs(void 0,e)}static updateTime(e){return new hs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Yp{}function GI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ew(t.key,hs.none()):new Dd(t.key,t.data,hs.none());{const n=t.data,r=hr.empty();let s=new un(Sn.comparator);for(let o of e.fields)if(!s.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?r.delete(o):r.set(o,l),s=s.add(o)}return new Wo(t.key,r,new Sr(s.toArray()),hs.none())}}function F6(t,e,n){t instanceof Dd?function(s,o,l){const c=s.value.clone(),d=ck(s.fieldTransforms,o,l.transformResults);c.setAll(d),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(t,e,n):t instanceof Wo?function(s,o,l){if(!Bf(s.precondition,o))return void o.convertToUnknownDocument(l.version);const c=ck(s.fieldTransforms,o,l.transformResults),d=o.data;d.setAll(YI(s)),d.setAll(c),o.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(t,e,n):function(s,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function Hu(t,e,n,r){return t instanceof Dd?function(o,l,c,d){if(!Bf(o.precondition,l))return c;const h=o.value.clone(),g=uk(o.fieldTransforms,d,l);return h.setAll(g),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof Wo?function(o,l,c,d){if(!Bf(o.precondition,l))return c;const h=uk(o.fieldTransforms,d,l),g=l.data;return g.setAll(YI(o)),g.setAll(h),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(y=>y.field))}(t,e,n,r):function(o,l,c){return Bf(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(t,e,n)}function U6(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),o=HI(r.transform,s||null);o!=null&&(n===null&&(n=hr.empty()),n.set(r.field,o))}return n||null}function lk(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&pc(r,s,(o,l)=>L6(o,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Dd extends Yp{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Wo extends Yp{constructor(e,n,r,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function YI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function ck(t,e,n){const r=new Map;ut(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const o=t[s],l=o.transform,c=e.data.field(o.field);r.set(o.field,j6(l,c,n[s]))}return r}function uk(t,e,n){const r=new Map;for(const s of t){const o=s.transform,l=n.data.field(s.field);r.set(s.field,M6(o,l,e))}return r}class ew extends Yp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class B6 extends Yp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&F6(o,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Hu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Hu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=$I();return this.mutations.forEach(s=>{const o=e.get(s.key),l=o.overlayedDocument;let c=this.applyToLocalView(l,o.mutatedFields);c=n.has(s.key)?null:c;const d=GI(l,c);d!==null&&r.set(s.key,d),l.isValidDocument()||l.convertToNoDocument(Be.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Xe())}isEqual(e){return this.batchId===e.batchId&&pc(this.mutations,e.mutations,(n,r)=>lk(n,r))&&pc(this.baseMutations,e.baseMutations,(n,r)=>lk(n,r))}}class tw{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){ut(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return N6}();const o=e.mutations;for(let l=0;l<o.length;l++)s=s.insert(o[l].key,r[l].version);return new tw(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let z6=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt,tt;function W6(t){switch(t){case re.OK:return Le(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Le(15467,{code:t})}}function QI(t){if(t===void 0)return Ai("GRPC error has no .code"),re.UNKNOWN;switch(t){case Qt.OK:return re.OK;case Qt.CANCELLED:return re.CANCELLED;case Qt.UNKNOWN:return re.UNKNOWN;case Qt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case Qt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case Qt.INTERNAL:return re.INTERNAL;case Qt.UNAVAILABLE:return re.UNAVAILABLE;case Qt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case Qt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case Qt.NOT_FOUND:return re.NOT_FOUND;case Qt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case Qt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case Qt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case Qt.ABORTED:return re.ABORTED;case Qt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case Qt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case Qt.DATA_LOSS:return re.DATA_LOSS;default:return Le(39323,{code:t})}}(tt=Qt||(Qt={}))[tt.OK=0]="OK",tt[tt.CANCELLED=1]="CANCELLED",tt[tt.UNKNOWN=2]="UNKNOWN",tt[tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tt[tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tt[tt.NOT_FOUND=5]="NOT_FOUND",tt[tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",tt[tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",tt[tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",tt[tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tt[tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tt[tt.ABORTED=10]="ABORTED",tt[tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",tt[tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",tt[tt.INTERNAL=13]="INTERNAL",tt[tt.UNAVAILABLE=14]="UNAVAILABLE",tt[tt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q6(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K6=new No([4294967295,4294967295],0);function dk(t){const e=q6().encode(t),n=new dI;return n.update(e),new Uint8Array(n.digest())}function hk(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new No([n,r],0),new No([s,o],0)]}class nw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Mu(`Invalid padding: ${n}`);if(r<0)throw new Mu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Mu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Mu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=No.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(No.fromNumber(r)));return s.compare(K6)===1&&(s=new No([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=dk(e),[r,s]=hk(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(r,s,o);if(!this.we(l))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new nw(o,s,n);return r.forEach(c=>l.insert(c)),l}insert(e){if(this.ge===0)return;const n=dk(e),[r,s]=hk(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(r,s,o);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Mu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e,n,r,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Md.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Qp(Be.min(),s,new jt(Qe),Ri(),Xe())}}class Md{constructor(e,n,r,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Md(r,n,Xe(),Xe(),Xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class XI{constructor(e,n){this.targetId=e,this.Ce=n}}class JI{constructor(e,n,r=Tn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class fk{constructor(){this.ve=0,this.Fe=pk(),this.Me=Tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Xe(),n=Xe(),r=Xe();return this.Fe.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Le(38017,{changeType:o})}}),new Md(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=pk()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ut(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class G6{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ri(),this.Je=df(),this.He=df(),this.Ye=new jt(Qe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Le(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const o=s.target;if(y0(o))if(r===0){const l=new Ae(o.path);this.et(n,l,Dn.newNoDocument(l,Be.min()))}else ut(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const c=this.ut(e),d=c?this.ct(c,e,l):1;if(d!==0){this.it(n);const h=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=n;let l,c;try{l=Mo(r).toUint8Array()}catch(d){if(d instanceof EI)return fc("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new nw(l,s,o)}catch(d){return fc(d instanceof Mu?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(o=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.et(n,o,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((o,l)=>{const c=this.ot(l);if(c){if(o.current&&y0(c.target)){const d=new Ae(c.target.path);this.It(d).has(l)||this.Et(l,d)||this.et(l,d,Dn.newNoDocument(d,e))}o.Be&&(n.set(l,o.ke()),o.qe())}});let r=Xe();this.He.forEach((o,l)=>{let c=!0;l.forEachWhile(d=>{const h=this.ot(d);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.je.forEach((o,l)=>l.setReadTime(e));const s=new Qp(e,n,this.Ye,this.je,r);return this.je=Ri(),this.Je=df(),this.He=df(),this.Ye=new jt(Qe),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new fk,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new un(Qe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new un(Qe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||xe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new fk),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function df(){return new jt(Ae.comparator)}function pk(){return new jt(Ae.comparator)}const Y6={asc:"ASCENDING",desc:"DESCENDING"},Q6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},X6={and:"AND",or:"OR"};class J6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function x0(t,e){return t.useProto3Json||Hp(e)?e:{value:e}}function mp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ZI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Z6(t,e){return mp(t,e.toTimestamp())}function Us(t){return ut(!!t,49232),Be.fromTimestamp(function(n){const r=Do(n);return new xt(r.seconds,r.nanos)}(t))}function rw(t,e){return _0(t,e).canonicalString()}function _0(t,e){const n=function(s){return new gt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function eC(t){const e=gt.fromString(t);return ut(iC(e),10190,{key:e.toString()}),e}function b0(t,e){return rw(t.databaseId,e.path)}function hy(t,e){const n=eC(e);if(n.get(1)!==t.databaseId.projectId)throw new ye(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ye(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ae(nC(n))}function tC(t,e){return rw(t.databaseId,e)}function e3(t){const e=eC(t);return e.length===4?gt.emptyPath():nC(e)}function E0(t){return new gt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function nC(t){return ut(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function mk(t,e,n){return{name:b0(t,e),fields:n.value.mapValue.fields}}function t3(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Le(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(h,g){return h.useProto3Json?(ut(g===void 0||typeof g=="string",58123),Tn.fromBase64String(g||"")):(ut(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),Tn.fromUint8Array(g||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(h){const g=h.code===void 0?re.UNKNOWN:QI(h.code);return new ye(g,h.message||"")}(l);n=new JI(r,s,o,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=hy(t,r.document.name),o=Us(r.document.updateTime),l=r.document.createTime?Us(r.document.createTime):Be.min(),c=new hr({mapValue:{fields:r.document.fields}}),d=Dn.newFoundDocument(s,o,l,c),h=r.targetIds||[],g=r.removedTargetIds||[];n=new $f(h,g,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=hy(t,r.document),o=r.readTime?Us(r.readTime):Be.min(),l=Dn.newNoDocument(s,o),c=r.removedTargetIds||[];n=new $f([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=hy(t,r.document),o=r.removedTargetIds||[];n=new $f([],o,s,null)}else{if(!("filter"in e))return Le(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,l=new H6(s,o),c=r.targetId;n=new XI(c,l)}}return n}function n3(t,e){let n;if(e instanceof Dd)n={update:mk(t,e.key,e.value)};else if(e instanceof ew)n={delete:b0(t,e.key)};else if(e instanceof Wo)n={update:mk(t,e.key,e.data),updateMask:d3(e.fieldMask)};else{if(!(e instanceof B6))return Le(16599,{Vt:e.type});n={verify:b0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const c=l.transform;if(c instanceof od)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof ad)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof ld)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof pp)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw Le(20930,{transform:l.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:Z6(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Le(27497)}(t,e.precondition)),n}function r3(t,e){return t&&t.length>0?(ut(e!==void 0,14353),t.map(n=>function(s,o){let l=s.updateTime?Us(s.updateTime):Us(o);return l.isEqual(Be.min())&&(l=Us(o)),new V6(l,s.transformResults||[])}(n,e))):[]}function s3(t,e){return{documents:[tC(t,e.path)]}}function i3(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=tC(t,s);const o=function(h){if(h.length!==0)return sC(ps.create(h,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const l=function(h){if(h.length!==0)return h.map(g=>function(v){return{field:Kl(v.field),direction:l3(v.dir)}}(g))}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=x0(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ft:n,parent:s}}function o3(t){let e=e3(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ut(r===1,65062);const g=n.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let o=[];n.where&&(o=function(y){const v=rC(y);return v instanceof ps&&DI(v)?v.getFilters():[v]}(n.where));let l=[];n.orderBy&&(l=function(y){return y.map(v=>function(S){return new id(Gl(S.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(v))}(n.orderBy));let c=null;n.limit&&(c=function(y){let v;return v=typeof y=="object"?y.value:y,Hp(v)?null:v}(n.limit));let d=null;n.startAt&&(d=function(y){const v=!!y.before,b=y.values||[];return new fp(b,v)}(n.startAt));let h=null;return n.endAt&&(h=function(y){const v=!y.before,b=y.values||[];return new fp(b,v)}(n.endAt)),k6(e,s,l,o,c,"F",d,h)}function a3(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Le(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function rC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Gl(n.unaryFilter.field);return Jt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Gl(n.unaryFilter.field);return Jt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Gl(n.unaryFilter.field);return Jt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Gl(n.unaryFilter.field);return Jt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Le(61313);default:return Le(60726)}}(t):t.fieldFilter!==void 0?function(n){return Jt.create(Gl(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Le(58110);default:return Le(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ps.create(n.compositeFilter.filters.map(r=>rC(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Le(1026)}}(n.compositeFilter.op))}(t):Le(30097,{filter:t})}function l3(t){return Y6[t]}function c3(t){return Q6[t]}function u3(t){return X6[t]}function Kl(t){return{fieldPath:t.canonicalString()}}function Gl(t){return Sn.fromServerFormat(t.fieldPath)}function sC(t){return t instanceof Jt?function(n){if(n.op==="=="){if(nk(n.value))return{unaryFilter:{field:Kl(n.field),op:"IS_NAN"}};if(tk(n.value))return{unaryFilter:{field:Kl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(nk(n.value))return{unaryFilter:{field:Kl(n.field),op:"IS_NOT_NAN"}};if(tk(n.value))return{unaryFilter:{field:Kl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Kl(n.field),op:c3(n.op),value:n.value}}}(t):t instanceof ps?function(n){const r=n.getFilters().map(s=>sC(s));return r.length===1?r[0]:{compositeFilter:{op:u3(n.op),filters:r}}}(t):Le(54877,{filter:t})}function d3(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function iC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e,n,r,s,o=Be.min(),l=Be.min(),c=Tn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new So(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new So(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new So(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new So(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(e){this.yt=e}}function f3(t){const e=o3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?w0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3{constructor(){this.Cn=new m3}addToCollectionParentIndex(e,n){return this.Cn.add(n),ae.resolve()}getCollectionParents(e,n){return ae.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ae.resolve()}deleteFieldIndex(e,n){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,n){return ae.resolve()}getDocumentsMatchingTarget(e,n){return ae.resolve(null)}getIndexType(e,n){return ae.resolve(0)}getFieldIndexes(e,n){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,n){return ae.resolve(Ro.min())}getMinOffsetFromCollectionGroup(e,n){return ae.resolve(Ro.min())}updateCollectionGroup(e,n,r){return ae.resolve()}updateIndexEntries(e,n){return ae.resolve()}}class m3{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new un(gt.comparator),o=!s.has(r);return this.index[n]=s.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new un(gt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},oC=41943040;class dr{static withCacheSize(e){return new dr(e,dr.DEFAULT_COLLECTION_PERCENTILE,dr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dr.DEFAULT_COLLECTION_PERCENTILE=10,dr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dr.DEFAULT=new dr(oC,dr.DEFAULT_COLLECTION_PERCENTILE,dr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dr.DISABLED=new dr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new yc(0)}static cr(){return new yc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk="LruGarbageCollector",g3=1048576;function vk([t,e],[n,r]){const s=Qe(t,n);return s===0?Qe(e,r):s}class y3{constructor(e){this.Ir=e,this.buffer=new un(vk),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();vk(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class v3{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){xe(yk,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Cc(n)?xe(yk,"Ignoring IndexedDB error during garbage collection: ",n):await Ic(n)}await this.Vr(3e5)})}}class w3{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ae.resolve(zp.ce);const r=new y3(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(xe("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(gk)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(xe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gk):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,o,l,c,d,h;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(xe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),s=this.params.maximumSequenceNumbersToCollect):s=y,l=Date.now(),this.nthSequenceNumber(e,s))).next(y=>(r=y,c=Date.now(),this.removeTargets(e,r,n))).next(y=>(o=y,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(y=>(h=Date.now(),Wl()<=Ye.DEBUG&&xe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${s} in `+(c-l)+`ms
	Removed ${o} targets in `+(d-c)+`ms
	Removed ${y} documents in `+(h-d)+`ms
Total Duration: ${h-g}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:y})))}}function x3(t,e){return new w3(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(){this.changes=new Qa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Dn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ae.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Hu(r.mutation,s,Sr.empty(),xt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Xe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Xe()){const s=Ta();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(o=>{let l=Du();return o.forEach((c,d)=>{l=l.insert(c,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=Ta();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Xe()))}populateOverlays(e,n,r){const s=[];return r.forEach(o=>{n.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((l,c)=>{n.set(l,c)})})}computeViews(e,n,r,s){let o=Ri();const l=zu(),c=function(){return zu()}();return n.forEach((d,h)=>{const g=r.get(h.key);s.has(h.key)&&(g===void 0||g.mutation instanceof Wo)?o=o.insert(h.key,h):g!==void 0?(l.set(h.key,g.mutation.getFieldMask()),Hu(g.mutation,h,g.mutation.getFieldMask(),xt.now())):l.set(h.key,Sr.empty())}),this.recalculateAndSaveOverlays(e,o).next(d=>(d.forEach((h,g)=>l.set(h,g)),n.forEach((h,g)=>c.set(h,new b3(g,l.get(h)??null))),c))}recalculateAndSaveOverlays(e,n){const r=zu();let s=new jt((l,c)=>l-c),o=Xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const c of l)c.keys().forEach(d=>{const h=n.get(d);if(h===null)return;let g=r.get(d)||Sr.empty();g=c.applyToLocalView(h,g),r.set(d,g);const y=(s.get(c.batchId)||Xe()).add(d);s=s.insert(c.batchId,y)})}).next(()=>{const l=[],c=s.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),h=d.key,g=d.value,y=$I();g.forEach(v=>{if(!o.has(v)){const b=GI(n.get(v),r.get(v));b!==null&&y.set(v,b),o=o.add(v)}}),l.push(this.documentOverlayCache.saveOverlays(e,h,y))}return ae.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(l){return Ae.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):LI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(o=>{const l=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-o.size):ae.resolve(Ta());let c=td,d=o;return l.next(h=>ae.forEach(h,(g,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),o.get(g)?ae.resolve():this.remoteDocumentCache.getEntry(e,g).next(v=>{d=d.insert(g,v)}))).next(()=>this.populateOverlays(e,h,o)).next(()=>this.computeViews(e,d,h,Xe())).next(g=>({batchId:c,changes:BI(g)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ae(n)).next(r=>{let s=Du();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const o=n.collectionGroup;let l=Du();return this.indexManager.getCollectionParents(e,o).next(c=>ae.forEach(c,d=>{const h=function(y,v){return new Nc(v,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(n,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,h,r,s).next(g=>{g.forEach((y,v)=>{l=l.insert(y,v)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,s))).next(l=>{o.forEach((d,h)=>{const g=h.getKey();l.get(g)===null&&(l=l.insert(g,Dn.newInvalidDocument(g)))});let c=Du();return l.forEach((d,h)=>{const g=o.get(d);g!==void 0&&Hu(g.mutation,h,Sr.empty(),xt.now()),Kp(n,h)&&(c=c.insert(d,h))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ae.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Us(s.createTime)}}(n)),ae.resolve()}getNamedQuery(e,n){return ae.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:f3(s.bundledQuery),readTime:Us(s.readTime)}}(n)),ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(){this.overlays=new jt(Ae.comparator),this.qr=new Map}getOverlay(e,n){return ae.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ta();return ae.forEach(n,s=>this.getOverlay(e,s).next(o=>{o!==null&&r.set(s,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,o)=>{this.St(e,n,o)}),ae.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(r)),ae.resolve()}getOverlaysForCollection(e,n,r){const s=Ta(),o=n.length+1,l=new Ae(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const d=c.getNext().value,h=d.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===o&&d.largestBatchId>r&&s.set(d.getKey(),d)}return ae.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let o=new jt((h,g)=>h-g);const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let g=o.get(h.largestBatchId);g===null&&(g=Ta(),o=o.insert(h.largestBatchId,g)),g.set(h.getKey(),h)}}const c=Ta(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((h,g)=>c.set(h,g)),!(c.size()>=s)););return ae.resolve(c)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new z6(n,r));let o=this.qr.get(n);o===void 0&&(o=Xe(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(){this.sessionToken=Tn.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(){this.Qr=new un(mn.$r),this.Ur=new un(mn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new mn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new mn(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new Ae(new gt([])),r=new mn(n,e),s=new mn(n,e+1),o=[];return this.Ur.forEachInRange([r,s],l=>{this.Gr(l),o.push(l.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ae(new gt([])),r=new mn(n,e),s=new mn(n,e+1);let o=Xe();return this.Ur.forEachInRange([r,s],l=>{o=o.add(l.key)}),o}containsKey(e){const n=new mn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class mn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ae.comparator(e.key,n.key)||Qe(e.Yr,n.Yr)}static Kr(e,n){return Qe(e.Yr,n.Yr)||Ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new un(mn.$r)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new $6(o,n,r,s);this.mutationQueue.push(l);for(const c of s)this.Zr=this.Zr.add(new mn(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return ae.resolve(l)}lookupMutationBatch(e,n){return ae.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),o=s<0?0:s;return ae.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?Kv:this.tr-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new mn(n,0),s=new mn(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,s],l=>{const c=this.Xr(l.Yr);o.push(c)}),ae.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new un(Qe);return n.forEach(s=>{const o=new mn(s,0),l=new mn(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,l],c=>{r=r.add(c.Yr)})}),ae.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let o=r;Ae.isDocumentKey(o)||(o=o.child(""));const l=new mn(new Ae(o),0);let c=new un(Qe);return this.Zr.forEachWhile(d=>{const h=d.key.path;return!!r.isPrefixOf(h)&&(h.length===s&&(c=c.add(d.Yr)),!0)},l),ae.resolve(this.ti(c))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ut(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ae.forEach(n.mutations,s=>{const o=new mn(s.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new mn(n,0),s=this.Zr.firstAfterOrEqual(r);return ae.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(e){this.ri=e,this.docs=function(){return new jt(Ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),o=s?s.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ae.resolve(r?r.document.mutableCopy():Dn.newInvalidDocument(n))}getEntries(e,n){let r=Ri();return n.forEach(s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():Dn.newInvalidDocument(s))}),ae.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let o=Ri();const l=n.path,c=new Ae(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:h,value:{document:g}}=d.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||n6(t6(g),r)<=0||(s.has(g.key)||Kp(n,g))&&(o=o.insert(g.key,g.mutableCopy()))}return ae.resolve(o)}getAllFromCollectionGroup(e,n,r,s){Le(9500)}ii(e,n){return ae.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new N3(this)}getSize(e){return ae.resolve(this.size)}}class N3 extends _3{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),ae.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(e){this.persistence=e,this.si=new Qa(n=>Qv(n),Xv),this.lastRemoteSnapshotVersion=Be.min(),this.highestTargetId=0,this.oi=0,this._i=new sw,this.targetCount=0,this.ai=yc.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ae.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new yc(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ae.resolve()}updateTargetData(e,n){return this.Pr(n),ae.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,n,r){let s=0;const o=[];return this.si.forEach((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.si.delete(l),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)}),ae.waitFor(o).next(()=>s)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ae.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ae.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach(l=>{o.push(s.markPotentiallyOrphaned(e,l))}),ae.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ae.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ae.resolve(r)}containsKey(e,n){return ae.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e,n){this.ui={},this.overlays={},this.ci=new zp(0),this.li=!1,this.li=!0,this.hi=new T3,this.referenceDelegate=e(this),this.Pi=new A3(this),this.indexManager=new p3,this.remoteDocumentCache=function(s){return new C3(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new h3(n),this.Ii=new k3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new S3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new I3(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){xe("MemoryPersistence","Starting transaction:",e);const s=new P3(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(o=>this.referenceDelegate.di(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Ai(e,n){return ae.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class P3 extends s6{constructor(e){super(),this.currentSequenceNumber=e}}class iw{constructor(e){this.persistence=e,this.Ri=new sw,this.Vi=null}static mi(e){return new iw(e)}get fi(){if(this.Vi)return this.Vi;throw Le(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ae.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ae.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ae.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(o=>this.fi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.fi,r=>{const s=Ae.fromPath(r);return this.gi(e,s).next(o=>{o||n.removeEntry(s,Be.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return ae.or([()=>ae.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class gp{constructor(e,n){this.persistence=e,this.pi=new Qa(r=>a6(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=x3(this,n)}static mi(e,n){return new gp(e,n)}Ei(){}di(e){return ae.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return ae.forEach(this.pi,(r,s)=>this.br(e,r,s).next(o=>o?ae.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ii(e,l=>this.br(e,l,n).next(c=>{c||(r++,o.removeEntry(l,Be.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ae.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ae.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ae.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ff(e.data.value)),n}br(e,n,r){return ae.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return ae.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=Xe(),s=Xe();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new ow(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return o4()?8:i6(Ln())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const o={result:null};return this.ys(e,n).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.ws(e,n,s,r).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new R3;return this.Ss(e,n,l).next(c=>{if(o.result=c,this.Vs)return this.bs(e,n,l,c.size)})}).next(()=>o.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(Wl()<=Ye.DEBUG&&xe("QueryEngine","SDK will not create cache indexes for query:",ql(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ae.resolve()):(Wl()<=Ye.DEBUG&&xe("QueryEngine","Query:",ql(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Wl()<=Ye.DEBUG&&xe("QueryEngine","The SDK decides to create cache indexes for query:",ql(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fs(n))):ae.resolve())}ys(e,n){if(ok(n))return ae.resolve(null);let r=Fs(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=w0(n,null,"F"),r=Fs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const l=Xe(...o);return this.ps.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,r).next(d=>{const h=this.Ds(n,c);return this.Cs(n,h,l,d.readTime)?this.ys(e,w0(n,null,"F")):this.vs(e,h,n,d)}))})))}ws(e,n,r,s){return ok(n)||s.isEqual(Be.min())?ae.resolve(null):this.ps.getDocuments(e,r).next(o=>{const l=this.Ds(n,o);return this.Cs(n,l,r,s)?ae.resolve(null):(Wl()<=Ye.DEBUG&&xe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ql(n)),this.vs(e,l,n,e6(s,td)).next(c=>c))})}Ds(e,n){let r=new un(FI(e));return n.forEach((s,o)=>{Kp(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Ss(e,n,r){return Wl()<=Ye.DEBUG&&xe("QueryEngine","Using full collection scan to execute query:",ql(n)),this.ps.getDocumentsMatchingQuery(e,n,Ro.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(o=>(n.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw="LocalStore",M3=3e8;class j3{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new jt(Qe),this.xs=new Qa(o=>Qv(o),Xv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new E3(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function O3(t,e,n,r){return new j3(t,e,n,r)}async function lC(t,e){const n=ze(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(o=>(s=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const l=[],c=[];let d=Xe();for(const h of s){l.push(h.batchId);for(const g of h.mutations)d=d.add(g.key)}for(const h of o){c.push(h.batchId);for(const g of h.mutations)d=d.add(g.key)}return n.localDocuments.getDocuments(r,d).next(h=>({Ls:h,removedBatchIds:l,addedBatchIds:c}))})})}function L3(t,e){const n=ze(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return function(c,d,h,g){const y=h.batch,v=y.keys();let b=ae.resolve();return v.forEach(S=>{b=b.next(()=>g.getEntry(d,S)).next(k=>{const T=h.docVersions.get(S);ut(T!==null,48541),k.version.compareTo(T)<0&&(y.applyToRemoteDocument(k,h),k.isValidDocument()&&(k.setReadTime(h.commitVersion),g.addEntry(k)))})}),b.next(()=>c.mutationQueue.removeMutationBatch(d,y))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let d=Xe();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(d=d.add(c.batch.mutations[h].key));return d}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function cC(t){const e=ze(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function V3(t,e){const n=ze(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const c=[];e.targetChanges.forEach((g,y)=>{const v=s.get(y);if(!v)return;c.push(n.Pi.removeMatchingKeys(o,g.removedDocuments,y).next(()=>n.Pi.addMatchingKeys(o,g.addedDocuments,y)));let b=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(y)!==null?b=b.withResumeToken(Tn.EMPTY_BYTE_STRING,Be.min()).withLastLimboFreeSnapshotVersion(Be.min()):g.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(g.resumeToken,r)),s=s.insert(y,b),function(k,T,C){return k.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=M3?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(v,b,g)&&c.push(n.Pi.updateTargetData(o,b))});let d=Ri(),h=Xe();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,g))}),c.push(F3(o,l,e.documentUpdates).next(g=>{d=g.ks,h=g.qs})),!r.isEqual(Be.min())){const g=n.Pi.getLastRemoteSnapshotVersion(o).next(y=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(g)}return ae.waitFor(c).next(()=>l.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,d,h)).next(()=>d)}).then(o=>(n.Ms=s,o))}function F3(t,e,n){let r=Xe(),s=Xe();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let l=Ri();return n.forEach((c,d)=>{const h=o.get(c);d.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(c)),d.isNoDocument()&&d.version.isEqual(Be.min())?(e.removeEntry(c,d.readTime),l=l.insert(c,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||d.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(d),l=l.insert(c,d)):xe(aw,"Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",d.version)}),{ks:l,qs:s}})}function U3(t,e){const n=ze(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Kv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function B3(t,e){const n=ze(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(o=>o?(s=o,ae.resolve(s)):n.Pi.allocateTargetId(r).next(l=>(s=new So(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function k0(t,e,n){const r=ze(t),s=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,l=>r.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!Cc(l))throw l;xe(aw,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function wk(t,e,n){const r=ze(t);let s=Be.min(),o=Xe();return r.persistence.runTransaction("Execute query","readwrite",l=>function(d,h,g){const y=ze(d),v=y.xs.get(g);return v!==void 0?ae.resolve(y.Ms.get(v)):y.Pi.getTargetData(h,g)}(r,l,Fs(e)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,c.targetId).next(d=>{o=d})}).next(()=>r.Fs.getDocumentsMatchingQuery(l,e,n?s:Be.min(),n?o:Xe())).next(c=>($3(r,T6(e),c),{documents:c,Qs:o})))}function $3(t,e,n){let r=t.Os.get(e)||Be.min();n.forEach((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Os.set(e,r)}class xk{constructor(){this.activeTargetIds=R6()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class z3{constructor(){this.Mo=new xk,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new xk,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k="ConnectivityMonitor";class bk{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){xe(_k,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){xe(_k,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hf=null;function S0(){return hf===null?hf=function(){return 268435456+Math.round(2147483648*Math.random())}():hf++,"0x"+hf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fy="RestConnection",W3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class q3{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===dp?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,o){const l=S0(),c=this.zo(e,n.toUriEncodedString());xe(fy,`Sending RPC '${e}' ${l}:`,c,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,s,o);const{host:h}=new URL(c),g=$o(h);return this.Jo(e,c,d,r,g).then(y=>(xe(fy,`Received RPC '${e}' ${l}: `,y),y),y=>{throw fc(fy,`RPC '${e}' ${l} failed with error: `,y,"url: ",c,"request:",r),y})}Ho(e,n,r,s,o,l){return this.Go(e,n,r,s,o)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Tc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,o)=>e[o]=s),r&&r.headers.forEach((s,o)=>e[o]=s)}zo(e,n){const r=W3[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pn="WebChannelConnection";class G3 extends q3{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,o){const l=S0();return new Promise((c,d)=>{const h=new hI;h.setWithCredentials(!0),h.listenOnce(fI.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Vf.NO_ERROR:const y=h.getResponseJson();xe(Pn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),c(y);break;case Vf.TIMEOUT:xe(Pn,`RPC '${e}' ${l} timed out`),d(new ye(re.DEADLINE_EXCEEDED,"Request time out"));break;case Vf.HTTP_ERROR:const v=h.getStatus();if(xe(Pn,`RPC '${e}' ${l} failed with status:`,v,"response text:",h.getResponseText()),v>0){let b=h.getResponseJson();Array.isArray(b)&&(b=b[0]);const S=b==null?void 0:b.error;if(S&&S.status&&S.message){const k=function(C){const P=C.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(P)>=0?P:re.UNKNOWN}(S.status);d(new ye(k,S.message))}else d(new ye(re.UNKNOWN,"Server responded with status "+h.getStatus()))}else d(new ye(re.UNAVAILABLE,"Connection failed."));break;default:Le(9055,{l_:e,streamId:l,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{xe(Pn,`RPC '${e}' ${l} completed.`)}});const g=JSON.stringify(s);xe(Pn,`RPC '${e}' ${l} sending request:`,s),h.send(n,"POST",g,r,15)})}T_(e,n,r){const s=S0(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=gI(),c=mI(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const g=o.join("");xe(Pn,`Creating RPC '${e}' stream ${s}: ${g}`,d);const y=l.createWebChannel(g,d);this.I_(y);let v=!1,b=!1;const S=new K3({Yo:T=>{b?xe(Pn,`Not sending because RPC '${e}' stream ${s} is closed:`,T):(v||(xe(Pn,`Opening RPC '${e}' stream ${s} transport.`),y.open(),v=!0),xe(Pn,`RPC '${e}' stream ${s} sending:`,T),y.send(T))},Zo:()=>y.close()}),k=(T,C,P)=>{T.listen(C,R=>{try{P(R)}catch(L){setTimeout(()=>{throw L},0)}})};return k(y,Ru.EventType.OPEN,()=>{b||(xe(Pn,`RPC '${e}' stream ${s} transport opened.`),S.o_())}),k(y,Ru.EventType.CLOSE,()=>{b||(b=!0,xe(Pn,`RPC '${e}' stream ${s} transport closed`),S.a_(),this.E_(y))}),k(y,Ru.EventType.ERROR,T=>{b||(b=!0,fc(Pn,`RPC '${e}' stream ${s} transport errored. Name:`,T.name,"Message:",T.message),S.a_(new ye(re.UNAVAILABLE,"The operation could not be completed")))}),k(y,Ru.EventType.MESSAGE,T=>{var C;if(!b){const P=T.data[0];ut(!!P,16349);const R=P,L=(R==null?void 0:R.error)||((C=R[0])==null?void 0:C.error);if(L){xe(Pn,`RPC '${e}' stream ${s} received error:`,L);const F=L.status;let q=function(O){const V=Qt[O];if(V!==void 0)return QI(V)}(F),M=L.message;q===void 0&&(q=re.INTERNAL,M="Unknown error status: "+F+" with message "+L.message),b=!0,S.a_(new ye(q,M)),y.close()}else xe(Pn,`RPC '${e}' stream ${s} received:`,P),S.u_(P)}}),k(c,pI.STAT_EVENT,T=>{T.stat===h0.PROXY?xe(Pn,`RPC '${e}' stream ${s} detected buffering proxy`):T.stat===h0.NOPROXY&&xe(Pn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{S.__()},0),S}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function py(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xp(t){return new J6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e,n,r=1e3,s=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&xe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek="PersistentStream";class dC{constructor(e,n,r,s,o,l,c,d){this.Mi=e,this.S_=r,this.b_=s,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new uC(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(Ai(n.toString()),Ai("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new ye(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return xe(Ek,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(xe(Ek,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Y3 extends dC{constructor(e,n,r,s,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,l),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=t3(this.serializer,e),r=function(o){if(!("targetChange"in o))return Be.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Be.min():l.readTime?Us(l.readTime):Be.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=E0(this.serializer),n.addTarget=function(o,l){let c;const d=l.target;if(c=y0(d)?{documents:s3(o,d)}:{query:i3(o,d).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=ZI(o,l.resumeToken);const h=x0(o,l.expectedCount);h!==null&&(c.expectedCount=h)}else if(l.snapshotVersion.compareTo(Be.min())>0){c.readTime=mp(o,l.snapshotVersion.toTimestamp());const h=x0(o,l.expectedCount);h!==null&&(c.expectedCount=h)}return c}(this.serializer,e);const r=a3(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=E0(this.serializer),n.removeTarget=e,this.q_(n)}}class Q3 extends dC{constructor(e,n,r,s,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,l),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ut(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ut(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ut(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=r3(e.writeResults,e.commitTime),r=Us(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=E0(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>n3(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{}class J3 extends X3{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new ye(re.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Go(e,_0(n,r),s,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ye(re.UNKNOWN,o.toString())})}Ho(e,n,r,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Ho(e,_0(n,r),s,l,c,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ye(re.UNKNOWN,l.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Z3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ai(n),this.aa=!1):xe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua="RemoteStore";class eF{constructor(e,n,r,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(l=>{r.enqueueAndForget(async()=>{Xa(this)&&(xe(Ua,"Restarting streams for network reachability change."),await async function(d){const h=ze(d);h.Ea.add(4),await jd(h),h.Ra.set("Unknown"),h.Ea.delete(4),await Jp(h)}(this))})}),this.Ra=new Z3(r,s)}}async function Jp(t){if(Xa(t))for(const e of t.da)await e(!0)}async function jd(t){for(const e of t.da)await e(!1)}function hC(t,e){const n=ze(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),dw(n)?uw(n):Ac(n).O_()&&cw(n,e))}function lw(t,e){const n=ze(t),r=Ac(n);n.Ia.delete(e),r.O_()&&fC(n,e),n.Ia.size===0&&(r.O_()?r.L_():Xa(n)&&n.Ra.set("Unknown"))}function cw(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Be.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ac(t).Y_(e)}function fC(t,e){t.Va.Ue(e),Ac(t).Z_(e)}function uw(t){t.Va=new G6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ac(t).start(),t.Ra.ua()}function dw(t){return Xa(t)&&!Ac(t).x_()&&t.Ia.size>0}function Xa(t){return ze(t).Ea.size===0}function pC(t){t.Va=void 0}async function tF(t){t.Ra.set("Online")}async function nF(t){t.Ia.forEach((e,n)=>{cw(t,e)})}async function rF(t,e){pC(t),dw(t)?(t.Ra.ha(e),uw(t)):t.Ra.set("Unknown")}async function sF(t,e,n){if(t.Ra.set("Online"),e instanceof JI&&e.state===2&&e.cause)try{await async function(s,o){const l=o.cause;for(const c of o.targetIds)s.Ia.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s.Ia.delete(c),s.Va.removeTarget(c))}(t,e)}catch(r){xe(Ua,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await yp(t,r)}else if(e instanceof $f?t.Va.Ze(e):e instanceof XI?t.Va.st(e):t.Va.tt(e),!n.isEqual(Be.min()))try{const r=await cC(t.localStore);n.compareTo(r)>=0&&await function(o,l){const c=o.Va.Tt(l);return c.targetChanges.forEach((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const g=o.Ia.get(h);g&&o.Ia.set(h,g.withResumeToken(d.resumeToken,l))}}),c.targetMismatches.forEach((d,h)=>{const g=o.Ia.get(d);if(!g)return;o.Ia.set(d,g.withResumeToken(Tn.EMPTY_BYTE_STRING,g.snapshotVersion)),fC(o,d);const y=new So(g.target,d,h,g.sequenceNumber);cw(o,y)}),o.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(r){xe(Ua,"Failed to raise snapshot:",r),await yp(t,r)}}async function yp(t,e,n){if(!Cc(e))throw e;t.Ea.add(1),await jd(t),t.Ra.set("Offline"),n||(n=()=>cC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{xe(Ua,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Jp(t)})}function mC(t,e){return e().catch(n=>yp(t,n,e))}async function Zp(t){const e=ze(t),n=Oo(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Kv;for(;iF(e);)try{const s=await U3(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,oF(e,s)}catch(s){await yp(e,s)}gC(e)&&yC(e)}function iF(t){return Xa(t)&&t.Ta.length<10}function oF(t,e){t.Ta.push(e);const n=Oo(t);n.O_()&&n.X_&&n.ea(e.mutations)}function gC(t){return Xa(t)&&!Oo(t).x_()&&t.Ta.length>0}function yC(t){Oo(t).start()}async function aF(t){Oo(t).ra()}async function lF(t){const e=Oo(t);for(const n of t.Ta)e.ea(n.mutations)}async function cF(t,e,n){const r=t.Ta.shift(),s=tw.from(r,e,n);await mC(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Zp(t)}async function uF(t,e){e&&Oo(t).X_&&await async function(r,s){if(function(l){return W6(l)&&l!==re.ABORTED}(s.code)){const o=r.Ta.shift();Oo(r).B_(),await mC(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),await Zp(r)}}(t,e),gC(t)&&yC(t)}async function kk(t,e){const n=ze(t);n.asyncQueue.verifyOperationInProgress(),xe(Ua,"RemoteStore received new credentials");const r=Xa(n);n.Ea.add(3),await jd(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Jp(n)}async function dF(t,e){const n=ze(t);e?(n.Ea.delete(2),await Jp(n)):e||(n.Ea.add(2),await jd(n),n.Ra.set("Unknown"))}function Ac(t){return t.ma||(t.ma=function(n,r,s){const o=ze(n);return o.sa(),new Y3(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{Xo:tF.bind(null,t),t_:nF.bind(null,t),r_:rF.bind(null,t),H_:sF.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),dw(t)?uw(t):t.Ra.set("Unknown")):(await t.ma.stop(),pC(t))})),t.ma}function Oo(t){return t.fa||(t.fa=function(n,r,s){const o=ze(n);return o.sa(),new Q3(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:aF.bind(null,t),r_:uF.bind(null,t),ta:lF.bind(null,t),na:cF.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Zp(t)):(await t.fa.stop(),t.Ta.length>0&&(xe(Ua,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e,n,r,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new Si,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,o){const l=Date.now()+r,c=new hw(e,n,l,s,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fw(t,e){if(Ai("AsyncQueue",`${e}: ${t}`),Cc(t))return new ye(re.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{static emptySet(e){return new sc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ae.comparator(n.key,r.key):(n,r)=>Ae.comparator(n.key,r.key),this.keyedMap=Du(),this.sortedSet=new jt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof sc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new sc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(){this.ga=new jt(Ae.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Le(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class vc{constructor(e,n,r,s,o,l,c,d,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,s,o){const l=[];return n.forEach(c=>{l.push({type:0,doc:c})}),new vc(e,n,sc.emptySet(n),l,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class fF{constructor(){this.queries=Tk(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=ze(n),o=s.queries;s.queries=Tk(),o.forEach((l,c)=>{for(const d of c.Sa)d.onError(r)})})(this,new ye(re.ABORTED,"Firestore shutting down"))}}function Tk(){return new Qa(t=>VI(t),qp)}async function vC(t,e){const n=ze(t);let r=3;const s=e.query;let o=n.queries.get(s);o?!o.ba()&&e.Da()&&(r=2):(o=new hF,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(s,!0);break;case 1:o.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(l){const c=fw(l,`Initialization of query '${ql(e.query)}' failed`);return void e.onError(c)}n.queries.set(s,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&pw(n)}async function wC(t,e){const n=ze(t),r=e.query;let s=3;const o=n.queries.get(r);if(o){const l=o.Sa.indexOf(e);l>=0&&(o.Sa.splice(l,1),o.Sa.length===0?s=e.Da()?0:1:!o.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function pF(t,e){const n=ze(t);let r=!1;for(const s of e){const o=s.query,l=n.queries.get(o);if(l){for(const c of l.Sa)c.Fa(s)&&(r=!0);l.wa=s}}r&&pw(n)}function mF(t,e,n){const r=ze(t),s=r.queries.get(e);if(s)for(const o of s.Sa)o.onError(n);r.queries.delete(e)}function pw(t){t.Ca.forEach(e=>{e.next()})}var T0,Ik;(Ik=T0||(T0={})).Ma="default",Ik.Cache="cache";class xC{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new vc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=vc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==T0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e){this.key=e}}class bC{constructor(e){this.key=e}}class gF{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Xe(),this.mutatedKeys=Xe(),this.eu=FI(e),this.tu=new sc(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new Sk,s=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,l=s,c=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((g,y)=>{const v=s.get(g),b=Kp(this.query,y)?y:null,S=!!v&&this.mutatedKeys.has(v.key),k=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let T=!1;v&&b?v.data.isEqual(b.data)?S!==k&&(r.track({type:3,doc:b}),T=!0):this.su(v,b)||(r.track({type:2,doc:b}),T=!0,(d&&this.eu(b,d)>0||h&&this.eu(b,h)<0)&&(c=!0)):!v&&b?(r.track({type:0,doc:b}),T=!0):v&&!b&&(r.track({type:1,doc:v}),T=!0,(d||h)&&(c=!0)),T&&(b?(l=l.add(b),o=k?o.add(g):o.delete(g)):(l=l.delete(g),o=o.delete(g)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),o=o.delete(g.key),r.track({type:1,doc:g})}return{tu:l,iu:r,Cs:c,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort((g,y)=>function(b,S){const k=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Le(20277,{Rt:T})}};return k(b)-k(S)}(g.type,y.type)||this.eu(g.doc,y.doc)),this.ou(r),s=s??!1;const c=n&&!s?this._u():[],d=this.Xa.size===0&&this.current&&!s?1:0,h=d!==this.Za;return this.Za=d,l.length!==0||h?{snapshot:new vc(this.query,e.tu,o,l,e.mutatedKeys,d===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Sk,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Xe(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new bC(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new _C(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Xe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return vc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const mw="SyncEngine";class yF{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class vF{constructor(e){this.key=e,this.hu=!1}}class wF{constructor(e,n,r,s,o,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Qa(c=>VI(c),qp),this.Iu=new Map,this.Eu=new Set,this.du=new jt(Ae.comparator),this.Au=new Map,this.Ru=new sw,this.Vu={},this.mu=new Map,this.fu=yc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function xF(t,e,n=!0){const r=CC(t);let s;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await EC(r,e,n,!0),s}async function _F(t,e){const n=CC(t);await EC(n,e,!0,!1)}async function EC(t,e,n,r){const s=await B3(t.localStore,Fs(e)),o=s.targetId,l=t.sharedClientState.addLocalQueryTarget(o,n);let c;return r&&(c=await bF(t,e,o,l==="current",s.resumeToken)),t.isPrimaryClient&&n&&hC(t.remoteStore,s),c}async function bF(t,e,n,r,s){t.pu=(y,v,b)=>async function(k,T,C,P){let R=T.view.ru(C);R.Cs&&(R=await wk(k.localStore,T.query,!1).then(({documents:M})=>T.view.ru(M,R)));const L=P&&P.targetChanges.get(T.targetId),F=P&&P.targetMismatches.get(T.targetId)!=null,q=T.view.applyChanges(R,k.isPrimaryClient,L,F);return Nk(k,T.targetId,q.au),q.snapshot}(t,y,v,b);const o=await wk(t.localStore,e,!0),l=new gF(e,o.Qs),c=l.ru(o.documents),d=Md.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),h=l.applyChanges(c,t.isPrimaryClient,d);Nk(t,n,h.au);const g=new yF(e,n,l);return t.Tu.set(e,g),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function EF(t,e,n){const r=ze(t),s=r.Tu.get(e),o=r.Iu.get(s.targetId);if(o.length>1)return r.Iu.set(s.targetId,o.filter(l=>!qp(l,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await k0(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&lw(r.remoteStore,s.targetId),I0(r,s.targetId)}).catch(Ic)):(I0(r,s.targetId),await k0(r.localStore,s.targetId,!0))}async function kF(t,e){const n=ze(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),lw(n.remoteStore,r.targetId))}async function SF(t,e,n){const r=RF(t);try{const s=await function(l,c){const d=ze(l),h=xt.now(),g=c.reduce((b,S)=>b.add(S.key),Xe());let y,v;return d.persistence.runTransaction("Locally write mutations","readwrite",b=>{let S=Ri(),k=Xe();return d.Ns.getEntries(b,g).next(T=>{S=T,S.forEach((C,P)=>{P.isValidDocument()||(k=k.add(C))})}).next(()=>d.localDocuments.getOverlayedDocuments(b,S)).next(T=>{y=T;const C=[];for(const P of c){const R=U6(P,y.get(P.key).overlayedDocument);R!=null&&C.push(new Wo(P.key,R,AI(R.value.mapValue),hs.exists(!0)))}return d.mutationQueue.addMutationBatch(b,h,C,c)}).next(T=>{v=T;const C=T.applyToLocalDocumentSet(y,k);return d.documentOverlayCache.saveOverlays(b,T.batchId,C)})}).then(()=>({batchId:v.batchId,changes:BI(y)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(l,c,d){let h=l.Vu[l.currentUser.toKey()];h||(h=new jt(Qe)),h=h.insert(c,d),l.Vu[l.currentUser.toKey()]=h}(r,s.batchId,n),await Od(r,s.changes),await Zp(r.remoteStore)}catch(s){const o=fw(s,"Failed to persist write");n.reject(o)}}async function kC(t,e){const n=ze(t);try{const r=await V3(n.localStore,e);e.targetChanges.forEach((s,o)=>{const l=n.Au.get(o);l&&(ut(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.hu=!0:s.modifiedDocuments.size>0?ut(l.hu,14607):s.removedDocuments.size>0&&(ut(l.hu,42227),l.hu=!1))}),await Od(n,r,e)}catch(r){await Ic(r)}}function Ck(t,e,n){const r=ze(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((o,l)=>{const c=l.view.va(e);c.snapshot&&s.push(c.snapshot)}),function(l,c){const d=ze(l);d.onlineState=c;let h=!1;d.queries.forEach((g,y)=>{for(const v of y.Sa)v.va(c)&&(h=!0)}),h&&pw(d)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function TF(t,e,n){const r=ze(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),o=s&&s.key;if(o){let l=new jt(Ae.comparator);l=l.insert(o,Dn.newNoDocument(o,Be.min()));const c=Xe().add(o),d=new Qp(Be.min(),new Map,new jt(Qe),l,c);await kC(r,d),r.du=r.du.remove(o),r.Au.delete(e),gw(r)}else await k0(r.localStore,e,!1).then(()=>I0(r,e,n)).catch(Ic)}async function IF(t,e){const n=ze(t),r=e.batch.batchId;try{const s=await L3(n.localStore,e);TC(n,r,null),SC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Od(n,s)}catch(s){await Ic(s)}}async function CF(t,e,n){const r=ze(t);try{const s=await function(l,c){const d=ze(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let g;return d.mutationQueue.lookupMutationBatch(h,c).next(y=>(ut(y!==null,37113),g=y.keys(),d.mutationQueue.removeMutationBatch(h,y))).next(()=>d.mutationQueue.performConsistencyCheck(h)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(h,g,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,g)).next(()=>d.localDocuments.getDocuments(h,g))})}(r.localStore,e);TC(r,e,n),SC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Od(r,s)}catch(s){await Ic(s)}}function SC(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function TC(t,e,n){const r=ze(t);let s=r.Vu[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function I0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||IC(t,r)})}function IC(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(lw(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),gw(t))}function Nk(t,e,n){for(const r of n)r instanceof _C?(t.Ru.addReference(r.key,e),NF(t,r)):r instanceof bC?(xe(mw,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||IC(t,r.key)):Le(19791,{wu:r})}function NF(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(xe(mw,"New document in limbo: "+n),t.Eu.add(r),gw(t))}function gw(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ae(gt.fromString(e)),r=t.fu.next();t.Au.set(r,new vF(n)),t.du=t.du.insert(n,r),hC(t.remoteStore,new So(Fs(Jv(n.path)),r,"TargetPurposeLimboResolution",zp.ce))}}async function Od(t,e,n){const r=ze(t),s=[],o=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach((c,d)=>{l.push(r.pu(d,e,n).then(h=>{var g;if((h||n)&&r.isPrimaryClient){const y=h?!h.fromCache:(g=n==null?void 0:n.targetChanges.get(d.targetId))==null?void 0:g.current;r.sharedClientState.updateQueryState(d.targetId,y?"current":"not-current")}if(h){s.push(h);const y=ow.As(d.targetId,h);o.push(y)}}))}),await Promise.all(l),r.Pu.H_(s),await async function(d,h){const g=ze(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>ae.forEach(h,v=>ae.forEach(v.Es,b=>g.persistence.referenceDelegate.addReference(y,v.targetId,b)).next(()=>ae.forEach(v.ds,b=>g.persistence.referenceDelegate.removeReference(y,v.targetId,b)))))}catch(y){if(!Cc(y))throw y;xe(aw,"Failed to update sequence numbers: "+y)}for(const y of h){const v=y.targetId;if(!y.fromCache){const b=g.Ms.get(v),S=b.snapshotVersion,k=b.withLastLimboFreeSnapshotVersion(S);g.Ms=g.Ms.insert(v,k)}}}(r.localStore,o))}async function AF(t,e){const n=ze(t);if(!n.currentUser.isEqual(e)){xe(mw,"User change. New user:",e.toKey());const r=await lC(n.localStore,e);n.currentUser=e,function(o,l){o.mu.forEach(c=>{c.forEach(d=>{d.reject(new ye(re.CANCELLED,l))})}),o.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Od(n,r.Ls)}}function PF(t,e){const n=ze(t),r=n.Au.get(e);if(r&&r.hu)return Xe().add(r.key);{let s=Xe();const o=n.Iu.get(e);if(!o)return s;for(const l of o){const c=n.Tu.get(l);s=s.unionWith(c.view.nu)}return s}}function CC(t){const e=ze(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=kC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=PF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=TF.bind(null,e),e.Pu.H_=pF.bind(null,e.eventManager),e.Pu.yu=mF.bind(null,e.eventManager),e}function RF(t){const e=ze(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=IF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=CF.bind(null,e),e}class vp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Xp(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return O3(this.persistence,new D3,e.initialUser,this.serializer)}Cu(e){return new aC(iw.mi,this.serializer)}Du(e){return new z3}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vp.provider={build:()=>new vp};class DF extends vp{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ut(this.persistence.referenceDelegate instanceof gp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new v3(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?dr.withCacheSize(this.cacheSizeBytes):dr.DEFAULT;return new aC(r=>gp.mi(r,n),this.serializer)}}class C0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Ck(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=AF.bind(null,this.syncEngine),await dF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new fF}()}createDatastore(e){const n=Xp(e.databaseInfo.databaseId),r=function(o){return new G3(o)}(e.databaseInfo);return function(o,l,c,d){return new J3(o,l,c,d)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,o,l,c){return new eF(r,s,o,l,c)}(this.localStore,this.datastore,e.asyncQueue,n=>Ck(this.syncEngine,n,0),function(){return bk.v()?new bk:new H3}())}createSyncEngine(e,n){return function(s,o,l,c,d,h,g){const y=new wF(s,o,l,c,d,h);return g&&(y.gu=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const o=ze(s);xe(Ua,"RemoteStore shutting down."),o.Ea.add(5),await jd(o),o.Aa.shutdown(),o.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}C0.provider={build:()=>new C0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ai("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo="FirestoreClient";class MF{constructor(e,n,r,s,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Rn.UNAUTHENTICATED,this.clientId=qv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async l=>{xe(Lo,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(xe(Lo,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Si;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=fw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function my(t,e){t.asyncQueue.verifyOperationInProgress(),xe(Lo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await lC(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Ak(t,e){t.asyncQueue.verifyOperationInProgress();const n=await jF(t);xe(Lo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>kk(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>kk(e.remoteStore,s)),t._onlineComponents=e}async function jF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){xe(Lo,"Using user provided OfflineComponentProvider");try{await my(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===re.FAILED_PRECONDITION||s.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;fc("Error using user provided cache. Falling back to memory cache: "+n),await my(t,new vp)}}else xe(Lo,"Using default OfflineComponentProvider"),await my(t,new DF(void 0));return t._offlineComponents}async function AC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(xe(Lo,"Using user provided OnlineComponentProvider"),await Ak(t,t._uninitializedComponentsProvider._online)):(xe(Lo,"Using default OnlineComponentProvider"),await Ak(t,new C0))),t._onlineComponents}function OF(t){return AC(t).then(e=>e.syncEngine)}async function PC(t){const e=await AC(t),n=e.eventManager;return n.onListen=xF.bind(null,e.syncEngine),n.onUnlisten=EF.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=_F.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=kF.bind(null,e.syncEngine),n}function LF(t,e,n={}){const r=new Si;return t.asyncQueue.enqueueAndForget(async()=>function(o,l,c,d,h){const g=new NC({next:v=>{g.Nu(),l.enqueueAndForget(()=>wC(o,y));const b=v.docs.has(c);!b&&v.fromCache?h.reject(new ye(re.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&v.fromCache&&d&&d.source==="server"?h.reject(new ye(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(v)},error:v=>h.reject(v)}),y=new xC(Jv(c.path),g,{includeMetadataChanges:!0,qa:!0});return vC(o,y)}(await PC(t),t.asyncQueue,e,n,r)),r.promise}function VF(t,e,n={}){const r=new Si;return t.asyncQueue.enqueueAndForget(async()=>function(o,l,c,d,h){const g=new NC({next:v=>{g.Nu(),l.enqueueAndForget(()=>wC(o,y)),v.fromCache&&d.source==="server"?h.reject(new ye(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(v)},error:v=>h.reject(v)}),y=new xC(c,g,{includeMetadataChanges:!0,qa:!0});return vC(o,y)}(await PC(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC="firestore.googleapis.com",Rk=!0;class Dk{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ye(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=DC,this.ssl=Rk}else this.host=e.host,this.ssl=e.ssl??Rk;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=oC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<g3)throw new ye(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Z5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=RC(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ye(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ye(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ye(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class em{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Dk({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Dk(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new z5;switch(r.type){case"firstParty":return new K5(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ye(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Pk.get(n);r&&(xe("ComponentProvider","Removing Datastore"),Pk.delete(n),r.terminate())}(this),Promise.resolve()}}function FF(t,e,n,r={}){var h;t=Pi(t,em);const s=$o(e),o=t._getSettings(),l={...o,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;s&&(Rv(`https://${c}`),Dv("Firestore",!0)),o.host!==DC&&o.host!==c&&fc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...o,host:c,ssl:s,emulatorOptions:r};if(!ja(d,l)&&(t._setSettings(d),r.mockUserToken)){let g,y;if(typeof r.mockUserToken=="string")g=r.mockUserToken,y=Rn.MOCK_USER;else{g=TT(r.mockUserToken,(h=t._app)==null?void 0:h.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new ye(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Rn(v)}t._authCredentials=new H5(new vI(g,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ja(this.firestore,e,this._query)}}class en{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ao(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new en(this.firestore,e,this._key)}toJSON(){return{type:en._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Rd(n,en._jsonSchema))return new en(e,r||null,new Ae(gt.fromString(n.referencePath)))}}en._jsonSchemaVersion="firestore/documentReference/1.0",en._jsonSchema={type:Zt("string",en._jsonSchemaVersion),referencePath:Zt("string")};class Ao extends Ja{constructor(e,n,r){super(e,n,Jv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new en(this.firestore,null,new Ae(e))}withConverter(e){return new Ao(this.firestore,e,this._path)}}function Ys(t,e,...n){if(t=Mt(t),wI("collection","path",e),t instanceof em){const r=gt.fromString(e,...n);return qE(r),new Ao(t,null,r)}{if(!(t instanceof en||t instanceof Ao))throw new ye(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(gt.fromString(e,...n));return qE(r),new Ao(t.firestore,null,r)}}function zr(t,e,...n){if(t=Mt(t),arguments.length===1&&(e=qv.newId()),wI("doc","path",e),t instanceof em){const r=gt.fromString(e,...n);return WE(r),new en(t,null,new Ae(r))}{if(!(t instanceof en||t instanceof Ao))throw new ye(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(gt.fromString(e,...n));return WE(r),new en(t.firestore,t instanceof Ao?t.converter:null,new Ae(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mk="AsyncQueue";class jk{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new uC(this,"async_queue_retry"),this._c=()=>{const r=py();r&&xe(Mk,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=py();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=py();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Si;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Cc(e))throw e;xe(Mk,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Ai("INTERNAL UNHANDLED ERROR: ",Ok(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=hw.createAndSchedule(this,e,n,r,o=>this.hc(o));return this.tc.push(s),s}uc(){this.nc&&Le(47125,{Pc:Ok(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Ok(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Pc extends em{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new jk,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new jk(e),this._firestoreClient=void 0,await e}}}function UF(t,e){const n=typeof t=="object"?t:Ov(),r=typeof t=="string"?t:dp,s=Vp(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=ET("firestore");o&&FF(s,...o)}return s}function yw(t){if(t._terminated)throw new ye(re.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||BF(t),t._firestoreClient}function BF(t){var r,s,o;const e=t._freezeSettings(),n=function(c,d,h,g){return new u6(c,d,h,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,RC(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new MF(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(c){const d=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(d),_online:d}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $r(Tn.fromBase64String(e))}catch(n){throw new ye(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new $r(Tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:$r._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Rd(e,$r._jsonSchema))return $r.fromBase64String(e.bytes)}}$r._jsonSchemaVersion="firestore/bytes/1.0",$r._jsonSchema={type:Zt("string",$r._jsonSchemaVersion),bytes:Zt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ye(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ye(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ye(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Bs._jsonSchemaVersion}}static fromJSON(e){if(Rd(e,Bs._jsonSchema))return new Bs(e.latitude,e.longitude)}}Bs._jsonSchemaVersion="firestore/geoPoint/1.0",Bs._jsonSchema={type:Zt("string",Bs._jsonSchemaVersion),latitude:Zt("number"),longitude:Zt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:$s._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Rd(e,$s._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new $s(e.vectorValues);throw new ye(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$s._jsonSchemaVersion="firestore/vectorValue/1.0",$s._jsonSchema={type:Zt("string",$s._jsonSchemaVersion),vectorValues:Zt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $F=/^__.*__$/;class zF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Wo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Dd(e,this.data,n,this.fieldTransforms)}}class MC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Wo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function jC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Le(40011,{Ac:t})}}class vw{constructor(e,n,r,s,o,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new vw({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return wp(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(jC(this.Ac)&&$F.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class HF{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Xp(e)}Cc(e,n,r,s=!1){return new vw({Ac:e,methodName:n,Dc:r,path:Sn.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ww(t){const e=t._freezeSettings(),n=Xp(t._databaseId);return new HF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function WF(t,e,n,r,s,o={}){const l=t.Cc(o.merge||o.mergeFields?2:0,e,n,s);_w("Data must be an object, but it was:",l,r);const c=OC(r,l);let d,h;if(o.merge)d=new Sr(l.fieldMask),h=l.fieldTransforms;else if(o.mergeFields){const g=[];for(const y of o.mergeFields){const v=N0(e,y,n);if(!l.contains(v))throw new ye(re.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);VC(g,v)||g.push(v)}d=new Sr(g),h=l.fieldTransforms.filter(y=>d.covers(y.field))}else d=null,h=l.fieldTransforms;return new zF(new hr(c),d,h)}class rm extends nm{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof rm}}class xw extends nm{_toFieldTransform(e){return new O6(e.path,new od)}isEqual(e){return e instanceof xw}}function qF(t,e,n,r){const s=t.Cc(1,e,n);_w("Data must be an object, but it was:",s,r);const o=[],l=hr.empty();Ho(r,(d,h)=>{const g=bw(e,d,n);h=Mt(h);const y=s.yc(g);if(h instanceof rm)o.push(g);else{const v=Ld(h,y);v!=null&&(o.push(g),l.set(g,v))}});const c=new Sr(o);return new MC(l,c,s.fieldTransforms)}function KF(t,e,n,r,s,o){const l=t.Cc(1,e,n),c=[N0(e,r,n)],d=[s];if(o.length%2!=0)throw new ye(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)c.push(N0(e,o[v])),d.push(o[v+1]);const h=[],g=hr.empty();for(let v=c.length-1;v>=0;--v)if(!VC(h,c[v])){const b=c[v];let S=d[v];S=Mt(S);const k=l.yc(b);if(S instanceof rm)h.push(b);else{const T=Ld(S,k);T!=null&&(h.push(b),g.set(b,T))}}const y=new Sr(h);return new MC(g,y,l.fieldTransforms)}function GF(t,e,n,r=!1){return Ld(n,t.Cc(r?4:3,e))}function Ld(t,e){if(LC(t=Mt(t)))return _w("Unsupported field value:",e,t),OC(t,e);if(t instanceof nm)return function(r,s){if(!jC(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const o=[];let l=0;for(const c of r){let d=Ld(c,s.wc(l));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),l++}return{arrayValue:{values:o}}}(t,e)}return function(r,s){if((r=Mt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return D6(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=xt.fromDate(r);return{timestampValue:mp(s.serializer,o)}}if(r instanceof xt){const o=new xt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:mp(s.serializer,o)}}if(r instanceof Bs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof $r)return{bytesValue:ZI(s.serializer,r._byteString)};if(r instanceof en){const o=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw s.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:rw(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof $s)return function(l,c){return{mapValue:{fields:{[CI]:{stringValue:NI},[hp]:{arrayValue:{values:l.toArray().map(h=>{if(typeof h!="number")throw c.Sc("VectorValues must only contain numeric values.");return Zv(c.serializer,h)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${$p(r)}`)}(t,e)}function OC(t,e){const n={};return bI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ho(t,(r,s)=>{const o=Ld(s,e.mc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function LC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof xt||t instanceof Bs||t instanceof $r||t instanceof en||t instanceof nm||t instanceof $s)}function _w(t,e,n){if(!LC(n)||!xI(n)){const r=$p(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function N0(t,e,n){if((e=Mt(e))instanceof tm)return e._internalPath;if(typeof e=="string")return bw(t,e);throw wp("Field path arguments must be of type string or ",t,!1,void 0,n)}const YF=new RegExp("[~\\*/\\[\\]]");function bw(t,e,n){if(e.search(YF)>=0)throw wp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new tm(...e.split("."))._internalPath}catch{throw wp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function wp(t,e,n,r,s){const o=r&&!r.isEmpty(),l=s!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(o||l)&&(d+=" (found",o&&(d+=` in field ${r}`),l&&(d+=` in document ${s}`),d+=")"),new ye(re.INVALID_ARGUMENT,c+t+d)}function VC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e,n,r,s,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new en(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new QF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(sm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class QF extends FC{data(){return super.data()}}function sm(t,e){return typeof e=="string"?bw(t,e):e instanceof tm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ye(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ew{}class UC extends Ew{}function jn(t,e,...n){let r=[];e instanceof Ew&&r.push(e),r=r.concat(n),function(o){const l=o.filter(d=>d instanceof kw).length,c=o.filter(d=>d instanceof im).length;if(l>1||l>0&&c>0)throw new ye(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class im extends UC{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new im(e,n,r)}_apply(e){const n=this._parse(e);return BC(e._query,n),new Ja(e.firestore,e.converter,v0(e._query,n))}_parse(e){const n=ww(e.firestore);return function(o,l,c,d,h,g,y){let v;if(h.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new ye(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){Vk(y,g);const S=[];for(const k of y)S.push(Lk(d,o,k));v={arrayValue:{values:S}}}else v=Lk(d,o,y)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||Vk(y,g),v=GF(c,l,y,g==="in"||g==="not-in");return Jt.create(h,g,v)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Kn(t,e,n){const r=e,s=sm("where",t);return im._create(s,r,n)}class kw extends Ew{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new kw(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ps.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,o){let l=s;const c=o.getFlattenedFilters();for(const d of c)BC(l,d),l=v0(l,d)}(e._query,n),new Ja(e.firestore,e.converter,v0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Sw extends UC{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Sw(e,n)}_apply(e){const n=function(s,o,l){if(s.startAt!==null)throw new ye(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ye(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new id(o,l)}(e._query,this._field,this._direction);return new Ja(e.firestore,e.converter,function(s,o){const l=s.explicitOrderBy.concat([o]);return new Nc(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function JF(t,e="asc"){const n=e,r=sm("orderBy",t);return Sw._create(r,n)}function Lk(t,e,n){if(typeof(n=Mt(n))=="string"){if(n==="")throw new ye(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!LI(e)&&n.indexOf("/")!==-1)throw new ye(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(gt.fromString(n));if(!Ae.isDocumentKey(r))throw new ye(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ek(t,new Ae(r))}if(n instanceof en)return ek(t,n._key);throw new ye(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$p(n)}.`)}function Vk(t,e){if(!Array.isArray(t)||t.length===0)throw new ye(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function BC(t,e){const n=function(s,o){for(const l of s)for(const c of l.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ye(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ye(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class ZF{convertValue(e,n="none"){switch(jo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Mo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Le(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ho(e,(s,o)=>{r[s]=this.convertValue(o,n)}),r}convertVectorValue(e){var r,s,o;const n=(o=(s=(r=e.fields)==null?void 0:r[hp].arrayValue)==null?void 0:s.values)==null?void 0:o.map(l=>Wt(l.doubleValue));return new $s(n)}convertGeoPoint(e){return new Bs(Wt(e.latitude),Wt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Wp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(nd(e));default:return null}}convertTimestamp(e){const n=Do(e);return new xt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=gt.fromString(e);ut(iC(r),9688,{name:e});const s=new rd(r.get(1),r.get(3)),o=new Ae(r.popFirst(5));return s.isEqual(n)||Ai(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e9(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class ju{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Na extends FC{constructor(e,n,r,s,o,l){super(e,n,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new zf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(sm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Na._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Na._jsonSchemaVersion="firestore/documentSnapshot/1.0",Na._jsonSchema={type:Zt("string",Na._jsonSchemaVersion),bundleSource:Zt("string","DocumentSnapshot"),bundleName:Zt("string"),bundle:Zt("string")};class zf extends Na{data(e={}){return super.data(e)}}class ic{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new ju(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new zf(this._firestore,this._userDataWriter,r.key,r,new ju(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ye(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(c=>{const d=new zf(s._firestore,s._userDataWriter,c.doc.key,c.doc,new ju(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{const d=new zf(s._firestore,s._userDataWriter,c.doc.key,c.doc,new ju(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let h=-1,g=-1;return c.type!==0&&(h=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),g=l.indexOf(c.doc.key)),{type:t9(c.type),doc:d,oldIndex:h,newIndex:g}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ic._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=qv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function t9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Le(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tw(t){t=Pi(t,en);const e=Pi(t.firestore,Pc);return LF(yw(e),t._key).then(n=>n9(e,t,n))}ic._jsonSchemaVersion="firestore/querySnapshot/1.0",ic._jsonSchema={type:Zt("string",ic._jsonSchemaVersion),bundleSource:Zt("string","QuerySnapshot"),bundleName:Zt("string"),bundle:Zt("string")};class $C extends ZF{constructor(e){super(),this.firestore=e}convertBytes(e){return new $r(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new en(this.firestore,null,n)}}function om(t){t=Pi(t,Ja);const e=Pi(t.firestore,Pc),n=yw(e),r=new $C(e);return XF(t._query),VF(n,t._query).then(s=>new ic(e,r,t,s))}function xp(t,e,n,...r){t=Pi(t,en);const s=Pi(t.firestore,Pc),o=ww(s);let l;return l=typeof(e=Mt(e))=="string"||e instanceof tm?KF(o,"updateDoc",t._key,e,n,r):qF(o,"updateDoc",t._key,e),Iw(s,[l.toMutation(t._key,hs.exists(!0))])}function am(t){return Iw(Pi(t.firestore,Pc),[new ew(t._key,hs.none())])}function Rc(t,e){const n=Pi(t.firestore,Pc),r=zr(t),s=e9(t.converter,e);return Iw(n,[WF(ww(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,hs.exists(!1))]).then(()=>r)}function Iw(t,e){return function(r,s){const o=new Si;return r.asyncQueue.enqueueAndForget(async()=>SF(await OF(r),s,o)),o.promise}(yw(t),e)}function n9(t,e,n){const r=n.docs.get(e._key),s=new $C(t);return new Na(t,s,e._key,r,new ju(n.hasPendingWrites,n.fromCache),e.converter)}function ds(){return new xw("serverTimestamp")}(function(e,n=!0){(function(s){Tc=s})(Ga),Oa(new Po("firestore",(r,{instanceIdentifier:s,options:o})=>{const l=r.getProvider("app").getImmediate(),c=new Pc(new W5(r.getProvider("auth-internal")),new G5(l,r.getProvider("app-check-internal")),function(h,g){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new ye(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rd(h.options.projectId,g)}(l,s),l);return o={useFetchStreams:n,...o},c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Os(BE,$E,e),Os(BE,$E,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC="firebasestorage.googleapis.com",HC="storageBucket",r9=120*1e3,s9=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut extends ei{constructor(e,n,r=0){super(gy(e),`Firebase Storage: ${n} (${gy(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ut.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return gy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ft;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ft||(Ft={}));function gy(t){return"storage/"+t}function Cw(){const t="An unknown error occurred, please check the error payload for server response.";return new Ut(Ft.UNKNOWN,t)}function i9(t){return new Ut(Ft.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function o9(t){return new Ut(Ft.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function a9(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ut(Ft.UNAUTHENTICATED,t)}function l9(){return new Ut(Ft.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function c9(t){return new Ut(Ft.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function u9(){return new Ut(Ft.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function d9(){return new Ut(Ft.CANCELED,"User canceled the upload/download.")}function h9(t){return new Ut(Ft.INVALID_URL,"Invalid URL '"+t+"'.")}function f9(t){return new Ut(Ft.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function p9(){return new Ut(Ft.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+HC+"' property when initializing the app?")}function m9(){return new Ut(Ft.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function g9(){return new Ut(Ft.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function y9(t){return new Ut(Ft.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function A0(t){return new Ut(Ft.INVALID_ARGUMENT,t)}function WC(){return new Ut(Ft.APP_DELETED,"The Firebase app was deleted.")}function v9(t){return new Ut(Ft.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Wu(t,e){return new Ut(Ft.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Su(t){throw new Ut(Ft.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Tr.makeFromUrl(e,n)}catch{return new Tr(e,"")}if(r.path==="")return r;throw f9(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function o(L){L.path.charAt(L.path.length-1)==="/"&&(L.path_=L.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+s+l,"i"),d={bucket:1,path:3};function h(L){L.path_=decodeURIComponent(L.path)}const g="v[A-Za-z0-9_]+",y=n.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",b=new RegExp(`^https?://${y}/${g}/b/${s}/o${v}`,"i"),S={bucket:1,path:3},k=n===zC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,T="([^?#]*)",C=new RegExp(`^https?://${k}/${s}/${T}`,"i"),R=[{regex:c,indices:d,postModify:o},{regex:b,indices:S,postModify:h},{regex:C,indices:{bucket:1,path:2},postModify:h}];for(let L=0;L<R.length;L++){const F=R[L],q=F.regex.exec(e);if(q){const M=q[F.indices.bucket];let N=q[F.indices.path];N||(N=""),r=new Tr(M,N),F.postModify(r);break}}if(r==null)throw h9(e);return r}}class w9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x9(t,e,n){let r=1,s=null,o=null,l=!1,c=0;function d(){return c===2}let h=!1;function g(...T){h||(h=!0,e.apply(null,T))}function y(T){s=setTimeout(()=>{s=null,t(b,d())},T)}function v(){o&&clearTimeout(o)}function b(T,...C){if(h){v();return}if(T){v(),g.call(null,T,...C);return}if(d()||l){v(),g.call(null,T,...C);return}r<64&&(r*=2);let R;c===1?(c=2,R=0):R=(r+Math.random())*1e3,y(R)}let S=!1;function k(T){S||(S=!0,v(),!h&&(s!==null?(T||(c=2),clearTimeout(s),y(0)):T||(c=1)))}return y(0),o=setTimeout(()=>{l=!0,k(!0)},n),k}function _9(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b9(t){return t!==void 0}function E9(t){return typeof t=="object"&&!Array.isArray(t)}function Nw(t){return typeof t=="string"||t instanceof String}function Fk(t){return Aw()&&t instanceof Blob}function Aw(){return typeof Blob<"u"}function Uk(t,e,n,r){if(r<e)throw A0(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw A0(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function qC(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Aa;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Aa||(Aa={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k9(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||s||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S9{constructor(e,n,r,s,o,l,c,d,h,g,y,v=!0,b=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=d,this.timeout_=h,this.progressCallback_=g,this.connectionFactory_=y,this.retry=v,this.isUsingEmulator=b,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,k)=>{this.resolve_=S,this.reject_=k,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new ff(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=c=>{const d=c.loaded,h=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,h)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const c=o.getErrorCode()===Aa.NO_ERROR,d=o.getStatus();if(!c||k9(d,this.additionalRetryCodes_)&&this.retry){const g=o.getErrorCode()===Aa.ABORT;r(!1,new ff(!1,null,g));return}const h=this.successCodes_.indexOf(d)!==-1;r(!0,new ff(h,o))})},n=(r,s)=>{const o=this.resolve_,l=this.reject_,c=s.connection;if(s.wasSuccessCode)try{const d=this.callback_(c,c.getResponse());b9(d)?o(d):o()}catch(d){l(d)}else if(c!==null){const d=Cw();d.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,d)):l(d)}else if(s.canceled){const d=this.appDelete_?WC():d9();l(d)}else{const d=u9();l(d)}};this.canceled_?n(!1,new ff(!1,null,!0)):this.backoffId_=x9(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&_9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ff{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function T9(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function I9(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function C9(t,e){e&&(t["X-Firebase-GMPID"]=e)}function N9(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function A9(t,e,n,r,s,o,l=!0,c=!1){const d=qC(t.urlParams),h=t.url+d,g=Object.assign({},t.headers);return C9(g,e),T9(g,n),I9(g,o),N9(g,r),new S9(h,t.method,g,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,l,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P9(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function R9(...t){const e=P9();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Aw())return new Blob(t);throw new Ut(Ft.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function D9(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M9(t){if(typeof atob>"u")throw y9("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class yy{constructor(e,n){this.data=e,this.contentType=n||null}}function j9(t,e){switch(t){case Ms.RAW:return new yy(KC(e));case Ms.BASE64:case Ms.BASE64URL:return new yy(GC(t,e));case Ms.DATA_URL:return new yy(L9(e),V9(e))}throw Cw()}function KC(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,l=t.charCodeAt(++n);r=65536|(o&1023)<<10|l&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function O9(t){let e;try{e=decodeURIComponent(t)}catch{throw Wu(Ms.DATA_URL,"Malformed data URL.")}return KC(e)}function GC(t,e){switch(t){case Ms.BASE64:{const s=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(s||o)throw Wu(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Ms.BASE64URL:{const s=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(s||o)throw Wu(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=M9(e)}catch(s){throw s.message.includes("polyfill")?s:Wu(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class YC{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Wu(Ms.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=F9(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function L9(t){const e=new YC(t);return e.base64?GC(Ms.BASE64,e.rest):O9(e.rest)}function V9(t){return new YC(t).contentType}function F9(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e,n){let r=0,s="";Fk(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(Fk(this.data_)){const r=this.data_,s=D9(r,e,n);return s===null?null:new ko(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new ko(r,!0)}}static getBlob(...e){if(Aw()){const n=e.map(r=>r instanceof ko?r.data_:r);return new ko(R9.apply(null,n))}else{const n=e.map(l=>Nw(l)?j9(Ms.RAW,l).data:l.data_);let r=0;n.forEach(l=>{r+=l.byteLength});const s=new Uint8Array(r);let o=0;return n.forEach(l=>{for(let c=0;c<l.length;c++)s[o++]=l[c]}),new ko(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(t){let e;try{e=JSON.parse(t)}catch{return null}return E9(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U9(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function B9(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function XC(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $9(t,e){return e}class Wn{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||$9}}let pf=null;function z9(t){return!Nw(t)||t.length<2?t:XC(t)}function JC(){if(pf)return pf;const t=[];t.push(new Wn("bucket")),t.push(new Wn("generation")),t.push(new Wn("metageneration")),t.push(new Wn("name","fullPath",!0));function e(o,l){return z9(l)}const n=new Wn("name");n.xform=e,t.push(n);function r(o,l){return l!==void 0?Number(l):l}const s=new Wn("size");return s.xform=r,t.push(s),t.push(new Wn("timeCreated")),t.push(new Wn("updated")),t.push(new Wn("md5Hash",null,!0)),t.push(new Wn("cacheControl",null,!0)),t.push(new Wn("contentDisposition",null,!0)),t.push(new Wn("contentEncoding",null,!0)),t.push(new Wn("contentLanguage",null,!0)),t.push(new Wn("contentType",null,!0)),t.push(new Wn("metadata","customMetadata",!0)),pf=t,pf}function H9(t,e){function n(){const r=t.bucket,s=t.fullPath,o=new Tr(r,s);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function W9(t,e,n){const r={};r.type="file";const s=n.length;for(let o=0;o<s;o++){const l=n[o];r[l.local]=l.xform(r,e[l.server])}return H9(r,t),r}function ZC(t,e,n){const r=QC(e);return r===null?null:W9(t,r,n)}function q9(t,e,n,r){const s=QC(e);if(s===null||!Nw(s.downloadTokens))return null;const o=s.downloadTokens;if(o.length===0)return null;const l=encodeURIComponent;return o.split(",").map(h=>{const g=t.bucket,y=t.fullPath,v="/b/"+l(g)+"/o/"+l(y),b=Pw(v,n,r),S=qC({alt:"media",token:h});return b+S})[0]}function K9(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const o=e[s];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class eN{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tN(t){if(!t)throw Cw()}function G9(t,e){function n(r,s){const o=ZC(t,s,e);return tN(o!==null),o}return n}function Y9(t,e){function n(r,s){const o=ZC(t,s,e);return tN(o!==null),q9(o,s,t.host,t._protocol)}return n}function nN(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=l9():s=a9():n.getStatus()===402?s=o9(t.bucket):n.getStatus()===403?s=c9(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function Q9(t){const e=nN(t);function n(r,s){let o=e(r,s);return r.getStatus()===404&&(o=i9(t.path)),o.serverResponse=s.serverResponse,o}return n}function X9(t,e,n){const r=e.fullServerUrl(),s=Pw(r,t.host,t._protocol),o="GET",l=t.maxOperationRetryTime,c=new eN(s,o,Y9(t,n),l);return c.errorHandler=Q9(e),c}function J9(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Z9(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=J9(null,e)),r}function eU(t,e,n,r,s){const o=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function c(){let R="";for(let L=0;L<2;L++)R=R+Math.random().toString().slice(2);return R}const d=c();l["Content-Type"]="multipart/related; boundary="+d;const h=Z9(e,r,s),g=K9(h,n),y="--"+d+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+d+`\r
Content-Type: `+h.contentType+`\r
\r
`,v=`\r
--`+d+"--",b=ko.getBlob(y,r,v);if(b===null)throw m9();const S={name:h.fullPath},k=Pw(o,t.host,t._protocol),T="POST",C=t.maxUploadRetryTime,P=new eN(k,T,G9(t,n),C);return P.urlParams=S,P.headers=l,P.body=b.uploadData(),P.errorHandler=nN(e),P}class tU{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Aa.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Aa.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Aa.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s,o){if(this.sent_)throw Su("cannot .send() more than once");if($o(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),o!==void 0)for(const l in o)o.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,o[l].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Su("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Su("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Su("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Su("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class nU extends tU{initXhr(){this.xhr_.responseType="text"}}function rN(){return new nU}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e,n){this._service=e,n instanceof Tr?this._location=n:this._location=Tr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ba(e,n)}get root(){const e=new Tr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return XC(this._location.path)}get storage(){return this._service}get parent(){const e=U9(this._location.path);if(e===null)return null;const n=new Tr(this._location.bucket,e);return new Ba(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw v9(e)}}function rU(t,e,n){t._throwIfRoot("uploadBytes");const r=eU(t.storage,t._location,JC(),new ko(e,!0),n);return t.storage.makeRequestWithTokens(r,rN).then(s=>({metadata:s,ref:t}))}function sU(t){t._throwIfRoot("getDownloadURL");const e=X9(t.storage,t._location,JC());return t.storage.makeRequestWithTokens(e,rN).then(n=>{if(n===null)throw g9();return n})}function iU(t,e){const n=B9(t._location.path,e),r=new Tr(t._location.bucket,n);return new Ba(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oU(t){return/^[A-Za-z]+:\/\//.test(t)}function aU(t,e){return new Ba(t,e)}function sN(t,e){if(t instanceof Rw){const n=t;if(n._bucket==null)throw p9();const r=new Ba(n,n._bucket);return e!=null?sN(r,e):r}else return e!==void 0?iU(t,e):t}function lU(t,e){if(e&&oU(e)){if(t instanceof Rw)return aU(t,e);throw A0("To use ref(service, url), the first argument must be a Storage instance.")}else return sN(t,e)}function Bk(t,e){const n=e==null?void 0:e[HC];return n==null?null:Tr.makeFromBucketSpec(n,t)}function cU(t,e,n,r={}){t.host=`${e}:${n}`;const s=$o(e);s&&(Rv(`https://${t.host}/b`),Dv("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:o}=r;o&&(t._overrideAuthToken=typeof o=="string"?o:TT(o,t.app.options.projectId))}class Rw{constructor(e,n,r,s,o,l=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=o,this._isUsingEmulator=l,this._bucket=null,this._host=zC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=r9,this._maxUploadRetryTime=s9,this._requests=new Set,s!=null?this._bucket=Tr.makeFromBucketSpec(s,this._host):this._bucket=Bk(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Tr.makeFromBucketSpec(this._url,e):this._bucket=Bk(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Uk("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Uk("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(kr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ba(this,e)}_makeRequest(e,n,r,s,o=!0){if(this._deleted)return new w9(WC());{const l=A9(e,this._appId,r,s,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const $k="@firebase/storage",zk="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN="storage";function uU(t,e,n){return t=Mt(t),rU(t,e,n)}function dU(t){return t=Mt(t),sU(t)}function hU(t,e){return t=Mt(t),lU(t,e)}function fU(t=Ov(),e){t=Mt(t);const r=Vp(t,iN).getImmediate({identifier:e}),s=ET("storage");return s&&pU(r,...s),r}function pU(t,e,n,r={}){cU(t,e,n,r)}function mU(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Rw(n,r,s,e,Ga)}function gU(){Oa(new Po(iN,mU,"PUBLIC").setMultipleInstances(!0)),Os($k,zk,""),Os($k,zk,"esm2020")}gU();const Hk={apiKey:"AIzaSyDkVAo_xXbBHy8FYwFtMQA66aju08qK_yE",authDomain:"hooked-69.firebaseapp.com",projectId:"hooked-69",storageBucket:"hooked-69.firebasestorage.app",messagingSenderId:"741889428835",appId:"1:741889428835:web:d5f88b43a503c9e6351756",measurementId:"G-6YHKXLN806"};let cd;try{cd=a0(Hk),console.log(" Firebase app initialized successfully")}catch(t){console.error(" Failed to initialize Firebase app:",t);try{cd=a0(Hk,"fallback-app"),console.log(" Firebase app initialized with fallback name")}catch(e){throw console.error(" Failed to initialize Firebase app with fallback:",e),new Error("Firebase initialization failed completely")}}const xa=B5(cd),Kt=UF(cd),yU=fU(cd);async function yt(t,e=3,n=1e3,r="Firebase operation"){let s;for(let o=1;o<=e;o++)try{return await t()}catch(l){if(s=l,console.error(` ${r} failed (attempt ${o}/${e}):`,{operation:r,attempt:o,maxRetries:e,timestamp:new Date().toISOString(),error:l.message,code:l.code,isNetworkError:!l.code||l.code==="unavailable",isPermissionError:l.code==="permission-denied",isNotFoundError:l.code==="not-found"}),l.code==="permission-denied"||l.code==="not-found")throw l;if(o<e){const c=n*Math.pow(2,o-1)+Math.random()*1e3;console.log(` Retrying ${r} in ${Math.round(c)}ms...`),await new Promise(d=>setTimeout(d,c))}}throw s}const ms={async create(t){return await yt(async()=>({id:(await Rc(Ys(Kt,"events"),{...t,created_at:ds(),updated_at:ds()})).id,...t}),3,1e3,"Event.create")},async filter(t={}){return await yt(async()=>{let e=Ys(Kt,"events");return t.id&&(e=jn(e,Kn("id","==",t.id))),t.event_code&&(e=jn(e,Kn("event_code","==",t.event_code))),t.starts_at&&(e=jn(e,Kn("starts_at",">=",t.starts_at))),t.expires_at&&(e=jn(e,Kn("expires_at","<=",t.expires_at))),(await om(e)).docs.map(r=>({id:r.id,...r.data()}))},3,1e3,"Event.filter")},async get(t){return await yt(async()=>{const e=zr(Kt,"events",t),n=await Tw(e);return n.exists()?{id:n.id,...n.data()}:null},3,1e3,"Event.get")},async update(t,e){return await yt(async()=>{const n=zr(Kt,"events",t);await xp(n,{...e,updated_at:ds()})},3,1e3,"Event.update")},async delete(t){return await yt(async()=>{const e=zr(Kt,"events",t);await am(e)},3,1e3,"Event.delete")},async list(){return await this.filter()}},Ir={async create(t){return await yt(async()=>({id:(await Rc(Ys(Kt,"event_profiles"),{...t,created_at:ds(),updated_at:ds()})).id,...t}),3,1e3,"EventProfile.create")},async filter(t={}){return await yt(async()=>{let e=Ys(Kt,"event_profiles");return t.event_id&&(e=jn(e,Kn("event_id","==",t.event_id))),t.session_id&&(e=jn(e,Kn("session_id","==",t.session_id))),t.email&&(e=jn(e,Kn("email","==",t.email))),t.is_visible!==void 0&&(e=jn(e,Kn("is_visible","==",t.is_visible))),(await om(e)).docs.map(r=>({id:r.id,...r.data()}))},3,1e3,"EventProfile.filter")},async get(t){return await yt(async()=>{const e=zr(Kt,"event_profiles",t),n=await Tw(e);return n.exists()?{id:n.id,...n.data()}:null},3,1e3,"EventProfile.get")},async update(t,e){return await yt(async()=>{const n=zr(Kt,"event_profiles",t);await xp(n,{...e,updated_at:ds()})},3,1e3,"EventProfile.update")},async delete(t){return await yt(async()=>{const e=zr(Kt,"event_profiles",t);await am(e)},3,1e3,"EventProfile.delete")},async toggleVisibility(t,e){return await yt(async()=>{const n=zr(Kt,"event_profiles",t);await xp(n,{is_visible:e,updated_at:ds()})},3,1e3,"EventProfile.toggleVisibility")},async list(){return await this.filter()}},qn={async create(t){return await yt(async()=>({id:(await Rc(Ys(Kt,"likes"),{...t,created_at:ds()})).id,...t}),3,1e3,"Like.create")},async filter(t={}){return await yt(async()=>{let e=Ys(Kt,"likes");return t.event_id&&(e=jn(e,Kn("event_id","==",t.event_id))),t.from_profile_id&&(e=jn(e,Kn("from_profile_id","==",t.from_profile_id))),t.to_profile_id&&(e=jn(e,Kn("to_profile_id","==",t.to_profile_id))),t.is_mutual!==void 0&&(e=jn(e,Kn("is_mutual","==",t.is_mutual))),(await om(e)).docs.map(r=>({id:r.id,...r.data()}))},3,1e3,"Like.filter")},async get(t){return await yt(async()=>{const e=zr(Kt,"likes",t),n=await Tw(e);return n.exists()?{id:n.id,...n.data()}:null},3,1e3,"Like.get")},async update(t,e){return await yt(async()=>{const n=zr(Kt,"likes",t);await xp(n,e)},3,1e3,"Like.update")},async delete(t){return await yt(async()=>{const e=zr(Kt,"likes",t);await am(e)},3,1e3,"Like.delete")},async list(){return await this.filter()}},To={async create(t){return await yt(async()=>({id:(await Rc(Ys(Kt,"messages"),{...t,created_at:ds()})).id,...t}),3,1e3,"Message.create")},async filter(t={}){return await yt(async()=>{let e=Ys(Kt,"messages");return t.event_id&&(e=jn(e,Kn("event_id","==",t.event_id))),t.from_profile_id&&(e=jn(e,Kn("from_profile_id","==",t.from_profile_id))),t.to_profile_id&&(e=jn(e,Kn("to_profile_id","==",t.to_profile_id))),e=jn(e,JF("created_at","desc")),(await om(e)).docs.map(r=>({id:r.id,...r.data()}))},3,1e3,"Message.filter")},async delete(t){return await yt(async()=>{const e=zr(Kt,"messages",t);await am(e)},3,1e3,"Message.delete")},async list(){return await this.filter()}},vy={async create(t){return await yt(async()=>({id:(await Rc(Ys(Kt,"contact_shares"),{...t,created_at:ds()})).id,...t}),3,1e3,"ContactShare.create")},async list(){return await this.filter()}},Dw={async create(t){return await yt(async()=>({id:(await Rc(Ys(Kt,"event_feedback"),{...t,created_at:ds()})).id,...t}),3,1e3,"EventFeedback.create")},async list(){return await this.filter()}},Pa={async signUp(t,e){return await yt(async()=>(await EV(xa,t,e)).user,3,1e3,"User.signUp")},async signIn(t,e){return await yt(async()=>(await kV(xa,t,e)).user,3,1e3,"User.signIn")},async signOut(){return await yt(async()=>{await AV(xa)},3,1e3,"User.signOut")},async updateProfile(t){return await yt(async()=>{const e=xa.currentUser;if(!e)throw new Error("No user signed in");await TV(e,t)},3,1e3,"User.updateProfile")},getCurrentUser(){return xa.currentUser},async me(){return xa.currentUser},onAuthStateChanged(t){return NV(xa,t)}},vU=async t=>await yt(async()=>{const e=hU(yU,`uploads/${Date.now()}_${t.name}`),n=await uU(e,t);return{file_url:await dU(n.ref)}},3,1e3,"uploadFile");function Wk(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function oN(...t){return e=>{let n=!1;const r=t.map(s=>{const o=Wk(s,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():Wk(t[s],null)}}}}function ct(...t){return x.useCallback(oN(...t),t)}function wc(t){const e=xU(t),n=x.forwardRef((r,s)=>{const{children:o,...l}=r,c=x.Children.toArray(o),d=c.find(bU);if(d){const h=d.props.children,g=c.map(y=>y===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:y);return f.jsx(e,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,g):null})}return f.jsx(e,{...l,ref:s,children:o})});return n.displayName=`${t}.Slot`,n}var wU=wc("Slot");function xU(t){const e=x.forwardRef((n,r)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=kU(s),c=EU(o,s.props);return s.type!==x.Fragment&&(c.ref=r?oN(r,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var aN=Symbol("radix.slottable");function _U(t){const e=({children:n})=>f.jsx(f.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=aN,e}function bU(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===aN}function EU(t,e){const n={...e};for(const r in e){const s=t[r],o=e[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...c)=>{const d=o(...c);return s(...c),d}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...t,...n}}function kU(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function lN(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=lN(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function cN(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=lN(t))&&(r&&(r+=" "),r+=e);return r}const qk=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Kk=cN,lm=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Kk(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=e,l=Object.keys(s).map(h=>{const g=n==null?void 0:n[h],y=o==null?void 0:o[h];if(g===null)return null;const v=qk(g)||qk(y);return s[h][v]}),c=n&&Object.entries(n).reduce((h,g)=>{let[y,v]=g;return v===void 0||(h[y]=v),h},{}),d=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((h,g)=>{let{class:y,className:v,...b}=g;return Object.entries(b).every(S=>{let[k,T]=S;return Array.isArray(T)?T.includes({...o,...c}[k]):{...o,...c}[k]===T})?[...h,y,v]:h},[]);return Kk(t,l,d,n==null?void 0:n.class,n==null?void 0:n.className)},Mw="-",SU=t=>{const e=IU(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:l=>{const c=l.split(Mw);return c[0]===""&&c.length!==1&&c.shift(),uN(c,e)||TU(l)},getConflictingClassGroupIds:(l,c)=>{const d=n[l]||[];return c&&r[l]?[...d,...r[l]]:d}}},uN=(t,e)=>{var l;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?uN(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const o=t.join(Mw);return(l=e.validators.find(({validator:c})=>c(o)))==null?void 0:l.classGroupId},Gk=/^\[(.+)\]$/,TU=t=>{if(Gk.test(t)){const e=Gk.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},IU=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const s in n)P0(n[s],r,s,e);return r},P0=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const o=s===""?e:Yk(e,s);o.classGroupId=n;return}if(typeof s=="function"){if(CU(s)){P0(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([o,l])=>{P0(l,Yk(e,o),n,r)})})},Yk=(t,e)=>{let n=t;return e.split(Mw).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},CU=t=>t.isThemeGetter,NU=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(o,l)=>{n.set(o,l),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let l=n.get(o);if(l!==void 0)return l;if((l=r.get(o))!==void 0)return s(o,l),l},set(o,l){n.has(o)?n.set(o,l):s(o,l)}}},R0="!",D0=":",AU=D0.length,PU=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=s=>{const o=[];let l=0,c=0,d=0,h;for(let S=0;S<s.length;S++){let k=s[S];if(l===0&&c===0){if(k===D0){o.push(s.slice(d,S)),d=S+AU;continue}if(k==="/"){h=S;continue}}k==="["?l++:k==="]"?l--:k==="("?c++:k===")"&&c--}const g=o.length===0?s:s.substring(d),y=RU(g),v=y!==g,b=h&&h>d?h-d:void 0;return{modifiers:o,hasImportantModifier:v,baseClassName:y,maybePostfixModifierPosition:b}};if(e){const s=e+D0,o=r;r=l=>l.startsWith(s)?o(l.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=o=>n({className:o,parseClassName:s})}return r},RU=t=>t.endsWith(R0)?t.substring(0,t.length-1):t.startsWith(R0)?t.substring(1):t,DU=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let o=[];return r.forEach(l=>{l[0]==="["||e[l]?(s.push(...o.sort(),l),o=[]):o.push(l)}),s.push(...o.sort()),s}},MU=t=>({cache:NU(t.cacheSize),parseClassName:PU(t),sortModifiers:DU(t),...SU(t)}),jU=/\s+/,OU=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:o}=e,l=[],c=t.trim().split(jU);let d="";for(let h=c.length-1;h>=0;h-=1){const g=c[h],{isExternal:y,modifiers:v,hasImportantModifier:b,baseClassName:S,maybePostfixModifierPosition:k}=n(g);if(y){d=g+(d.length>0?" "+d:d);continue}let T=!!k,C=r(T?S.substring(0,k):S);if(!C){if(!T){d=g+(d.length>0?" "+d:d);continue}if(C=r(S),!C){d=g+(d.length>0?" "+d:d);continue}T=!1}const P=o(v).join(":"),R=b?P+R0:P,L=R+C;if(l.includes(L))continue;l.push(L);const F=s(C,T);for(let q=0;q<F.length;++q){const M=F[q];l.push(R+M)}d=g+(d.length>0?" "+d:d)}return d};function LU(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=dN(e))&&(r&&(r+=" "),r+=n);return r}const dN=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=dN(t[r]))&&(n&&(n+=" "),n+=e);return n};function VU(t,...e){let n,r,s,o=l;function l(d){const h=e.reduce((g,y)=>y(g),t());return n=MU(h),r=n.cache.get,s=n.cache.set,o=c,c(d)}function c(d){const h=r(d);if(h)return h;const g=OU(d,n);return s(d,g),g}return function(){return o(LU.apply(null,arguments))}}const ln=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},hN=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,fN=/^\((?:(\w[\w-]*):)?(.+)\)$/i,FU=/^\d+\/\d+$/,UU=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,BU=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,$U=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,zU=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,HU=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ul=t=>FU.test(t),qe=t=>!!t&&!Number.isNaN(Number(t)),go=t=>!!t&&Number.isInteger(Number(t)),wy=t=>t.endsWith("%")&&qe(t.slice(0,-1)),vi=t=>UU.test(t),WU=()=>!0,qU=t=>BU.test(t)&&!$U.test(t),pN=()=>!1,KU=t=>zU.test(t),GU=t=>HU.test(t),YU=t=>!Se(t)&&!Te(t),QU=t=>Dc(t,yN,pN),Se=t=>hN.test(t),_a=t=>Dc(t,vN,qU),xy=t=>Dc(t,tB,qe),Qk=t=>Dc(t,mN,pN),XU=t=>Dc(t,gN,GU),mf=t=>Dc(t,wN,KU),Te=t=>fN.test(t),Tu=t=>Mc(t,vN),JU=t=>Mc(t,nB),Xk=t=>Mc(t,mN),ZU=t=>Mc(t,yN),eB=t=>Mc(t,gN),gf=t=>Mc(t,wN,!0),Dc=(t,e,n)=>{const r=hN.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Mc=(t,e,n=!1)=>{const r=fN.exec(t);return r?r[1]?e(r[1]):n:!1},mN=t=>t==="position"||t==="percentage",gN=t=>t==="image"||t==="url",yN=t=>t==="length"||t==="size"||t==="bg-size",vN=t=>t==="length",tB=t=>t==="number",nB=t=>t==="family-name",wN=t=>t==="shadow",rB=()=>{const t=ln("color"),e=ln("font"),n=ln("text"),r=ln("font-weight"),s=ln("tracking"),o=ln("leading"),l=ln("breakpoint"),c=ln("container"),d=ln("spacing"),h=ln("radius"),g=ln("shadow"),y=ln("inset-shadow"),v=ln("text-shadow"),b=ln("drop-shadow"),S=ln("blur"),k=ln("perspective"),T=ln("aspect"),C=ln("ease"),P=ln("animate"),R=()=>["auto","avoid","all","avoid-page","page","left","right","column"],L=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],F=()=>[...L(),Te,Se],q=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto","contain","none"],N=()=>[Te,Se,d],O=()=>[Ul,"full","auto",...N()],V=()=>[go,"none","subgrid",Te,Se],U=()=>["auto",{span:["full",go,Te,Se]},go,Te,Se],$=()=>[go,"auto",Te,Se],D=()=>["auto","min","max","fr",Te,Se],se=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ie=()=>["start","end","center","stretch","center-safe","end-safe"],ee=()=>["auto",...N()],te=()=>[Ul,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...N()],z=()=>[t,Te,Se],oe=()=>[...L(),Xk,Qk,{position:[Te,Se]}],le=()=>["no-repeat",{repeat:["","x","y","space","round"]}],H=()=>["auto","cover","contain",ZU,QU,{size:[Te,Se]}],X=()=>[wy,Tu,_a],ne=()=>["","none","full",h,Te,Se],fe=()=>["",qe,Tu,_a],Ee=()=>["solid","dashed","dotted","double"],we=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ue=()=>[qe,wy,Xk,Qk],_e=()=>["","none",S,Te,Se],Pe=()=>["none",qe,Te,Se],Ne=()=>["none",qe,Te,Se],$e=()=>[qe,Te,Se],He=()=>[Ul,"full",...N()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[vi],breakpoint:[vi],color:[WU],container:[vi],"drop-shadow":[vi],ease:["in","out","in-out"],font:[YU],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[vi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[vi],shadow:[vi],spacing:["px",qe],text:[vi],"text-shadow":[vi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ul,Se,Te,T]}],container:["container"],columns:[{columns:[qe,Se,Te,c]}],"break-after":[{"break-after":R()}],"break-before":[{"break-before":R()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:F()}],overflow:[{overflow:q()}],"overflow-x":[{"overflow-x":q()}],"overflow-y":[{"overflow-y":q()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:O()}],"inset-x":[{"inset-x":O()}],"inset-y":[{"inset-y":O()}],start:[{start:O()}],end:[{end:O()}],top:[{top:O()}],right:[{right:O()}],bottom:[{bottom:O()}],left:[{left:O()}],visibility:["visible","invisible","collapse"],z:[{z:[go,"auto",Te,Se]}],basis:[{basis:[Ul,"full","auto",c,...N()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[qe,Ul,"auto","initial","none",Se]}],grow:[{grow:["",qe,Te,Se]}],shrink:[{shrink:["",qe,Te,Se]}],order:[{order:[go,"first","last","none",Te,Se]}],"grid-cols":[{"grid-cols":V()}],"col-start-end":[{col:U()}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":V()}],"row-start-end":[{row:U()}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":D()}],"auto-rows":[{"auto-rows":D()}],gap:[{gap:N()}],"gap-x":[{"gap-x":N()}],"gap-y":[{"gap-y":N()}],"justify-content":[{justify:[...se(),"normal"]}],"justify-items":[{"justify-items":[...ie(),"normal"]}],"justify-self":[{"justify-self":["auto",...ie()]}],"align-content":[{content:["normal",...se()]}],"align-items":[{items:[...ie(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ie(),{baseline:["","last"]}]}],"place-content":[{"place-content":se()}],"place-items":[{"place-items":[...ie(),"baseline"]}],"place-self":[{"place-self":["auto",...ie()]}],p:[{p:N()}],px:[{px:N()}],py:[{py:N()}],ps:[{ps:N()}],pe:[{pe:N()}],pt:[{pt:N()}],pr:[{pr:N()}],pb:[{pb:N()}],pl:[{pl:N()}],m:[{m:ee()}],mx:[{mx:ee()}],my:[{my:ee()}],ms:[{ms:ee()}],me:[{me:ee()}],mt:[{mt:ee()}],mr:[{mr:ee()}],mb:[{mb:ee()}],ml:[{ml:ee()}],"space-x":[{"space-x":N()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":N()}],"space-y-reverse":["space-y-reverse"],size:[{size:te()}],w:[{w:[c,"screen",...te()]}],"min-w":[{"min-w":[c,"screen","none",...te()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[l]},...te()]}],h:[{h:["screen","lh",...te()]}],"min-h":[{"min-h":["screen","lh","none",...te()]}],"max-h":[{"max-h":["screen","lh",...te()]}],"font-size":[{text:["base",n,Tu,_a]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Te,xy]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",wy,Se]}],"font-family":[{font:[JU,Se,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Te,Se]}],"line-clamp":[{"line-clamp":[qe,"none",Te,xy]}],leading:[{leading:[o,...N()]}],"list-image":[{"list-image":["none",Te,Se]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Te,Se]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:z()}],"text-color":[{text:z()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ee(),"wavy"]}],"text-decoration-thickness":[{decoration:[qe,"from-font","auto",Te,_a]}],"text-decoration-color":[{decoration:z()}],"underline-offset":[{"underline-offset":[qe,"auto",Te,Se]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Te,Se]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Te,Se]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:oe()}],"bg-repeat":[{bg:le()}],"bg-size":[{bg:H()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},go,Te,Se],radial:["",Te,Se],conic:[go,Te,Se]},eB,XU]}],"bg-color":[{bg:z()}],"gradient-from-pos":[{from:X()}],"gradient-via-pos":[{via:X()}],"gradient-to-pos":[{to:X()}],"gradient-from":[{from:z()}],"gradient-via":[{via:z()}],"gradient-to":[{to:z()}],rounded:[{rounded:ne()}],"rounded-s":[{"rounded-s":ne()}],"rounded-e":[{"rounded-e":ne()}],"rounded-t":[{"rounded-t":ne()}],"rounded-r":[{"rounded-r":ne()}],"rounded-b":[{"rounded-b":ne()}],"rounded-l":[{"rounded-l":ne()}],"rounded-ss":[{"rounded-ss":ne()}],"rounded-se":[{"rounded-se":ne()}],"rounded-ee":[{"rounded-ee":ne()}],"rounded-es":[{"rounded-es":ne()}],"rounded-tl":[{"rounded-tl":ne()}],"rounded-tr":[{"rounded-tr":ne()}],"rounded-br":[{"rounded-br":ne()}],"rounded-bl":[{"rounded-bl":ne()}],"border-w":[{border:fe()}],"border-w-x":[{"border-x":fe()}],"border-w-y":[{"border-y":fe()}],"border-w-s":[{"border-s":fe()}],"border-w-e":[{"border-e":fe()}],"border-w-t":[{"border-t":fe()}],"border-w-r":[{"border-r":fe()}],"border-w-b":[{"border-b":fe()}],"border-w-l":[{"border-l":fe()}],"divide-x":[{"divide-x":fe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":fe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ee(),"hidden","none"]}],"divide-style":[{divide:[...Ee(),"hidden","none"]}],"border-color":[{border:z()}],"border-color-x":[{"border-x":z()}],"border-color-y":[{"border-y":z()}],"border-color-s":[{"border-s":z()}],"border-color-e":[{"border-e":z()}],"border-color-t":[{"border-t":z()}],"border-color-r":[{"border-r":z()}],"border-color-b":[{"border-b":z()}],"border-color-l":[{"border-l":z()}],"divide-color":[{divide:z()}],"outline-style":[{outline:[...Ee(),"none","hidden"]}],"outline-offset":[{"outline-offset":[qe,Te,Se]}],"outline-w":[{outline:["",qe,Tu,_a]}],"outline-color":[{outline:z()}],shadow:[{shadow:["","none",g,gf,mf]}],"shadow-color":[{shadow:z()}],"inset-shadow":[{"inset-shadow":["none",y,gf,mf]}],"inset-shadow-color":[{"inset-shadow":z()}],"ring-w":[{ring:fe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:z()}],"ring-offset-w":[{"ring-offset":[qe,_a]}],"ring-offset-color":[{"ring-offset":z()}],"inset-ring-w":[{"inset-ring":fe()}],"inset-ring-color":[{"inset-ring":z()}],"text-shadow":[{"text-shadow":["none",v,gf,mf]}],"text-shadow-color":[{"text-shadow":z()}],opacity:[{opacity:[qe,Te,Se]}],"mix-blend":[{"mix-blend":[...we(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":we()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[qe]}],"mask-image-linear-from-pos":[{"mask-linear-from":ue()}],"mask-image-linear-to-pos":[{"mask-linear-to":ue()}],"mask-image-linear-from-color":[{"mask-linear-from":z()}],"mask-image-linear-to-color":[{"mask-linear-to":z()}],"mask-image-t-from-pos":[{"mask-t-from":ue()}],"mask-image-t-to-pos":[{"mask-t-to":ue()}],"mask-image-t-from-color":[{"mask-t-from":z()}],"mask-image-t-to-color":[{"mask-t-to":z()}],"mask-image-r-from-pos":[{"mask-r-from":ue()}],"mask-image-r-to-pos":[{"mask-r-to":ue()}],"mask-image-r-from-color":[{"mask-r-from":z()}],"mask-image-r-to-color":[{"mask-r-to":z()}],"mask-image-b-from-pos":[{"mask-b-from":ue()}],"mask-image-b-to-pos":[{"mask-b-to":ue()}],"mask-image-b-from-color":[{"mask-b-from":z()}],"mask-image-b-to-color":[{"mask-b-to":z()}],"mask-image-l-from-pos":[{"mask-l-from":ue()}],"mask-image-l-to-pos":[{"mask-l-to":ue()}],"mask-image-l-from-color":[{"mask-l-from":z()}],"mask-image-l-to-color":[{"mask-l-to":z()}],"mask-image-x-from-pos":[{"mask-x-from":ue()}],"mask-image-x-to-pos":[{"mask-x-to":ue()}],"mask-image-x-from-color":[{"mask-x-from":z()}],"mask-image-x-to-color":[{"mask-x-to":z()}],"mask-image-y-from-pos":[{"mask-y-from":ue()}],"mask-image-y-to-pos":[{"mask-y-to":ue()}],"mask-image-y-from-color":[{"mask-y-from":z()}],"mask-image-y-to-color":[{"mask-y-to":z()}],"mask-image-radial":[{"mask-radial":[Te,Se]}],"mask-image-radial-from-pos":[{"mask-radial-from":ue()}],"mask-image-radial-to-pos":[{"mask-radial-to":ue()}],"mask-image-radial-from-color":[{"mask-radial-from":z()}],"mask-image-radial-to-color":[{"mask-radial-to":z()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":L()}],"mask-image-conic-pos":[{"mask-conic":[qe]}],"mask-image-conic-from-pos":[{"mask-conic-from":ue()}],"mask-image-conic-to-pos":[{"mask-conic-to":ue()}],"mask-image-conic-from-color":[{"mask-conic-from":z()}],"mask-image-conic-to-color":[{"mask-conic-to":z()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:oe()}],"mask-repeat":[{mask:le()}],"mask-size":[{mask:H()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Te,Se]}],filter:[{filter:["","none",Te,Se]}],blur:[{blur:_e()}],brightness:[{brightness:[qe,Te,Se]}],contrast:[{contrast:[qe,Te,Se]}],"drop-shadow":[{"drop-shadow":["","none",b,gf,mf]}],"drop-shadow-color":[{"drop-shadow":z()}],grayscale:[{grayscale:["",qe,Te,Se]}],"hue-rotate":[{"hue-rotate":[qe,Te,Se]}],invert:[{invert:["",qe,Te,Se]}],saturate:[{saturate:[qe,Te,Se]}],sepia:[{sepia:["",qe,Te,Se]}],"backdrop-filter":[{"backdrop-filter":["","none",Te,Se]}],"backdrop-blur":[{"backdrop-blur":_e()}],"backdrop-brightness":[{"backdrop-brightness":[qe,Te,Se]}],"backdrop-contrast":[{"backdrop-contrast":[qe,Te,Se]}],"backdrop-grayscale":[{"backdrop-grayscale":["",qe,Te,Se]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[qe,Te,Se]}],"backdrop-invert":[{"backdrop-invert":["",qe,Te,Se]}],"backdrop-opacity":[{"backdrop-opacity":[qe,Te,Se]}],"backdrop-saturate":[{"backdrop-saturate":[qe,Te,Se]}],"backdrop-sepia":[{"backdrop-sepia":["",qe,Te,Se]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":N()}],"border-spacing-x":[{"border-spacing-x":N()}],"border-spacing-y":[{"border-spacing-y":N()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Te,Se]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[qe,"initial",Te,Se]}],ease:[{ease:["linear","initial",C,Te,Se]}],delay:[{delay:[qe,Te,Se]}],animate:[{animate:["none",P,Te,Se]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[k,Te,Se]}],"perspective-origin":[{"perspective-origin":F()}],rotate:[{rotate:Pe()}],"rotate-x":[{"rotate-x":Pe()}],"rotate-y":[{"rotate-y":Pe()}],"rotate-z":[{"rotate-z":Pe()}],scale:[{scale:Ne()}],"scale-x":[{"scale-x":Ne()}],"scale-y":[{"scale-y":Ne()}],"scale-z":[{"scale-z":Ne()}],"scale-3d":["scale-3d"],skew:[{skew:$e()}],"skew-x":[{"skew-x":$e()}],"skew-y":[{"skew-y":$e()}],transform:[{transform:[Te,Se,"","none","gpu","cpu"]}],"transform-origin":[{origin:F()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:He()}],"translate-x":[{"translate-x":He()}],"translate-y":[{"translate-y":He()}],"translate-z":[{"translate-z":He()}],"translate-none":["translate-none"],accent:[{accent:z()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:z()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Te,Se]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Te,Se]}],fill:[{fill:["none",...z()]}],"stroke-w":[{stroke:[qe,Tu,_a,xy]}],stroke:[{stroke:["none",...z()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},sB=VU(rB);function Fe(...t){return sB(cN(t))}const jw=lm("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Re=x.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},o)=>{const l=r?wU:"button";return f.jsx(l,{className:Fe(jw({variant:e,size:n,className:t})),ref:o,...s})});Re.displayName="Button";const Ow=x.createContext({});function Lw(t){const e=x.useRef(null);return e.current===null&&(e.current=t()),e.current}const Vw=typeof window<"u",xN=Vw?x.useLayoutEffect:x.useEffect,cm=x.createContext(null);function Fw(t,e){t.indexOf(e)===-1&&t.push(e)}function Uw(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Di=(t,e,n)=>n>e?e:n<t?t:n;let Bw=()=>{};const Mi={},_N=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function bN(t){return typeof t=="object"&&t!==null}const EN=t=>/^0[^.\s]+$/u.test(t);function $w(t){let e;return()=>(e===void 0&&(e=t()),e)}const Hr=t=>t,iB=(t,e)=>n=>e(t(n)),Vd=(...t)=>t.reduce(iB),ud=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class zw{constructor(){this.subscriptions=[]}add(e){return Fw(this.subscriptions,e),()=>Uw(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let o=0;o<s;o++){const l=this.subscriptions[o];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const zs=t=>t*1e3,Hs=t=>t/1e3;function kN(t,e){return e?t*(1e3/e):0}const SN=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,oB=1e-7,aB=12;function lB(t,e,n,r,s){let o,l,c=0;do l=e+(n-e)/2,o=SN(l,r,s)-t,o>0?n=l:e=l;while(Math.abs(o)>oB&&++c<aB);return l}function Fd(t,e,n,r){if(t===e&&n===r)return Hr;const s=o=>lB(o,0,1,t,n);return o=>o===0||o===1?o:SN(s(o),e,r)}const TN=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,IN=t=>e=>1-t(1-e),CN=Fd(.33,1.53,.69,.99),Hw=IN(CN),NN=TN(Hw),AN=t=>(t*=2)<1?.5*Hw(t):.5*(2-Math.pow(2,-10*(t-1))),Ww=t=>1-Math.sin(Math.acos(t)),PN=IN(Ww),RN=TN(Ww),cB=Fd(.42,0,1,1),uB=Fd(0,0,.58,1),DN=Fd(.42,0,.58,1),dB=t=>Array.isArray(t)&&typeof t[0]!="number",MN=t=>Array.isArray(t)&&typeof t[0]=="number",hB={linear:Hr,easeIn:cB,easeInOut:DN,easeOut:uB,circIn:Ww,circInOut:RN,circOut:PN,backIn:Hw,backInOut:NN,backOut:CN,anticipate:AN},fB=t=>typeof t=="string",Jk=t=>{if(MN(t)){Bw(t.length===4);const[e,n,r,s]=t;return Fd(e,n,r,s)}else if(fB(t))return hB[t];return t},yf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function pB(t,e){let n=new Set,r=new Set,s=!1,o=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function d(g){l.has(g)&&(h.schedule(g),t()),g(c)}const h={schedule:(g,y=!1,v=!1)=>{const S=v&&s?n:r;return y&&l.add(g),S.has(g)||S.add(g),g},cancel:g=>{r.delete(g),l.delete(g)},process:g=>{if(c=g,s){o=!0;return}s=!0,[n,r]=[r,n],n.forEach(d),n.clear(),s=!1,o&&(o=!1,h.process(g))}};return h}const mB=40;function jN(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,l=yf.reduce((R,L)=>(R[L]=pB(o),R),{}),{setup:c,read:d,resolveKeyframes:h,preUpdate:g,update:y,preRender:v,render:b,postRender:S}=l,k=()=>{const R=Mi.useManualTiming?s.timestamp:performance.now();n=!1,Mi.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(R-s.timestamp,mB),1)),s.timestamp=R,s.isProcessing=!0,c.process(s),d.process(s),h.process(s),g.process(s),y.process(s),v.process(s),b.process(s),S.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(k))},T=()=>{n=!0,r=!0,s.isProcessing||t(k)};return{schedule:yf.reduce((R,L)=>{const F=l[L];return R[L]=(q,M=!1,N=!1)=>(n||T(),F.schedule(q,M,N)),R},{}),cancel:R=>{for(let L=0;L<yf.length;L++)l[yf[L]].cancel(R)},state:s,steps:l}}const{schedule:It,cancel:Vo,state:En,steps:_y}=jN(typeof requestAnimationFrame<"u"?requestAnimationFrame:Hr,!0);let Hf;function gB(){Hf=void 0}const fr={now:()=>(Hf===void 0&&fr.set(En.isProcessing||Mi.useManualTiming?En.timestamp:performance.now()),Hf),set:t=>{Hf=t,queueMicrotask(gB)}},ON=t=>e=>typeof e=="string"&&e.startsWith(t),qw=ON("--"),yB=ON("var(--"),Kw=t=>yB(t)?vB.test(t.split("/*")[0].trim()):!1,vB=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,jc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},dd={...jc,transform:t=>Di(0,1,t)},vf={...jc,default:1},qu=t=>Math.round(t*1e5)/1e5,Gw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function wB(t){return t==null}const xB=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Yw=(t,e)=>n=>!!(typeof n=="string"&&xB.test(n)&&n.startsWith(t)||e&&!wB(n)&&Object.prototype.hasOwnProperty.call(n,e)),LN=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,o,l,c]=r.match(Gw);return{[t]:parseFloat(s),[e]:parseFloat(o),[n]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},_B=t=>Di(0,255,t),by={...jc,transform:t=>Math.round(_B(t))},Ia={test:Yw("rgb","red"),parse:LN("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+by.transform(t)+", "+by.transform(e)+", "+by.transform(n)+", "+qu(dd.transform(r))+")"};function bB(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const M0={test:Yw("#"),parse:bB,transform:Ia.transform},Ud=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),vo=Ud("deg"),Ws=Ud("%"),Ve=Ud("px"),EB=Ud("vh"),kB=Ud("vw"),Zk={...Ws,parse:t=>Ws.parse(t)/100,transform:t=>Ws.transform(t*100)},Ql={test:Yw("hsl","hue"),parse:LN("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Ws.transform(qu(e))+", "+Ws.transform(qu(n))+", "+qu(dd.transform(r))+")"},Xt={test:t=>Ia.test(t)||M0.test(t)||Ql.test(t),parse:t=>Ia.test(t)?Ia.parse(t):Ql.test(t)?Ql.parse(t):M0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ia.transform(t):Ql.transform(t),getAnimatableNone:t=>{const e=Xt.parse(t);return e.alpha=0,Xt.transform(e)}},SB=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function TB(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Gw))==null?void 0:e.length)||0)+(((n=t.match(SB))==null?void 0:n.length)||0)>0}const VN="number",FN="color",IB="var",CB="var(",eS="${}",NB=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function hd(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let o=0;const c=e.replace(NB,d=>(Xt.test(d)?(r.color.push(o),s.push(FN),n.push(Xt.parse(d))):d.startsWith(CB)?(r.var.push(o),s.push(IB),n.push(d)):(r.number.push(o),s.push(VN),n.push(parseFloat(d))),++o,eS)).split(eS);return{values:n,split:c,indexes:r,types:s}}function UN(t){return hd(t).values}function BN(t){const{split:e,types:n}=hd(t),r=e.length;return s=>{let o="";for(let l=0;l<r;l++)if(o+=e[l],s[l]!==void 0){const c=n[l];c===VN?o+=qu(s[l]):c===FN?o+=Xt.transform(s[l]):o+=s[l]}return o}}const AB=t=>typeof t=="number"?0:Xt.test(t)?Xt.getAnimatableNone(t):t;function PB(t){const e=UN(t);return BN(t)(e.map(AB))}const Fo={test:TB,parse:UN,createTransformer:BN,getAnimatableNone:PB};function Ey(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function RB({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,o=0,l=0;if(!e)s=o=l=n;else{const c=n<.5?n*(1+e):n+e-n*e,d=2*n-c;s=Ey(d,c,t+1/3),o=Ey(d,c,t),l=Ey(d,c,t-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:r}}function _p(t,e){return n=>n>0?e:t}const Rt=(t,e,n)=>t+(e-t)*n,ky=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},DB=[M0,Ia,Ql],MB=t=>DB.find(e=>e.test(t));function tS(t){const e=MB(t);if(!e)return!1;let n=e.parse(t);return e===Ql&&(n=RB(n)),n}const nS=(t,e)=>{const n=tS(t),r=tS(e);if(!n||!r)return _p(t,e);const s={...n};return o=>(s.red=ky(n.red,r.red,o),s.green=ky(n.green,r.green,o),s.blue=ky(n.blue,r.blue,o),s.alpha=Rt(n.alpha,r.alpha,o),Ia.transform(s))},j0=new Set(["none","hidden"]);function jB(t,e){return j0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function OB(t,e){return n=>Rt(t,e,n)}function Qw(t){return typeof t=="number"?OB:typeof t=="string"?Kw(t)?_p:Xt.test(t)?nS:FB:Array.isArray(t)?$N:typeof t=="object"?Xt.test(t)?nS:LB:_p}function $N(t,e){const n=[...t],r=n.length,s=t.map((o,l)=>Qw(o)(o,e[l]));return o=>{for(let l=0;l<r;l++)n[l]=s[l](o);return n}}function LB(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=Qw(t[s])(t[s],e[s]));return s=>{for(const o in r)n[o]=r[o](s);return n}}function VB(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],l=t.indexes[o][r[o]],c=t.values[l]??0;n[s]=c,r[o]++}return n}const FB=(t,e)=>{const n=Fo.createTransformer(e),r=hd(t),s=hd(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?j0.has(t)&&!s.values.length||j0.has(e)&&!r.values.length?jB(t,e):Vd($N(VB(r,s),s.values),n):_p(t,e)};function zN(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Rt(t,e,n):Qw(t)(t,e)}const UB=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>It.update(e,n),stop:()=>Vo(e),now:()=>En.isProcessing?En.timestamp:fr.now()}},HN=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let o=0;o<s;o++)r+=Math.round(t(o/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},bp=2e4;function Xw(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<bp;)e+=n,r=t.next(e);return e>=bp?1/0:e}function BB(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(Xw(r),bp);return{type:"keyframes",ease:o=>r.next(s*o).value/e,duration:Hs(s)}}const $B=5;function WN(t,e,n){const r=Math.max(e-$B,0);return kN(n-t(r),e-r)}const Vt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Sy=.001;function zB({duration:t=Vt.duration,bounce:e=Vt.bounce,velocity:n=Vt.velocity,mass:r=Vt.mass}){let s,o,l=1-e;l=Di(Vt.minDamping,Vt.maxDamping,l),t=Di(Vt.minDuration,Vt.maxDuration,Hs(t)),l<1?(s=h=>{const g=h*l,y=g*t,v=g-n,b=O0(h,l),S=Math.exp(-y);return Sy-v/b*S},o=h=>{const y=h*l*t,v=y*n+n,b=Math.pow(l,2)*Math.pow(h,2)*t,S=Math.exp(-y),k=O0(Math.pow(h,2),l);return(-s(h)+Sy>0?-1:1)*((v-b)*S)/k}):(s=h=>{const g=Math.exp(-h*t),y=(h-n)*t+1;return-Sy+g*y},o=h=>{const g=Math.exp(-h*t),y=(n-h)*(t*t);return g*y});const c=5/t,d=WB(s,o,c);if(t=zs(t),isNaN(d))return{stiffness:Vt.stiffness,damping:Vt.damping,duration:t};{const h=Math.pow(d,2)*r;return{stiffness:h,damping:l*2*Math.sqrt(r*h),duration:t}}}const HB=12;function WB(t,e,n){let r=n;for(let s=1;s<HB;s++)r=r-t(r)/e(r);return r}function O0(t,e){return t*Math.sqrt(1-e*e)}const qB=["duration","bounce"],KB=["stiffness","damping","mass"];function rS(t,e){return e.some(n=>t[n]!==void 0)}function GB(t){let e={velocity:Vt.velocity,stiffness:Vt.stiffness,damping:Vt.damping,mass:Vt.mass,isResolvedFromDuration:!1,...t};if(!rS(t,KB)&&rS(t,qB))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,o=2*Di(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Vt.mass,stiffness:s,damping:o}}else{const n=zB(t);e={...e,...n,mass:Vt.mass},e.isResolvedFromDuration=!0}return e}function Ep(t=Vt.visualDuration,e=Vt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const o=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],c={done:!1,value:o},{stiffness:d,damping:h,mass:g,duration:y,velocity:v,isResolvedFromDuration:b}=GB({...n,velocity:-Hs(n.velocity||0)}),S=v||0,k=h/(2*Math.sqrt(d*g)),T=l-o,C=Hs(Math.sqrt(d/g)),P=Math.abs(T)<5;r||(r=P?Vt.restSpeed.granular:Vt.restSpeed.default),s||(s=P?Vt.restDelta.granular:Vt.restDelta.default);let R;if(k<1){const F=O0(C,k);R=q=>{const M=Math.exp(-k*C*q);return l-M*((S+k*C*T)/F*Math.sin(F*q)+T*Math.cos(F*q))}}else if(k===1)R=F=>l-Math.exp(-C*F)*(T+(S+C*T)*F);else{const F=C*Math.sqrt(k*k-1);R=q=>{const M=Math.exp(-k*C*q),N=Math.min(F*q,300);return l-M*((S+k*C*T)*Math.sinh(N)+F*T*Math.cosh(N))/F}}const L={calculatedDuration:b&&y||null,next:F=>{const q=R(F);if(b)c.done=F>=y;else{let M=F===0?S:0;k<1&&(M=F===0?zs(S):WN(R,F,q));const N=Math.abs(M)<=r,O=Math.abs(l-q)<=s;c.done=N&&O}return c.value=c.done?l:q,c},toString:()=>{const F=Math.min(Xw(L),bp),q=HN(M=>L.next(F*M).value,F,30);return F+"ms "+q},toTransition:()=>{}};return L}Ep.applyToOptions=t=>{const e=BB(t,100,Ep);return t.ease=e.ease,t.duration=zs(e.duration),t.type="keyframes",t};function L0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:l,min:c,max:d,restDelta:h=.5,restSpeed:g}){const y=t[0],v={done:!1,value:y},b=N=>c!==void 0&&N<c||d!==void 0&&N>d,S=N=>c===void 0?d:d===void 0||Math.abs(c-N)<Math.abs(d-N)?c:d;let k=n*e;const T=y+k,C=l===void 0?T:l(T);C!==T&&(k=C-y);const P=N=>-k*Math.exp(-N/r),R=N=>C+P(N),L=N=>{const O=P(N),V=R(N);v.done=Math.abs(O)<=h,v.value=v.done?C:V};let F,q;const M=N=>{b(v.value)&&(F=N,q=Ep({keyframes:[v.value,S(v.value)],velocity:WN(R,N,v.value),damping:s,stiffness:o,restDelta:h,restSpeed:g}))};return M(0),{calculatedDuration:null,next:N=>{let O=!1;return!q&&F===void 0&&(O=!0,L(N),M(N)),F!==void 0&&N>=F?q.next(N-F):(!O&&L(N),v)}}}function YB(t,e,n){const r=[],s=n||Mi.mix||zN,o=t.length-1;for(let l=0;l<o;l++){let c=s(t[l],t[l+1]);if(e){const d=Array.isArray(e)?e[l]||Hr:e;c=Vd(d,c)}r.push(c)}return r}function QB(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const o=t.length;if(Bw(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=YB(e,r,s),d=c.length,h=g=>{if(l&&g<t[0])return e[0];let y=0;if(d>1)for(;y<t.length-2&&!(g<t[y+1]);y++);const v=ud(t[y],t[y+1],g);return c[y](v)};return n?g=>h(Di(t[0],t[o-1],g)):h}function XB(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=ud(0,e,r);t.push(Rt(n,1,s))}}function JB(t){const e=[0];return XB(e,t.length-1),e}function ZB(t,e){return t.map(n=>n*e)}function e8(t,e){return t.map(()=>e||DN).splice(0,t.length-1)}function Ku({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=dB(r)?r.map(Jk):Jk(r),o={done:!1,value:e[0]},l=ZB(n&&n.length===e.length?n:JB(e),t),c=QB(l,e,{ease:Array.isArray(s)?s:e8(e,s)});return{calculatedDuration:t,next:d=>(o.value=c(d),o.done=d>=t,o)}}const t8=t=>t!==null;function Jw(t,{repeat:e,repeatType:n="loop"},r,s=1){const o=t.filter(t8),c=s<0||e&&n!=="loop"&&e%2===1?0:o.length-1;return!c||r===void 0?o[c]:r}const n8={decay:L0,inertia:L0,tween:Ku,keyframes:Ku,spring:Ep};function qN(t){typeof t.type=="string"&&(t.type=n8[t.type])}class Zw{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const r8=t=>t/100;class ex extends Zw{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==fr.now()&&this.tick(fr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;qN(e);const{type:n=Ku,repeat:r=0,repeatDelay:s=0,repeatType:o,velocity:l=0}=e;let{keyframes:c}=e;const d=n||Ku;d!==Ku&&typeof c[0]!="number"&&(this.mixKeyframes=Vd(r8,zN(c[0],c[1])),c=[0,100]);const h=d({...e,keyframes:c});o==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...c].reverse(),velocity:-l})),h.calculatedDuration===null&&(h.calculatedDuration=Xw(h));const{calculatedDuration:g}=h;this.calculatedDuration=g,this.resolvedDuration=g+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=h}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:o,mirroredGenerator:l,resolvedDuration:c,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:h=0,keyframes:g,repeat:y,repeatType:v,repeatDelay:b,type:S,onUpdate:k,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const C=this.currentTime-h*(this.playbackSpeed>=0?1:-1),P=this.playbackSpeed>=0?C<0:C>s;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let R=this.currentTime,L=r;if(y){const N=Math.min(this.currentTime,s)/c;let O=Math.floor(N),V=N%1;!V&&N>=1&&(V=1),V===1&&O--,O=Math.min(O,y+1),!!(O%2)&&(v==="reverse"?(V=1-V,b&&(V-=b/c)):v==="mirror"&&(L=l)),R=Di(0,1,V)*c}const F=P?{done:!1,value:g[0]}:L.next(R);o&&(F.value=o(F.value));let{done:q}=F;!P&&d!==null&&(q=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&q);return M&&S!==L0&&(F.value=Jw(g,this.options,T,this.speed)),k&&k(F.value),M&&this.finish(),F}then(e,n){return this.finished.then(e,n)}get duration(){return Hs(this.calculatedDuration)}get time(){return Hs(this.currentTime)}set time(e){var n;e=zs(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(fr.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Hs(this.currentTime))}play(){var s,o;if(this.isStopped)return;const{driver:e=UB,startTime:n}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),(o=(s=this.options).onPlay)==null||o.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(fr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function s8(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ca=t=>t*180/Math.PI,V0=t=>{const e=Ca(Math.atan2(t[1],t[0]));return F0(e)},i8={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:V0,rotateZ:V0,skewX:t=>Ca(Math.atan(t[1])),skewY:t=>Ca(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},F0=t=>(t=t%360,t<0&&(t+=360),t),sS=V0,iS=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),oS=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),o8={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:iS,scaleY:oS,scale:t=>(iS(t)+oS(t))/2,rotateX:t=>F0(Ca(Math.atan2(t[6],t[5]))),rotateY:t=>F0(Ca(Math.atan2(-t[2],t[0]))),rotateZ:sS,rotate:sS,skewX:t=>Ca(Math.atan(t[4])),skewY:t=>Ca(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function U0(t){return t.includes("scale")?1:0}function B0(t,e){if(!t||t==="none")return U0(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=o8,s=n;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=i8,s=c}if(!s)return U0(e);const o=r[e],l=s[1].split(",").map(l8);return typeof o=="function"?o(l):l[o]}const a8=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return B0(n,e)};function l8(t){return parseFloat(t.trim())}const Oc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Lc=new Set(Oc),aS=t=>t===jc||t===Ve,c8=new Set(["x","y","z"]),u8=Oc.filter(t=>!c8.has(t));function d8(t){const e=[];return u8.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Ra={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>B0(e,"x"),y:(t,{transform:e})=>B0(e,"y")};Ra.translateX=Ra.x;Ra.translateY=Ra.y;const Da=new Set;let $0=!1,z0=!1,H0=!1;function KN(){if(z0){const t=Array.from(Da).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=d8(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([o,l])=>{var c;(c=r.getValue(o))==null||c.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}z0=!1,$0=!1,Da.forEach(t=>t.complete(H0)),Da.clear()}function GN(){Da.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(z0=!0)})}function h8(){H0=!0,GN(),KN(),H0=!1}class tx{constructor(e,n,r,s,o,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=o,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(Da.add(this),$0||($0=!0,It.read(GN),It.resolveKeyframes(KN))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const o=s==null?void 0:s.get(),l=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const c=r.readValue(n,l);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=l),s&&o===void 0&&s.set(e[0])}s8(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Da.delete(this)}cancel(){this.state==="scheduled"&&(Da.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const f8=t=>t.startsWith("--");function p8(t,e,n){f8(e)?t.style.setProperty(e,n):t.style[e]=n}const m8=$w(()=>window.ScrollTimeline!==void 0),g8={};function y8(t,e){const n=$w(t);return()=>g8[e]??n()}const YN=y8(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ou=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,lS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ou([0,.65,.55,1]),circOut:Ou([.55,0,1,.45]),backIn:Ou([.31,.01,.66,-.59]),backOut:Ou([.33,1.53,.69,.99])};function QN(t,e){if(t)return typeof t=="function"?YN()?HN(t,e):"ease-out":MN(t)?Ou(t):Array.isArray(t)?t.map(n=>QN(n,e)||lS.easeOut):lS[t]}function v8(t,e,n,{delay:r=0,duration:s=300,repeat:o=0,repeatType:l="loop",ease:c="easeOut",times:d}={},h=void 0){const g={[e]:n};d&&(g.offset=d);const y=QN(c,s);Array.isArray(y)&&(g.easing=y);const v={delay:r,duration:s,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"};return h&&(v.pseudoElement=h),t.animate(g,v)}function XN(t){return typeof t=="function"&&"applyToOptions"in t}function w8({type:t,...e}){return XN(t)&&YN()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class x8 extends Zw{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:o,allowFlatten:l=!1,finalKeyframe:c,onComplete:d}=e;this.isPseudoElement=!!o,this.allowFlatten=l,this.options=e,Bw(typeof e.type!="string");const h=w8(e);this.animation=v8(n,r,s,h,o),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const g=Jw(s,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(g):p8(n,r,g),this.animation.cancel()}d==null||d(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Hs(Number(e))}get time(){return Hs(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=zs(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&m8()?(this.animation.timeline=e,Hr):n(this)}}const JN={anticipate:AN,backInOut:NN,circInOut:RN};function _8(t){return t in JN}function b8(t){typeof t.ease=="string"&&_8(t.ease)&&(t.ease=JN[t.ease])}const cS=10;class E8 extends x8{constructor(e){b8(e),qN(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:o,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const c=new ex({...l,autoplay:!1}),d=zs(this.finishedTime??this.time);n.setWithVelocity(c.sample(d-cS).value,c.sample(d).value,cS),c.stop()}}const uS=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Fo.test(t)||t==="0")&&!t.startsWith("url("));function k8(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function S8(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],l=uS(s,e),c=uS(o,e);return!l||!c?!1:k8(t)||(n==="spring"||XN(n))&&r}function W0(t){t.duration=0,t.type}const T8=new Set(["opacity","clipPath","filter","transform"]),I8=$w(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function C8(t){var g;const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:o,type:l}=t;if(!(((g=e==null?void 0:e.owner)==null?void 0:g.current)instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:h}=e.owner.getProps();return I8()&&n&&T8.has(n)&&(n!=="transform"||!h)&&!d&&!r&&s!=="mirror"&&o!==0&&l!=="inertia"}const N8=40;class A8 extends Zw{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:l="loop",keyframes:c,name:d,motionValue:h,element:g,...y}){var S;super(),this.stop=()=>{var k,T;this._animation&&(this._animation.stop(),(k=this.stopTimeline)==null||k.call(this)),(T=this.keyframeResolver)==null||T.cancel()},this.createdAt=fr.now();const v={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:o,repeatType:l,name:d,motionValue:h,element:g,...y},b=(g==null?void 0:g.KeyframeResolver)||tx;this.keyframeResolver=new b(c,(k,T,C)=>this.onKeyframesResolved(k,T,v,!C),d,h,g),(S=this.keyframeResolver)==null||S.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:o,type:l,velocity:c,delay:d,isHandoff:h,onUpdate:g}=r;this.resolvedAt=fr.now(),S8(e,o,l,c)||((Mi.instantAnimations||!d)&&(g==null||g(Jw(e,r,n))),e[0]=e[e.length-1],W0(r),r.repeat=0);const v={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>N8?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},b=!h&&C8(v)?new E8({...v,element:v.motionValue.owner.current}):new ex(v);b.finished.then(()=>this.notifyFinished()).catch(Hr),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),h8()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const P8=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function R8(t){const e=P8.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function ZN(t,e,n=1){const[r,s]=R8(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const l=o.trim();return _N(l)?parseFloat(l):l}return Kw(s)?ZN(s,e,n+1):s}function nx(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const eA=new Set(["width","height","top","left","right","bottom",...Oc]),D8={test:t=>t==="auto",parse:t=>t},tA=t=>e=>e.test(t),nA=[jc,Ve,Ws,vo,kB,EB,D8],dS=t=>nA.find(tA(t));function M8(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||EN(t):!0}const j8=new Set(["brightness","contrast","saturate","opacity"]);function O8(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Gw)||[];if(!r)return t;const s=n.replace(r,"");let o=j8.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+s+")"}const L8=/\b([a-z-]*)\(.*?\)/gu,q0={...Fo,getAnimatableNone:t=>{const e=t.match(L8);return e?e.map(O8).join(" "):t}},hS={...jc,transform:Math.round},V8={rotate:vo,rotateX:vo,rotateY:vo,rotateZ:vo,scale:vf,scaleX:vf,scaleY:vf,scaleZ:vf,skew:vo,skewX:vo,skewY:vo,distance:Ve,translateX:Ve,translateY:Ve,translateZ:Ve,x:Ve,y:Ve,z:Ve,perspective:Ve,transformPerspective:Ve,opacity:dd,originX:Zk,originY:Zk,originZ:Ve},rx={borderWidth:Ve,borderTopWidth:Ve,borderRightWidth:Ve,borderBottomWidth:Ve,borderLeftWidth:Ve,borderRadius:Ve,radius:Ve,borderTopLeftRadius:Ve,borderTopRightRadius:Ve,borderBottomRightRadius:Ve,borderBottomLeftRadius:Ve,width:Ve,maxWidth:Ve,height:Ve,maxHeight:Ve,top:Ve,right:Ve,bottom:Ve,left:Ve,padding:Ve,paddingTop:Ve,paddingRight:Ve,paddingBottom:Ve,paddingLeft:Ve,margin:Ve,marginTop:Ve,marginRight:Ve,marginBottom:Ve,marginLeft:Ve,backgroundPositionX:Ve,backgroundPositionY:Ve,...V8,zIndex:hS,fillOpacity:dd,strokeOpacity:dd,numOctaves:hS},F8={...rx,color:Xt,backgroundColor:Xt,outlineColor:Xt,fill:Xt,stroke:Xt,borderColor:Xt,borderTopColor:Xt,borderRightColor:Xt,borderBottomColor:Xt,borderLeftColor:Xt,filter:q0,WebkitFilter:q0},rA=t=>F8[t];function sA(t,e){let n=rA(t);return n!==q0&&(n=Fo),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const U8=new Set(["auto","none","0"]);function B8(t,e,n){let r=0,s;for(;r<t.length&&!s;){const o=t[r];typeof o=="string"&&!U8.has(o)&&hd(o).values.length&&(s=t[r]),r++}if(s&&n)for(const o of e)t[o]=sA(n,s)}class $8 extends tx{constructor(e,n,r,s,o){super(e,n,r,s,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let h=e[d];if(typeof h=="string"&&(h=h.trim(),Kw(h))){const g=ZN(h,n.current);g!==void 0&&(e[d]=g),d===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!eA.has(r)||e.length!==2)return;const[s,o]=e,l=dS(s),c=dS(o);if(l!==c)if(aS(l)&&aS(c))for(let d=0;d<e.length;d++){const h=e[d];typeof h=="string"&&(e[d]=parseFloat(h))}else Ra[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||M8(e[s]))&&r.push(s);r.length&&B8(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ra[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var c;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const o=r.length-1,l=r[o];r[o]=Ra[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),(c=this.removedTransforms)!=null&&c.length&&this.removedTransforms.forEach(([d,h])=>{e.getValue(d).set(h)}),this.resolveNoneKeyframes()}}function z8(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const s=(n==null?void 0:n[t])??r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const iA=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function oA(t){return bN(t)&&"offsetHeight"in t}const fS=30,H8=t=>!isNaN(parseFloat(t));class W8{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var o;const s=fr.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=fr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=H8(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new zw);const r=this.events[e].add(n);return e==="change"?()=>{r(),It.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=fr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>fS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,fS);return kN(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function xc(t,e){return new W8(t,e)}const{schedule:sx}=jN(queueMicrotask,!1),ls={x:!1,y:!1};function aA(){return ls.x||ls.y}function q8(t){return t==="x"||t==="y"?ls[t]?null:(ls[t]=!0,()=>{ls[t]=!1}):ls.x||ls.y?null:(ls.x=ls.y=!0,()=>{ls.x=ls.y=!1})}function lA(t,e){const n=z8(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function pS(t){return!(t.pointerType==="touch"||aA())}function K8(t,e,n={}){const[r,s,o]=lA(t,n),l=c=>{if(!pS(c))return;const{target:d}=c,h=e(d,c);if(typeof h!="function"||!d)return;const g=y=>{pS(y)&&(h(y),d.removeEventListener("pointerleave",g))};d.addEventListener("pointerleave",g,s)};return r.forEach(c=>{c.addEventListener("pointerenter",l,s)}),o}const cA=(t,e)=>e?t===e?!0:cA(t,e.parentElement):!1,ix=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,G8=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Y8(t){return G8.has(t.tagName)||t.tabIndex!==-1}const Wf=new WeakSet;function mS(t){return e=>{e.key==="Enter"&&t(e)}}function Ty(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Q8=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=mS(()=>{if(Wf.has(n))return;Ty(n,"down");const s=mS(()=>{Ty(n,"up")}),o=()=>Ty(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function gS(t){return ix(t)&&!aA()}function X8(t,e,n={}){const[r,s,o]=lA(t,n),l=c=>{const d=c.currentTarget;if(!gS(c))return;Wf.add(d);const h=e(d,c),g=(b,S)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",v),Wf.has(d)&&Wf.delete(d),gS(b)&&typeof h=="function"&&h(b,{success:S})},y=b=>{g(b,d===window||d===document||n.useGlobalTarget||cA(d,b.target))},v=b=>{g(b,!1)};window.addEventListener("pointerup",y,s),window.addEventListener("pointercancel",v,s)};return r.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",l,s),oA(c)&&(c.addEventListener("focus",h=>Q8(h,s)),!Y8(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),o}function uA(t){return bN(t)&&"ownerSVGElement"in t}function J8(t){return uA(t)&&t.tagName==="svg"}const On=t=>!!(t&&t.getVelocity),Z8=[...nA,Xt,Fo],e$=t=>Z8.find(tA(t)),ox=x.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class t$ extends x.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=oA(r)&&r.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=s-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function n$({children:t,isPresent:e,anchorX:n,root:r}){const s=x.useId(),o=x.useRef(null),l=x.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=x.useContext(ox);return x.useInsertionEffect(()=>{const{width:d,height:h,top:g,left:y,right:v}=l.current;if(e||!o.current||!d||!h)return;const b=n==="left"?`left: ${y}`:`right: ${v}`;o.current.dataset.motionPopId=s;const S=document.createElement("style");c&&(S.nonce=c);const k=r??document.head;return k.appendChild(S),S.sheet&&S.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${h}px !important;
            ${b}px !important;
            top: ${g}px !important;
          }
        `),()=>{k.contains(S)&&k.removeChild(S)}},[e]),f.jsx(t$,{isPresent:e,childRef:o,sizeRef:l,children:x.cloneElement(t,{ref:o})})}const r$=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:o,mode:l,anchorX:c,root:d})=>{const h=Lw(s$),g=x.useId();let y=!0,v=x.useMemo(()=>(y=!1,{id:g,initial:e,isPresent:n,custom:s,onExitComplete:b=>{h.set(b,!0);for(const S of h.values())if(!S)return;r&&r()},register:b=>(h.set(b,!1),()=>h.delete(b))}),[n,h,r]);return o&&y&&(v={...v}),x.useMemo(()=>{h.forEach((b,S)=>h.set(S,!1))},[n]),x.useEffect(()=>{!n&&!h.size&&r&&r()},[n]),l==="popLayout"&&(t=f.jsx(n$,{isPresent:n,anchorX:c,root:d,children:t})),f.jsx(cm.Provider,{value:v,children:t})};function s$(){return new Map}function dA(t=!0){const e=x.useContext(cm);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,o=x.useId();x.useEffect(()=>{if(t)return s(o)},[t]);const l=x.useCallback(()=>t&&r&&r(o),[o,r,t]);return!n&&r?[!1,l]:[!0]}const wf=t=>t.key||"";function yS(t){const e=[];return x.Children.forEach(t,n=>{x.isValidElement(n)&&e.push(n)}),e}const Bd=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:o="sync",propagate:l=!1,anchorX:c="left",root:d})=>{const[h,g]=dA(l),y=x.useMemo(()=>yS(t),[t]),v=l&&!h?[]:y.map(wf),b=x.useRef(!0),S=x.useRef(y),k=Lw(()=>new Map),[T,C]=x.useState(y),[P,R]=x.useState(y);xN(()=>{b.current=!1,S.current=y;for(let q=0;q<P.length;q++){const M=wf(P[q]);v.includes(M)?k.delete(M):k.get(M)!==!0&&k.set(M,!1)}},[P,v.length,v.join("-")]);const L=[];if(y!==T){let q=[...y];for(let M=0;M<P.length;M++){const N=P[M],O=wf(N);v.includes(O)||(q.splice(M,0,N),L.push(N))}return o==="wait"&&L.length&&(q=L),R(yS(q)),C(y),null}const{forceRender:F}=x.useContext(Ow);return f.jsx(f.Fragment,{children:P.map(q=>{const M=wf(q),N=l&&!h?!1:y===P||v.includes(M),O=()=>{if(k.has(M))k.set(M,!0);else return;let V=!0;k.forEach(U=>{U||(V=!1)}),V&&(F==null||F(),R(S.current),l&&(g==null||g()),r&&r())};return f.jsx(r$,{isPresent:N,initial:!b.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:o,root:d,onExitComplete:N?void 0:O,anchorX:c,children:q},M)})})},hA=x.createContext({strict:!1}),vS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},_c={};for(const t in vS)_c[t]={isEnabled:e=>vS[t].some(n=>!!e[n])};function i$(t){for(const e in t)_c[e]={..._c[e],...t[e]}}const o$=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function kp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||o$.has(t)}let fA=t=>!kp(t);function a$(t){typeof t=="function"&&(fA=e=>e.startsWith("on")?!kp(e):t(e))}try{a$(require("@emotion/is-prop-valid").default)}catch{}function l$(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(fA(s)||n===!0&&kp(s)||!e&&!kp(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const um=x.createContext({});function dm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function fd(t){return typeof t=="string"||Array.isArray(t)}const ax=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],lx=["initial",...ax];function hm(t){return dm(t.animate)||lx.some(e=>fd(t[e]))}function pA(t){return!!(hm(t)||t.variants)}function c$(t,e){if(hm(t)){const{initial:n,animate:r}=t;return{initial:n===!1||fd(n)?n:void 0,animate:fd(r)?r:void 0}}return t.inherit!==!1?e:{}}function u$(t){const{initial:e,animate:n}=c$(t,x.useContext(um));return x.useMemo(()=>({initial:e,animate:n}),[wS(e),wS(n)])}function wS(t){return Array.isArray(t)?t.join(" "):t}const pd={};function d$(t){for(const e in t)pd[e]=t[e],qw(e)&&(pd[e].isCSSVariable=!0)}function mA(t,{layout:e,layoutId:n}){return Lc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!pd[t]||t==="opacity")}const h$={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},f$=Oc.length;function p$(t,e,n){let r="",s=!0;for(let o=0;o<f$;o++){const l=Oc[o],c=t[l];if(c===void 0)continue;let d=!0;if(typeof c=="number"?d=c===(l.startsWith("scale")?1:0):d=parseFloat(c)===0,!d||n){const h=iA(c,rx[l]);if(!d){s=!1;const g=h$[l]||l;r+=`${g}(${h}) `}n&&(e[l]=h)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function cx(t,e,n){const{style:r,vars:s,transformOrigin:o}=t;let l=!1,c=!1;for(const d in e){const h=e[d];if(Lc.has(d)){l=!0;continue}else if(qw(d)){s[d]=h;continue}else{const g=iA(h,rx[d]);d.startsWith("origin")?(c=!0,o[d]=g):r[d]=g}}if(e.transform||(l||n?r.transform=p$(e,t.transform,n):r.transform&&(r.transform="none")),c){const{originX:d="50%",originY:h="50%",originZ:g=0}=o;r.transformOrigin=`${d} ${h} ${g}`}}const ux=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function gA(t,e,n){for(const r in e)!On(e[r])&&!mA(r,n)&&(t[r]=e[r])}function m$({transformTemplate:t},e){return x.useMemo(()=>{const n=ux();return cx(n,e,t),Object.assign({},n.vars,n.style)},[e])}function g$(t,e){const n=t.style||{},r={};return gA(r,n,t),Object.assign(r,m$(t,e)),r}function y$(t,e){const n={},r=g$(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const v$={offset:"stroke-dashoffset",array:"stroke-dasharray"},w$={offset:"strokeDashoffset",array:"strokeDasharray"};function x$(t,e,n=1,r=0,s=!0){t.pathLength=1;const o=s?v$:w$;t[o.offset]=Ve.transform(-r);const l=Ve.transform(e),c=Ve.transform(n);t[o.array]=`${l} ${c}`}function yA(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:o=1,pathOffset:l=0,...c},d,h,g){if(cx(t,c,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:v}=t;y.transform&&(v.transform=y.transform,delete y.transform),(v.transform||y.transformOrigin)&&(v.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),v.transform&&(v.transformBox=(g==null?void 0:g.transformBox)??"fill-box",delete y.transformBox),e!==void 0&&(y.x=e),n!==void 0&&(y.y=n),r!==void 0&&(y.scale=r),s!==void 0&&x$(y,s,o,l,!1)}const vA=()=>({...ux(),attrs:{}}),wA=t=>typeof t=="string"&&t.toLowerCase()==="svg";function _$(t,e,n,r){const s=x.useMemo(()=>{const o=vA();return yA(o,e,wA(r),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};gA(o,t.style,t),s.style={...o,...s.style}}return s}const b$=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function dx(t){return typeof t!="string"||t.includes("-")?!1:!!(b$.indexOf(t)>-1||/[A-Z]/u.test(t))}function E$(t,e,n,{latestValues:r},s,o=!1){const c=(dx(t)?_$:y$)(e,r,s,t),d=l$(e,typeof t=="string",o),h=t!==x.Fragment?{...d,...c,ref:n}:{},{children:g}=e,y=x.useMemo(()=>On(g)?g.get():g,[g]);return x.createElement(t,{...h,children:y})}function xS(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function hx(t,e,n,r){if(typeof e=="function"){const[s,o]=xS(r);e=e(n!==void 0?n:t.custom,s,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,o]=xS(r);e=e(n!==void 0?n:t.custom,s,o)}return e}function qf(t){return On(t)?t.get():t}function k$({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:S$(n,r,s,t),renderState:e()}}function S$(t,e,n,r){const s={},o=r(t,{});for(const v in o)s[v]=qf(o[v]);let{initial:l,animate:c}=t;const d=hm(t),h=pA(t);e&&h&&!d&&t.inherit!==!1&&(l===void 0&&(l=e.initial),c===void 0&&(c=e.animate));let g=n?n.initial===!1:!1;g=g||l===!1;const y=g?c:l;if(y&&typeof y!="boolean"&&!dm(y)){const v=Array.isArray(y)?y:[y];for(let b=0;b<v.length;b++){const S=hx(t,v[b]);if(S){const{transitionEnd:k,transition:T,...C}=S;for(const P in C){let R=C[P];if(Array.isArray(R)){const L=g?R.length-1:0;R=R[L]}R!==null&&(s[P]=R)}for(const P in k)s[P]=k[P]}}}return s}const xA=t=>(e,n)=>{const r=x.useContext(um),s=x.useContext(cm),o=()=>k$(t,e,r,s);return n?o():Lw(o)};function fx(t,e,n){var o;const{style:r}=t,s={};for(const l in r)(On(r[l])||e.style&&On(e.style[l])||mA(l,t)||((o=n==null?void 0:n.getValue(l))==null?void 0:o.liveStyle)!==void 0)&&(s[l]=r[l]);return s}const T$=xA({scrapeMotionValuesFromProps:fx,createRenderState:ux});function _A(t,e,n){const r=fx(t,e,n);for(const s in t)if(On(t[s])||On(e[s])){const o=Oc.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[o]=t[s]}return r}const I$=xA({scrapeMotionValuesFromProps:_A,createRenderState:vA}),C$=Symbol.for("motionComponentSymbol");function Xl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function N$(t,e,n){return x.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Xl(n)&&(n.current=r))},[e])}const px=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),A$="framerAppearId",bA="data-"+px(A$),EA=x.createContext({});function P$(t,e,n,r,s){var k,T;const{visualElement:o}=x.useContext(um),l=x.useContext(hA),c=x.useContext(cm),d=x.useContext(ox).reducedMotion,h=x.useRef(null);r=r||l.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:o,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const g=h.current,y=x.useContext(EA);g&&!g.projection&&s&&(g.type==="html"||g.type==="svg")&&R$(h.current,n,s,y);const v=x.useRef(!1);x.useInsertionEffect(()=>{g&&v.current&&g.update(n,c)});const b=n[bA],S=x.useRef(!!b&&!((k=window.MotionHandoffIsComplete)!=null&&k.call(window,b))&&((T=window.MotionHasOptimisedAnimation)==null?void 0:T.call(window,b)));return xN(()=>{g&&(v.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),S.current&&g.animationState&&g.animationState.animateChanges())}),x.useEffect(()=>{g&&(!S.current&&g.animationState&&g.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var C;(C=window.MotionHandoffMarkAsComplete)==null||C.call(window,b)}),S.current=!1),g.enteringChildren=void 0)}),g}function R$(t,e,n,r){const{layoutId:s,layout:o,drag:l,dragConstraints:c,layoutScroll:d,layoutRoot:h,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:kA(t.parent)),t.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!l||c&&Xl(c),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:g,layoutScroll:d,layoutRoot:h})}function kA(t){if(t)return t.options.allowProjection!==!1?t.projection:kA(t.parent)}function Iy(t,{forwardMotionProps:e=!1}={},n,r){n&&i$(n);const s=dx(t)?I$:T$;function o(c,d){let h;const g={...x.useContext(ox),...c,layoutId:D$(c)},{isStatic:y}=g,v=u$(c),b=s(c,y);if(!y&&Vw){M$();const S=j$(g);h=S.MeasureLayout,v.visualElement=P$(t,b,g,r,S.ProjectionNode)}return f.jsxs(um.Provider,{value:v,children:[h&&v.visualElement?f.jsx(h,{visualElement:v.visualElement,...g}):null,E$(t,c,N$(b,v.visualElement,d),b,y,e)]})}o.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=x.forwardRef(o);return l[C$]=t,l}function D$({layoutId:t}){const e=x.useContext(Ow).id;return e&&t!==void 0?e+"-"+t:t}function M$(t,e){x.useContext(hA).strict}function j$(t){const{drag:e,layout:n}=_c;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function O$(t,e){if(typeof Proxy>"u")return Iy;const n=new Map,r=(o,l)=>Iy(o,l,t,e),s=(o,l)=>r(o,l);return new Proxy(s,{get:(o,l)=>l==="create"?r:(n.has(l)||n.set(l,Iy(l,void 0,t,e)),n.get(l))})}function SA({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function L$({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function V$(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Cy(t){return t===void 0||t===1}function K0({scale:t,scaleX:e,scaleY:n}){return!Cy(t)||!Cy(e)||!Cy(n)}function ka(t){return K0(t)||TA(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function TA(t){return _S(t.x)||_S(t.y)}function _S(t){return t&&t!=="0%"}function Sp(t,e,n){const r=t-n,s=e*r;return n+s}function bS(t,e,n,r,s){return s!==void 0&&(t=Sp(t,s,r)),Sp(t,n,r)+e}function G0(t,e=0,n=1,r,s){t.min=bS(t.min,e,n,r,s),t.max=bS(t.max,e,n,r,s)}function IA(t,{x:e,y:n}){G0(t.x,e.translate,e.scale,e.originPoint),G0(t.y,n.translate,n.scale,n.originPoint)}const ES=.999999999999,kS=1.0000000000001;function F$(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let o,l;for(let c=0;c<s;c++){o=n[c],l=o.projectionDelta;const{visualElement:d}=o.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Zl(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,IA(t,l)),r&&ka(o.latestValues)&&Zl(t,o.latestValues))}e.x<kS&&e.x>ES&&(e.x=1),e.y<kS&&e.y>ES&&(e.y=1)}function Jl(t,e){t.min=t.min+e,t.max=t.max+e}function SS(t,e,n,r,s=.5){const o=Rt(t.min,t.max,s);G0(t,e,n,o,r)}function Zl(t,e){SS(t.x,e.x,e.scaleX,e.scale,e.originX),SS(t.y,e.y,e.scaleY,e.scale,e.originY)}function CA(t,e){return SA(V$(t.getBoundingClientRect(),e))}function U$(t,e,n){const r=CA(t,n),{scroll:s}=e;return s&&(Jl(r.x,s.offset.x),Jl(r.y,s.offset.y)),r}const TS=()=>({translate:0,scale:1,origin:0,originPoint:0}),ec=()=>({x:TS(),y:TS()}),IS=()=>({min:0,max:0}),Ht=()=>({x:IS(),y:IS()}),Y0={current:null},NA={current:!1};function B$(){if(NA.current=!0,!!Vw)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Y0.current=t.matches;t.addEventListener("change",e),e()}else Y0.current=!1}const $$=new WeakMap;function z$(t,e,n){for(const r in e){const s=e[r],o=n[r];if(On(s))t.addValue(r,s);else if(On(o))t.addValue(r,xc(s,{owner:t}));else if(o!==s)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=t.getStaticValue(r);t.addValue(r,xc(l!==void 0?l:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const CS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class H${scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:o,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=tx,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=fr.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,It.render(this.render,!1,!0))};const{latestValues:d,renderState:h}=l;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!o,this.isControllingVariants=hm(n),this.isVariantNode=pA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...y}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in y){const b=y[v];d[v]!==void 0&&On(b)&&b.set(d[v])}}mount(e){var n;this.current=e,$$.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),NA.current||B$(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Y0.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Vo(this.notifyUpdate),Vo(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Lc.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&It.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in _c){const n=_c[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ht()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<CS.length;r++){const s=CS[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,l=e[o];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=z$(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=xc(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(_N(r)||EN(r))?r=parseFloat(r):!e$(r)&&Fo.test(n)&&(r=sA(e,n)),this.setBaseTarget(e,On(r)?r.get():r)),On(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var o;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const l=hx(this.props,n,(o=this.presenceContext)==null?void 0:o.custom);l&&(r=l[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!On(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new zw),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){sx.render(this.render)}}class AA extends H${constructor(){super(...arguments),this.KeyframeResolver=$8}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;On(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function PA(t,{style:e,vars:n},r,s){const o=t.style;let l;for(l in e)o[l]=e[l];s==null||s.applyProjectionStyles(o,r);for(l in n)o.setProperty(l,n[l])}function W$(t){return window.getComputedStyle(t)}class q$ extends AA{constructor(){super(...arguments),this.type="html",this.renderInstance=PA}readValueFromInstance(e,n){var r;if(Lc.has(n))return(r=this.projection)!=null&&r.isProjecting?U0(n):a8(e,n);{const s=W$(e),o=(qw(n)?s.getPropertyValue(n):s[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return CA(e,n)}build(e,n,r){cx(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return fx(e,n,r)}}const RA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function K$(t,e,n,r){PA(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(RA.has(s)?s:px(s),e.attrs[s])}class G$ extends AA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ht}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Lc.has(n)){const r=rA(n);return r&&r.default||0}return n=RA.has(n)?n:px(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return _A(e,n,r)}build(e,n,r){yA(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){K$(e,n,r,s)}mount(e){this.isSVGTag=wA(e.tagName),super.mount(e)}}const Y$=(t,e)=>dx(t)?new G$(e):new q$(e,{allowProjection:t!==x.Fragment});function oc(t,e,n){const r=t.getProps();return hx(r,e,n!==void 0?n:r.custom,t)}const Q0=t=>Array.isArray(t);function Q$(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,xc(n))}function X$(t){return Q0(t)?t[t.length-1]||0:t}function J$(t,e){const n=oc(t,e);let{transitionEnd:r={},transition:s={},...o}=n||{};o={...o,...r};for(const l in o){const c=X$(o[l]);Q$(t,l,c)}}function Z$(t){return!!(On(t)&&t.add)}function X0(t,e){const n=t.getValue("willChange");if(Z$(n))return n.add(e);if(!n&&Mi.WillChange){const r=new Mi.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function DA(t){return t.props[bA]}const e7=t=>t!==null;function t7(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(e7),o=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[o]}const n7={type:"spring",stiffness:500,damping:25,restSpeed:10},r7=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),s7={type:"keyframes",duration:.8},i7={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},o7=(t,{keyframes:e})=>e.length>2?s7:Lc.has(t)?t.startsWith("scale")?r7(e[1]):n7:i7;function a7({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:o,repeatType:l,repeatDelay:c,from:d,elapsed:h,...g}){return!!Object.keys(g).length}const mx=(t,e,n,r={},s,o)=>l=>{const c=nx(r,t)||{},d=c.delay||r.delay||0;let{elapsed:h=0}=r;h=h-zs(d);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-h,onUpdate:v=>{e.set(v),c.onUpdate&&c.onUpdate(v)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:o?void 0:s};a7(c)||Object.assign(g,o7(t,g)),g.duration&&(g.duration=zs(g.duration)),g.repeatDelay&&(g.repeatDelay=zs(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let y=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(W0(g),g.delay===0&&(y=!0)),(Mi.instantAnimations||Mi.skipAnimations)&&(y=!0,W0(g),g.delay=0),g.allowFlatten=!c.type&&!c.ease,y&&!o&&e.get()!==void 0){const v=t7(g.keyframes,c);if(v!==void 0){It.update(()=>{g.onUpdate(v),g.onComplete()});return}}return c.isSync?new ex(g):new A8(g)};function l7({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function MA(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:l,...c}=e;r&&(o=r);const d=[],h=s&&t.animationState&&t.animationState.getState()[s];for(const g in c){const y=t.getValue(g,t.latestValues[g]??null),v=c[g];if(v===void 0||h&&l7(h,g))continue;const b={delay:n,...nx(o||{},g)},S=y.get();if(S!==void 0&&!y.isAnimating&&!Array.isArray(v)&&v===S&&!b.velocity)continue;let k=!1;if(window.MotionHandoffAnimation){const C=DA(t);if(C){const P=window.MotionHandoffAnimation(C,g,It);P!==null&&(b.startTime=P,k=!0)}}X0(t,g),y.start(mx(g,y,v,t.shouldReduceMotion&&eA.has(g)?{type:!1}:b,t,k));const T=y.animation;T&&d.push(T)}return l&&Promise.all(d).then(()=>{It.update(()=>{l&&J$(t,l)})}),d}function jA(t,e,n,r=0,s=1){const o=Array.from(t).sort((h,g)=>h.sortNodePosition(g)).indexOf(e),l=t.size,c=(l-1)*r;return typeof n=="function"?n(o,l):s===1?o*r:c-o*r}function J0(t,e,n={}){var d;const r=oc(t,e,n.type==="exit"?(d=t.presenceContext)==null?void 0:d.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const o=r?()=>Promise.all(MA(t,r,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:v}=s;return c7(t,e,h,g,y,v,n)}:()=>Promise.resolve(),{when:c}=s;if(c){const[h,g]=c==="beforeChildren"?[o,l]:[l,o];return h().then(()=>g())}else return Promise.all([o(),l(n.delay)])}function c7(t,e,n=0,r=0,s=0,o=1,l){const c=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),c.push(J0(d,e,{...l,delay:n+(typeof r=="function"?0:r)+jA(t.variantChildren,d,r,s,o)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(c)}function u7(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(o=>J0(t,o,n));r=Promise.all(s)}else if(typeof e=="string")r=J0(t,e,n);else{const s=typeof e=="function"?oc(t,e,n.custom):e;r=Promise.all(MA(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function OA(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const d7=lx.length;function LA(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?LA(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<d7;n++){const r=lx[n],s=t.props[r];(fd(s)||s===!1)&&(e[r]=s)}return e}const h7=[...ax].reverse(),f7=ax.length;function p7(t){return e=>Promise.all(e.map(({animation:n,options:r})=>u7(t,n,r)))}function m7(t){let e=p7(t),n=NS(),r=!0;const s=d=>(h,g)=>{var v;const y=oc(t,g,d==="exit"?(v=t.presenceContext)==null?void 0:v.custom:void 0);if(y){const{transition:b,transitionEnd:S,...k}=y;h={...h,...k,...S}}return h};function o(d){e=d(t)}function l(d){const{props:h}=t,g=LA(t.parent)||{},y=[],v=new Set;let b={},S=1/0;for(let T=0;T<f7;T++){const C=h7[T],P=n[C],R=h[C]!==void 0?h[C]:g[C],L=fd(R),F=C===d?P.isActive:null;F===!1&&(S=T);let q=R===g[C]&&R!==h[C]&&L;if(q&&r&&t.manuallyAnimateOnMount&&(q=!1),P.protectedKeys={...b},!P.isActive&&F===null||!R&&!P.prevProp||dm(R)||typeof R=="boolean")continue;const M=g7(P.prevProp,R);let N=M||C===d&&P.isActive&&!q&&L||T>S&&L,O=!1;const V=Array.isArray(R)?R:[R];let U=V.reduce(s(C),{});F===!1&&(U={});const{prevResolvedValues:$={}}=P,D={...$,...U},se=te=>{N=!0,v.has(te)&&(O=!0,v.delete(te)),P.needsAnimating[te]=!0;const z=t.getValue(te);z&&(z.liveStyle=!1)};for(const te in D){const z=U[te],oe=$[te];if(b.hasOwnProperty(te))continue;let le=!1;Q0(z)&&Q0(oe)?le=!OA(z,oe):le=z!==oe,le?z!=null?se(te):v.add(te):z!==void 0&&v.has(te)?se(te):P.protectedKeys[te]=!0}P.prevProp=R,P.prevResolvedValues=U,P.isActive&&(b={...b,...U}),r&&t.blockInitialAnimation&&(N=!1);const ie=q&&M;N&&(!ie||O)&&y.push(...V.map(te=>{const z={type:C};if(typeof te=="string"&&r&&!ie&&t.manuallyAnimateOnMount&&t.parent){const{parent:oe}=t,le=oc(oe,te);if(oe.enteringChildren&&le){const{delayChildren:H}=le.transition||{};z.delay=jA(oe.enteringChildren,t,H)}}return{animation:te,options:z}}))}if(v.size){const T={};if(typeof h.initial!="boolean"){const C=oc(t,Array.isArray(h.initial)?h.initial[0]:h.initial);C&&C.transition&&(T.transition=C.transition)}v.forEach(C=>{const P=t.getBaseTarget(C),R=t.getValue(C);R&&(R.liveStyle=!0),T[C]=P??null}),y.push({animation:T})}let k=!!y.length;return r&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(k=!1),r=!1,k?e(y):Promise.resolve()}function c(d,h){var y;if(n[d].isActive===h)return Promise.resolve();(y=t.variantChildren)==null||y.forEach(v=>{var b;return(b=v.animationState)==null?void 0:b.setActive(d,h)}),n[d].isActive=h;const g=l(d);for(const v in n)n[v].protectedKeys={};return g}return{animateChanges:l,setActive:c,setAnimateFunction:o,getState:()=>n,reset:()=>{n=NS(),r=!0}}}function g7(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!OA(e,t):!1}function ba(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function NS(){return{animate:ba(!0),whileInView:ba(),whileHover:ba(),whileTap:ba(),whileDrag:ba(),whileFocus:ba(),exit:ba()}}class qo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class y7 extends qo{constructor(e){super(e),e.animationState||(e.animationState=m7(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();dm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let v7=0;class w7 extends qo{constructor(){super(...arguments),this.id=v7++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const x7={animation:{Feature:y7},exit:{Feature:w7}};function md(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function $d(t){return{point:{x:t.pageX,y:t.pageY}}}const _7=t=>e=>ix(e)&&t(e,$d(e));function Gu(t,e,n,r){return md(t,e,_7(n),r)}const VA=1e-4,b7=1-VA,E7=1+VA,FA=.01,k7=0-FA,S7=0+FA;function Gn(t){return t.max-t.min}function T7(t,e,n){return Math.abs(t-e)<=n}function AS(t,e,n,r=.5){t.origin=r,t.originPoint=Rt(e.min,e.max,t.origin),t.scale=Gn(n)/Gn(e),t.translate=Rt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=b7&&t.scale<=E7||isNaN(t.scale))&&(t.scale=1),(t.translate>=k7&&t.translate<=S7||isNaN(t.translate))&&(t.translate=0)}function Yu(t,e,n,r){AS(t.x,e.x,n.x,r?r.originX:void 0),AS(t.y,e.y,n.y,r?r.originY:void 0)}function PS(t,e,n){t.min=n.min+e.min,t.max=t.min+Gn(e)}function I7(t,e,n){PS(t.x,e.x,n.x),PS(t.y,e.y,n.y)}function RS(t,e,n){t.min=e.min-n.min,t.max=t.min+Gn(e)}function Qu(t,e,n){RS(t.x,e.x,n.x),RS(t.y,e.y,n.y)}function Br(t){return[t("x"),t("y")]}const UA=({current:t})=>t?t.ownerDocument.defaultView:null,DS=(t,e)=>Math.abs(t-e);function C7(t,e){const n=DS(t.x,e.x),r=DS(t.y,e.y);return Math.sqrt(n**2+r**2)}class BA{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:o=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Ay(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,S=C7(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!S)return;const{point:k}=v,{timestamp:T}=En;this.history.push({...k,timestamp:T});const{onStart:C,onMove:P}=this.handlers;b||(C&&C(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),P&&P(this.lastMoveEvent,v)},this.handlePointerMove=(v,b)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=Ny(b,this.transformPagePoint),It.update(this.updatePoint,!0)},this.handlePointerUp=(v,b)=>{this.end();const{onEnd:S,onSessionEnd:k,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=Ay(v.type==="pointercancel"?this.lastMoveEventInfo:Ny(b,this.transformPagePoint),this.history);this.startEvent&&S&&S(v,C),k&&k(v,C)},!ix(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=l,this.contextWindow=s||window;const c=$d(e),d=Ny(c,this.transformPagePoint),{point:h}=d,{timestamp:g}=En;this.history=[{...h,timestamp:g}];const{onSessionStart:y}=n;y&&y(e,Ay(d,this.history)),this.removeListeners=Vd(Gu(this.contextWindow,"pointermove",this.handlePointerMove),Gu(this.contextWindow,"pointerup",this.handlePointerUp),Gu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Vo(this.updatePoint)}}function Ny(t,e){return e?{point:e(t.point)}:t}function MS(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ay({point:t},e){return{point:t,delta:MS(t,$A(e)),offset:MS(t,N7(e)),velocity:A7(e,.1)}}function N7(t){return t[0]}function $A(t){return t[t.length-1]}function A7(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=$A(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>zs(e)));)n--;if(!r)return{x:0,y:0};const o=Hs(s.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const l={x:(s.x-r.x)/o,y:(s.y-r.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function P7(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Rt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Rt(n,t,r.max):Math.min(t,n)),t}function jS(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function R7(t,{top:e,left:n,bottom:r,right:s}){return{x:jS(t.x,n,s),y:jS(t.y,e,r)}}function OS(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function D7(t,e){return{x:OS(t.x,e.x),y:OS(t.y,e.y)}}function M7(t,e){let n=.5;const r=Gn(t),s=Gn(e);return s>r?n=ud(e.min,e.max-r,t.min):r>s&&(n=ud(t.min,t.max-s,e.min)),Di(0,1,n)}function j7(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Z0=.35;function O7(t=Z0){return t===!1?t=0:t===!0&&(t=Z0),{x:LS(t,"left","right"),y:LS(t,"top","bottom")}}function LS(t,e,n){return{min:VS(t,e),max:VS(t,n)}}function VS(t,e){return typeof t=="number"?t:t[e]||0}const L7=new WeakMap;class V7{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ht(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const o=y=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor($d(y).point)},l=(y,v)=>{const{drag:b,dragPropagation:S,onDragStart:k}=this.getProps();if(b&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=q8(b),!this.openDragLock))return;this.latestPointerEvent=y,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Br(C=>{let P=this.getAxisMotionValue(C).get()||0;if(Ws.test(P)){const{projection:R}=this.visualElement;if(R&&R.layout){const L=R.layout.layoutBox[C];L&&(P=Gn(L)*(parseFloat(P)/100))}}this.originPoint[C]=P}),k&&It.postRender(()=>k(y,v)),X0(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},c=(y,v)=>{this.latestPointerEvent=y,this.latestPanInfo=v;const{dragPropagation:b,dragDirectionLock:S,onDirectionLock:k,onDrag:T}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:C}=v;if(S&&this.currentDirection===null){this.currentDirection=F7(C),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",v.point,C),this.updateAxis("y",v.point,C),this.visualElement.render(),T&&T(y,v)},d=(y,v)=>{this.latestPointerEvent=y,this.latestPanInfo=v,this.stop(y,v),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>Br(y=>{var v;return this.getAnimationState(y)==="paused"&&((v=this.getAxisMotionValue(y).animation)==null?void 0:v.play())}),{dragSnapToOrigin:g}=this.getProps();this.panSession=new BA(e,{onSessionStart:o,onStart:l,onMove:c,onSessionEnd:d,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:r,contextWindow:UA(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!s||!r)return;const{velocity:l}=s;this.startAnimation(l);const{onDragEnd:c}=this.getProps();c&&It.postRender(()=>c(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!xf(e,s,this.currentDirection))return;const o=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=P7(l,this.constraints[e],this.elastic[e])),o.set(l)}resolveConstraints(){var o;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,s=this.constraints;e&&Xl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=R7(r.layoutBox,e):this.constraints=!1,this.elastic=O7(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Br(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=j7(r.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Xl(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=U$(r,s.root,this.visualElement.getTransformPagePoint());let l=D7(s.layout.layoutBox,o);if(n){const c=n(L$(l));this.hasMutatedConstraints=!!c,c&&(l=SA(c))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},h=Br(g=>{if(!xf(g,n,this.currentDirection))return;let y=d&&d[g]||{};l&&(y={min:0,max:0});const v=s?200:1e6,b=s?40:1e7,S={type:"inertia",velocity:r?e[g]:0,bounceStiffness:v,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...o,...y};return this.startAxisValueAnimation(g,S)});return Promise.all(h).then(c)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return X0(this.visualElement,e),r.start(mx(e,r,0,n,this.visualElement,!1))}stopAnimation(){Br(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Br(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Br(n=>{const{drag:r}=this.getProps();if(!xf(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:l,max:c}=s.layout.layoutBox[n];o.set(e[n]-Rt(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Xl(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Br(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const d=c.get();s[l]=M7({min:d,max:d},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Br(l=>{if(!xf(l,e,null))return;const c=this.getAxisMotionValue(l),{min:d,max:h}=this.constraints[l];c.set(Rt(d,h,s[l]))})}addListeners(){if(!this.visualElement.current)return;L7.set(this.visualElement,this);const e=this.visualElement.current,n=Gu(e,"pointerdown",d=>{const{drag:h,dragListener:g=!0}=this.getProps();h&&g&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();Xl(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),It.read(r);const l=md(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h})=>{this.isDragging&&h&&(Br(g=>{const y=this.getAxisMotionValue(g);y&&(this.originPoint[g]+=d[g].translate,y.set(y.get()+d[g].translate))}),this.visualElement.render())});return()=>{l(),n(),o(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:l=Z0,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:o,dragElastic:l,dragMomentum:c}}}function xf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function F7(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class U7 extends qo{constructor(e){super(e),this.removeGroupControls=Hr,this.removeListeners=Hr,this.controls=new V7(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Hr}unmount(){this.removeGroupControls(),this.removeListeners()}}const FS=t=>(e,n)=>{t&&It.postRender(()=>t(e,n))};class B7 extends qo{constructor(){super(...arguments),this.removePointerDownListener=Hr}onPointerDown(e){this.session=new BA(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:UA(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:FS(e),onStart:FS(n),onMove:r,onEnd:(o,l)=>{delete this.session,s&&It.postRender(()=>s(o,l))}}}mount(){this.removePointerDownListener=Gu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Kf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function US(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Iu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ve.test(t))t=parseFloat(t);else return t;const n=US(t,e.target.x),r=US(t,e.target.y);return`${n}% ${r}%`}},$7={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Fo.parse(t);if(s.length>5)return r;const o=Fo.createTransformer(t),l=typeof s[0]!="number"?1:0,c=n.x.scale*e.x,d=n.y.scale*e.y;s[0+l]/=c,s[1+l]/=d;const h=Rt(c,d,.5);return typeof s[2+l]=="number"&&(s[2+l]/=h),typeof s[3+l]=="number"&&(s[3+l]/=h),o(s)}};let Py=!1;class z7 extends x.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:o}=e;d$(H7),o&&(n.group&&n.group.add(o),r&&r.register&&s&&r.register(o),Py&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Kf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:o}=this.props,{projection:l}=r;return l&&(l.isPresent=o,Py=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==o?l.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?l.promote():l.relegate()||It.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),sx.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;Py=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function zA(t){const[e,n]=dA(),r=x.useContext(Ow);return f.jsx(z7,{...t,layoutGroup:r,switchLayoutGroup:x.useContext(EA),isPresent:e,safeToRemove:n})}const H7={borderRadius:{...Iu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Iu,borderTopRightRadius:Iu,borderBottomLeftRadius:Iu,borderBottomRightRadius:Iu,boxShadow:$7};function W7(t,e,n){const r=On(t)?t:xc(t);return r.start(mx("",r,e,n)),r.animation}const q7=(t,e)=>t.depth-e.depth;class K7{constructor(){this.children=[],this.isDirty=!1}add(e){Fw(this.children,e),this.isDirty=!0}remove(e){Uw(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(q7),this.isDirty=!1,this.children.forEach(e)}}function G7(t,e){const n=fr.now(),r=({timestamp:s})=>{const o=s-n;o>=e&&(Vo(r),t(o-e))};return It.setup(r,!0),()=>Vo(r)}const HA=["TopLeft","TopRight","BottomLeft","BottomRight"],Y7=HA.length,BS=t=>typeof t=="string"?parseFloat(t):t,$S=t=>typeof t=="number"||Ve.test(t);function Q7(t,e,n,r,s,o){s?(t.opacity=Rt(0,n.opacity??1,X7(r)),t.opacityExit=Rt(e.opacity??1,0,J7(r))):o&&(t.opacity=Rt(e.opacity??1,n.opacity??1,r));for(let l=0;l<Y7;l++){const c=`border${HA[l]}Radius`;let d=zS(e,c),h=zS(n,c);if(d===void 0&&h===void 0)continue;d||(d=0),h||(h=0),d===0||h===0||$S(d)===$S(h)?(t[c]=Math.max(Rt(BS(d),BS(h),r),0),(Ws.test(h)||Ws.test(d))&&(t[c]+="%")):t[c]=h}(e.rotate||n.rotate)&&(t.rotate=Rt(e.rotate||0,n.rotate||0,r))}function zS(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const X7=WA(0,.5,PN),J7=WA(.5,.95,Hr);function WA(t,e,n){return r=>r<t?0:r>e?1:n(ud(t,e,r))}function HS(t,e){t.min=e.min,t.max=e.max}function Ur(t,e){HS(t.x,e.x),HS(t.y,e.y)}function WS(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function qS(t,e,n,r,s){return t-=e,t=Sp(t,1/n,r),s!==void 0&&(t=Sp(t,1/s,r)),t}function Z7(t,e=0,n=1,r=.5,s,o=t,l=t){if(Ws.test(e)&&(e=parseFloat(e),e=Rt(l.min,l.max,e/100)-l.min),typeof e!="number")return;let c=Rt(o.min,o.max,r);t===o&&(c-=e),t.min=qS(t.min,e,n,c,s),t.max=qS(t.max,e,n,c,s)}function KS(t,e,[n,r,s],o,l){Z7(t,e[n],e[r],e[s],e.scale,o,l)}const ez=["x","scaleX","originX"],tz=["y","scaleY","originY"];function GS(t,e,n,r){KS(t.x,e,ez,n?n.x:void 0,r?r.x:void 0),KS(t.y,e,tz,n?n.y:void 0,r?r.y:void 0)}function YS(t){return t.translate===0&&t.scale===1}function qA(t){return YS(t.x)&&YS(t.y)}function QS(t,e){return t.min===e.min&&t.max===e.max}function nz(t,e){return QS(t.x,e.x)&&QS(t.y,e.y)}function XS(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function KA(t,e){return XS(t.x,e.x)&&XS(t.y,e.y)}function JS(t){return Gn(t.x)/Gn(t.y)}function ZS(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class rz{constructor(){this.members=[]}add(e){Fw(this.members,e),e.scheduleRender()}remove(e){if(Uw(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function sz(t,e,n){let r="";const s=t.x.translate/e.x,o=t.y.translate/e.y,l=(n==null?void 0:n.z)||0;if((s||o||l)&&(r=`translate3d(${s}px, ${o}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:h,rotate:g,rotateX:y,rotateY:v,skewX:b,skewY:S}=n;h&&(r=`perspective(${h}px) ${r}`),g&&(r+=`rotate(${g}deg) `),y&&(r+=`rotateX(${y}deg) `),v&&(r+=`rotateY(${v}deg) `),b&&(r+=`skewX(${b}deg) `),S&&(r+=`skewY(${S}deg) `)}const c=t.x.scale*e.x,d=t.y.scale*e.y;return(c!==1||d!==1)&&(r+=`scale(${c}, ${d})`),r||"none"}const Ry=["","X","Y","Z"],iz=1e3;let oz=0;function Dy(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function GA(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=DA(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",It,!(s||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&GA(r)}function YA({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(l={},c=e==null?void 0:e()){this.id=oz++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(cz),this.nodes.forEach(fz),this.nodes.forEach(pz),this.nodes.forEach(uz)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new K7)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new zw),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const d=this.eventHandlers.get(l);d&&d.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=uA(l)&&!J8(l),this.instance=l;const{layoutId:c,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||c)&&(this.isLayoutDirty=!0),t){let g,y=0;const v=()=>this.root.updateBlockedByResize=!1;It.read(()=>{y=window.innerWidth}),t(l,()=>{const b=window.innerWidth;b!==y&&(y=b,this.root.updateBlockedByResize=!0,g&&g(),g=G7(v,250),Kf.hasAnimatedSinceResize&&(Kf.hasAnimatedSinceResize=!1,this.nodes.forEach(n1)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||d)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:y,hasRelativeLayoutChanged:v,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||h.getDefaultTransition()||wz,{onLayoutAnimationStart:k,onLayoutAnimationComplete:T}=h.getProps(),C=!this.targetLayout||!KA(this.targetLayout,b),P=!y&&v;if(this.options.layoutRoot||this.resumeFrom||P||y&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const R={...nx(S,"layout"),onPlay:k,onComplete:T};(h.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R),this.setAnimationOrigin(g,P)}else y||n1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Vo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(mz),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&GA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const y=this.path[g];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(e1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(t1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(hz),this.nodes.forEach(az),this.nodes.forEach(lz)):this.nodes.forEach(t1),this.clearAllSnapshots();const c=fr.now();En.delta=Di(0,1e3/60,c-En.timestamp),En.timestamp=c,En.isProcessing=!0,_y.update.process(En),_y.preRender.process(En),_y.render.process(En),En.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,sx.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(dz),this.sharedNodes.forEach(gz)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,It.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){It.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Gn(this.snapshot.measuredBox.x)&&!Gn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ht(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c&&this.instance){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!qA(this.projectionDelta),d=this.getTransformTemplate(),h=d?d(this.latestValues,""):void 0,g=h!==this.prevTransformTemplateValue;l&&this.instance&&(c||ka(this.latestValues)||g)&&(s(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return l&&(d=this.removeTransform(d)),xz(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:l}=this.options;if(!l)return Ht();const c=l.measureViewportBox();if(!(((h=this.scroll)==null?void 0:h.wasRoot)||this.path.some(_z))){const{scroll:g}=this.root;g&&(Jl(c.x,g.offset.x),Jl(c.y,g.offset.y))}return c}removeElementScroll(l){var d;const c=Ht();if(Ur(c,l),(d=this.scroll)!=null&&d.wasRoot)return c;for(let h=0;h<this.path.length;h++){const g=this.path[h],{scroll:y,options:v}=g;g!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&Ur(c,l),Jl(c.x,y.offset.x),Jl(c.y,y.offset.y))}return c}applyTransform(l,c=!1){const d=Ht();Ur(d,l);for(let h=0;h<this.path.length;h++){const g=this.path[h];!c&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Zl(d,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),ka(g.latestValues)&&Zl(d,g.latestValues)}return ka(this.latestValues)&&Zl(d,this.latestValues),d}removeTransform(l){const c=Ht();Ur(c,l);for(let d=0;d<this.path.length;d++){const h=this.path[d];if(!h.instance||!ka(h.latestValues))continue;K0(h.latestValues)&&h.updateSnapshot();const g=Ht(),y=h.measurePageBox();Ur(g,y),GS(c,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,g)}return ka(this.latestValues)&&GS(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==En.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var v;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(l||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:y}=this.options;if(!(!this.layout||!(g||y))){if(this.resolvedRelativeTargetAt=En.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ht(),this.relativeTargetOrigin=Ht(),Qu(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),Ur(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ht(),this.targetWithTransforms=Ht()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),I7(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ur(this.target,this.layout.layoutBox),IA(this.target,this.targetDelta)):Ur(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ht(),this.relativeTargetOrigin=Ht(),Qu(this.relativeTargetOrigin,this.target,b.target),Ur(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||K0(this.parent.latestValues)||TA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var S;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||(S=this.parent)!=null&&S.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===En.timestamp&&(d=!1),d)return;const{layout:h,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||g))return;Ur(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,v=this.treeScale.y;F$(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Ht());const{target:b}=l;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(WS(this.prevProjectionDelta.x,this.projectionDelta.x),WS(this.prevProjectionDelta.y,this.projectionDelta.y)),Yu(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==v||!ZS(this.projectionDelta.x,this.prevProjectionDelta.x)||!ZS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var c;if((c=this.options.visualElement)==null||c.scheduleRender(),l){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ec(),this.projectionDelta=ec(),this.projectionDeltaWithTransform=ec()}setAnimationOrigin(l,c=!1){const d=this.snapshot,h=d?d.latestValues:{},g={...this.latestValues},y=ec();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const v=Ht(),b=d?d.source:void 0,S=this.layout?this.layout.source:void 0,k=b!==S,T=this.getStack(),C=!T||T.members.length<=1,P=!!(k&&!C&&this.options.crossfade===!0&&!this.path.some(vz));this.animationProgress=0;let R;this.mixTargetDelta=L=>{const F=L/1e3;r1(y.x,l.x,F),r1(y.y,l.y,F),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Qu(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),yz(this.relativeTarget,this.relativeTargetOrigin,v,F),R&&nz(this.relativeTarget,R)&&(this.isProjectionDirty=!1),R||(R=Ht()),Ur(R,this.relativeTarget)),k&&(this.animationValues=g,Q7(g,h,this.latestValues,F,P,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=F},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){var c,d,h;this.notifyListeners("animationStart"),(c=this.currentAnimation)==null||c.stop(),(h=(d=this.resumingFrom)==null?void 0:d.currentAnimation)==null||h.stop(),this.pendingAnimation&&(Vo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=It.update(()=>{Kf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=xc(0)),this.currentAnimation=W7(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:g=>{this.mixTargetDelta(g),l.onUpdate&&l.onUpdate(g)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(iz),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:d,layout:h,latestValues:g}=l;if(!(!c||!d||!h)){if(this!==l&&this.layout&&h&&QA(this.options.animationType,this.layout.layoutBox,h.layoutBox)){d=this.target||Ht();const y=Gn(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+y;const v=Gn(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+v}Ur(c,d),Zl(c,g),Yu(this.projectionDeltaWithTransform,this.layoutCorrected,c,g)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new rz),this.sharedNodes.get(l).add(c);const h=c.options.initialPromotionConfig;c.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var c;const{layoutId:l}=this.options;return l?((c=this.getStack())==null?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:l}=this.options;return l?(c=this.getStack())==null?void 0:c.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:d}={}){const h=this.getStack();h&&h.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const h={};d.z&&Dy("z",l,h,this.animationValues);for(let g=0;g<Ry.length;g++)Dy(`rotate${Ry[g]}`,l,h,this.animationValues),Dy(`skew${Ry[g]}`,l,h,this.animationValues);l.render();for(const g in h)l.setStaticValue(g,h[g]),this.animationValues&&(this.animationValues[g]=h[g]);l.scheduleRender()}applyProjectionStyles(l,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=qf(c==null?void 0:c.pointerEvents)||"",l.transform=d?d(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=qf(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!ka(this.latestValues)&&(l.transform=d?d({},""):"none",this.hasProjected=!1);return}l.visibility="";const g=h.animationValues||h.latestValues;this.applyTransformsToTarget();let y=sz(this.projectionDeltaWithTransform,this.treeScale,g);d&&(y=d(g,y)),l.transform=y;const{x:v,y:b}=this.projectionDelta;l.transformOrigin=`${v.origin*100}% ${b.origin*100}% 0`,h.animationValues?l.opacity=h===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:l.opacity=h===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const S in pd){if(g[S]===void 0)continue;const{correct:k,applyTo:T,isCSSVariable:C}=pd[S],P=y==="none"?g[S]:k(g[S],h);if(T){const R=T.length;for(let L=0;L<R;L++)l[T[L]]=P}else C?this.options.visualElement.renderState.vars[S]=P:l[S]=P}this.options.layoutId&&(l.pointerEvents=h===this?qf(c==null?void 0:c.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var c;return(c=l.currentAnimation)==null?void 0:c.stop()}),this.root.nodes.forEach(e1),this.root.sharedNodes.clear()}}}function az(t){t.updateLayout()}function lz(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:o}=t.options,l=e.source!==t.layout.source;o==="size"?Br(y=>{const v=l?e.measuredBox[y]:e.layoutBox[y],b=Gn(v);v.min=r[y].min,v.max=v.min+b}):QA(o,e.layoutBox,r)&&Br(y=>{const v=l?e.measuredBox[y]:e.layoutBox[y],b=Gn(r[y]);v.max=v.min+b,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+b)});const c=ec();Yu(c,r,e.layoutBox);const d=ec();l?Yu(d,t.applyTransform(s,!0),e.measuredBox):Yu(d,r,e.layoutBox);const h=!qA(c);let g=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:b}=y;if(v&&b){const S=Ht();Qu(S,e.layoutBox,v.layoutBox);const k=Ht();Qu(k,r,b.layoutBox),KA(S,k)||(g=!0),y.options.layoutRoot&&(t.relativeTarget=k,t.relativeTargetOrigin=S,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:d,layoutDelta:c,hasLayoutChanged:h,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function cz(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function uz(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function dz(t){t.clearSnapshot()}function e1(t){t.clearMeasurements()}function t1(t){t.isLayoutDirty=!1}function hz(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function n1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function fz(t){t.resolveTargetDelta()}function pz(t){t.calcProjection()}function mz(t){t.resetSkewAndRotation()}function gz(t){t.removeLeadSnapshot()}function r1(t,e,n){t.translate=Rt(e.translate,0,n),t.scale=Rt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function s1(t,e,n,r){t.min=Rt(e.min,n.min,r),t.max=Rt(e.max,n.max,r)}function yz(t,e,n,r){s1(t.x,e.x,n.x,r),s1(t.y,e.y,n.y,r)}function vz(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const wz={duration:.45,ease:[.4,0,.1,1]},i1=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),o1=i1("applewebkit/")&&!i1("chrome/")?Math.round:Hr;function a1(t){t.min=o1(t.min),t.max=o1(t.max)}function xz(t){a1(t.x),a1(t.y)}function QA(t,e,n){return t==="position"||t==="preserve-aspect"&&!T7(JS(e),JS(n),.2)}function _z(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const bz=YA({attachResizeListener:(t,e)=>md(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),My={current:void 0},XA=YA({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!My.current){const t=new bz({});t.mount(window),t.setOptions({layoutScroll:!0}),My.current=t}return My.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Ez={pan:{Feature:B7},drag:{Feature:U7,ProjectionNode:XA,MeasureLayout:zA}};function l1(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,o=r[s];o&&It.postRender(()=>o(e,$d(e)))}class kz extends qo{mount(){const{current:e}=this.node;e&&(this.unmount=K8(e,(n,r)=>(l1(this.node,r,"Start"),s=>l1(this.node,s,"End"))))}unmount(){}}class Sz extends qo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Vd(md(this.node.current,"focus",()=>this.onFocus()),md(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function c1(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),o=r[s];o&&It.postRender(()=>o(e,$d(e)))}class Tz extends qo{mount(){const{current:e}=this.node;e&&(this.unmount=X8(e,(n,r)=>(c1(this.node,r,"Start"),(s,{success:o})=>c1(this.node,s,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ev=new WeakMap,jy=new WeakMap,Iz=t=>{const e=ev.get(t.target);e&&e(t)},Cz=t=>{t.forEach(Iz)};function Nz({root:t,...e}){const n=t||document;jy.has(n)||jy.set(n,{});const r=jy.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(Cz,{root:t,...e})),r[s]}function Az(t,e,n){const r=Nz(e);return ev.set(t,n),r.observe(t),()=>{ev.delete(t),r.unobserve(t)}}const Pz={some:0,all:1};class Rz extends qo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:o}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:Pz[s]},c=d=>{const{isIntersecting:h}=d;if(this.isInView===h||(this.isInView=h,o&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:g,onViewportLeave:y}=this.node.getProps(),v=h?g:y;v&&v(d)};return Az(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Dz(e,n))&&this.startObserver()}unmount(){}}function Dz({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Mz={inView:{Feature:Rz},tap:{Feature:Tz},focus:{Feature:Sz},hover:{Feature:kz}},jz={layout:{ProjectionNode:XA,MeasureLayout:zA}},Oz={...x7,...Mz,...Ez,...jz},Qs=O$(Oz,Y$);function Lz({matchName:t,onDismiss:e,onSeeMatches:n}){const r=Zs(),s=()=>{n&&n(),r(it("Matches")),e()};return f.jsxs(Qs.div,{initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.9},transition:{type:"spring",stiffness:200,damping:20},className:"fixed bottom-6 right-6 z-[100] w-full max-w-sm p-5 bg-gradient-to-br from-pink-500 via-purple-500 to-indigo-600 text-white rounded-xl shadow-2xl",children:[f.jsx("button",{onClick:e,className:"absolute top-3 right-3 p-1 text-white/70 hover:text-white","aria-label":"Dismiss notification",children:f.jsx(yn,{className:"w-5 h-5"})}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx(EO,{className:"w-10 h-10 text-yellow-300 flex-shrink-0"}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-bold",children:"It's a Match!"}),f.jsxs("p",{className:"text-sm opacity-90",children:["You and ",t," liked each other."]})]})]}),f.jsxs(Re,{onClick:s,className:"mt-4 w-full bg-white/20 hover:bg-white/30 text-white backdrop-blur-sm border border-white/30",children:["See Matches ",f.jsx(Cv,{className:"w-4 h-4 ml-2"})]})]})}function Vz({senderName:t,senderSessionId:e,onDismiss:n,onView:r}){const s=Zs(),o=()=>{r&&r(),s(it(`Matches?openChat=${e}`)),n()};return f.jsxs(Qs.div,{initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.9},transition:{type:"spring",stiffness:200,damping:20},className:"fixed bottom-6 right-6 z-[100] w-full max-w-sm p-5 bg-gradient-to-br from-blue-500 via-sky-500 to-cyan-600 text-white rounded-xl shadow-2xl",children:[f.jsx("button",{onClick:n,className:"absolute top-3 right-3 p-1 text-white/70 hover:text-white","aria-label":"Dismiss notification",children:f.jsx(yn,{className:"w-5 h-5"})}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx(dc,{className:"w-10 h-10 text-white/80 flex-shrink-0"}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-bold",children:"New Message"}),f.jsxs("p",{className:"text-sm opacity-90",children:["You have a new message from ",t,"."]})]})]}),f.jsxs(Re,{onClick:o,className:"mt-4 w-full bg-white/20 hover:bg-white/30 text-white backdrop-blur-sm border border-white/30",children:["View Message ",f.jsx(Cv,{className:"w-4 h-4 ml-2"})]})]})}const Mn=x.forwardRef(({className:t,type:e,...n},r)=>f.jsx("input",{type:e,className:Fe("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Mn.displayName="Input";const gd=x.forwardRef(({className:t,...e},n)=>f.jsx("textarea",{className:Fe("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));gd.displayName="Textarea";var Fz=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],nt=Fz.reduce((t,e)=>{const n=wc(`Primitive.${e}`),r=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(d,{...c,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Uz(t,e){t&&kd.flushSync(()=>t.dispatchEvent(e))}var Bz="Label",JA=x.forwardRef((t,e)=>f.jsx(nt.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));JA.displayName=Bz;var ZA=JA;const $z=lm("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),qt=x.forwardRef(({className:t,...e},n)=>f.jsx(ZA,{ref:n,className:Fe($z(),t),...e}));qt.displayName=ZA.displayName;function Tp(t,[e,n]){return Math.min(n,Math.max(e,t))}function st(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function zz(t,e){const n=x.createContext(e),r=o=>{const{children:l,...c}=o,d=x.useMemo(()=>c,Object.values(c));return f.jsx(n.Provider,{value:d,children:l})};r.displayName=t+"Provider";function s(o){const l=x.useContext(n);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,s]}function Za(t,e=[]){let n=[];function r(o,l){const c=x.createContext(l),d=n.length;n=[...n,l];const h=y=>{var C;const{scope:v,children:b,...S}=y,k=((C=v==null?void 0:v[t])==null?void 0:C[d])||c,T=x.useMemo(()=>S,Object.values(S));return f.jsx(k.Provider,{value:T,children:b})};h.displayName=o+"Provider";function g(y,v){var k;const b=((k=v==null?void 0:v[t])==null?void 0:k[d])||c,S=x.useContext(b);if(S)return S;if(l!==void 0)return l;throw new Error(`\`${y}\` must be used within \`${o}\``)}return[h,g]}const s=()=>{const o=n.map(l=>x.createContext(l));return function(c){const d=(c==null?void 0:c[t])||o;return x.useMemo(()=>({[`__scope${t}`]:{...c,[t]:d}}),[c,d])}};return s.scopeName=t,[r,Hz(s,...e)]}function Hz(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=r.reduce((c,{useScope:d,scopeName:h})=>{const y=d(o)[`__scope${h}`];return{...c,...y}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return n.scopeName=e.scopeName,n}function eP(t){const e=t+"CollectionProvider",[n,r]=Za(e),[s,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),l=k=>{const{scope:T,children:C}=k,P=me.useRef(null),R=me.useRef(new Map).current;return f.jsx(s,{scope:T,itemMap:R,collectionRef:P,children:C})};l.displayName=e;const c=t+"CollectionSlot",d=wc(c),h=me.forwardRef((k,T)=>{const{scope:C,children:P}=k,R=o(c,C),L=ct(T,R.collectionRef);return f.jsx(d,{ref:L,children:P})});h.displayName=c;const g=t+"CollectionItemSlot",y="data-radix-collection-item",v=wc(g),b=me.forwardRef((k,T)=>{const{scope:C,children:P,...R}=k,L=me.useRef(null),F=ct(T,L),q=o(g,C);return me.useEffect(()=>(q.itemMap.set(L,{ref:L,...R}),()=>void q.itemMap.delete(L))),f.jsx(v,{[y]:"",ref:F,children:P})});b.displayName=g;function S(k){const T=o(t+"CollectionConsumer",k);return me.useCallback(()=>{const P=T.collectionRef.current;if(!P)return[];const R=Array.from(P.querySelectorAll(`[${y}]`));return Array.from(T.itemMap.values()).sort((q,M)=>R.indexOf(q.ref.current)-R.indexOf(M.ref.current))},[T.collectionRef,T.itemMap])}return[{Provider:l,Slot:h,ItemSlot:b},S,r]}var Wz=x.createContext(void 0);function tP(t){const e=x.useContext(Wz);return t||e||"ltr"}function $a(t){const e=x.useRef(t);return x.useEffect(()=>{e.current=t}),x.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function qz(t,e=globalThis==null?void 0:globalThis.document){const n=$a(t);x.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var Kz="DismissableLayer",tv="dismissableLayer.update",Gz="dismissableLayer.pointerDownOutside",Yz="dismissableLayer.focusOutside",u1,nP=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),gx=x.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:l,onDismiss:c,...d}=t,h=x.useContext(nP),[g,y]=x.useState(null),v=(g==null?void 0:g.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,b]=x.useState({}),S=ct(e,M=>y(M)),k=Array.from(h.layers),[T]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),C=k.indexOf(T),P=g?k.indexOf(g):-1,R=h.layersWithOutsidePointerEventsDisabled.size>0,L=P>=C,F=Jz(M=>{const N=M.target,O=[...h.branches].some(V=>V.contains(N));!L||O||(s==null||s(M),l==null||l(M),M.defaultPrevented||c==null||c())},v),q=Zz(M=>{const N=M.target;[...h.branches].some(V=>V.contains(N))||(o==null||o(M),l==null||l(M),M.defaultPrevented||c==null||c())},v);return qz(M=>{P===h.layers.size-1&&(r==null||r(M),!M.defaultPrevented&&c&&(M.preventDefault(),c()))},v),x.useEffect(()=>{if(g)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(u1=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(g)),h.layers.add(g),d1(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=u1)}},[g,v,n,h]),x.useEffect(()=>()=>{g&&(h.layers.delete(g),h.layersWithOutsidePointerEventsDisabled.delete(g),d1())},[g,h]),x.useEffect(()=>{const M=()=>b({});return document.addEventListener(tv,M),()=>document.removeEventListener(tv,M)},[]),f.jsx(nt.div,{...d,ref:S,style:{pointerEvents:R?L?"auto":"none":void 0,...t.style},onFocusCapture:st(t.onFocusCapture,q.onFocusCapture),onBlurCapture:st(t.onBlurCapture,q.onBlurCapture),onPointerDownCapture:st(t.onPointerDownCapture,F.onPointerDownCapture)})});gx.displayName=Kz;var Qz="DismissableLayerBranch",Xz=x.forwardRef((t,e)=>{const n=x.useContext(nP),r=x.useRef(null),s=ct(e,r);return x.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),f.jsx(nt.div,{...t,ref:s})});Xz.displayName=Qz;function Jz(t,e=globalThis==null?void 0:globalThis.document){const n=$a(t),r=x.useRef(!1),s=x.useRef(()=>{});return x.useEffect(()=>{const o=c=>{if(c.target&&!r.current){let d=function(){rP(Gz,n,h,{discrete:!0})};const h={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=d,e.addEventListener("click",s.current,{once:!0})):d()}else e.removeEventListener("click",s.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Zz(t,e=globalThis==null?void 0:globalThis.document){const n=$a(t),r=x.useRef(!1);return x.useEffect(()=>{const s=o=>{o.target&&!r.current&&rP(Yz,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function d1(){const t=new CustomEvent(tv);document.dispatchEvent(t)}function rP(t,e,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Uz(s,o):s.dispatchEvent(o)}var Oy=0;function sP(){x.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??h1()),document.body.insertAdjacentElement("beforeend",t[1]??h1()),Oy++,()=>{Oy===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Oy--}},[])}function h1(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Ly="focusScope.autoFocusOnMount",Vy="focusScope.autoFocusOnUnmount",f1={bubbles:!1,cancelable:!0},eH="FocusScope",yx=x.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...l}=t,[c,d]=x.useState(null),h=$a(s),g=$a(o),y=x.useRef(null),v=ct(e,k=>d(k)),b=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(r){let k=function(R){if(b.paused||!c)return;const L=R.target;c.contains(L)?y.current=L:wo(y.current,{select:!0})},T=function(R){if(b.paused||!c)return;const L=R.relatedTarget;L!==null&&(c.contains(L)||wo(y.current,{select:!0}))},C=function(R){if(document.activeElement===document.body)for(const F of R)F.removedNodes.length>0&&wo(c)};document.addEventListener("focusin",k),document.addEventListener("focusout",T);const P=new MutationObserver(C);return c&&P.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",k),document.removeEventListener("focusout",T),P.disconnect()}}},[r,c,b.paused]),x.useEffect(()=>{if(c){m1.add(b);const k=document.activeElement;if(!c.contains(k)){const C=new CustomEvent(Ly,f1);c.addEventListener(Ly,h),c.dispatchEvent(C),C.defaultPrevented||(tH(oH(iP(c)),{select:!0}),document.activeElement===k&&wo(c))}return()=>{c.removeEventListener(Ly,h),setTimeout(()=>{const C=new CustomEvent(Vy,f1);c.addEventListener(Vy,g),c.dispatchEvent(C),C.defaultPrevented||wo(k??document.body,{select:!0}),c.removeEventListener(Vy,g),m1.remove(b)},0)}}},[c,h,g,b]);const S=x.useCallback(k=>{if(!n&&!r||b.paused)return;const T=k.key==="Tab"&&!k.altKey&&!k.ctrlKey&&!k.metaKey,C=document.activeElement;if(T&&C){const P=k.currentTarget,[R,L]=nH(P);R&&L?!k.shiftKey&&C===L?(k.preventDefault(),n&&wo(R,{select:!0})):k.shiftKey&&C===R&&(k.preventDefault(),n&&wo(L,{select:!0})):C===P&&k.preventDefault()}},[n,r,b.paused]);return f.jsx(nt.div,{tabIndex:-1,...l,ref:v,onKeyDown:S})});yx.displayName=eH;function tH(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(wo(r,{select:e}),document.activeElement!==n)return}function nH(t){const e=iP(t),n=p1(e,t),r=p1(e.reverse(),t);return[n,r]}function iP(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function p1(t,e){for(const n of t)if(!rH(n,{upTo:e}))return n}function rH(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function sH(t){return t instanceof HTMLInputElement&&"select"in t}function wo(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&sH(t)&&e&&t.select()}}var m1=iH();function iH(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=g1(t,e),t.unshift(e)},remove(e){var n;t=g1(t,e),(n=t[0])==null||n.resume()}}}function g1(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function oH(t){return t.filter(e=>e.tagName!=="A")}var Vn=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},aH=W1[" useId ".trim().toString()]||(()=>{}),lH=0;function ac(t){const[e,n]=x.useState(aH());return Vn(()=>{n(r=>r??String(lH++))},[t]),e?`radix-${e}`:""}const cH=["top","right","bottom","left"],Uo=Math.min,Er=Math.max,Ip=Math.round,_f=Math.floor,qs=t=>({x:t,y:t}),uH={left:"right",right:"left",bottom:"top",top:"bottom"},dH={start:"end",end:"start"};function nv(t,e,n){return Er(t,Uo(e,n))}function ji(t,e){return typeof t=="function"?t(e):t}function Oi(t){return t.split("-")[0]}function Vc(t){return t.split("-")[1]}function vx(t){return t==="x"?"y":"x"}function wx(t){return t==="y"?"height":"width"}const hH=new Set(["top","bottom"]);function js(t){return hH.has(Oi(t))?"y":"x"}function xx(t){return vx(js(t))}function fH(t,e,n){n===void 0&&(n=!1);const r=Vc(t),s=xx(t),o=wx(s);let l=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(l=Cp(l)),[l,Cp(l)]}function pH(t){const e=Cp(t);return[rv(t),e,rv(e)]}function rv(t){return t.replace(/start|end/g,e=>dH[e])}const y1=["left","right"],v1=["right","left"],mH=["top","bottom"],gH=["bottom","top"];function yH(t,e,n){switch(t){case"top":case"bottom":return n?e?v1:y1:e?y1:v1;case"left":case"right":return e?mH:gH;default:return[]}}function vH(t,e,n,r){const s=Vc(t);let o=yH(Oi(t),n==="start",r);return s&&(o=o.map(l=>l+"-"+s),e&&(o=o.concat(o.map(rv)))),o}function Cp(t){return t.replace(/left|right|bottom|top/g,e=>uH[e])}function wH(t){return{top:0,right:0,bottom:0,left:0,...t}}function oP(t){return typeof t!="number"?wH(t):{top:t,right:t,bottom:t,left:t}}function Np(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function w1(t,e,n){let{reference:r,floating:s}=t;const o=js(e),l=xx(e),c=wx(l),d=Oi(e),h=o==="y",g=r.x+r.width/2-s.width/2,y=r.y+r.height/2-s.height/2,v=r[c]/2-s[c]/2;let b;switch(d){case"top":b={x:g,y:r.y-s.height};break;case"bottom":b={x:g,y:r.y+r.height};break;case"right":b={x:r.x+r.width,y};break;case"left":b={x:r.x-s.width,y};break;default:b={x:r.x,y:r.y}}switch(Vc(e)){case"start":b[l]-=v*(n&&h?-1:1);break;case"end":b[l]+=v*(n&&h?-1:1);break}return b}const xH=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:l}=n,c=o.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(e));let h=await l.getElementRects({reference:t,floating:e,strategy:s}),{x:g,y}=w1(h,r,d),v=r,b={},S=0;for(let k=0;k<c.length;k++){const{name:T,fn:C}=c[k],{x:P,y:R,data:L,reset:F}=await C({x:g,y,initialPlacement:r,placement:v,strategy:s,middlewareData:b,rects:h,platform:l,elements:{reference:t,floating:e}});g=P??g,y=R??y,b={...b,[T]:{...b[T],...L}},F&&S<=50&&(S++,typeof F=="object"&&(F.placement&&(v=F.placement),F.rects&&(h=F.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:s}):F.rects),{x:g,y}=w1(h,v,d)),k=-1)}return{x:g,y,placement:v,strategy:s,middlewareData:b}};async function yd(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:o,rects:l,elements:c,strategy:d}=t,{boundary:h="clippingAncestors",rootBoundary:g="viewport",elementContext:y="floating",altBoundary:v=!1,padding:b=0}=ji(e,t),S=oP(b),T=c[v?y==="floating"?"reference":"floating":y],C=Np(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(T)))==null||n?T:T.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(c.floating)),boundary:h,rootBoundary:g,strategy:d})),P=y==="floating"?{x:r,y:s,width:l.floating.width,height:l.floating.height}:l.reference,R=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c.floating)),L=await(o.isElement==null?void 0:o.isElement(R))?await(o.getScale==null?void 0:o.getScale(R))||{x:1,y:1}:{x:1,y:1},F=Np(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:P,offsetParent:R,strategy:d}):P);return{top:(C.top-F.top+S.top)/L.y,bottom:(F.bottom-C.bottom+S.bottom)/L.y,left:(C.left-F.left+S.left)/L.x,right:(F.right-C.right+S.right)/L.x}}const _H=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:o,platform:l,elements:c,middlewareData:d}=e,{element:h,padding:g=0}=ji(t,e)||{};if(h==null)return{};const y=oP(g),v={x:n,y:r},b=xx(s),S=wx(b),k=await l.getDimensions(h),T=b==="y",C=T?"top":"left",P=T?"bottom":"right",R=T?"clientHeight":"clientWidth",L=o.reference[S]+o.reference[b]-v[b]-o.floating[S],F=v[b]-o.reference[b],q=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h));let M=q?q[R]:0;(!M||!await(l.isElement==null?void 0:l.isElement(q)))&&(M=c.floating[R]||o.floating[S]);const N=L/2-F/2,O=M/2-k[S]/2-1,V=Uo(y[C],O),U=Uo(y[P],O),$=V,D=M-k[S]-U,se=M/2-k[S]/2+N,ie=nv($,se,D),ee=!d.arrow&&Vc(s)!=null&&se!==ie&&o.reference[S]/2-(se<$?V:U)-k[S]/2<0,te=ee?se<$?se-$:se-D:0;return{[b]:v[b]+te,data:{[b]:ie,centerOffset:se-ie-te,...ee&&{alignmentOffset:te}},reset:ee}}}),bH=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:o,rects:l,initialPlacement:c,platform:d,elements:h}=e,{mainAxis:g=!0,crossAxis:y=!0,fallbackPlacements:v,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:k=!0,...T}=ji(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const C=Oi(s),P=js(c),R=Oi(c)===c,L=await(d.isRTL==null?void 0:d.isRTL(h.floating)),F=v||(R||!k?[Cp(c)]:pH(c)),q=S!=="none";!v&&q&&F.push(...vH(c,k,S,L));const M=[c,...F],N=await yd(e,T),O=[];let V=((r=o.flip)==null?void 0:r.overflows)||[];if(g&&O.push(N[C]),y){const se=fH(s,l,L);O.push(N[se[0]],N[se[1]])}if(V=[...V,{placement:s,overflows:O}],!O.every(se=>se<=0)){var U,$;const se=(((U=o.flip)==null?void 0:U.index)||0)+1,ie=M[se];if(ie&&(!(y==="alignment"?P!==js(ie):!1)||V.every(z=>js(z.placement)===P?z.overflows[0]>0:!0)))return{data:{index:se,overflows:V},reset:{placement:ie}};let ee=($=V.filter(te=>te.overflows[0]<=0).sort((te,z)=>te.overflows[1]-z.overflows[1])[0])==null?void 0:$.placement;if(!ee)switch(b){case"bestFit":{var D;const te=(D=V.filter(z=>{if(q){const oe=js(z.placement);return oe===P||oe==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(oe=>oe>0).reduce((oe,le)=>oe+le,0)]).sort((z,oe)=>z[1]-oe[1])[0])==null?void 0:D[0];te&&(ee=te);break}case"initialPlacement":ee=c;break}if(s!==ee)return{reset:{placement:ee}}}return{}}}};function x1(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function _1(t){return cH.some(e=>t[e]>=0)}const EH=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=ji(t,e);switch(r){case"referenceHidden":{const o=await yd(e,{...s,elementContext:"reference"}),l=x1(o,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:_1(l)}}}case"escaped":{const o=await yd(e,{...s,altBoundary:!0}),l=x1(o,n.floating);return{data:{escapedOffsets:l,escaped:_1(l)}}}default:return{}}}}},aP=new Set(["left","top"]);async function kH(t,e){const{placement:n,platform:r,elements:s}=t,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),l=Oi(n),c=Vc(n),d=js(n)==="y",h=aP.has(l)?-1:1,g=o&&d?-1:1,y=ji(e,t);let{mainAxis:v,crossAxis:b,alignmentAxis:S}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return c&&typeof S=="number"&&(b=c==="end"?S*-1:S),d?{x:b*g,y:v*h}:{x:v*h,y:b*g}}const SH=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:o,placement:l,middlewareData:c}=e,d=await kH(e,t);return l===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:s+d.x,y:o+d.y,data:{...d,placement:l}}}}},TH=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:o=!0,crossAxis:l=!1,limiter:c={fn:T=>{let{x:C,y:P}=T;return{x:C,y:P}}},...d}=ji(t,e),h={x:n,y:r},g=await yd(e,d),y=js(Oi(s)),v=vx(y);let b=h[v],S=h[y];if(o){const T=v==="y"?"top":"left",C=v==="y"?"bottom":"right",P=b+g[T],R=b-g[C];b=nv(P,b,R)}if(l){const T=y==="y"?"top":"left",C=y==="y"?"bottom":"right",P=S+g[T],R=S-g[C];S=nv(P,S,R)}const k=c.fn({...e,[v]:b,[y]:S});return{...k,data:{x:k.x-n,y:k.y-r,enabled:{[v]:o,[y]:l}}}}}},IH=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:o,middlewareData:l}=e,{offset:c=0,mainAxis:d=!0,crossAxis:h=!0}=ji(t,e),g={x:n,y:r},y=js(s),v=vx(y);let b=g[v],S=g[y];const k=ji(c,e),T=typeof k=="number"?{mainAxis:k,crossAxis:0}:{mainAxis:0,crossAxis:0,...k};if(d){const R=v==="y"?"height":"width",L=o.reference[v]-o.floating[R]+T.mainAxis,F=o.reference[v]+o.reference[R]-T.mainAxis;b<L?b=L:b>F&&(b=F)}if(h){var C,P;const R=v==="y"?"width":"height",L=aP.has(Oi(s)),F=o.reference[y]-o.floating[R]+(L&&((C=l.offset)==null?void 0:C[y])||0)+(L?0:T.crossAxis),q=o.reference[y]+o.reference[R]+(L?0:((P=l.offset)==null?void 0:P[y])||0)-(L?T.crossAxis:0);S<F?S=F:S>q&&(S=q)}return{[v]:b,[y]:S}}}},CH=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:o,platform:l,elements:c}=e,{apply:d=()=>{},...h}=ji(t,e),g=await yd(e,h),y=Oi(s),v=Vc(s),b=js(s)==="y",{width:S,height:k}=o.floating;let T,C;y==="top"||y==="bottom"?(T=y,C=v===(await(l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(C=y,T=v==="end"?"top":"bottom");const P=k-g.top-g.bottom,R=S-g.left-g.right,L=Uo(k-g[T],P),F=Uo(S-g[C],R),q=!e.middlewareData.shift;let M=L,N=F;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(N=R),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(M=P),q&&!v){const V=Er(g.left,0),U=Er(g.right,0),$=Er(g.top,0),D=Er(g.bottom,0);b?N=S-2*(V!==0||U!==0?V+U:Er(g.left,g.right)):M=k-2*($!==0||D!==0?$+D:Er(g.top,g.bottom))}await d({...e,availableWidth:N,availableHeight:M});const O=await l.getDimensions(c.floating);return S!==O.width||k!==O.height?{reset:{rects:!0}}:{}}}};function fm(){return typeof window<"u"}function Fc(t){return lP(t)?(t.nodeName||"").toLowerCase():"#document"}function Cr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ti(t){var e;return(e=(lP(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function lP(t){return fm()?t instanceof Node||t instanceof Cr(t).Node:!1}function gs(t){return fm()?t instanceof Element||t instanceof Cr(t).Element:!1}function Xs(t){return fm()?t instanceof HTMLElement||t instanceof Cr(t).HTMLElement:!1}function b1(t){return!fm()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Cr(t).ShadowRoot}const NH=new Set(["inline","contents"]);function zd(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=ys(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!NH.has(s)}const AH=new Set(["table","td","th"]);function PH(t){return AH.has(Fc(t))}const RH=[":popover-open",":modal"];function pm(t){return RH.some(e=>{try{return t.matches(e)}catch{return!1}})}const DH=["transform","translate","scale","rotate","perspective"],MH=["transform","translate","scale","rotate","perspective","filter"],jH=["paint","layout","strict","content"];function _x(t){const e=bx(),n=gs(t)?ys(t):t;return DH.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||MH.some(r=>(n.willChange||"").includes(r))||jH.some(r=>(n.contain||"").includes(r))}function OH(t){let e=Bo(t);for(;Xs(e)&&!bc(e);){if(_x(e))return e;if(pm(e))return null;e=Bo(e)}return null}function bx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const LH=new Set(["html","body","#document"]);function bc(t){return LH.has(Fc(t))}function ys(t){return Cr(t).getComputedStyle(t)}function mm(t){return gs(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Bo(t){if(Fc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||b1(t)&&t.host||ti(t);return b1(e)?e.host:e}function cP(t){const e=Bo(t);return bc(e)?t.ownerDocument?t.ownerDocument.body:t.body:Xs(e)&&zd(e)?e:cP(e)}function vd(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=cP(t),o=s===((r=t.ownerDocument)==null?void 0:r.body),l=Cr(s);if(o){const c=sv(l);return e.concat(l,l.visualViewport||[],zd(s)?s:[],c&&n?vd(c):[])}return e.concat(s,vd(s,[],n))}function sv(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function uP(t){const e=ys(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Xs(t),o=s?t.offsetWidth:n,l=s?t.offsetHeight:r,c=Ip(n)!==o||Ip(r)!==l;return c&&(n=o,r=l),{width:n,height:r,$:c}}function Ex(t){return gs(t)?t:t.contextElement}function lc(t){const e=Ex(t);if(!Xs(e))return qs(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:o}=uP(e);let l=(o?Ip(n.width):n.width)/r,c=(o?Ip(n.height):n.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const VH=qs(0);function dP(t){const e=Cr(t);return!bx()||!e.visualViewport?VH:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function FH(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Cr(t)?!1:e}function za(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),o=Ex(t);let l=qs(1);e&&(r?gs(r)&&(l=lc(r)):l=lc(t));const c=FH(o,n,r)?dP(o):qs(0);let d=(s.left+c.x)/l.x,h=(s.top+c.y)/l.y,g=s.width/l.x,y=s.height/l.y;if(o){const v=Cr(o),b=r&&gs(r)?Cr(r):r;let S=v,k=sv(S);for(;k&&r&&b!==S;){const T=lc(k),C=k.getBoundingClientRect(),P=ys(k),R=C.left+(k.clientLeft+parseFloat(P.paddingLeft))*T.x,L=C.top+(k.clientTop+parseFloat(P.paddingTop))*T.y;d*=T.x,h*=T.y,g*=T.x,y*=T.y,d+=R,h+=L,S=Cr(k),k=sv(S)}}return Np({width:g,height:y,x:d,y:h})}function kx(t,e){const n=mm(t).scrollLeft;return e?e.left+n:za(ti(t)).left+n}function hP(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:kx(t,r)),o=r.top+e.scrollTop;return{x:s,y:o}}function UH(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const o=s==="fixed",l=ti(r),c=e?pm(e.floating):!1;if(r===l||c&&o)return n;let d={scrollLeft:0,scrollTop:0},h=qs(1);const g=qs(0),y=Xs(r);if((y||!y&&!o)&&((Fc(r)!=="body"||zd(l))&&(d=mm(r)),Xs(r))){const b=za(r);h=lc(r),g.x=b.x+r.clientLeft,g.y=b.y+r.clientTop}const v=l&&!y&&!o?hP(l,d,!0):qs(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-d.scrollLeft*h.x+g.x+v.x,y:n.y*h.y-d.scrollTop*h.y+g.y+v.y}}function BH(t){return Array.from(t.getClientRects())}function $H(t){const e=ti(t),n=mm(t),r=t.ownerDocument.body,s=Er(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=Er(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+kx(t);const c=-n.scrollTop;return ys(r).direction==="rtl"&&(l+=Er(e.clientWidth,r.clientWidth)-s),{width:s,height:o,x:l,y:c}}function zH(t,e){const n=Cr(t),r=ti(t),s=n.visualViewport;let o=r.clientWidth,l=r.clientHeight,c=0,d=0;if(s){o=s.width,l=s.height;const h=bx();(!h||h&&e==="fixed")&&(c=s.offsetLeft,d=s.offsetTop)}return{width:o,height:l,x:c,y:d}}const HH=new Set(["absolute","fixed"]);function WH(t,e){const n=za(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,o=Xs(t)?lc(t):qs(1),l=t.clientWidth*o.x,c=t.clientHeight*o.y,d=s*o.x,h=r*o.y;return{width:l,height:c,x:d,y:h}}function E1(t,e,n){let r;if(e==="viewport")r=zH(t,n);else if(e==="document")r=$H(ti(t));else if(gs(e))r=WH(e,n);else{const s=dP(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Np(r)}function fP(t,e){const n=Bo(t);return n===e||!gs(n)||bc(n)?!1:ys(n).position==="fixed"||fP(n,e)}function qH(t,e){const n=e.get(t);if(n)return n;let r=vd(t,[],!1).filter(c=>gs(c)&&Fc(c)!=="body"),s=null;const o=ys(t).position==="fixed";let l=o?Bo(t):t;for(;gs(l)&&!bc(l);){const c=ys(l),d=_x(l);!d&&c.position==="fixed"&&(s=null),(o?!d&&!s:!d&&c.position==="static"&&!!s&&HH.has(s.position)||zd(l)&&!d&&fP(t,l))?r=r.filter(g=>g!==l):s=c,l=Bo(l)}return e.set(t,r),r}function KH(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const l=[...n==="clippingAncestors"?pm(e)?[]:qH(e,this._c):[].concat(n),r],c=l[0],d=l.reduce((h,g)=>{const y=E1(e,g,s);return h.top=Er(y.top,h.top),h.right=Uo(y.right,h.right),h.bottom=Uo(y.bottom,h.bottom),h.left=Er(y.left,h.left),h},E1(e,c,s));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function GH(t){const{width:e,height:n}=uP(t);return{width:e,height:n}}function YH(t,e,n){const r=Xs(e),s=ti(e),o=n==="fixed",l=za(t,!0,o,e);let c={scrollLeft:0,scrollTop:0};const d=qs(0);function h(){d.x=kx(s)}if(r||!r&&!o)if((Fc(e)!=="body"||zd(s))&&(c=mm(e)),r){const b=za(e,!0,o,e);d.x=b.x+e.clientLeft,d.y=b.y+e.clientTop}else s&&h();o&&!r&&s&&h();const g=s&&!r&&!o?hP(s,c):qs(0),y=l.left+c.scrollLeft-d.x-g.x,v=l.top+c.scrollTop-d.y-g.y;return{x:y,y:v,width:l.width,height:l.height}}function Fy(t){return ys(t).position==="static"}function k1(t,e){if(!Xs(t)||ys(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ti(t)===n&&(n=n.ownerDocument.body),n}function pP(t,e){const n=Cr(t);if(pm(t))return n;if(!Xs(t)){let s=Bo(t);for(;s&&!bc(s);){if(gs(s)&&!Fy(s))return s;s=Bo(s)}return n}let r=k1(t,e);for(;r&&PH(r)&&Fy(r);)r=k1(r,e);return r&&bc(r)&&Fy(r)&&!_x(r)?n:r||OH(t)||n}const QH=async function(t){const e=this.getOffsetParent||pP,n=this.getDimensions,r=await n(t.floating);return{reference:YH(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function XH(t){return ys(t).direction==="rtl"}const JH={convertOffsetParentRelativeRectToViewportRelativeRect:UH,getDocumentElement:ti,getClippingRect:KH,getOffsetParent:pP,getElementRects:QH,getClientRects:BH,getDimensions:GH,getScale:lc,isElement:gs,isRTL:XH};function mP(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function ZH(t,e){let n=null,r;const s=ti(t);function o(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function l(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),o();const h=t.getBoundingClientRect(),{left:g,top:y,width:v,height:b}=h;if(c||e(),!v||!b)return;const S=_f(y),k=_f(s.clientWidth-(g+v)),T=_f(s.clientHeight-(y+b)),C=_f(g),R={rootMargin:-S+"px "+-k+"px "+-T+"px "+-C+"px",threshold:Er(0,Uo(1,d))||1};let L=!0;function F(q){const M=q[0].intersectionRatio;if(M!==d){if(!L)return l();M?l(!1,M):r=setTimeout(()=>{l(!1,1e-7)},1e3)}M===1&&!mP(h,t.getBoundingClientRect())&&l(),L=!1}try{n=new IntersectionObserver(F,{...R,root:s.ownerDocument})}catch{n=new IntersectionObserver(F,R)}n.observe(t)}return l(!0),o}function eW(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,h=Ex(t),g=s||o?[...h?vd(h):[],...vd(e)]:[];g.forEach(C=>{s&&C.addEventListener("scroll",n,{passive:!0}),o&&C.addEventListener("resize",n)});const y=h&&c?ZH(h,n):null;let v=-1,b=null;l&&(b=new ResizeObserver(C=>{let[P]=C;P&&P.target===h&&b&&(b.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var R;(R=b)==null||R.observe(e)})),n()}),h&&!d&&b.observe(h),b.observe(e));let S,k=d?za(t):null;d&&T();function T(){const C=za(t);k&&!mP(k,C)&&n(),k=C,S=requestAnimationFrame(T)}return n(),()=>{var C;g.forEach(P=>{s&&P.removeEventListener("scroll",n),o&&P.removeEventListener("resize",n)}),y==null||y(),(C=b)==null||C.disconnect(),b=null,d&&cancelAnimationFrame(S)}}const tW=SH,nW=TH,rW=bH,sW=CH,iW=EH,S1=_H,oW=IH,aW=(t,e,n)=>{const r=new Map,s={platform:JH,...n},o={...s.platform,_c:r};return xH(t,e,{...s,platform:o})};var lW=typeof document<"u",cW=function(){},Gf=lW?x.useLayoutEffect:cW;function Ap(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Ap(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&t.$$typeof)&&!Ap(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function gP(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function T1(t,e){const n=gP(t);return Math.round(e*n)/n}function Uy(t){const e=x.useRef(t);return Gf(()=>{e.current=t}),e}function uW(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:l}={},transform:c=!0,whileElementsMounted:d,open:h}=t,[g,y]=x.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[v,b]=x.useState(r);Ap(v,r)||b(r);const[S,k]=x.useState(null),[T,C]=x.useState(null),P=x.useCallback(z=>{z!==q.current&&(q.current=z,k(z))},[]),R=x.useCallback(z=>{z!==M.current&&(M.current=z,C(z))},[]),L=o||S,F=l||T,q=x.useRef(null),M=x.useRef(null),N=x.useRef(g),O=d!=null,V=Uy(d),U=Uy(s),$=Uy(h),D=x.useCallback(()=>{if(!q.current||!M.current)return;const z={placement:e,strategy:n,middleware:v};U.current&&(z.platform=U.current),aW(q.current,M.current,z).then(oe=>{const le={...oe,isPositioned:$.current!==!1};se.current&&!Ap(N.current,le)&&(N.current=le,kd.flushSync(()=>{y(le)}))})},[v,e,n,U,$]);Gf(()=>{h===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,y(z=>({...z,isPositioned:!1})))},[h]);const se=x.useRef(!1);Gf(()=>(se.current=!0,()=>{se.current=!1}),[]),Gf(()=>{if(L&&(q.current=L),F&&(M.current=F),L&&F){if(V.current)return V.current(L,F,D);D()}},[L,F,D,V,O]);const ie=x.useMemo(()=>({reference:q,floating:M,setReference:P,setFloating:R}),[P,R]),ee=x.useMemo(()=>({reference:L,floating:F}),[L,F]),te=x.useMemo(()=>{const z={position:n,left:0,top:0};if(!ee.floating)return z;const oe=T1(ee.floating,g.x),le=T1(ee.floating,g.y);return c?{...z,transform:"translate("+oe+"px, "+le+"px)",...gP(ee.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:oe,top:le}},[n,c,ee.floating,g.x,g.y]);return x.useMemo(()=>({...g,update:D,refs:ie,elements:ee,floatingStyles:te}),[g,D,ie,ee,te])}const dW=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?S1({element:r.current,padding:s}).fn(n):{}:r?S1({element:r,padding:s}).fn(n):{}}}},hW=(t,e)=>({...tW(t),options:[t,e]}),fW=(t,e)=>({...nW(t),options:[t,e]}),pW=(t,e)=>({...oW(t),options:[t,e]}),mW=(t,e)=>({...rW(t),options:[t,e]}),gW=(t,e)=>({...sW(t),options:[t,e]}),yW=(t,e)=>({...iW(t),options:[t,e]}),vW=(t,e)=>({...dW(t),options:[t,e]});var wW="Arrow",yP=x.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...o}=t;return f.jsx(nt.svg,{...o,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:f.jsx("polygon",{points:"0,0 30,0 15,10"})})});yP.displayName=wW;var xW=yP;function Sx(t){const[e,n]=x.useState(void 0);return Vn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let l,c;if("borderBoxSize"in o){const d=o.borderBoxSize,h=Array.isArray(d)?d[0]:d;l=h.inlineSize,c=h.blockSize}else l=t.offsetWidth,c=t.offsetHeight;n({width:l,height:c})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Tx="Popper",[vP,wP]=Za(Tx),[_W,xP]=vP(Tx),_P=t=>{const{__scopePopper:e,children:n}=t,[r,s]=x.useState(null);return f.jsx(_W,{scope:e,anchor:r,onAnchorChange:s,children:n})};_P.displayName=Tx;var bP="PopperAnchor",EP=x.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,o=xP(bP,n),l=x.useRef(null),c=ct(e,l);return x.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||l.current)}),r?null:f.jsx(nt.div,{...s,ref:c})});EP.displayName=bP;var Ix="PopperContent",[bW,EW]=vP(Ix),kP=x.forwardRef((t,e)=>{var ue,_e,Pe,Ne,$e,He;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:h=[],collisionPadding:g=0,sticky:y="partial",hideWhenDetached:v=!1,updatePositionStrategy:b="optimized",onPlaced:S,...k}=t,T=xP(Ix,n),[C,P]=x.useState(null),R=ct(e,_t=>P(_t)),[L,F]=x.useState(null),q=Sx(L),M=(q==null?void 0:q.width)??0,N=(q==null?void 0:q.height)??0,O=r+(o!=="center"?"-"+o:""),V=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},U=Array.isArray(h)?h:[h],$=U.length>0,D={padding:V,boundary:U.filter(SW),altBoundary:$},{refs:se,floatingStyles:ie,placement:ee,isPositioned:te,middlewareData:z}=uW({strategy:"fixed",placement:O,whileElementsMounted:(..._t)=>eW(..._t,{animationFrame:b==="always"}),elements:{reference:T.anchor},middleware:[hW({mainAxis:s+N,alignmentAxis:l}),d&&fW({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?pW():void 0,...D}),d&&mW({...D}),gW({...D,apply:({elements:_t,rects:Ot,availableWidth:Qn,availableHeight:Xn})=>{const{width:vn,height:ni}=Ot.reference,Bt=_t.floating.style;Bt.setProperty("--radix-popper-available-width",`${Qn}px`),Bt.setProperty("--radix-popper-available-height",`${Xn}px`),Bt.setProperty("--radix-popper-anchor-width",`${vn}px`),Bt.setProperty("--radix-popper-anchor-height",`${ni}px`)}}),L&&vW({element:L,padding:c}),TW({arrowWidth:M,arrowHeight:N}),v&&yW({strategy:"referenceHidden",...D})]}),[oe,le]=IP(ee),H=$a(S);Vn(()=>{te&&(H==null||H())},[te,H]);const X=(ue=z.arrow)==null?void 0:ue.x,ne=(_e=z.arrow)==null?void 0:_e.y,fe=((Pe=z.arrow)==null?void 0:Pe.centerOffset)!==0,[Ee,we]=x.useState();return Vn(()=>{C&&we(window.getComputedStyle(C).zIndex)},[C]),f.jsx("div",{ref:se.setFloating,"data-radix-popper-content-wrapper":"",style:{...ie,transform:te?ie.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ee,"--radix-popper-transform-origin":[(Ne=z.transformOrigin)==null?void 0:Ne.x,($e=z.transformOrigin)==null?void 0:$e.y].join(" "),...((He=z.hide)==null?void 0:He.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:f.jsx(bW,{scope:n,placedSide:oe,onArrowChange:F,arrowX:X,arrowY:ne,shouldHideArrow:fe,children:f.jsx(nt.div,{"data-side":oe,"data-align":le,...k,ref:R,style:{...k.style,animation:te?void 0:"none"}})})})});kP.displayName=Ix;var SP="PopperArrow",kW={top:"bottom",right:"left",bottom:"top",left:"right"},TP=x.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,o=EW(SP,r),l=kW[o.placedSide];return f.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:f.jsx(xW,{...s,ref:n,style:{...s.style,display:"block"}})})});TP.displayName=SP;function SW(t){return t!==null}var TW=t=>({name:"transformOrigin",options:t,fn(e){var T,C,P;const{placement:n,rects:r,middlewareData:s}=e,l=((T=s.arrow)==null?void 0:T.centerOffset)!==0,c=l?0:t.arrowWidth,d=l?0:t.arrowHeight,[h,g]=IP(n),y={start:"0%",center:"50%",end:"100%"}[g],v=(((C=s.arrow)==null?void 0:C.x)??0)+c/2,b=(((P=s.arrow)==null?void 0:P.y)??0)+d/2;let S="",k="";return h==="bottom"?(S=l?y:`${v}px`,k=`${-d}px`):h==="top"?(S=l?y:`${v}px`,k=`${r.floating.height+d}px`):h==="right"?(S=`${-d}px`,k=l?y:`${b}px`):h==="left"&&(S=`${r.floating.width+d}px`,k=l?y:`${b}px`),{data:{x:S,y:k}}}});function IP(t){const[e,n="center"]=t.split("-");return[e,n]}var IW=_P,CW=EP,NW=kP,AW=TP,PW="Portal",Cx=x.forwardRef((t,e)=>{var c;const{container:n,...r}=t,[s,o]=x.useState(!1);Vn(()=>o(!0),[]);const l=n||s&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return l?uT.createPortal(f.jsx(nt.div,{...r,ref:e}),l):null});Cx.displayName=PW;var RW=W1[" useInsertionEffect ".trim().toString()]||Vn;function wd({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,o,l]=DW({defaultProp:e,onChange:n}),c=t!==void 0,d=c?t:s;{const g=x.useRef(t!==void 0);x.useEffect(()=>{const y=g.current;y!==c&&console.warn(`${r} is changing from ${y?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=c},[c,r])}const h=x.useCallback(g=>{var y;if(c){const v=MW(g)?g(t):g;v!==t&&((y=l.current)==null||y.call(l,v))}else o(g)},[c,t,o,l]);return[d,h]}function DW({defaultProp:t,onChange:e}){const[n,r]=x.useState(t),s=x.useRef(n),o=x.useRef(e);return RW(()=>{o.current=e},[e]),x.useEffect(()=>{var l;s.current!==n&&((l=o.current)==null||l.call(o,n),s.current=n)},[n,s]),[n,r,o]}function MW(t){return typeof t=="function"}function Nx(t){const e=x.useRef({value:t,previous:t});return x.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var CP=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),jW="VisuallyHidden",OW=x.forwardRef((t,e)=>f.jsx(nt.span,{...t,ref:e,style:{...CP,...t.style}}));OW.displayName=jW;var LW=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Bl=new WeakMap,bf=new WeakMap,Ef={},By=0,NP=function(t){return t&&(t.host||NP(t.parentNode))},VW=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=NP(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},FW=function(t,e,n,r){var s=VW(e,Array.isArray(t)?t:[t]);Ef[n]||(Ef[n]=new WeakMap);var o=Ef[n],l=[],c=new Set,d=new Set(s),h=function(y){!y||c.has(y)||(c.add(y),h(y.parentNode))};s.forEach(h);var g=function(y){!y||d.has(y)||Array.prototype.forEach.call(y.children,function(v){if(c.has(v))g(v);else try{var b=v.getAttribute(r),S=b!==null&&b!=="false",k=(Bl.get(v)||0)+1,T=(o.get(v)||0)+1;Bl.set(v,k),o.set(v,T),l.push(v),k===1&&S&&bf.set(v,!0),T===1&&v.setAttribute(n,"true"),S||v.setAttribute(r,"true")}catch(C){console.error("aria-hidden: cannot operate on ",v,C)}})};return g(e),c.clear(),By++,function(){l.forEach(function(y){var v=Bl.get(y)-1,b=o.get(y)-1;Bl.set(y,v),o.set(y,b),v||(bf.has(y)||y.removeAttribute(r),bf.delete(y)),b||y.removeAttribute(n)}),By--,By||(Bl=new WeakMap,Bl=new WeakMap,bf=new WeakMap,Ef={})}},AP=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=LW(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),FW(r,s,n,"aria-hidden")):function(){return null}},Ds=function(){return Ds=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Ds.apply(this,arguments)};function PP(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function UW(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var Yf="right-scroll-bar-position",Qf="width-before-scroll-bar",BW="with-scroll-bars-hidden",$W="--removed-body-scroll-bar-size";function $y(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function zW(t,e){var n=x.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var HW=typeof window<"u"?x.useLayoutEffect:x.useEffect,I1=new WeakMap;function WW(t,e){var n=zW(null,function(r){return t.forEach(function(s){return $y(s,r)})});return HW(function(){var r=I1.get(n);if(r){var s=new Set(r),o=new Set(t),l=n.current;s.forEach(function(c){o.has(c)||$y(c,null)}),o.forEach(function(c){s.has(c)||$y(c,l)})}I1.set(n,t)},[t]),n}function qW(t){return t}function KW(t,e){e===void 0&&(e=qW);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var l=e(o,r);return n.push(l),function(){n=n.filter(function(c){return c!==l})}},assignSyncMedium:function(o){for(r=!0;n.length;){var l=n;n=[],l.forEach(o)}n={push:function(c){return o(c)},filter:function(){return n}}},assignMedium:function(o){r=!0;var l=[];if(n.length){var c=n;n=[],c.forEach(o),l=n}var d=function(){var g=l;l=[],g.forEach(o)},h=function(){return Promise.resolve().then(d)};h(),n={push:function(g){l.push(g),h()},filter:function(g){return l=l.filter(g),n}}}};return s}function GW(t){t===void 0&&(t={});var e=KW(null);return e.options=Ds({async:!0,ssr:!1},t),e}var RP=function(t){var e=t.sideCar,n=PP(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return x.createElement(r,Ds({},n))};RP.isSideCarExport=!0;function YW(t,e){return t.useMedium(e),RP}var DP=GW(),zy=function(){},gm=x.forwardRef(function(t,e){var n=x.useRef(null),r=x.useState({onScrollCapture:zy,onWheelCapture:zy,onTouchMoveCapture:zy}),s=r[0],o=r[1],l=t.forwardProps,c=t.children,d=t.className,h=t.removeScrollBar,g=t.enabled,y=t.shards,v=t.sideCar,b=t.noRelative,S=t.noIsolation,k=t.inert,T=t.allowPinchZoom,C=t.as,P=C===void 0?"div":C,R=t.gapMode,L=PP(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),F=v,q=WW([n,e]),M=Ds(Ds({},L),s);return x.createElement(x.Fragment,null,g&&x.createElement(F,{sideCar:DP,removeScrollBar:h,shards:y,noRelative:b,noIsolation:S,inert:k,setCallbacks:o,allowPinchZoom:!!T,lockRef:n,gapMode:R}),l?x.cloneElement(x.Children.only(c),Ds(Ds({},M),{ref:q})):x.createElement(P,Ds({},M,{className:d,ref:q}),c))});gm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};gm.classNames={fullWidth:Qf,zeroRight:Yf};var QW=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function XW(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=QW();return e&&t.setAttribute("nonce",e),t}function JW(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function ZW(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var eq=function(){var t=0,e=null;return{add:function(n){t==0&&(e=XW())&&(JW(e,n),ZW(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},tq=function(){var t=eq();return function(e,n){x.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},MP=function(){var t=tq(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},nq={left:0,top:0,right:0,gap:0},Hy=function(t){return parseInt(t||"",10)||0},rq=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Hy(n),Hy(r),Hy(s)]},sq=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return nq;var e=rq(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},iq=MP(),cc="data-scroll-locked",oq=function(t,e,n,r){var s=t.left,o=t.top,l=t.right,c=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(BW,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(cc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Yf,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Qf,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Yf," .").concat(Yf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Qf," .").concat(Qf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(cc,`] {
    `).concat($W,": ").concat(c,`px;
  }
`)},C1=function(){var t=parseInt(document.body.getAttribute(cc)||"0",10);return isFinite(t)?t:0},aq=function(){x.useEffect(function(){return document.body.setAttribute(cc,(C1()+1).toString()),function(){var t=C1()-1;t<=0?document.body.removeAttribute(cc):document.body.setAttribute(cc,t.toString())}},[])},lq=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;aq();var o=x.useMemo(function(){return sq(s)},[s]);return x.createElement(iq,{styles:oq(o,!e,s,n?"":"!important")})},iv=!1;if(typeof window<"u")try{var kf=Object.defineProperty({},"passive",{get:function(){return iv=!0,!0}});window.addEventListener("test",kf,kf),window.removeEventListener("test",kf,kf)}catch{iv=!1}var $l=iv?{passive:!1}:!1,cq=function(t){return t.tagName==="TEXTAREA"},jP=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!cq(t)&&n[e]==="visible")},uq=function(t){return jP(t,"overflowY")},dq=function(t){return jP(t,"overflowX")},N1=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=OP(t,r);if(s){var o=LP(t,r),l=o[1],c=o[2];if(l>c)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},hq=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},fq=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},OP=function(t,e){return t==="v"?uq(e):dq(e)},LP=function(t,e){return t==="v"?hq(e):fq(e)},pq=function(t,e){return t==="h"&&e==="rtl"?-1:1},mq=function(t,e,n,r,s){var o=pq(t,window.getComputedStyle(e).direction),l=o*r,c=n.target,d=e.contains(c),h=!1,g=l>0,y=0,v=0;do{if(!c)break;var b=LP(t,c),S=b[0],k=b[1],T=b[2],C=k-T-o*S;(S||C)&&OP(t,c)&&(y+=C,v+=S);var P=c.parentNode;c=P&&P.nodeType===Node.DOCUMENT_FRAGMENT_NODE?P.host:P}while(!d&&c!==document.body||d&&(e.contains(c)||e===c));return(g&&Math.abs(y)<1||!g&&Math.abs(v)<1)&&(h=!0),h},Sf=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},A1=function(t){return[t.deltaX,t.deltaY]},P1=function(t){return t&&"current"in t?t.current:t},gq=function(t,e){return t[0]===e[0]&&t[1]===e[1]},yq=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},vq=0,zl=[];function wq(t){var e=x.useRef([]),n=x.useRef([0,0]),r=x.useRef(),s=x.useState(vq++)[0],o=x.useState(MP)[0],l=x.useRef(t);x.useEffect(function(){l.current=t},[t]),x.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var k=UW([t.lockRef.current],(t.shards||[]).map(P1),!0).filter(Boolean);return k.forEach(function(T){return T.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),k.forEach(function(T){return T.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var c=x.useCallback(function(k,T){if("touches"in k&&k.touches.length===2||k.type==="wheel"&&k.ctrlKey)return!l.current.allowPinchZoom;var C=Sf(k),P=n.current,R="deltaX"in k?k.deltaX:P[0]-C[0],L="deltaY"in k?k.deltaY:P[1]-C[1],F,q=k.target,M=Math.abs(R)>Math.abs(L)?"h":"v";if("touches"in k&&M==="h"&&q.type==="range")return!1;var N=N1(M,q);if(!N)return!0;if(N?F=M:(F=M==="v"?"h":"v",N=N1(M,q)),!N)return!1;if(!r.current&&"changedTouches"in k&&(R||L)&&(r.current=F),!F)return!0;var O=r.current||F;return mq(O,T,k,O==="h"?R:L)},[]),d=x.useCallback(function(k){var T=k;if(!(!zl.length||zl[zl.length-1]!==o)){var C="deltaY"in T?A1(T):Sf(T),P=e.current.filter(function(F){return F.name===T.type&&(F.target===T.target||T.target===F.shadowParent)&&gq(F.delta,C)})[0];if(P&&P.should){T.cancelable&&T.preventDefault();return}if(!P){var R=(l.current.shards||[]).map(P1).filter(Boolean).filter(function(F){return F.contains(T.target)}),L=R.length>0?c(T,R[0]):!l.current.noIsolation;L&&T.cancelable&&T.preventDefault()}}},[]),h=x.useCallback(function(k,T,C,P){var R={name:k,delta:T,target:C,should:P,shadowParent:xq(C)};e.current.push(R),setTimeout(function(){e.current=e.current.filter(function(L){return L!==R})},1)},[]),g=x.useCallback(function(k){n.current=Sf(k),r.current=void 0},[]),y=x.useCallback(function(k){h(k.type,A1(k),k.target,c(k,t.lockRef.current))},[]),v=x.useCallback(function(k){h(k.type,Sf(k),k.target,c(k,t.lockRef.current))},[]);x.useEffect(function(){return zl.push(o),t.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:v}),document.addEventListener("wheel",d,$l),document.addEventListener("touchmove",d,$l),document.addEventListener("touchstart",g,$l),function(){zl=zl.filter(function(k){return k!==o}),document.removeEventListener("wheel",d,$l),document.removeEventListener("touchmove",d,$l),document.removeEventListener("touchstart",g,$l)}},[]);var b=t.removeScrollBar,S=t.inert;return x.createElement(x.Fragment,null,S?x.createElement(o,{styles:yq(s)}):null,b?x.createElement(lq,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function xq(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const _q=YW(DP,wq);var Ax=x.forwardRef(function(t,e){return x.createElement(gm,Ds({},t,{ref:e,sideCar:_q}))});Ax.classNames=gm.classNames;var bq=[" ","Enter","ArrowUp","ArrowDown"],Eq=[" ","Enter"],Ha="Select",[ym,vm,kq]=eP(Ha),[Uc,_Q]=Za(Ha,[kq,wP]),wm=wP(),[Sq,Ko]=Uc(Ha),[Tq,Iq]=Uc(Ha),VP=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:o,value:l,defaultValue:c,onValueChange:d,dir:h,name:g,autoComplete:y,disabled:v,required:b,form:S}=t,k=wm(e),[T,C]=x.useState(null),[P,R]=x.useState(null),[L,F]=x.useState(!1),q=tP(h),[M,N]=wd({prop:r,defaultProp:s??!1,onChange:o,caller:Ha}),[O,V]=wd({prop:l,defaultProp:c,onChange:d,caller:Ha}),U=x.useRef(null),$=T?S||!!T.closest("form"):!0,[D,se]=x.useState(new Set),ie=Array.from(D).map(ee=>ee.props.value).join(";");return f.jsx(IW,{...k,children:f.jsxs(Sq,{required:b,scope:e,trigger:T,onTriggerChange:C,valueNode:P,onValueNodeChange:R,valueNodeHasChildren:L,onValueNodeHasChildrenChange:F,contentId:ac(),value:O,onValueChange:V,open:M,onOpenChange:N,dir:q,triggerPointerDownPosRef:U,disabled:v,children:[f.jsx(ym.Provider,{scope:e,children:f.jsx(Tq,{scope:t.__scopeSelect,onNativeOptionAdd:x.useCallback(ee=>{se(te=>new Set(te).add(ee))},[]),onNativeOptionRemove:x.useCallback(ee=>{se(te=>{const z=new Set(te);return z.delete(ee),z})},[]),children:n})}),$?f.jsxs(lR,{"aria-hidden":!0,required:b,tabIndex:-1,name:g,autoComplete:y,value:O,onChange:ee=>V(ee.target.value),disabled:v,form:S,children:[O===void 0?f.jsx("option",{value:""}):null,Array.from(D)]},ie):null]})})};VP.displayName=Ha;var FP="SelectTrigger",UP=x.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,o=wm(n),l=Ko(FP,n),c=l.disabled||r,d=ct(e,l.onTriggerChange),h=vm(n),g=x.useRef("touch"),[y,v,b]=uR(k=>{const T=h().filter(R=>!R.disabled),C=T.find(R=>R.value===l.value),P=dR(T,k,C);P!==void 0&&l.onValueChange(P.value)}),S=k=>{c||(l.onOpenChange(!0),b()),k&&(l.triggerPointerDownPosRef.current={x:Math.round(k.pageX),y:Math.round(k.pageY)})};return f.jsx(CW,{asChild:!0,...o,children:f.jsx(nt.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":cR(l.value)?"":void 0,...s,ref:d,onClick:st(s.onClick,k=>{k.currentTarget.focus(),g.current!=="mouse"&&S(k)}),onPointerDown:st(s.onPointerDown,k=>{g.current=k.pointerType;const T=k.target;T.hasPointerCapture(k.pointerId)&&T.releasePointerCapture(k.pointerId),k.button===0&&k.ctrlKey===!1&&k.pointerType==="mouse"&&(S(k),k.preventDefault())}),onKeyDown:st(s.onKeyDown,k=>{const T=y.current!=="";!(k.ctrlKey||k.altKey||k.metaKey)&&k.key.length===1&&v(k.key),!(T&&k.key===" ")&&bq.includes(k.key)&&(S(),k.preventDefault())})})})});UP.displayName=FP;var BP="SelectValue",$P=x.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:l="",...c}=t,d=Ko(BP,n),{onValueNodeHasChildrenChange:h}=d,g=o!==void 0,y=ct(e,d.onValueNodeChange);return Vn(()=>{h(g)},[h,g]),f.jsx(nt.span,{...c,ref:y,style:{pointerEvents:"none"},children:cR(d.value)?f.jsx(f.Fragment,{children:l}):o})});$P.displayName=BP;var Cq="SelectIcon",zP=x.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return f.jsx(nt.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});zP.displayName=Cq;var Nq="SelectPortal",HP=t=>f.jsx(Cx,{asChild:!0,...t});HP.displayName=Nq;var Wa="SelectContent",WP=x.forwardRef((t,e)=>{const n=Ko(Wa,t.__scopeSelect),[r,s]=x.useState();if(Vn(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?kd.createPortal(f.jsx(qP,{scope:t.__scopeSelect,children:f.jsx(ym.Slot,{scope:t.__scopeSelect,children:f.jsx("div",{children:t.children})})}),o):null}return f.jsx(KP,{...t,ref:e})});WP.displayName=Wa;var cs=10,[qP,Go]=Uc(Wa),Aq="SelectContentImpl",Pq=wc("SelectContent.RemoveScroll"),KP=x.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:l,side:c,sideOffset:d,align:h,alignOffset:g,arrowPadding:y,collisionBoundary:v,collisionPadding:b,sticky:S,hideWhenDetached:k,avoidCollisions:T,...C}=t,P=Ko(Wa,n),[R,L]=x.useState(null),[F,q]=x.useState(null),M=ct(e,ue=>L(ue)),[N,O]=x.useState(null),[V,U]=x.useState(null),$=vm(n),[D,se]=x.useState(!1),ie=x.useRef(!1);x.useEffect(()=>{if(R)return AP(R)},[R]),sP();const ee=x.useCallback(ue=>{const[_e,...Pe]=$().map(He=>He.ref.current),[Ne]=Pe.slice(-1),$e=document.activeElement;for(const He of ue)if(He===$e||(He==null||He.scrollIntoView({block:"nearest"}),He===_e&&F&&(F.scrollTop=0),He===Ne&&F&&(F.scrollTop=F.scrollHeight),He==null||He.focus(),document.activeElement!==$e))return},[$,F]),te=x.useCallback(()=>ee([N,R]),[ee,N,R]);x.useEffect(()=>{D&&te()},[D,te]);const{onOpenChange:z,triggerPointerDownPosRef:oe}=P;x.useEffect(()=>{if(R){let ue={x:0,y:0};const _e=Ne=>{var $e,He;ue={x:Math.abs(Math.round(Ne.pageX)-((($e=oe.current)==null?void 0:$e.x)??0)),y:Math.abs(Math.round(Ne.pageY)-(((He=oe.current)==null?void 0:He.y)??0))}},Pe=Ne=>{ue.x<=10&&ue.y<=10?Ne.preventDefault():R.contains(Ne.target)||z(!1),document.removeEventListener("pointermove",_e),oe.current=null};return oe.current!==null&&(document.addEventListener("pointermove",_e),document.addEventListener("pointerup",Pe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",_e),document.removeEventListener("pointerup",Pe,{capture:!0})}}},[R,z,oe]),x.useEffect(()=>{const ue=()=>z(!1);return window.addEventListener("blur",ue),window.addEventListener("resize",ue),()=>{window.removeEventListener("blur",ue),window.removeEventListener("resize",ue)}},[z]);const[le,H]=uR(ue=>{const _e=$().filter($e=>!$e.disabled),Pe=_e.find($e=>$e.ref.current===document.activeElement),Ne=dR(_e,ue,Pe);Ne&&setTimeout(()=>Ne.ref.current.focus())}),X=x.useCallback((ue,_e,Pe)=>{const Ne=!ie.current&&!Pe;(P.value!==void 0&&P.value===_e||Ne)&&(O(ue),Ne&&(ie.current=!0))},[P.value]),ne=x.useCallback(()=>R==null?void 0:R.focus(),[R]),fe=x.useCallback((ue,_e,Pe)=>{const Ne=!ie.current&&!Pe;(P.value!==void 0&&P.value===_e||Ne)&&U(ue)},[P.value]),Ee=r==="popper"?ov:GP,we=Ee===ov?{side:c,sideOffset:d,align:h,alignOffset:g,arrowPadding:y,collisionBoundary:v,collisionPadding:b,sticky:S,hideWhenDetached:k,avoidCollisions:T}:{};return f.jsx(qP,{scope:n,content:R,viewport:F,onViewportChange:q,itemRefCallback:X,selectedItem:N,onItemLeave:ne,itemTextRefCallback:fe,focusSelectedItem:te,selectedItemText:V,position:r,isPositioned:D,searchRef:le,children:f.jsx(Ax,{as:Pq,allowPinchZoom:!0,children:f.jsx(yx,{asChild:!0,trapped:P.open,onMountAutoFocus:ue=>{ue.preventDefault()},onUnmountAutoFocus:st(s,ue=>{var _e;(_e=P.trigger)==null||_e.focus({preventScroll:!0}),ue.preventDefault()}),children:f.jsx(gx,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:ue=>ue.preventDefault(),onDismiss:()=>P.onOpenChange(!1),children:f.jsx(Ee,{role:"listbox",id:P.contentId,"data-state":P.open?"open":"closed",dir:P.dir,onContextMenu:ue=>ue.preventDefault(),...C,...we,onPlaced:()=>se(!0),ref:M,style:{display:"flex",flexDirection:"column",outline:"none",...C.style},onKeyDown:st(C.onKeyDown,ue=>{const _e=ue.ctrlKey||ue.altKey||ue.metaKey;if(ue.key==="Tab"&&ue.preventDefault(),!_e&&ue.key.length===1&&H(ue.key),["ArrowUp","ArrowDown","Home","End"].includes(ue.key)){let Ne=$().filter($e=>!$e.disabled).map($e=>$e.ref.current);if(["ArrowUp","End"].includes(ue.key)&&(Ne=Ne.slice().reverse()),["ArrowUp","ArrowDown"].includes(ue.key)){const $e=ue.target,He=Ne.indexOf($e);Ne=Ne.slice(He+1)}setTimeout(()=>ee(Ne)),ue.preventDefault()}})})})})})})});KP.displayName=Aq;var Rq="SelectItemAlignedPosition",GP=x.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,o=Ko(Wa,n),l=Go(Wa,n),[c,d]=x.useState(null),[h,g]=x.useState(null),y=ct(e,M=>g(M)),v=vm(n),b=x.useRef(!1),S=x.useRef(!0),{viewport:k,selectedItem:T,selectedItemText:C,focusSelectedItem:P}=l,R=x.useCallback(()=>{if(o.trigger&&o.valueNode&&c&&h&&k&&T&&C){const M=o.trigger.getBoundingClientRect(),N=h.getBoundingClientRect(),O=o.valueNode.getBoundingClientRect(),V=C.getBoundingClientRect();if(o.dir!=="rtl"){const $e=V.left-N.left,He=O.left-$e,_t=M.left-He,Ot=M.width+_t,Qn=Math.max(Ot,N.width),Xn=window.innerWidth-cs,vn=Tp(He,[cs,Math.max(cs,Xn-Qn)]);c.style.minWidth=Ot+"px",c.style.left=vn+"px"}else{const $e=N.right-V.right,He=window.innerWidth-O.right-$e,_t=window.innerWidth-M.right-He,Ot=M.width+_t,Qn=Math.max(Ot,N.width),Xn=window.innerWidth-cs,vn=Tp(He,[cs,Math.max(cs,Xn-Qn)]);c.style.minWidth=Ot+"px",c.style.right=vn+"px"}const U=v(),$=window.innerHeight-cs*2,D=k.scrollHeight,se=window.getComputedStyle(h),ie=parseInt(se.borderTopWidth,10),ee=parseInt(se.paddingTop,10),te=parseInt(se.borderBottomWidth,10),z=parseInt(se.paddingBottom,10),oe=ie+ee+D+z+te,le=Math.min(T.offsetHeight*5,oe),H=window.getComputedStyle(k),X=parseInt(H.paddingTop,10),ne=parseInt(H.paddingBottom,10),fe=M.top+M.height/2-cs,Ee=$-fe,we=T.offsetHeight/2,ue=T.offsetTop+we,_e=ie+ee+ue,Pe=oe-_e;if(_e<=fe){const $e=U.length>0&&T===U[U.length-1].ref.current;c.style.bottom="0px";const He=h.clientHeight-k.offsetTop-k.offsetHeight,_t=Math.max(Ee,we+($e?ne:0)+He+te),Ot=_e+_t;c.style.height=Ot+"px"}else{const $e=U.length>0&&T===U[0].ref.current;c.style.top="0px";const _t=Math.max(fe,ie+k.offsetTop+($e?X:0)+we)+Pe;c.style.height=_t+"px",k.scrollTop=_e-fe+k.offsetTop}c.style.margin=`${cs}px 0`,c.style.minHeight=le+"px",c.style.maxHeight=$+"px",r==null||r(),requestAnimationFrame(()=>b.current=!0)}},[v,o.trigger,o.valueNode,c,h,k,T,C,o.dir,r]);Vn(()=>R(),[R]);const[L,F]=x.useState();Vn(()=>{h&&F(window.getComputedStyle(h).zIndex)},[h]);const q=x.useCallback(M=>{M&&S.current===!0&&(R(),P==null||P(),S.current=!1)},[R,P]);return f.jsx(Mq,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:b,onScrollButtonChange:q,children:f.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:L},children:f.jsx(nt.div,{...s,ref:y,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});GP.displayName=Rq;var Dq="SelectPopperPosition",ov=x.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=cs,...o}=t,l=wm(n);return f.jsx(NW,{...l,...o,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ov.displayName=Dq;var[Mq,Px]=Uc(Wa,{}),av="SelectViewport",YP=x.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,o=Go(av,n),l=Px(av,n),c=ct(e,o.onViewportChange),d=x.useRef(0);return f.jsxs(f.Fragment,{children:[f.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),f.jsx(ym.Slot,{scope:n,children:f.jsx(nt.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:st(s.onScroll,h=>{const g=h.currentTarget,{contentWrapper:y,shouldExpandOnScrollRef:v}=l;if(v!=null&&v.current&&y){const b=Math.abs(d.current-g.scrollTop);if(b>0){const S=window.innerHeight-cs*2,k=parseFloat(y.style.minHeight),T=parseFloat(y.style.height),C=Math.max(k,T);if(C<S){const P=C+b,R=Math.min(S,P),L=P-R;y.style.height=R+"px",y.style.bottom==="0px"&&(g.scrollTop=L>0?L:0,y.style.justifyContent="flex-end")}}}d.current=g.scrollTop})})})]})});YP.displayName=av;var QP="SelectGroup",[jq,Oq]=Uc(QP),Lq=x.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=ac();return f.jsx(jq,{scope:n,id:s,children:f.jsx(nt.div,{role:"group","aria-labelledby":s,...r,ref:e})})});Lq.displayName=QP;var XP="SelectLabel",JP=x.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Oq(XP,n);return f.jsx(nt.div,{id:s.id,...r,ref:e})});JP.displayName=XP;var Pp="SelectItem",[Vq,ZP]=Uc(Pp),eR=x.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...l}=t,c=Ko(Pp,n),d=Go(Pp,n),h=c.value===r,[g,y]=x.useState(o??""),[v,b]=x.useState(!1),S=ct(e,P=>{var R;return(R=d.itemRefCallback)==null?void 0:R.call(d,P,r,s)}),k=ac(),T=x.useRef("touch"),C=()=>{s||(c.onValueChange(r),c.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return f.jsx(Vq,{scope:n,value:r,disabled:s,textId:k,isSelected:h,onItemTextChange:x.useCallback(P=>{y(R=>R||((P==null?void 0:P.textContent)??"").trim())},[]),children:f.jsx(ym.ItemSlot,{scope:n,value:r,disabled:s,textValue:g,children:f.jsx(nt.div,{role:"option","aria-labelledby":k,"data-highlighted":v?"":void 0,"aria-selected":h&&v,"data-state":h?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...l,ref:S,onFocus:st(l.onFocus,()=>b(!0)),onBlur:st(l.onBlur,()=>b(!1)),onClick:st(l.onClick,()=>{T.current!=="mouse"&&C()}),onPointerUp:st(l.onPointerUp,()=>{T.current==="mouse"&&C()}),onPointerDown:st(l.onPointerDown,P=>{T.current=P.pointerType}),onPointerMove:st(l.onPointerMove,P=>{var R;T.current=P.pointerType,s?(R=d.onItemLeave)==null||R.call(d):T.current==="mouse"&&P.currentTarget.focus({preventScroll:!0})}),onPointerLeave:st(l.onPointerLeave,P=>{var R;P.currentTarget===document.activeElement&&((R=d.onItemLeave)==null||R.call(d))}),onKeyDown:st(l.onKeyDown,P=>{var L;((L=d.searchRef)==null?void 0:L.current)!==""&&P.key===" "||(Eq.includes(P.key)&&C(),P.key===" "&&P.preventDefault())})})})})});eR.displayName=Pp;var Lu="SelectItemText",tR=x.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...o}=t,l=Ko(Lu,n),c=Go(Lu,n),d=ZP(Lu,n),h=Iq(Lu,n),[g,y]=x.useState(null),v=ct(e,C=>y(C),d.onItemTextChange,C=>{var P;return(P=c.itemTextRefCallback)==null?void 0:P.call(c,C,d.value,d.disabled)}),b=g==null?void 0:g.textContent,S=x.useMemo(()=>f.jsx("option",{value:d.value,disabled:d.disabled,children:b},d.value),[d.disabled,d.value,b]),{onNativeOptionAdd:k,onNativeOptionRemove:T}=h;return Vn(()=>(k(S),()=>T(S)),[k,T,S]),f.jsxs(f.Fragment,{children:[f.jsx(nt.span,{id:d.textId,...o,ref:v}),d.isSelected&&l.valueNode&&!l.valueNodeHasChildren?kd.createPortal(o.children,l.valueNode):null]})});tR.displayName=Lu;var nR="SelectItemIndicator",rR=x.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return ZP(nR,n).isSelected?f.jsx(nt.span,{"aria-hidden":!0,...r,ref:e}):null});rR.displayName=nR;var lv="SelectScrollUpButton",sR=x.forwardRef((t,e)=>{const n=Go(lv,t.__scopeSelect),r=Px(lv,t.__scopeSelect),[s,o]=x.useState(!1),l=ct(e,r.onScrollButtonChange);return Vn(()=>{if(n.viewport&&n.isPositioned){let c=function(){const h=d.scrollTop>0;o(h)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),s?f.jsx(oR,{...t,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});sR.displayName=lv;var cv="SelectScrollDownButton",iR=x.forwardRef((t,e)=>{const n=Go(cv,t.__scopeSelect),r=Px(cv,t.__scopeSelect),[s,o]=x.useState(!1),l=ct(e,r.onScrollButtonChange);return Vn(()=>{if(n.viewport&&n.isPositioned){let c=function(){const h=d.scrollHeight-d.clientHeight,g=Math.ceil(d.scrollTop)<h;o(g)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),s?f.jsx(oR,{...t,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});iR.displayName=cv;var oR=x.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,o=Go("SelectScrollButton",n),l=x.useRef(null),c=vm(n),d=x.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return x.useEffect(()=>()=>d(),[d]),Vn(()=>{var g;const h=c().find(y=>y.ref.current===document.activeElement);(g=h==null?void 0:h.ref.current)==null||g.scrollIntoView({block:"nearest"})},[c]),f.jsx(nt.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:st(s.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:st(s.onPointerMove,()=>{var h;(h=o.onItemLeave)==null||h.call(o),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:st(s.onPointerLeave,()=>{d()})})}),Fq="SelectSeparator",aR=x.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return f.jsx(nt.div,{"aria-hidden":!0,...r,ref:e})});aR.displayName=Fq;var uv="SelectArrow",Uq=x.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=wm(n),o=Ko(uv,n),l=Go(uv,n);return o.open&&l.position==="popper"?f.jsx(AW,{...s,...r,ref:e}):null});Uq.displayName=uv;var Bq="SelectBubbleInput",lR=x.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=x.useRef(null),o=ct(r,s),l=Nx(e);return x.useEffect(()=>{const c=s.current;if(!c)return;const d=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==e&&g){const y=new Event("change",{bubbles:!0});g.call(c,e),c.dispatchEvent(y)}},[l,e]),f.jsx(nt.select,{...n,style:{...CP,...n.style},ref:o,defaultValue:e})});lR.displayName=Bq;function cR(t){return t===""||t===void 0}function uR(t){const e=$a(t),n=x.useRef(""),r=x.useRef(0),s=x.useCallback(l=>{const c=n.current+l;e(c),function d(h){n.current=h,window.clearTimeout(r.current),h!==""&&(r.current=window.setTimeout(()=>d(""),1e3))}(c)},[e]),o=x.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function dR(t,e,n){const s=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let l=$q(t,Math.max(o,0));s.length===1&&(l=l.filter(h=>h!==n));const d=l.find(h=>h.textValue.toLowerCase().startsWith(s.toLowerCase()));return d!==n?d:void 0}function $q(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var zq=VP,hR=UP,Hq=$P,Wq=zP,qq=HP,fR=WP,Kq=YP,pR=JP,mR=eR,Gq=tR,Yq=rR,gR=sR,yR=iR,vR=aR;const R1=zq,D1=Hq,dv=x.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(hR,{ref:r,className:Fe("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,f.jsx(Wq,{asChild:!0,children:f.jsx(Nv,{className:"h-4 w-4 opacity-50"})})]}));dv.displayName=hR.displayName;const wR=x.forwardRef(({className:t,...e},n)=>f.jsx(gR,{ref:n,className:Fe("flex cursor-default items-center justify-center py-1",t),...e,children:f.jsx(fT,{className:"h-4 w-4"})}));wR.displayName=gR.displayName;const xR=x.forwardRef(({className:t,...e},n)=>f.jsx(yR,{ref:n,className:Fe("flex cursor-default items-center justify-center py-1",t),...e,children:f.jsx(Nv,{className:"h-4 w-4"})}));xR.displayName=yR.displayName;const hv=x.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>f.jsx(qq,{children:f.jsxs(fR,{ref:s,className:Fe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[f.jsx(wR,{}),f.jsx(Kq,{className:Fe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),f.jsx(xR,{})]})}));hv.displayName=fR.displayName;const Qq=x.forwardRef(({className:t,...e},n)=>f.jsx(pR,{ref:n,className:Fe("px-2 py-1.5 text-sm font-semibold",t),...e}));Qq.displayName=pR.displayName;const Vu=x.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(mR,{ref:r,className:Fe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[f.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(Yq,{children:f.jsx(qj,{className:"h-4 w-4"})})}),f.jsx(Gq,{children:e})]}));Vu.displayName=mR.displayName;const Xq=x.forwardRef(({className:t,...e},n)=>f.jsx(vR,{ref:n,className:Fe("-mx-1 my-1 h-px bg-muted",t),...e}));Xq.displayName=vR.displayName;function Jq(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const Zq=t=>{switch(t){case"success":return nK;case"info":return sK;case"warning":return rK;case"error":return iK;default:return null}},eK=Array(12).fill(0),tK=({visible:t,className:e})=>me.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},me.createElement("div",{className:"sonner-spinner"},eK.map((n,r)=>me.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),nK=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},me.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),rK=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},me.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),sK=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},me.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),iK=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},me.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),oK=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},me.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),me.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),aK=()=>{const[t,e]=me.useState(document.hidden);return me.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let fv=1;class lK{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...s}=e,o=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:fv++,l=this.toasts.find(d=>d.id===o),c=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),l?this.toasts=this.toasts.map(d=>d.id===o?(this.publish({...d,...e,id:o,title:r}),{...d,...e,id:o,dismissible:c,title:r}):d):this.addToast({title:r,...s,dismissible:c,id:o}),o},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const s=Promise.resolve(e instanceof Function?e():e);let o=r!==void 0,l;const c=s.then(async h=>{if(l=["resolve",h],me.isValidElement(h))o=!1,this.create({id:r,type:"default",message:h});else if(uK(h)&&!h.ok){o=!1;const y=typeof n.error=="function"?await n.error(`HTTP error! status: ${h.status}`):n.error,v=typeof n.description=="function"?await n.description(`HTTP error! status: ${h.status}`):n.description,S=typeof y=="object"&&!me.isValidElement(y)?y:{message:y};this.create({id:r,type:"error",description:v,...S})}else if(h instanceof Error){o=!1;const y=typeof n.error=="function"?await n.error(h):n.error,v=typeof n.description=="function"?await n.description(h):n.description,S=typeof y=="object"&&!me.isValidElement(y)?y:{message:y};this.create({id:r,type:"error",description:v,...S})}else if(n.success!==void 0){o=!1;const y=typeof n.success=="function"?await n.success(h):n.success,v=typeof n.description=="function"?await n.description(h):n.description,S=typeof y=="object"&&!me.isValidElement(y)?y:{message:y};this.create({id:r,type:"success",description:v,...S})}}).catch(async h=>{if(l=["reject",h],n.error!==void 0){o=!1;const g=typeof n.error=="function"?await n.error(h):n.error,y=typeof n.description=="function"?await n.description(h):n.description,b=typeof g=="object"&&!me.isValidElement(g)?g:{message:g};this.create({id:r,type:"error",description:y,...b})}}).finally(()=>{o&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),d=()=>new Promise((h,g)=>c.then(()=>l[0]==="reject"?g(l[1]):h(l[1])).catch(g));return typeof r!="string"&&typeof r!="number"?{unwrap:d}:Object.assign(r,{unwrap:d})},this.custom=(e,n)=>{const r=(n==null?void 0:n.id)||fv++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const ur=new lK,cK=(t,e)=>{const n=(e==null?void 0:e.id)||fv++;return ur.addToast({title:t,...e,id:n}),n},uK=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",dK=cK,hK=()=>ur.toasts,fK=()=>ur.getActiveToasts(),Ge=Object.assign(dK,{success:ur.success,info:ur.info,warning:ur.warning,error:ur.error,custom:ur.custom,message:ur.message,promise:ur.promise,dismiss:ur.dismiss,loading:ur.loading},{getHistory:hK,getToasts:fK});Jq("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Tf(t){return t.label!==void 0}const pK=3,mK="24px",gK="16px",M1=4e3,yK=356,vK=14,wK=45,xK=200;function Ps(...t){return t.filter(Boolean).join(" ")}function _K(t){const[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}const bK=t=>{var e,n,r,s,o,l,c,d,h;const{invert:g,toast:y,unstyled:v,interacting:b,setHeights:S,visibleToasts:k,heights:T,index:C,toasts:P,expanded:R,removeToast:L,defaultRichColors:F,closeButton:q,style:M,cancelButtonStyle:N,actionButtonStyle:O,className:V="",descriptionClassName:U="",duration:$,position:D,gap:se,expandByDefault:ie,classNames:ee,icons:te,closeButtonAriaLabel:z="Close toast"}=t,[oe,le]=me.useState(null),[H,X]=me.useState(null),[ne,fe]=me.useState(!1),[Ee,we]=me.useState(!1),[ue,_e]=me.useState(!1),[Pe,Ne]=me.useState(!1),[$e,He]=me.useState(!1),[_t,Ot]=me.useState(0),[Qn,Xn]=me.useState(0),vn=me.useRef(y.duration||$||M1),ni=me.useRef(null),Bt=me.useRef(null),Wr=C===0,qr=C+1<=k,tn=y.type,pr=y.dismissible!==!1,Bi=y.className||"",Yo=y.descriptionClassName||"",bt=me.useMemo(()=>T.findIndex(De=>De.toastId===y.id)||0,[T,y.id]),$t=me.useMemo(()=>{var De;return(De=y.closeButton)!=null?De:q},[y.closeButton,q]),Nr=me.useMemo(()=>y.duration||$||M1,[y.duration,$]),ri=me.useRef(0),Fn=me.useRef(0),xs=me.useRef(0),Jn=me.useRef(null),[Qo,Xo]=D.split("-"),$i=me.useMemo(()=>T.reduce((De,Et,kt)=>kt>=bt?De:De+Et.height,0),[T,bt]),zi=aK(),Jo=y.invert||g,Kr=tn==="loading";Fn.current=me.useMemo(()=>bt*se+$i,[bt,$i]),me.useEffect(()=>{vn.current=Nr},[Nr]),me.useEffect(()=>{fe(!0)},[]),me.useEffect(()=>{const De=Bt.current;if(De){const Et=De.getBoundingClientRect().height;return Xn(Et),S(kt=>[{toastId:y.id,height:Et,position:y.position},...kt]),()=>S(kt=>kt.filter(nn=>nn.toastId!==y.id))}},[S,y.id]),me.useLayoutEffect(()=>{if(!ne)return;const De=Bt.current,Et=De.style.height;De.style.height="auto";const kt=De.getBoundingClientRect().height;De.style.height=Et,Xn(kt),S(nn=>nn.find(Ct=>Ct.toastId===y.id)?nn.map(Ct=>Ct.toastId===y.id?{...Ct,height:kt}:Ct):[{toastId:y.id,height:kt,position:y.position},...nn])},[ne,y.title,y.description,S,y.id,y.jsx,y.action,y.cancel]);const Un=me.useCallback(()=>{we(!0),Ot(Fn.current),S(De=>De.filter(Et=>Et.toastId!==y.id)),setTimeout(()=>{L(y)},xK)},[y,L,S,Fn]);me.useEffect(()=>{if(y.promise&&tn==="loading"||y.duration===1/0||y.type==="loading")return;let De;return R||b||zi?(()=>{if(xs.current<ri.current){const nn=new Date().getTime()-ri.current;vn.current=vn.current-nn}xs.current=new Date().getTime()})():(()=>{vn.current!==1/0&&(ri.current=new Date().getTime(),De=setTimeout(()=>{y.onAutoClose==null||y.onAutoClose.call(y,y),Un()},vn.current))})(),()=>clearTimeout(De)},[R,b,y,tn,zi,Un]),me.useEffect(()=>{y.delete&&(Un(),y.onDismiss==null||y.onDismiss.call(y,y))},[Un,y.delete]);function Hi(){var De;if(te!=null&&te.loading){var Et;return me.createElement("div",{className:Ps(ee==null?void 0:ee.loader,y==null||(Et=y.classNames)==null?void 0:Et.loader,"sonner-loader"),"data-visible":tn==="loading"},te.loading)}return me.createElement(tK,{className:Ps(ee==null?void 0:ee.loader,y==null||(De=y.classNames)==null?void 0:De.loader),visible:tn==="loading"})}const Zn=y.icon||(te==null?void 0:te[tn])||Zq(tn);var mr,si;return me.createElement("li",{tabIndex:0,ref:Bt,className:Ps(V,Bi,ee==null?void 0:ee.toast,y==null||(e=y.classNames)==null?void 0:e.toast,ee==null?void 0:ee.default,ee==null?void 0:ee[tn],y==null||(n=y.classNames)==null?void 0:n[tn]),"data-sonner-toast":"","data-rich-colors":(mr=y.richColors)!=null?mr:F,"data-styled":!(y.jsx||y.unstyled||v),"data-mounted":ne,"data-promise":!!y.promise,"data-swiped":$e,"data-removed":Ee,"data-visible":qr,"data-y-position":Qo,"data-x-position":Xo,"data-index":C,"data-front":Wr,"data-swiping":ue,"data-dismissible":pr,"data-type":tn,"data-invert":Jo,"data-swipe-out":Pe,"data-swipe-direction":H,"data-expanded":!!(R||ie&&ne),style:{"--index":C,"--toasts-before":C,"--z-index":P.length-C,"--offset":`${Ee?_t:Fn.current}px`,"--initial-height":ie?"auto":`${Qn}px`,...M,...y.style},onDragEnd:()=>{_e(!1),le(null),Jn.current=null},onPointerDown:De=>{De.button!==2&&(Kr||!pr||(ni.current=new Date,Ot(Fn.current),De.target.setPointerCapture(De.pointerId),De.target.tagName!=="BUTTON"&&(_e(!0),Jn.current={x:De.clientX,y:De.clientY})))},onPointerUp:()=>{var De,Et,kt;if(Pe||!pr)return;Jn.current=null;const nn=Number(((De=Bt.current)==null?void 0:De.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),er=Number(((Et=Bt.current)==null?void 0:Et.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ct=new Date().getTime()-((kt=ni.current)==null?void 0:kt.getTime()),Ze=oe==="x"?nn:er,Gr=Math.abs(Ze)/Ct;if(Math.abs(Ze)>=wK||Gr>.11){Ot(Fn.current),y.onDismiss==null||y.onDismiss.call(y,y),X(oe==="x"?nn>0?"right":"left":er>0?"down":"up"),Un(),Ne(!0);return}else{var Nt,rn;(Nt=Bt.current)==null||Nt.style.setProperty("--swipe-amount-x","0px"),(rn=Bt.current)==null||rn.style.setProperty("--swipe-amount-y","0px")}He(!1),_e(!1),le(null)},onPointerMove:De=>{var Et,kt,nn;if(!Jn.current||!pr||((Et=window.getSelection())==null?void 0:Et.toString().length)>0)return;const Ct=De.clientY-Jn.current.y,Ze=De.clientX-Jn.current.x;var Gr;const Nt=(Gr=t.swipeDirections)!=null?Gr:_K(D);!oe&&(Math.abs(Ze)>1||Math.abs(Ct)>1)&&le(Math.abs(Ze)>Math.abs(Ct)?"x":"y");let rn={x:0,y:0};const _s=tr=>1/(1.5+Math.abs(tr)/20);if(oe==="y"){if(Nt.includes("top")||Nt.includes("bottom"))if(Nt.includes("top")&&Ct<0||Nt.includes("bottom")&&Ct>0)rn.y=Ct;else{const tr=Ct*_s(Ct);rn.y=Math.abs(tr)<Math.abs(Ct)?tr:Ct}}else if(oe==="x"&&(Nt.includes("left")||Nt.includes("right")))if(Nt.includes("left")&&Ze<0||Nt.includes("right")&&Ze>0)rn.x=Ze;else{const tr=Ze*_s(Ze);rn.x=Math.abs(tr)<Math.abs(Ze)?tr:Ze}(Math.abs(rn.x)>0||Math.abs(rn.y)>0)&&He(!0),(kt=Bt.current)==null||kt.style.setProperty("--swipe-amount-x",`${rn.x}px`),(nn=Bt.current)==null||nn.style.setProperty("--swipe-amount-y",`${rn.y}px`)}},$t&&!y.jsx&&tn!=="loading"?me.createElement("button",{"aria-label":z,"data-disabled":Kr,"data-close-button":!0,onClick:Kr||!pr?()=>{}:()=>{Un(),y.onDismiss==null||y.onDismiss.call(y,y)},className:Ps(ee==null?void 0:ee.closeButton,y==null||(r=y.classNames)==null?void 0:r.closeButton)},(si=te==null?void 0:te.close)!=null?si:oK):null,(tn||y.icon||y.promise)&&y.icon!==null&&((te==null?void 0:te[tn])!==null||y.icon)?me.createElement("div",{"data-icon":"",className:Ps(ee==null?void 0:ee.icon,y==null||(s=y.classNames)==null?void 0:s.icon)},y.promise||y.type==="loading"&&!y.icon?y.icon||Hi():null,y.type!=="loading"?Zn:null):null,me.createElement("div",{"data-content":"",className:Ps(ee==null?void 0:ee.content,y==null||(o=y.classNames)==null?void 0:o.content)},me.createElement("div",{"data-title":"",className:Ps(ee==null?void 0:ee.title,y==null||(l=y.classNames)==null?void 0:l.title)},y.jsx?y.jsx:typeof y.title=="function"?y.title():y.title),y.description?me.createElement("div",{"data-description":"",className:Ps(U,Yo,ee==null?void 0:ee.description,y==null||(c=y.classNames)==null?void 0:c.description)},typeof y.description=="function"?y.description():y.description):null),me.isValidElement(y.cancel)?y.cancel:y.cancel&&Tf(y.cancel)?me.createElement("button",{"data-button":!0,"data-cancel":!0,style:y.cancelButtonStyle||N,onClick:De=>{Tf(y.cancel)&&pr&&(y.cancel.onClick==null||y.cancel.onClick.call(y.cancel,De),Un())},className:Ps(ee==null?void 0:ee.cancelButton,y==null||(d=y.classNames)==null?void 0:d.cancelButton)},y.cancel.label):null,me.isValidElement(y.action)?y.action:y.action&&Tf(y.action)?me.createElement("button",{"data-button":!0,"data-action":!0,style:y.actionButtonStyle||O,onClick:De=>{Tf(y.action)&&(y.action.onClick==null||y.action.onClick.call(y.action,De),!De.defaultPrevented&&Un())},className:Ps(ee==null?void 0:ee.actionButton,y==null||(h=y.classNames)==null?void 0:h.actionButton)},y.action.label):null)};function j1(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function EK(t,e){const n={};return[t,e].forEach((r,s)=>{const o=s===1,l=o?"--mobile-offset":"--offset",c=o?gK:mK;function d(h){["top","right","bottom","left"].forEach(g=>{n[`${l}-${g}`]=typeof h=="number"?`${h}px`:h})}typeof r=="number"||typeof r=="string"?d(r):typeof r=="object"?["top","right","bottom","left"].forEach(h=>{r[h]===void 0?n[`${l}-${h}`]=c:n[`${l}-${h}`]=typeof r[h]=="number"?`${r[h]}px`:r[h]}):d(c)}),n}const kK=me.forwardRef(function(e,n){const{invert:r,position:s="bottom-right",hotkey:o=["altKey","KeyT"],expand:l,closeButton:c,className:d,offset:h,mobileOffset:g,theme:y="light",richColors:v,duration:b,style:S,visibleToasts:k=pK,toastOptions:T,dir:C=j1(),gap:P=vK,icons:R,containerAriaLabel:L="Notifications"}=e,[F,q]=me.useState([]),M=me.useMemo(()=>Array.from(new Set([s].concat(F.filter(H=>H.position).map(H=>H.position)))),[F,s]),[N,O]=me.useState([]),[V,U]=me.useState(!1),[$,D]=me.useState(!1),[se,ie]=me.useState(y!=="system"?y:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ee=me.useRef(null),te=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),z=me.useRef(null),oe=me.useRef(!1),le=me.useCallback(H=>{q(X=>{var ne;return(ne=X.find(fe=>fe.id===H.id))!=null&&ne.delete||ur.dismiss(H.id),X.filter(({id:fe})=>fe!==H.id)})},[]);return me.useEffect(()=>ur.subscribe(H=>{if(H.dismiss){requestAnimationFrame(()=>{q(X=>X.map(ne=>ne.id===H.id?{...ne,delete:!0}:ne))});return}setTimeout(()=>{uT.flushSync(()=>{q(X=>{const ne=X.findIndex(fe=>fe.id===H.id);return ne!==-1?[...X.slice(0,ne),{...X[ne],...H},...X.slice(ne+1)]:[H,...X]})})})}),[F]),me.useEffect(()=>{if(y!=="system"){ie(y);return}if(y==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ie("dark"):ie("light")),typeof window>"u")return;const H=window.matchMedia("(prefers-color-scheme: dark)");try{H.addEventListener("change",({matches:X})=>{ie(X?"dark":"light")})}catch{H.addListener(({matches:ne})=>{try{ie(ne?"dark":"light")}catch(fe){console.error(fe)}})}},[y]),me.useEffect(()=>{F.length<=1&&U(!1)},[F]),me.useEffect(()=>{const H=X=>{var ne;if(o.every(we=>X[we]||X.code===we)){var Ee;U(!0),(Ee=ee.current)==null||Ee.focus()}X.code==="Escape"&&(document.activeElement===ee.current||(ne=ee.current)!=null&&ne.contains(document.activeElement))&&U(!1)};return document.addEventListener("keydown",H),()=>document.removeEventListener("keydown",H)},[o]),me.useEffect(()=>{if(ee.current)return()=>{z.current&&(z.current.focus({preventScroll:!0}),z.current=null,oe.current=!1)}},[ee.current]),me.createElement("section",{ref:n,"aria-label":`${L} ${te}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},M.map((H,X)=>{var ne;const[fe,Ee]=H.split("-");return F.length?me.createElement("ol",{key:H,dir:C==="auto"?j1():C,tabIndex:-1,ref:ee,className:d,"data-sonner-toaster":!0,"data-sonner-theme":se,"data-y-position":fe,"data-x-position":Ee,style:{"--front-toast-height":`${((ne=N[0])==null?void 0:ne.height)||0}px`,"--width":`${yK}px`,"--gap":`${P}px`,...S,...EK(h,g)},onBlur:we=>{oe.current&&!we.currentTarget.contains(we.relatedTarget)&&(oe.current=!1,z.current&&(z.current.focus({preventScroll:!0}),z.current=null))},onFocus:we=>{we.target instanceof HTMLElement&&we.target.dataset.dismissible==="false"||oe.current||(oe.current=!0,z.current=we.relatedTarget)},onMouseEnter:()=>U(!0),onMouseMove:()=>U(!0),onMouseLeave:()=>{$||U(!1)},onDragEnd:()=>U(!1),onPointerDown:we=>{we.target instanceof HTMLElement&&we.target.dataset.dismissible==="false"||D(!0)},onPointerUp:()=>D(!1)},F.filter(we=>!we.position&&X===0||we.position===H).map((we,ue)=>{var _e,Pe;return me.createElement(bK,{key:we.id,icons:R,index:ue,toast:we,defaultRichColors:v,duration:(_e=T==null?void 0:T.duration)!=null?_e:b,className:T==null?void 0:T.className,descriptionClassName:T==null?void 0:T.descriptionClassName,invert:r,visibleToasts:k,closeButton:(Pe=T==null?void 0:T.closeButton)!=null?Pe:c,interacting:$,position:H,style:T==null?void 0:T.style,unstyled:T==null?void 0:T.unstyled,classNames:T==null?void 0:T.classNames,cancelButtonStyle:T==null?void 0:T.cancelButtonStyle,actionButtonStyle:T==null?void 0:T.actionButtonStyle,closeButtonAriaLabel:T==null?void 0:T.closeButtonAriaLabel,removeToast:le,toasts:F.filter(Ne=>Ne.position==we.position),heights:N.filter(Ne=>Ne.position==we.position),setHeights:O,expandByDefault:l,gap:P,expanded:V,swipeDirections:e.swipeDirections})})):null}))});function SK({event:t,sessionId:e,onClose:n}){const[r,s]=x.useState({rating_profile_setup:"",rating_interests_helpful:"",rating_social_usefulness:"",met_match_in_person:"",open_to_other_event_types:"",match_experience_feedback:"",general_feedback:""}),[o,l]=x.useState(!1),[c,d]=x.useState({}),h=(b,S)=>{s(k=>({...k,[b]:S})),c[b]&&d(k=>({...k,[b]:null}))},g=()=>{const b={};return r.rating_profile_setup||(b.rating_profile_setup="Please rate the profile setup experience."),r.rating_interests_helpful||(b.rating_interests_helpful="Please rate how helpful interests were."),r.rating_social_usefulness||(b.rating_social_usefulness="Please rate the social interaction experience."),r.met_match_in_person||(b.met_match_in_person="Please let us know if you met someone in person."),r.open_to_other_event_types||(b.open_to_other_event_types="Please let us know about future event interest."),r.match_experience_feedback.trim()||(b.match_experience_feedback="Please share what we could improve."),d(b),Object.keys(b).length===0},y=async b=>{if(b.preventDefault(),!g()){Ge.error("Please complete all required fields.");return}l(!0);try{await Dw.create({event_id:t.id,session_id:e,rating_profile_setup:parseInt(r.rating_profile_setup),rating_interests_helpful:parseInt(r.rating_interests_helpful),rating_social_usefulness:parseInt(r.rating_social_usefulness),met_match_in_person:r.met_match_in_person==="true",open_to_other_event_types:r.open_to_other_event_types==="true",match_experience_feedback:r.match_experience_feedback.trim(),general_feedback:r.general_feedback.trim()||null}),localStorage.setItem(`feedback_given_for_${t.id}`,"true"),Ge.success("Thanks for your feedback "),n()}catch(S){console.error("Error submitting feedback:",S),Ge.error("Failed to submit feedback. Please try again.")}finally{l(!1)}},v=({value:b,onChange:S,error:k})=>f.jsxs("div",{className:"flex gap-1",children:[[1,2,3,4,5].map(T=>f.jsx("button",{type:"button",onClick:()=>S(T.toString()),className:`p-1 transition-colors ${parseInt(b)>=T?"text-yellow-500 hover:text-yellow-600":"text-gray-300 dark:text-gray-600 hover:text-yellow-400"}`,children:f.jsx(yT,{className:`w-6 h-6 ${parseInt(b)>=T?"fill-current":""}`})},T)),k&&f.jsx("p",{className:"text-red-500 dark:text-red-400 text-xs ml-2 mt-1",children:k})]});return f.jsx(Bd,{children:f.jsx(Qs.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/70 dark:bg-black/80 backdrop-blur-sm p-4",children:f.jsxs(Qs.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"w-full max-w-md bg-white dark:bg-gray-900 rounded-2xl shadow-2xl max-h-[90vh] overflow-y-auto",children:[f.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full flex items-center justify-center",children:f.jsx(Ii,{className:"w-6 h-6 text-white"})}),f.jsx("button",{onClick:n,className:"p-2 text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700",children:f.jsx(yn,{className:"w-5 h-5"})})]}),f.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:["Enjoyed Hooked at ",t.name,"? "]}),f.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Help us make the next one even better  takes 1 minute!"})]}),f.jsxs("form",{onSubmit:y,className:"p-6 space-y-6",children:[f.jsxs("div",{children:[f.jsx(qt,{className:"text-gray-700 dark:text-gray-200 mb-2 block",children:"How easy was it to set up your profile? *"}),f.jsx(v,{value:r.rating_profile_setup,onChange:b=>h("rating_profile_setup",b),error:c.rating_profile_setup})]}),f.jsxs("div",{children:[f.jsx(qt,{className:"text-gray-700 dark:text-gray-200 mb-2 block",children:"How helpful were profile interests in choosing who to like? *"}),f.jsx(v,{value:r.rating_interests_helpful,onChange:b=>h("rating_interests_helpful",b),error:c.rating_interests_helpful})]}),f.jsxs("div",{children:[f.jsx(qt,{className:"text-gray-700 dark:text-gray-200 mb-2 block",children:"How easy was it to interact with others? *"}),f.jsx(v,{value:r.rating_social_usefulness,onChange:b=>h("rating_social_usefulness",b),error:c.rating_social_usefulness})]}),f.jsxs("div",{children:[f.jsx(qt,{className:"text-gray-700 dark:text-gray-200 mb-2 block",children:"Did you meet up with a match? *"}),f.jsxs(R1,{value:r.met_match_in_person,onValueChange:b=>h("met_match_in_person",b),children:[f.jsx(dv,{className:"bg-white dark:bg-gray-800 text-gray-900 dark:text-white border-gray-300 dark:border-gray-600",children:f.jsx(D1,{placeholder:"Select an option"})}),f.jsxs(hv,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-600",children:[f.jsx(Vu,{value:"true",className:"text-gray-900 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700",children:"Yes"}),f.jsx(Vu,{value:"false",className:"text-gray-900 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700",children:"No"})]})]}),c.met_match_in_person&&f.jsx("p",{className:"text-red-500 dark:text-red-400 text-xs mt-1",children:c.met_match_in_person})]}),f.jsxs("div",{children:[f.jsx(qt,{className:"text-gray-700 dark:text-gray-200 mb-2 block",children:"Would you use Hooked at other event types? *"}),f.jsxs(R1,{value:r.open_to_other_event_types,onValueChange:b=>h("open_to_other_event_types",b),children:[f.jsx(dv,{className:"bg-white dark:bg-gray-800 text-gray-900 dark:text-white border-gray-300 dark:border-gray-600",children:f.jsx(D1,{placeholder:"Select an option"})}),f.jsxs(hv,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-600",children:[f.jsx(Vu,{value:"true",className:"text-gray-900 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700",children:"Yes"}),f.jsx(Vu,{value:"false",className:"text-gray-900 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700",children:"No"})]})]}),c.open_to_other_event_types&&f.jsx("p",{className:"text-red-500 dark:text-red-400 text-xs mt-1",children:c.open_to_other_event_types})]}),f.jsxs("div",{children:[f.jsx(qt,{className:"text-gray-700 dark:text-gray-200 mb-2 block",children:"What would you improve? *"}),f.jsx(gd,{value:r.match_experience_feedback,onChange:b=>h("match_experience_feedback",b.target.value),placeholder:"Tell us what could make the experience better...",className:"h-20 bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder:text-gray-400 dark:placeholder:text-gray-400 border-gray-300 dark:border-gray-600"}),c.match_experience_feedback&&f.jsx("p",{className:"text-red-500 dark:text-red-400 text-xs mt-1",children:c.match_experience_feedback})]}),f.jsxs("div",{children:[f.jsx(qt,{className:"text-gray-700 dark:text-gray-200 mb-2 block",children:"Other feedback?"}),f.jsx(gd,{value:r.general_feedback,onChange:b=>h("general_feedback",b.target.value),placeholder:"Anything else you'd like to share...",className:"h-20 bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder:text-gray-400 dark:placeholder:text-gray-400 border-gray-300 dark:border-gray-600"})]}),f.jsx(Re,{type:"submit",disabled:o,className:"w-full bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700 text-white rounded-xl py-3",children:o?f.jsxs("div",{className:"flex items-center justify-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Submitting..."]}):"Submit Feedback"})]})]})})})}var TK=(t,e,n,r,s,o,l,c)=>{let d=document.documentElement,h=["light","dark"];function g(b){(Array.isArray(t)?t:[t]).forEach(S=>{let k=S==="class",T=k&&o?s.map(C=>o[C]||C):s;k?(d.classList.remove(...T),d.classList.add(o&&o[b]?o[b]:b)):d.setAttribute(S,b)}),y(b)}function y(b){c&&h.includes(b)&&(d.style.colorScheme=b)}function v(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)g(r);else try{let b=localStorage.getItem(e)||n,S=l&&b==="system"?v():b;g(S)}catch{}},IK=x.createContext(void 0),CK={setTheme:t=>{},themes:[]},NK=()=>{var t;return(t=x.useContext(IK))!=null?t:CK};x.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:o,value:l,themes:c,nonce:d,scriptProps:h})=>{let g=JSON.stringify([n,e,o,t,c,l,r,s]).slice(1,-1);return x.createElement("script",{...h,suppressHydrationWarning:!0,nonce:typeof window>"u"?d:"",dangerouslySetInnerHTML:{__html:`(${TK.toString()})(${g})`}})});const pv=({...t})=>{const{theme:e="system"}=NK();return f.jsx(kK,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};function AK({children:t,currentPageName:e}){const n=Vi(),r=Zs(),[s,o]=x.useState(!!(localStorage.getItem("currentEventId")&&localStorage.getItem("currentSessionId"))),[l,c]=x.useState(!1),[d,h]=x.useState(!1),[g,y]=x.useState(!1),[v,b]=x.useState({name:"",profileId:""}),[S,k]=x.useState(new Set),[T,C]=x.useState(!1),[P,R]=x.useState({name:"",senderSessionId:""}),[L,F]=x.useState(new Set),[q,M]=x.useState(!1),[N,O]=x.useState(null),[V,U]=x.useState(null),$=x.useCallback(async()=>{try{const ie=localStorage.getItem("currentEventId")||localStorage.getItem("last_event_id"),ee=localStorage.getItem("currentSessionId")||localStorage.getItem("last_session_id");if(!ie||!ee||localStorage.getItem(`feedback_given_for_${ie}`))return;const z=await ms.filter({id:ie});if(z.length===0)return;const oe=z[0],le=new Date().toISOString();oe.expires_at&&le>oe.expires_at&&(O(oe),U(ee),M(!0),localStorage.setItem("last_event_id",ie),localStorage.setItem("last_session_id",ee))}catch(ie){console.error("Error checking feedback eligibility:",ie)}},[]);x.useEffect(()=>{$()},[$]);const D=async()=>{const ie=localStorage.getItem("currentEventId"),ee=localStorage.getItem("currentSessionId");if(!ie||!ee){r(it("Home")),$();return}try{const te=await ms.filter({id:ie});if(te.length>0){const z=te[0],oe=new Date().toISOString();if(z.starts_at&&z.expires_at&&oe>=z.starts_at&&oe<=z.expires_at){r(it("Discovery"));return}}ie&&ee&&(localStorage.setItem("last_event_id",ie),localStorage.setItem("last_session_id",ee)),localStorage.removeItem("currentEventId"),localStorage.removeItem("currentSessionId"),localStorage.removeItem("currentEventCode"),localStorage.removeItem("currentProfileColor"),localStorage.removeItem("currentProfilePhotoUrl"),r(it("Home")),$()}catch(te){console.error("Error checking event status:",te),ie&&ee&&(localStorage.setItem("last_event_id",ie),localStorage.setItem("last_session_id",ee)),localStorage.removeItem("currentEventId"),localStorage.removeItem("currentSessionId"),localStorage.removeItem("currentEventCode"),localStorage.removeItem("currentProfileColor"),localStorage.removeItem("currentProfilePhotoUrl"),r(it("Home")),$()}},se=x.useCallback(async()=>{const ie=localStorage.getItem("currentEventId"),ee=localStorage.getItem("currentSessionId"),te=!!(ie&&ee);if(o(te),!te){c(!1),h(!1),y(!1),C(!1),k(new Set),F(new Set);return}try{const z=await qn.filter({liker_session_id:ee,event_id:ie,is_mutual:!0}),oe=await qn.filter({liked_session_id:ee,event_id:ie,is_mutual:!0});let le=!1,H=null;if([...z,...oe].forEach(ne=>{const fe=ne.liker_session_id===ee;(fe&&!ne.liker_notified_of_match||!fe&&!ne.liked_notified_of_match)&&(le=!0,!H&&!S.has(ne.id)&&(H={...ne,otherUserSessionId:fe?ne.liked_session_id:ne.liker_session_id,type:fe?"liker":"liked"}))}),c(le),H&&!g){const ne=await Ir.filter({session_id:H.otherUserSessionId,event_id:ie});if(ne.length>0){b({name:ne[0].first_name,profileId:ne[0].id}),y(!0),k(Ee=>new Set([...Ee,H.id]));const fe={};H.type==="liker"?fe.liker_notified_of_match=!0:fe.liked_notified_of_match=!0,await qn.update(H.id,fe)}}const X=await To.filter({receiver_session_id:ee,event_id:ie,is_read:!1});if(h(X.length>0),X.length>0&&!T){const ne=X.sort((fe,Ee)=>new Date(Ee.created_date)-new Date(fe.created_date))[0];if(!L.has(ne.id)){const fe=await Ir.filter({session_id:ne.sender_session_id,event_id:ie});fe.length>0&&(R({name:fe[0].first_name,senderSessionId:ne.sender_session_id}),C(!0),F(Ee=>new Set([...Ee,ne.id])))}}}catch(z){console.error("Error checking notifications:",z)}},[S,g,L,T]);return x.useEffect(()=>{se();const ie=setInterval(se,45e3);return()=>clearInterval(ie)},[se]),x.useEffect(()=>{se()},[n.pathname,se]),f.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900",children:[f.jsx(pv,{position:"bottom-center",expand:!1,visibleToasts:1,closeButton:!1,duration:3e3,toastOptions:{style:{background:"var(--toast-bg)",color:"var(--toast-color)",border:"1px solid var(--toast-border)",borderRadius:"0.5rem",padding:"1rem",fontSize:"0.875rem",fontWeight:"500",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)"}}}),f.jsx("style",{children:`
        :root {
          --primary: #1a1d29;
          --accent: #ff6b6b;
          --secondary: #4f46e5;
          --muted: #64748b;
          --background: #ffffff;
          --card: #ffffff;
          --toast-bg: #ffffff;
          --toast-color: #000000;
          --toast-border: rgba(0, 0, 0, 0.1);
        }

        @media (prefers-color-scheme: dark) {
          :root {
            --background: #111827;
            --card: #1f2937;
            --primary: #ffffff;
            --muted: #94a3b8;
            --toast-bg: #1f2937;
            --toast-color: #ffffff;
            --toast-border: rgba(255, 255, 255, 0.15);
          }
        }

        body {
          font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
          background: var(--background);
          color: var(--primary);
        }

        .glass-effect {
          background: rgba(255, 255, 255, 0.9);
          backdrop-filter: blur(20px);
          border: 1px solid rgba(255, 255, 255, 0.2);
        }

        @media (prefers-color-scheme: dark) {
          .glass-effect {
            background: rgba(31, 41, 55, 0.9);
            border: 1px solid rgba(255, 255, 255, 0.1);
          }
        }

        .gradient-text {
          background: linear-gradient(135deg, var(--accent) 0%, var(--secondary) 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }

        /* Modal overlay improvements */
        [data-radix-popper-content-wrapper],
        [data-state="open"][data-side] {
          z-index: 50;
        }

        /* Dark mode modal backgrounds */
        @media (prefers-color-scheme: dark) {
          .modal-content {
            background-color: #1f2937 !important;
            border-color: #374151 !important;
            color: #ffffff !important;
          }

          .modal-overlay {
            background-color: rgba(0, 0, 0, 0.7) !important;
          }
        }

        .modal-content {
          background-color: #ffffff;
          border: 1px solid #e5e7eb;
          border-radius: 16px;
          box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
        }

        .modal-overlay {
          background-color: rgba(0, 0, 0, 0.4);
        }

        /* Enhanced Toaster Styles */
        [data-sonner-toast] {
          background-color: var(--toast-bg) !important;
          color: var(--toast-color) !important;
          border: 1px solid var(--toast-border) !important;
          border-radius: 0.5rem !important;
          padding: 1rem !important;
          font-size: 0.875rem !important;
          font-weight: 500 !important;
          box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1) !important;
          backdrop-filter: none !important;
        }

        [data-sonner-toast]:not([data-styled]) {
          background-color: var(--toast-bg) !important;
          color: var(--toast-color) !important;
        }

        /* Toaster container */
        [data-sonner-toaster] {
          max-width: 90vw;
        }

        [data-sonner-toast] [data-content] {
          color: var(--toast-color) !important;
        }

        [data-sonner-toast] [data-title] {
          color: var(--toast-color) !important;
          font-weight: 600 !important;
        }

        [data-sonner-toast] [data-description] {
          color: var(--toast-color) !important;
          opacity: 0.8;
        }
      `}),(e==="Home"||e==="join")&&f.jsx("header",{className:"glass-effect border-b border-white/20 dark:border-gray-700 sticky top-0 z-40 bg-white/90 dark:bg-gray-900/90 backdrop-blur-sm",children:f.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:f.jsx("div",{className:"flex items-center justify-center",children:f.jsxs("button",{onClick:D,className:"flex items-center gap-2 hover:opacity-80 transition-opacity",children:[f.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full flex items-center justify-center",children:f.jsx(Ii,{className:"w-4 h-4 text-white"})}),f.jsx("span",{className:"font-semibold text-lg gradient-text",children:"Hooked"})]})})})}),f.jsx("main",{className:"relative",children:t}),f.jsxs(Bd,{children:[g&&f.jsx(Lz,{matchName:v.name,onDismiss:()=>{y(!1)},onSeeMatches:()=>{y(!1),r(it("Matches"))}}),T&&f.jsx(Vz,{senderName:P.name,senderSessionId:P.senderSessionId,onDismiss:()=>C(!1),onView:()=>{C(!1)}}),q&&N&&V&&f.jsx(SK,{event:N,sessionId:V,onClose:()=>M(!1)})]})]})}function PK(t,e){return x.useReducer((n,r)=>e[n][r]??n,t)}var xm=t=>{const{present:e,children:n}=t,r=RK(e),s=typeof n=="function"?n({present:r.isPresent}):x.Children.only(n),o=ct(r.ref,DK(s));return typeof n=="function"||r.isPresent?x.cloneElement(s,{ref:o}):null};xm.displayName="Presence";function RK(t){const[e,n]=x.useState(),r=x.useRef(null),s=x.useRef(t),o=x.useRef("none"),l=t?"mounted":"unmounted",[c,d]=PK(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const h=If(r.current);o.current=c==="mounted"?h:"none"},[c]),Vn(()=>{const h=r.current,g=s.current;if(g!==t){const v=o.current,b=If(h);t?d("MOUNT"):b==="none"||(h==null?void 0:h.display)==="none"?d("UNMOUNT"):d(g&&v!==b?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,d]),Vn(()=>{if(e){let h;const g=e.ownerDocument.defaultView??window,y=b=>{const k=If(r.current).includes(b.animationName);if(b.target===e&&k&&(d("ANIMATION_END"),!s.current)){const T=e.style.animationFillMode;e.style.animationFillMode="forwards",h=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=T)})}},v=b=>{b.target===e&&(o.current=If(r.current))};return e.addEventListener("animationstart",v),e.addEventListener("animationcancel",y),e.addEventListener("animationend",y),()=>{g.clearTimeout(h),e.removeEventListener("animationstart",v),e.removeEventListener("animationcancel",y),e.removeEventListener("animationend",y)}}else d("ANIMATION_END")},[e,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:x.useCallback(h=>{r.current=h?getComputedStyle(h):null,n(h)},[])}}function If(t){return(t==null?void 0:t.animationName)||"none"}function DK(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var _m="Dialog",[_R,bR]=Za(_m),[MK,vs]=_R(_m),ER=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:l=!0}=t,c=x.useRef(null),d=x.useRef(null),[h,g]=wd({prop:r,defaultProp:s??!1,onChange:o,caller:_m});return f.jsx(MK,{scope:e,triggerRef:c,contentRef:d,contentId:ac(),titleId:ac(),descriptionId:ac(),open:h,onOpenChange:g,onOpenToggle:x.useCallback(()=>g(y=>!y),[g]),modal:l,children:n})};ER.displayName=_m;var kR="DialogTrigger",SR=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=vs(kR,n),o=ct(e,s.triggerRef);return f.jsx(nt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Mx(s.open),...r,ref:o,onClick:st(t.onClick,s.onOpenToggle)})});SR.displayName=kR;var Rx="DialogPortal",[jK,TR]=_R(Rx,{forceMount:void 0}),IR=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,o=vs(Rx,e);return f.jsx(jK,{scope:e,forceMount:n,children:x.Children.map(r,l=>f.jsx(xm,{present:n||o.open,children:f.jsx(Cx,{asChild:!0,container:s,children:l})}))})};IR.displayName=Rx;var Rp="DialogOverlay",CR=x.forwardRef((t,e)=>{const n=TR(Rp,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=vs(Rp,t.__scopeDialog);return o.modal?f.jsx(xm,{present:r||o.open,children:f.jsx(LK,{...s,ref:e})}):null});CR.displayName=Rp;var OK=wc("DialogOverlay.RemoveScroll"),LK=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=vs(Rp,n);return f.jsx(Ax,{as:OK,allowPinchZoom:!0,shards:[s.contentRef],children:f.jsx(nt.div,{"data-state":Mx(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),qa="DialogContent",NR=x.forwardRef((t,e)=>{const n=TR(qa,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=vs(qa,t.__scopeDialog);return f.jsx(xm,{present:r||o.open,children:o.modal?f.jsx(VK,{...s,ref:e}):f.jsx(FK,{...s,ref:e})})});NR.displayName=qa;var VK=x.forwardRef((t,e)=>{const n=vs(qa,t.__scopeDialog),r=x.useRef(null),s=ct(e,n.contentRef,r);return x.useEffect(()=>{const o=r.current;if(o)return AP(o)},[]),f.jsx(AR,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:st(t.onCloseAutoFocus,o=>{var l;o.preventDefault(),(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:st(t.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&o.preventDefault()}),onFocusOutside:st(t.onFocusOutside,o=>o.preventDefault())})}),FK=x.forwardRef((t,e)=>{const n=vs(qa,t.__scopeDialog),r=x.useRef(!1),s=x.useRef(!1);return f.jsx(AR,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var l,c;(l=t.onCloseAutoFocus)==null||l.call(t,o),o.defaultPrevented||(r.current||(c=n.triggerRef.current)==null||c.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var d,h;(d=t.onInteractOutside)==null||d.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=o.target;((h=n.triggerRef.current)==null?void 0:h.contains(l))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),AR=x.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...l}=t,c=vs(qa,n),d=x.useRef(null),h=ct(e,d);return sP(),f.jsxs(f.Fragment,{children:[f.jsx(yx,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:f.jsx(gx,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":Mx(c.open),...l,ref:h,onDismiss:()=>c.onOpenChange(!1)})}),f.jsxs(f.Fragment,{children:[f.jsx(BK,{titleId:c.titleId}),f.jsx(zK,{contentRef:d,descriptionId:c.descriptionId})]})]})}),Dx="DialogTitle",PR=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=vs(Dx,n);return f.jsx(nt.h2,{id:s.titleId,...r,ref:e})});PR.displayName=Dx;var RR="DialogDescription",DR=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=vs(RR,n);return f.jsx(nt.p,{id:s.descriptionId,...r,ref:e})});DR.displayName=RR;var MR="DialogClose",jR=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=vs(MR,n);return f.jsx(nt.button,{type:"button",...r,ref:e,onClick:st(t.onClick,()=>s.onOpenChange(!1))})});jR.displayName=MR;function Mx(t){return t?"open":"closed"}var OR="DialogTitleWarning",[UK,LR]=zz(OR,{contentName:qa,titleName:Dx,docsSlug:"dialog"}),BK=({titleId:t})=>{const e=LR(OR),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return x.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},$K="DialogDescriptionWarning",zK=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${LR($K).contentName}}.`;return x.useEffect(()=>{var o;const s=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},VR=ER,HK=SR,FR=IR,jx=CR,Ox=NR,Lx=PR,Vx=DR,Fx=jR;const el=VR,WK=FR,UR=x.forwardRef(({className:t,...e},n)=>f.jsx(jx,{ref:n,className:Fe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));UR.displayName=jx.displayName;const BR=x.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(WK,{children:[f.jsx(UR,{}),f.jsxs(Ox,{ref:r,className:Fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,f.jsxs(Fx,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[f.jsx(yn,{className:"h-4 w-4"}),f.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));BR.displayName=Ox.displayName;const tl=({className:t,...e})=>f.jsx("div",{className:Fe("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});tl.displayName="DialogHeader";const nl=x.forwardRef(({className:t,...e},n)=>f.jsx(Lx,{ref:n,className:Fe("text-lg font-semibold leading-none tracking-tight",t),...e}));nl.displayName=Lx.displayName;const qK=x.forwardRef(({className:t,...e},n)=>f.jsx(Vx,{ref:n,className:Fe("text-sm text-muted-foreground",t),...e}));qK.displayName=Vx.displayName;function KK({onScan:t,onClose:e,onSwitchToManual:n}){const r=x.useRef(null),[s,o]=x.useState(!0),[l,c]=x.useState(null),[d,h]=x.useState(null),g=x.useRef(null),y=x.useCallback(()=>{g.current&&(clearInterval(g.current),g.current=null),d&&(d.getTracks().forEach(T=>T.stop()),h(null))},[d]),v=x.useCallback(async T=>{if(T)try{const C=new window.BarcodeDetector({formats:["qr_code"]});g.current=setInterval(async()=>{if(!T||T.readyState<2)return;const P=await C.detect(T);if(P.length>0){const R=P[0].rawValue;y(),Ge.success("Event found  joining now"),t(R)}},500)}catch{c("QR scanning not supported on this browser. Please enter the code manually.")}},[t,y]),b=x.useCallback(async()=>{if(!("BarcodeDetector"in window)){c("QR scanning not supported on this browser. Please enter the code manually."),o(!1);return}try{o(!0),c(null);const T=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1280},height:{ideal:720}}});h(T),r.current&&(r.current.srcObject=T,await r.current.play(),v(r.current)),o(!1)}catch(T){T.name==="NotAllowedError"||T.name==="PermissionDeniedError"?c("Please allow camera access to scan codes."):c("Could not start camera. Try entering the code manually."),o(!1)}},[v]);x.useEffect(()=>(b(),()=>{y()}),[b,y]);const S=()=>{y(),e()},k=()=>{y(),n()};return f.jsx(el,{open:!0,onOpenChange:S,children:f.jsx("div",{className:"fixed inset-0 z-50 bg-black/40 dark:bg-black/70 flex items-center justify-center p-4 modal-overlay",children:f.jsxs("div",{className:"modal-content w-full max-w-sm bg-white dark:bg-gray-900 rounded-2xl overflow-hidden shadow-2xl",children:[f.jsx("div",{className:"absolute top-0 left-0 right-0 z-10 bg-gradient-to-b from-black/80 to-transparent p-4",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("h3",{className:"text-white flex items-center gap-2 font-semibold",children:[f.jsx(Xy,{className:"w-5 h-5"}),"Scan Event QR Code"]}),f.jsx(Re,{variant:"ghost",size:"icon",onClick:S,className:"text-white hover:bg-white/20 rounded-full",children:f.jsx(yn,{className:"w-5 h-5"})})]})}),f.jsxs("div",{className:"relative aspect-square bg-black",children:[s&&f.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:f.jsxs("div",{className:"text-white text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white mx-auto mb-2"}),f.jsx("p",{className:"text-sm",children:"Starting camera..."})]})}),l&&f.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center p-6 text-center",children:[f.jsx(Xy,{className:"w-12 h-12 mx-auto mb-4 text-white opacity-50"}),f.jsx("p",{className:"text-white text-sm mb-4",children:l}),f.jsx(Re,{variant:"outline",onClick:k,className:"text-white border-white hover:bg-white hover:text-black",children:"Enter Code Manually"})]}),f.jsx("video",{ref:r,playsInline:!0,muted:!0,className:`w-full h-full object-cover transition-opacity duration-300 ${s||l?"opacity-0":"opacity-100"}`}),!l&&f.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:f.jsxs("div",{className:"relative w-64 h-64",children:[f.jsx("div",{className:"absolute top-0 left-0 w-8 h-8 border-t-4 border-l-4 border-pink-500 rounded-tl-2xl"}),f.jsx("div",{className:"absolute top-0 right-0 w-8 h-8 border-t-4 border-r-4 border-pink-500 rounded-tr-2xl"}),f.jsx("div",{className:"absolute bottom-0 left-0 w-8 h-8 border-b-4 border-l-4 border-pink-500 rounded-bl-2xl"}),f.jsx("div",{className:"absolute bottom-0 right-0 w-8 h-8 border-b-4 border-r-4 border-pink-500 rounded-br-2xl"})]})})]}),f.jsx("div",{className:"bg-white dark:bg-gray-900 p-4 text-center",children:f.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Position the QR code inside the frame."})})]})})})}function GK({onSubmit:t,onClose:e}){const[n,r]=x.useState(""),[s,o]=x.useState(!1),l=async c=>{c.preventDefault(),n.trim()&&(o(!0),await t(n.trim().toUpperCase()),o(!1))};return f.jsx(el,{open:!0,onOpenChange:e,children:f.jsx("div",{className:"fixed inset-0 z-50 bg-black/40 dark:bg-black/70 flex items-center justify-center p-4 modal-overlay",children:f.jsxs("div",{className:"modal-content w-full max-w-sm bg-white dark:bg-gray-900 rounded-2xl p-6 shadow-2xl",children:[f.jsxs(tl,{className:"text-center pb-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("div",{className:"flex-1"}),f.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-500 to-pink-600 rounded-2xl flex items-center justify-center",children:f.jsx(Pv,{className:"w-8 h-8 text-white"})}),f.jsx("div",{className:"flex-1 flex justify-end",children:f.jsx(Re,{variant:"ghost",size:"icon",onClick:e,className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300",children:f.jsx(yn,{className:"w-5 h-5"})})})]}),f.jsx(nl,{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Enter Event Code"}),f.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Enter the code provided by the event organizer"})]}),f.jsxs("form",{onSubmit:l,className:"space-y-6",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Mn,{type:"text",placeholder:"e.g., WED2025",value:n,onChange:c=>r(c.target.value.toUpperCase()),className:"text-center text-lg font-mono tracking-wider border-2 border-gray-200 dark:border-gray-600 focus:border-purple-400 dark:focus:border-purple-400 rounded-xl py-4 bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder:text-gray-400 dark:placeholder:text-gray-500",autoFocus:!0}),f.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 text-center",children:"Codes are usually 6-8 characters"})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx(Re,{type:"button",variant:"outline",onClick:e,className:"flex-1 rounded-xl py-3 border-gray-200 dark:border-gray-600 text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-800",children:"Cancel"}),f.jsx(Re,{type:"submit",disabled:!n.trim()||s,className:"flex-1 bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700 text-white rounded-xl py-3",children:s?f.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):f.jsxs(f.Fragment,{children:["Join Event",f.jsx(Cv,{className:"w-4 h-4 ml-2"})]})})]})]})]})})})}function mv(){const t=Zs(),[e,n]=x.useState(null),[r,s]=x.useState(!1),[o,l]=x.useState(!0);x.useEffect(()=>{d()},[]);const c=async(S=10,k=500)=>{for(let T=0;T<S;T++){try{const C=await Pa.me();if(C&&C.email)return C}catch{}await new Promise(C=>setTimeout(C,k))}return null},d=async()=>{try{const S=localStorage.getItem("currentEventId"),k=localStorage.getItem("currentSessionId");if(S&&k){const C=await ms.filter({id:S});if(C.length>0){const P=C[0],R=new Date().toISOString();if(P.starts_at&&P.expires_at&&R>=P.starts_at&&R<=P.expires_at){t(it("Discovery"));return}}}const T=await c();if(T){const C=new Date().toISOString(),R=(await ms.list()).find(L=>L.starts_at&&L.expires_at&&C>=L.starts_at&&C<=L.expires_at);if(R){const L=T.email.toLowerCase(),q=(await Ir.list()).filter(M=>M.event_id===R.id&&M.email===L);if(q.length>0){const M=q[0];localStorage.setItem("currentEventId",R.id),localStorage.setItem("currentSessionId",M.session_id),localStorage.setItem("currentEventCode",R.event_code),localStorage.setItem("currentProfileId",M.id),localStorage.setItem("currentProfileColor",M.profile_color||"#cccccc"),M.profile_photo_url&&localStorage.setItem("currentProfilePhotoUrl",M.profile_photo_url),console.log(`Restored profile for ${T.email} in active event ${R.name}`),setTimeout(()=>{t(it("Discovery"))},300);return}}}}catch(S){console.error("Error during profile recovery check:",S)}l(!1)},h=S=>{try{const T=new URL(S).searchParams.get("code");T?(v(),t(it(`join?code=${T.toUpperCase()}`))):alert("Invalid QR code: No event code found in URL.")}catch{typeof S=="string"&&S.trim().length>3?(v(),t(it(`join?code=${S.toUpperCase()}`))):alert("Invalid QR code format.")}},g=S=>{v(),t(it(`join?code=${S.toUpperCase()}`))},y=S=>{n(S)},v=()=>{n(null)},b=()=>{n("manualCodeEntry")};return o?f.jsxs("div",{className:"min-h-screen flex flex-col justify-center items-center px-6 py-8 relative overflow-hidden bg-white dark:bg-gray-900",children:[f.jsx("div",{className:"absolute inset-0 z-0",style:{background:"linear-gradient(135deg, rgba(251, 167, 213, 0.8) 0%, rgba(193, 135, 253, 0.8) 100%)"}}),f.jsxs("div",{className:"relative z-10 text-center",children:[f.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg",children:f.jsx(Ii,{className:"w-10 h-10 text-white"})}),f.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-pink-500 to-purple-600 bg-clip-text text-transparent mb-4",children:"Hooked"}),f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white mx-auto mb-4"}),f.jsx("p",{className:"text-white text-sm",children:"Checking for your event profile..."})]})]}):f.jsxs("div",{className:"min-h-screen flex flex-col justify-between items-center px-6 py-8 relative overflow-hidden bg-white dark:bg-gray-900",children:[f.jsx("div",{className:"absolute inset-0 z-0",style:{background:"linear-gradient(135deg, rgba(251, 167, 213, 0.8) 0%, rgba(193, 135, 253, 0.8) 100%)"}}),f.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center flex-1 w-full max-w-sm mx-auto",children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg",children:f.jsx(Ii,{className:"w-10 h-10 text-white"})}),f.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-pink-500 to-purple-600 bg-clip-text text-transparent",children:"Hooked"})]}),f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("h2",{className:"text-2xl font-medium text-white mb-4",children:"Meet singles at this event."}),f.jsx("button",{onClick:()=>s(!0),className:"text-white underline text-lg hover:opacity-80 transition-opacity",children:"See how it works"}),f.jsxs("div",{className:"text-white text-sm mt-4 leading-relaxed",children:[f.jsx("p",{children:"Before we start - don't forget to:"}),f.jsx("p",{children:"1. Open in external browser"}),f.jsx("p",{children:"2. Refresh often"})]})]}),f.jsxs("div",{className:"space-y-4 w-full",children:[f.jsxs(Re,{onClick:()=>y("qrScanner"),className:"w-full bg-white hover:bg-gray-50 text-black font-medium py-4 rounded-full shadow-lg transition-all",children:[f.jsx(TO,{className:"w-5 h-5 mr-3"}),"Scan QR Code"]}),f.jsxs(Re,{onClick:()=>y("manualCodeEntry"),className:"w-full bg-white hover:bg-gray-50 text-black font-medium py-4 rounded-full shadow-lg transition-all",children:[f.jsx(Pv,{className:"w-5 h-5 mr-3"}),"Enter Code Manually"]})]})]}),f.jsx("div",{className:"relative z-10 text-center",children:f.jsxs("p",{className:"text-white text-sm leading-relaxed",children:["By creating a temporary profile, you agree to our"," ",f.jsx("a",{href:"https://hooked-app.com/terms",target:"_blank",rel:"noopener noreferrer",className:"underline hover:opacity-80 transition-opacity",children:"Terms"})," ","and"," ",f.jsx("a",{href:"https://hooked-app.com/privacy",target:"_blank",rel:"noopener noreferrer",className:"underline hover:opacity-80 transition-opacity",children:"Privacy Policy"}),"."]})}),r&&f.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",children:f.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 max-w-sm w-full max-h-[70vh] overflow-y-auto relative",children:[f.jsx("button",{onClick:()=>s(!1),className:"absolute top-4 right-4 p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800",children:f.jsx(yn,{className:"w-5 h-5"})}),f.jsxs("div",{className:"pr-8",children:[f.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"How it works"}),f.jsxs("ul",{className:"text-gray-600 dark:text-gray-300 space-y-3 text-sm leading-relaxed",children:[f.jsx("li",{children:" Scan the event's unique QR code"}),f.jsx("li",{children:" Create a temporary profile (first name only)"}),f.jsx("li",{children:" Discover other singles at this event"}),f.jsx("li",{children:" Match and chat privately"}),f.jsx("li",{children:" Everything expires when the event ends"})]})]})]})}),e==="qrScanner"&&f.jsx(KK,{onScan:h,onClose:v,onSwitchToManual:b}),e==="manualCodeEntry"&&f.jsx(GK,{onSubmit:g,onClose:v})]})}const YK={UploadFile:vU},$R=YK.UploadFile,at=x.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:Fe("rounded-xl border bg-card text-card-foreground shadow",t),...e}));at.displayName="Card";const gn=x.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:Fe("flex flex-col space-y-1.5 p-6",t),...e}));gn.displayName="CardHeader";const cn=x.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:Fe("font-semibold leading-none tracking-tight",t),...e}));cn.displayName="CardTitle";const QK=x.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:Fe("text-sm text-muted-foreground",t),...e}));QK.displayName="CardDescription";const lt=x.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:Fe("p-6 pt-0",t),...e}));lt.displayName="CardContent";const zR=x.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:Fe("flex items-center p-6 pt-0",t),...e}));zR.displayName="CardFooter";function XK(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,n=t=="x"?e:e&3|8;return n.toString(16)})}function HR(){const t=Zs(),[e,n]=x.useState(null),[r,s]=x.useState("manual"),[o,l]=x.useState({first_name:"",age:"",gender_identity:"",interested_in:"",profile_photo_url:""}),[c,d]=x.useState(!1),[h,g]=x.useState(!1),y={initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3}};x.useEffect(()=>{(async()=>{const k=localStorage.getItem("currentEventId");if(!k){t(it("Home"));return}try{const T=await ms.filter({id:k});T.length>0?n(T[0]):t(it("Home"))}catch(T){console.error("Error fetching event details:",T),t(it("Home"))}})()},[t]);const v=async S=>{const k=S.target.files[0];if(k){if(!k.type.startsWith("image/")){Ge.error("Please select an image file.");return}if(k.size>10*1024*1024){Ge.error("Image must be smaller than 10MB.");return}g(!0);try{const{file_url:T}=await $R({file:k});l(C=>({...C,profile_photo_url:T})),Ge.success("Photo uploaded successfully!")}catch(T){console.error("Error uploading photo:",T),Ge.error("Failed to upload photo. Please try again.")}finally{g(!1)}}},b=async S=>{if(S.preventDefault(),!o.first_name||!o.age||!o.gender_identity||!o.interested_in){Ge.error("Please fill in all fields.");return}if(!o.profile_photo_url){Ge.error("Please upload a profile photo.");return}d(!0),s("processing");try{const k=XK(),T="#"+Math.floor(Math.random()*16777215).toString(16).padStart(6,"0");let C="anonymous@hooked-app.com";try{const P=await Pa.me();P&&P.email&&(C=P.email.toLowerCase())}catch(P){console.warn("Could not get user email, using anonymous fallback:",P)}await Pa.updateMyUserData({profile_photo_url:o.profile_photo_url,age:parseInt(o.age),gender_identity:o.gender_identity,interested_in:o.interested_in,profile_color:T}),await Ir.create({event_id:e.id,session_id:k,first_name:o.first_name,email:C,age:parseInt(o.age),gender_identity:o.gender_identity,interested_in:o.interested_in,profile_color:T,profile_photo_url:o.profile_photo_url,is_visible:!0}),localStorage.setItem("currentSessionId",k),localStorage.setItem("currentProfileColor",T),localStorage.setItem("currentProfilePhotoUrl",o.profile_photo_url),Ge.success("Profile created! Welcome to the event."),t(it("Discovery"))}catch(k){console.error("Error creating profile:",k),Ge.error("Failed to create profile. Please try again."),s("manual")}finally{d(!1)}};return f.jsx("div",{className:"min-h-screen bg-white dark:bg-gray-900 flex items-center justify-center px-4 py-8",children:f.jsx("div",{className:"w-full max-w-md",children:f.jsxs(Bd,{mode:"wait",children:[r==="manual"&&f.jsx(Qs.div,{...y,children:f.jsxs(at,{className:"border-0 shadow-xl bg-white dark:bg-gray-800",children:[f.jsxs(gn,{className:"text-center",children:[f.jsx(cn,{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Create Your Event Profile For:"}),f.jsx(cn,{className:"text-2xl font-bold text-gray-900 dark:text-white",children:(e==null?void 0:e.name)||"This Event"})]}),f.jsx(lt,{children:f.jsxs("form",{onSubmit:b,className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Profile Photo *"}),f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsxs("div",{className:"relative",children:[f.jsx("input",{id:"profile-photo-upload",type:"file",accept:"image/*",onChange:v,className:"hidden",disabled:h}),f.jsx("label",{htmlFor:"profile-photo-upload",className:"w-32 h-32 rounded-full border-2 border-dashed border-gray-300 dark:border-gray-600 flex items-center justify-center cursor-pointer hover:border-purple-400 dark:hover:border-purple-400 transition-colors bg-gray-50 dark:bg-gray-700",children:h?f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"}):o.profile_photo_url?f.jsx("img",{src:o.profile_photo_url,alt:"Profile preview",className:"w-full h-full rounded-full object-cover"}):f.jsxs("div",{className:"text-center",children:[f.jsx(FO,{className:"w-8 h-8 text-gray-400 dark:text-gray-500 mx-auto mb-2"}),f.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Upload Photo"})]})})]}),f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2 text-center",children:"Required  Max 10MB"})]})]}),f.jsx("div",{children:f.jsx(Mn,{type:"text",placeholder:"First Name *",value:o.first_name,onChange:S=>l(k=>({...k,first_name:S.target.value})),className:"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white placeholder:text-gray-400 dark:placeholder:text-gray-500",required:!0})}),f.jsx("div",{children:f.jsx(Mn,{type:"number",placeholder:"Age *",value:o.age,onChange:S=>l(k=>({...k,age:S.target.value})),className:"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white placeholder:text-gray-400 dark:placeholder:text-gray-500",min:"18",max:"99",required:!0})}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"I am a... *"}),f.jsx("div",{className:"grid grid-cols-2 gap-3",children:["man","woman"].map(S=>f.jsx("button",{type:"button",onClick:()=>l(k=>({...k,gender_identity:S})),className:`py-3 px-4 rounded-xl border-2 transition-all font-medium ${o.gender_identity===S?"border-purple-500 bg-purple-50 dark:bg-purple-900/20 text-purple-700 dark:text-purple-300":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500 text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800"}`,children:S.charAt(0).toUpperCase()+S.slice(1)},S))})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"I'm interested in... *"}),f.jsx("div",{className:"grid grid-cols-3 gap-3",children:["men","women","everyone"].map(S=>f.jsx("button",{type:"button",onClick:()=>l(k=>({...k,interested_in:S})),className:`py-3 px-2 rounded-xl border-2 transition-all font-medium text-sm ${o.interested_in===S?"border-purple-500 bg-purple-50 dark:bg-purple-900/20 text-purple-700 dark:text-purple-300":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500 text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800"}`,children:S.charAt(0).toUpperCase()+S.slice(1)},S))})]}),f.jsx(Re,{type:"submit",disabled:c||h,className:"w-full bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700 text-white py-3 rounded-xl",children:c?f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Creating Profile..."]}):"Join Event"})]})})]})},"manual"),r==="processing"&&f.jsx(Qs.div,{...y,children:f.jsx(at,{className:"border-0 shadow-xl bg-white dark:bg-gray-800",children:f.jsxs(lt,{className:"p-8 text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-6"}),f.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Creating Your Profile"}),f.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Setting up your temporary profile for this event."})]})})},"processing")]})})})}const JK=lm("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Yn({className:t,variant:e,...n}){return f.jsx("div",{className:Fe(JK({variant:e}),t),...n})}var WR=["PageUp","PageDown"],qR=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],KR={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Bc="Slider",[gv,ZK,eG]=eP(Bc),[GR,bQ]=Za(Bc,[eG]),[tG,bm]=GR(Bc),YR=x.forwardRef((t,e)=>{const{name:n,min:r=0,max:s=100,step:o=1,orientation:l="horizontal",disabled:c=!1,minStepsBetweenThumbs:d=0,defaultValue:h=[r],value:g,onValueChange:y=()=>{},onValueCommit:v=()=>{},inverted:b=!1,form:S,...k}=t,T=x.useRef(new Set),C=x.useRef(0),R=l==="horizontal"?nG:rG,[L=[],F]=wd({prop:g,defaultProp:h,onChange:U=>{var D;(D=[...T.current][C.current])==null||D.focus(),y(U)}}),q=x.useRef(L);function M(U){const $=lG(L,U);V(U,$)}function N(U){V(U,C.current)}function O(){const U=q.current[C.current];L[C.current]!==U&&v(L)}function V(U,$,{commit:D}={commit:!1}){const se=hG(o),ie=fG(Math.round((U-r)/o)*o+r,se),ee=Tp(ie,[r,s]);F((te=[])=>{const z=oG(te,ee,$);if(dG(z,d*o)){C.current=z.indexOf(ee);const oe=String(z)!==String(te);return oe&&D&&v(z),oe?z:te}else return te})}return f.jsx(tG,{scope:t.__scopeSlider,name:n,disabled:c,min:r,max:s,valueIndexToChangeRef:C,thumbs:T.current,values:L,orientation:l,form:S,children:f.jsx(gv.Provider,{scope:t.__scopeSlider,children:f.jsx(gv.Slot,{scope:t.__scopeSlider,children:f.jsx(R,{"aria-disabled":c,"data-disabled":c?"":void 0,...k,ref:e,onPointerDown:st(k.onPointerDown,()=>{c||(q.current=L)}),min:r,max:s,inverted:b,onSlideStart:c?void 0:M,onSlideMove:c?void 0:N,onSlideEnd:c?void 0:O,onHomeKeyDown:()=>!c&&V(r,0,{commit:!0}),onEndKeyDown:()=>!c&&V(s,L.length-1,{commit:!0}),onStepKeyDown:({event:U,direction:$})=>{if(!c){const ie=WR.includes(U.key)||U.shiftKey&&qR.includes(U.key)?10:1,ee=C.current,te=L[ee],z=o*ie*$;V(te+z,ee,{commit:!0})}}})})})})});YR.displayName=Bc;var[QR,XR]=GR(Bc,{startEdge:"left",endEdge:"right",size:"width",direction:1}),nG=x.forwardRef((t,e)=>{const{min:n,max:r,dir:s,inverted:o,onSlideStart:l,onSlideMove:c,onSlideEnd:d,onStepKeyDown:h,...g}=t,[y,v]=x.useState(null),b=ct(e,R=>v(R)),S=x.useRef(void 0),k=tP(s),T=k==="ltr",C=T&&!o||!T&&o;function P(R){const L=S.current||y.getBoundingClientRect(),F=[0,L.width],M=Ux(F,C?[n,r]:[r,n]);return S.current=L,M(R-L.left)}return f.jsx(QR,{scope:t.__scopeSlider,startEdge:C?"left":"right",endEdge:C?"right":"left",direction:C?1:-1,size:"width",children:f.jsx(JR,{dir:k,"data-orientation":"horizontal",...g,ref:b,style:{...g.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:R=>{const L=P(R.clientX);l==null||l(L)},onSlideMove:R=>{const L=P(R.clientX);c==null||c(L)},onSlideEnd:()=>{S.current=void 0,d==null||d()},onStepKeyDown:R=>{const F=KR[C?"from-left":"from-right"].includes(R.key);h==null||h({event:R,direction:F?-1:1})}})})}),rG=x.forwardRef((t,e)=>{const{min:n,max:r,inverted:s,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:d,...h}=t,g=x.useRef(null),y=ct(e,g),v=x.useRef(void 0),b=!s;function S(k){const T=v.current||g.current.getBoundingClientRect(),C=[0,T.height],R=Ux(C,b?[r,n]:[n,r]);return v.current=T,R(k-T.top)}return f.jsx(QR,{scope:t.__scopeSlider,startEdge:b?"bottom":"top",endEdge:b?"top":"bottom",size:"height",direction:b?1:-1,children:f.jsx(JR,{"data-orientation":"vertical",...h,ref:y,style:{...h.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:k=>{const T=S(k.clientY);o==null||o(T)},onSlideMove:k=>{const T=S(k.clientY);l==null||l(T)},onSlideEnd:()=>{v.current=void 0,c==null||c()},onStepKeyDown:k=>{const C=KR[b?"from-bottom":"from-top"].includes(k.key);d==null||d({event:k,direction:C?-1:1})}})})}),JR=x.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:s,onSlideEnd:o,onHomeKeyDown:l,onEndKeyDown:c,onStepKeyDown:d,...h}=t,g=bm(Bc,n);return f.jsx(nt.span,{...h,ref:e,onKeyDown:st(t.onKeyDown,y=>{y.key==="Home"?(l(y),y.preventDefault()):y.key==="End"?(c(y),y.preventDefault()):WR.concat(qR).includes(y.key)&&(d(y),y.preventDefault())}),onPointerDown:st(t.onPointerDown,y=>{const v=y.target;v.setPointerCapture(y.pointerId),y.preventDefault(),g.thumbs.has(v)?v.focus():r(y)}),onPointerMove:st(t.onPointerMove,y=>{y.target.hasPointerCapture(y.pointerId)&&s(y)}),onPointerUp:st(t.onPointerUp,y=>{const v=y.target;v.hasPointerCapture(y.pointerId)&&(v.releasePointerCapture(y.pointerId),o(y))})})}),ZR="SliderTrack",e2=x.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,s=bm(ZR,n);return f.jsx(nt.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...r,ref:e})});e2.displayName=ZR;var yv="SliderRange",t2=x.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,s=bm(yv,n),o=XR(yv,n),l=x.useRef(null),c=ct(e,l),d=s.values.length,h=s.values.map(v=>s2(v,s.min,s.max)),g=d>1?Math.min(...h):0,y=100-Math.max(...h);return f.jsx(nt.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...r,ref:c,style:{...t.style,[o.startEdge]:g+"%",[o.endEdge]:y+"%"}})});t2.displayName=yv;var vv="SliderThumb",n2=x.forwardRef((t,e)=>{const n=ZK(t.__scopeSlider),[r,s]=x.useState(null),o=ct(e,c=>s(c)),l=x.useMemo(()=>r?n().findIndex(c=>c.ref.current===r):-1,[n,r]);return f.jsx(sG,{...t,ref:o,index:l})}),sG=x.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:s,...o}=t,l=bm(vv,n),c=XR(vv,n),[d,h]=x.useState(null),g=ct(e,P=>h(P)),y=d?l.form||!!d.closest("form"):!0,v=Sx(d),b=l.values[r],S=b===void 0?0:s2(b,l.min,l.max),k=aG(r,l.values.length),T=v==null?void 0:v[c.size],C=T?cG(T,S,c.direction):0;return x.useEffect(()=>{if(d)return l.thumbs.add(d),()=>{l.thumbs.delete(d)}},[d,l.thumbs]),f.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[c.startEdge]:`calc(${S}% + ${C}px)`},children:[f.jsx(gv.ItemSlot,{scope:t.__scopeSlider,children:f.jsx(nt.span,{role:"slider","aria-label":t["aria-label"]||k,"aria-valuemin":l.min,"aria-valuenow":b,"aria-valuemax":l.max,"aria-orientation":l.orientation,"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,tabIndex:l.disabled?void 0:0,...o,ref:g,style:b===void 0?{display:"none"}:t.style,onFocus:st(t.onFocus,()=>{l.valueIndexToChangeRef.current=r})})}),y&&f.jsx(r2,{name:s??(l.name?l.name+(l.values.length>1?"[]":""):void 0),form:l.form,value:b},r)]})});n2.displayName=vv;var iG="RadioBubbleInput",r2=x.forwardRef(({__scopeSlider:t,value:e,...n},r)=>{const s=x.useRef(null),o=ct(s,r),l=Nx(e);return x.useEffect(()=>{const c=s.current;if(!c)return;const d=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==e&&g){const y=new Event("input",{bubbles:!0});g.call(c,e),c.dispatchEvent(y)}},[l,e]),f.jsx(nt.input,{style:{display:"none"},...n,ref:o,defaultValue:e})});r2.displayName=iG;function oG(t=[],e,n){const r=[...t];return r[n]=e,r.sort((s,o)=>s-o)}function s2(t,e,n){const o=100/(n-e)*(t-e);return Tp(o,[0,100])}function aG(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function lG(t,e){if(t.length===1)return 0;const n=t.map(s=>Math.abs(s-e)),r=Math.min(...n);return n.indexOf(r)}function cG(t,e,n){const r=t/2,o=Ux([0,50],[0,r]);return(r-o(e)*n)*n}function uG(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function dG(t,e){if(e>0){const n=uG(t);return Math.min(...n)>=e}return!0}function Ux(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function hG(t){return(String(t).split(".")[1]||"").length}function fG(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var i2=YR,pG=e2,mG=t2,gG=n2;const wv=x.forwardRef(({className:t,...e},n)=>f.jsxs(i2,{ref:n,className:Fe("relative flex w-full touch-none select-none items-center",t),...e,children:[f.jsx(pG,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20",children:f.jsx(mG,{className:"absolute h-full bg-primary"})}),f.jsx(gG,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]}));wv.displayName=i2.displayName;const yG=["music","tech","food","books","travel","art","fitness","nature","movies","business","photography","dancing"],O1=["yoga","gaming","comedy","startups","fashion","spirituality","volunteering","crypto","cocktails","politics","hiking","design","podcasts","pets","wellness"];function vG({filters:t,onFiltersChange:e,onClose:n}){const[r,s]=x.useState(t),[o,l]=x.useState(!1),c=g=>{s(y=>({...y,interests:y.interests.includes(g)?y.interests.filter(v=>v!==g):[...y.interests,g]}))},d=()=>{e(r),n()},h=()=>{const g={age_min:18,age_max:99,gender:"all",interests:[]};s(g),e(g),n()};return f.jsxs(el,{open:!0,onOpenChange:n,children:[f.jsx("div",{className:"fixed inset-0 z-50 bg-black/40 dark:bg-black/70 flex items-center justify-center p-4 modal-overlay",children:f.jsxs("div",{className:"modal-content w-full max-w-sm bg-white dark:bg-gray-900 rounded-2xl p-6 shadow-2xl max-h-[90vh] overflow-y-auto",children:[f.jsx(tl,{className:"mb-6",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs(nl,{className:"flex items-center gap-2 text-gray-900 dark:text-white",children:[f.jsx(gT,{className:"w-5 h-5"}),"Filter Profiles"]}),f.jsx(Re,{variant:"ghost",size:"icon",onClick:n,className:"rounded-full text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300",children:f.jsx(yn,{className:"w-4 h-4"})})]})}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx(qt,{className:"text-base font-medium mb-4 block text-gray-900 dark:text-white",children:"Age Range"}),f.jsxs("div",{className:"mb-4 flex justify-between items-center",children:[f.jsxs("span",{className:"text-sm font-medium text-pink-600 dark:text-pink-400",children:["Min Age: ",r.age_min]}),f.jsxs("span",{className:"text-sm font-medium text-purple-600 dark:text-purple-400",children:["Max Age: ",r.age_max]})]}),f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-3",children:"Drag the handles to set your preferred age range"}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx(qt,{className:"text-sm text-gray-600 dark:text-gray-400 mb-2 block",children:"Minimum Age"}),f.jsx("div",{className:"relative",children:f.jsx(wv,{value:[r.age_min],onValueChange:([g])=>s(y=>({...y,age_min:g<y.age_max?g:y.age_max-1})),min:18,max:99,step:1,className:"age-slider-min"})})]}),f.jsxs("div",{children:[f.jsx(qt,{className:"text-sm text-gray-600 dark:text-gray-400 mb-2 block",children:"Maximum Age"}),f.jsx("div",{className:"relative",children:f.jsx(wv,{value:[r.age_max],onValueChange:([g])=>s(y=>({...y,age_max:g>y.age_min?g:y.age_min+1})),min:18,max:99,step:1,className:"age-slider-max"})})]})]})]}),f.jsxs("div",{children:[f.jsx(qt,{className:"text-base font-medium mb-3 block text-gray-900 dark:text-white",children:"Must Share These Interests"}),f.jsxs("div",{className:"flex flex-wrap gap-2",children:[yG.map(g=>f.jsx(Yn,{variant:r.interests.includes(g)?"default":"outline",className:`cursor-pointer px-3 py-2 rounded-full transition-all ${r.interests.includes(g)?"bg-gradient-to-r from-purple-500 to-pink-600 text-white hover:from-purple-600 hover:to-pink-700":"border-2 border-gray-200 dark:border-gray-600 hover:border-purple-300 dark:hover:border-purple-400 text-gray-600 dark:text-gray-300 hover:text-purple-600 dark:hover:text-purple-400 bg-white dark:bg-gray-800"}`,onClick:()=>c(g),children:g},g)),!o&&r.interests.filter(g=>O1.includes(g)).map(g=>f.jsx(Yn,{variant:"default",className:"cursor-pointer px-3 py-2 rounded-full transition-all bg-gradient-to-r from-purple-500 to-pink-600 text-white hover:from-purple-600 hover:to-pink-700",onClick:()=>c(g),children:g},`selected-${g}`))]}),f.jsx("div",{className:"text-center mt-3",children:f.jsx(Re,{type:"button",variant:"ghost",size:"icon",onClick:()=>l(!o),className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full","aria-label":o?"Show less interests":"Show more interests",children:o?f.jsx(fT,{className:"w-5 h-5"}):f.jsx(Nv,{className:"w-5 h-5"})})}),f.jsx(Bd,{children:o&&f.jsx(Qs.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden",children:f.jsx("div",{className:"flex flex-wrap gap-2 mt-3 pt-3 border-t border-gray-200 dark:border-gray-700",children:O1.map(g=>f.jsx(Yn,{variant:r.interests.includes(g)?"default":"outline",className:`cursor-pointer px-3 py-2 rounded-full transition-all ${r.interests.includes(g)?"bg-gradient-to-r from-purple-500 to-pink-600 text-white hover:from-purple-600 hover:to-pink-700":"border-2 border-gray-200 dark:border-gray-600 hover:border-purple-300 dark:hover:border-purple-400 text-gray-600 dark:text-gray-300 hover:text-purple-600 dark:hover:text-purple-400 bg-white dark:bg-gray-800"}`,onClick:()=>c(g),children:g},g))})})}),r.interests.length>0&&f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"Showing only people who share at least one selected interest."})]}),f.jsxs("div",{className:"flex gap-3 pt-4",children:[f.jsx(Re,{onClick:h,variant:"outline",className:"flex-1 rounded-xl border-gray-200 dark:border-gray-600 text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-800",children:"Reset All"}),f.jsx(Re,{onClick:d,className:"flex-1 bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700 text-white rounded-xl",children:"Apply Filters"})]})]})]})}),f.jsx("style",{jsx:!0,children:`
        .age-slider-min [data-orientation="horizontal"] {
          height: 6px;
          background: linear-gradient(to right, #f87171 0%, #f87171 100%);
          border-radius: 3px;
        }
        
        .age-slider-max [data-orientation="horizontal"] {
          height: 6px;
          background: linear-gradient(to right, #a855f7 0%, #a855f7 100%);
          border-radius: 3px;
        }
        
        .age-slider-min [role="slider"],
        .age-slider-max [role="slider"] {
          width: 20px;
          height: 20px;
          background: white;
          border: 3px solid;
          border-radius: 50%;
          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
          transition: all 0.2s ease;
        }
        
        .age-slider-min [role="slider"] {
          border-color: #f87171;
        }
        
        .age-slider-max [role="slider"] {
          border-color: #a855f7;
        }
        
        .age-slider-min [role="slider"]:hover,
        .age-slider-max [role="slider"]:hover {
          transform: scale(1.1);
          box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        }
        
        .age-slider-min [role="slider"]:focus,
        .age-slider-max [role="slider"]:focus {
          outline: none;
          transform: scale(1.15);
          box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
      `})]})}function o2({profile:t,onClose:e,onLike:n,isLiked:r}){if(x.useEffect(()=>{const v=b=>{b.key==="Escape"&&e()};return document.addEventListener("keydown",v),document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",v),document.body.style.overflow="auto"}},[e]),!t)return null;const{profile_photo_url:s,profile_color:o,first_name:l,age:c,height:d,interests:h,bio:g}=t,y=l?l[0].toUpperCase():"?";return f.jsx(Bd,{children:f.jsx(Qs.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/70 dark:bg-black/80 backdrop-blur-sm p-4",onClick:e,children:f.jsxs(Qs.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},transition:{type:"spring",stiffness:300,damping:25},className:"relative w-full max-w-sm bg-white dark:bg-gray-900 rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] overflow-y-auto",onClick:v=>v.stopPropagation(),children:[f.jsxs("div",{className:"relative",children:[s?f.jsxs(f.Fragment,{children:[f.jsx("img",{src:s,alt:`${l}'s profile photo`,className:"w-full h-80 object-cover",loading:"lazy",onError:v=>{v.target.style.display="none";const b=v.target.nextElementSibling;b&&(b.style.display="flex")}}),f.jsx("div",{className:"w-full h-80 flex items-center justify-center text-white font-bold text-6xl absolute inset-0",style:{backgroundColor:o||"#cccccc",display:"none"},children:y})]}):f.jsx("div",{className:"w-full h-80 flex items-center justify-center text-white font-bold text-6xl",style:{backgroundColor:o||"#cccccc"},children:y}),f.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 bg-black/50 hover:bg-black/70 rounded-full text-white transition-colors z-10","aria-label":"Close profile",children:f.jsx(yn,{className:"w-6 h-6"})})]}),f.jsxs("div",{className:"p-6 space-y-6",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:l}),f.jsxs("div",{className:"flex items-center gap-4 text-gray-600 dark:text-gray-400",children:[c&&f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(hT,{className:"w-4 h-4"}),f.jsxs("span",{children:[c," years old"]})]}),d&&f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(CO,{className:"w-4 h-4"}),f.jsxs("span",{children:[d," cm"]})]})]})]}),g&&f.jsxs("div",{children:[f.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"About"}),f.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:g})]}),h&&h.length>0&&f.jsxs("div",{children:[f.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Interests"}),f.jsx("div",{className:"flex flex-wrap gap-2",children:h.map(v=>f.jsx(Yn,{variant:"outline",className:"rounded-full border-purple-200 dark:border-purple-600 text-purple-600 dark:text-purple-300 bg-purple-50 dark:bg-purple-900/30",children:v},v))})]}),f.jsx("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700",children:f.jsxs(Re,{onClick:n,disabled:r,className:`w-full rounded-xl py-3 transition-all ${r?"bg-gray-200 dark:bg-gray-700 text-gray-400 dark:text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-pink-500 to-red-500 hover:from-pink-600 hover:to-red-600 text-white"}`,children:[f.jsx(Ii,{className:`w-5 h-5 mr-2 ${r?"":"hover:fill-current"}`}),r?"Already Liked":`Like ${l}`]})})]})]})})})}function a2(){const t=Zs(),[e,n]=x.useState([]),[r,s]=x.useState(null),[o,l]=x.useState([]),[c,d]=x.useState(null),[h,g]=x.useState(null),[y,v]=x.useState({age_min:18,age_max:99,gender:"all",interests:[]}),[b,S]=x.useState(!1),[k,T]=x.useState(!0),[C,P]=new x.useState(new Set),[R,L]=x.useState(null),[F,q]=x.useState(!1);x.useEffect(()=>{M()},[]),x.useEffect(()=>{r&&e.length>=0&&V()},[e,y,r]),x.useEffect(()=>{const D=()=>{q(!document.hidden)};return q(!document.hidden),document.addEventListener("visibilitychange",D),()=>document.removeEventListener("visibilitychange",D)},[]),x.useEffect(()=>{if(!h||!c)return;const D=setInterval(()=>{F&&(N(c.id,h),O(c.id,h))},6e4);return()=>clearInterval(D)},[h,c,F]);const M=async()=>{const D=localStorage.getItem("currentEventId"),se=localStorage.getItem("currentSessionId");if(!D||!se){t(it("Home"));return}g(se);try{const ie=await ms.filter({id:D});if(ie.length>0)d(ie[0]);else{t(it("Home"));return}await Promise.all([N(D,se),O(D,se)])}catch(ie){console.error("Error initializing session:",ie)}T(!1)},N=async(D,se)=>{try{const ie=await Ir.filter({event_id:D,is_visible:!0}),ee=ie.find(z=>z.session_id===se);s(ee);const te=ie.filter(z=>z.session_id!==se);n(te),ee||(console.warn("Current user profile not found for session, redirecting."),t(it("Home")))}catch(ie){console.error("Error loading profiles:",ie)}},O=async(D,se)=>{try{const ie=await qn.filter({liker_session_id:se,event_id:D});P(new Set(ie.map(ee=>ee.liked_session_id)))}catch(ie){console.error("Error loading likes:",ie)}},V=()=>{if(!r){l([]);return}let D=e.filter(se=>{var te;const ie=r.interested_in==="everyone"||r.interested_in==="men"&&se.gender_identity==="man"||r.interested_in==="women"&&se.gender_identity==="woman"||r.interested_in==="non-binary"&&se.gender_identity==="non-binary",ee=se.interested_in==="everyone"||se.interested_in==="men"&&r.gender_identity==="man"||se.interested_in==="women"&&r.gender_identity==="woman"||se.interested_in==="non-binary"&&r.gender_identity==="non-binary";return!(!ie||!ee||!(se.age>=y.age_min&&se.age<=y.age_max)||y.gender!=="all"&&se.gender_identity!==y.gender||y.interests.length>0&&!((te=se.interests)!=null&&te.some(z=>y.interests.includes(z))))});l(D)},U=async D=>{if(C.has(D.session_id)||!r)return;const se=localStorage.getItem("currentEventId"),ie=r.session_id;try{P(z=>new Set([...z,D.session_id]));const ee=await qn.create({event_id:se,liker_session_id:ie,liked_session_id:D.session_id,is_mutual:!1,liker_notified_of_match:!1,liked_notified_of_match:!1}),te=await qn.filter({event_id:se,liker_session_id:D.session_id,liked_session_id:ie});if(te.length>0){const z=te[0];await qn.update(ee.id,{is_mutual:!0,liker_notified_of_match:!0}),await qn.update(z.id,{is_mutual:!0,liked_notified_of_match:!0}),alert(` It's a Match! You and ${D.first_name} liked each other.`),t(it("Matches"))}}catch(ee){console.error("Error liking profile:",ee),P(te=>{const z=new Set(te);return z.delete(D.session_id),z})}},$=D=>{L(D)};return k?f.jsx("div",{className:"min-h-screen flex items-center justify-center pb-20 bg-white dark:bg-gray-900",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600 mx-auto mb-4"}),f.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Loading singles at this event..."})]})}):f.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900 pb-20",children:[f.jsxs("div",{className:"max-w-md mx-auto px-4 py-8",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full flex items-center justify-center",children:f.jsx(Ii,{className:"w-3 h-3 text-white"})}),f.jsx("span",{className:"font-semibold text-lg bg-gradient-to-r from-pink-500 to-purple-600 bg-clip-text text-transparent",children:"Hooked"})]}),f.jsxs("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:["Singles at ",c==null?void 0:c.name]}),f.jsxs("p",{className:"text-gray-500 dark:text-gray-400",children:[o.length," people discovered"]})]}),f.jsx(Re,{onClick:()=>S(!0),variant:"outline",size:"icon",className:"rounded-full border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 bg-white dark:bg-gray-800",children:f.jsx(gT,{className:"w-5 h-5"})})]}),f.jsx("div",{className:"grid grid-cols-3 gap-3",children:o.map(D=>f.jsx("div",{className:"relative",children:f.jsx(at,{className:"border-0 shadow-md hover:shadow-lg transition-all duration-300 cursor-pointer overflow-hidden bg-white dark:bg-gray-800",onClick:()=>$(D),children:f.jsx(lt,{className:"p-0",children:f.jsxs("div",{className:"relative aspect-square",children:[D.profile_photo_url?f.jsx("img",{src:D.profile_photo_url,alt:`${D.first_name}'s profile`,className:"w-full h-full object-cover",loading:"lazy",onError:se=>{se.target.style.display="none";const ie=se.target.nextElementSibling;ie&&(ie.style.display="flex")}}):null,f.jsx("div",{className:"w-full h-full flex items-center justify-center text-white font-semibold text-lg absolute inset-0",style:{backgroundColor:D.profile_color||"#cccccc",display:D.profile_photo_url?"none":"flex"},children:D.first_name[0]}),f.jsx("button",{onClick:se=>{se.stopPropagation(),U(D)},disabled:C.has(D.session_id),className:`absolute top-2 right-2 p-2 rounded-full shadow-lg transition-all ${C.has(D.session_id)?"bg-white/90 dark:bg-gray-800/90 text-pink-500 cursor-not-allowed":"bg-white/90 dark:bg-gray-800/90 text-gray-400 dark:text-gray-500 hover:bg-pink-50 dark:hover:bg-pink-900/20 hover:text-pink-500 hover:scale-110"}`,children:f.jsx(Ii,{className:`w-4 h-4 ${C.has(D.session_id)?"fill-current text-pink-500":"text-gray-400 dark:text-gray-500 hover:text-pink-500"}`})}),f.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-3",children:f.jsx("h3",{className:"font-semibold text-white text-sm truncate",children:D.first_name})})]})})})},D.id))}),o.length===0&&!k&&f.jsx(at,{className:"border-0 shadow-lg mt-8 bg-white dark:bg-gray-800",children:f.jsxs(lt,{className:"p-8 text-center",children:[f.jsx(Ma,{className:"w-12 h-12 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),f.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"No singles found"}),f.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mb-4",children:"Try adjusting your filters or check back later as more people join the event."}),f.jsx(Re,{onClick:()=>S(!0),variant:"outline",className:"rounded-xl border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 bg-white dark:bg-gray-800",children:"Adjust Filters"})]})}),b&&f.jsx(vG,{filters:y,onFiltersChange:v,onClose:()=>S(!1)}),R&&f.jsx(o2,{profile:R,onClose:()=>L(null),onLike:()=>{U(R),L(null)},isLiked:C.has(R.session_id)})]}),f.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 z-30",children:f.jsx("div",{className:"max-w-md mx-auto px-4 py-3",children:f.jsxs("div",{className:"flex justify-around",children:[f.jsxs("button",{onClick:()=>t(it("Profile")),className:"flex flex-col items-center gap-1 py-2 px-4 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300",children:[f.jsx(Sd,{className:"w-6 h-6"}),f.jsx("span",{className:"text-xs",children:"Profile"})]}),f.jsxs("button",{className:"flex flex-col items-center gap-1 py-2 px-4 text-purple-600 dark:text-purple-400",children:[f.jsx(Ma,{className:"w-6 h-6"}),f.jsx("span",{className:"text-xs font-medium",children:"Discover"})]}),f.jsxs("button",{onClick:()=>t(it("Matches")),className:"flex flex-col items-center gap-1 py-2 px-4 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300",children:[f.jsx(dc,{className:"w-6 h-6"}),f.jsx("span",{className:"text-xs",children:"Matches"})]})]})})})]})}function ws(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Ka(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const l2=6048e5,wG=864e5;let xG={};function Em(){return xG}function xd(t,e){var c,d,h,g;const n=Em(),r=(e==null?void 0:e.weekStartsOn)??((d=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??n.weekStartsOn??((g=(h=n.locale)==null?void 0:h.options)==null?void 0:g.weekStartsOn)??0,s=ws(t),o=s.getDay(),l=(o<r?7:0)+o-r;return s.setDate(s.getDate()-l),s.setHours(0,0,0,0),s}function Dp(t){return xd(t,{weekStartsOn:1})}function c2(t){const e=ws(t),n=e.getFullYear(),r=Ka(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=Dp(r),o=Ka(t,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const l=Dp(o);return e.getTime()>=s.getTime()?n+1:e.getTime()>=l.getTime()?n:n-1}function L1(t){const e=ws(t);return e.setHours(0,0,0,0),e}function V1(t){const e=ws(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function _G(t,e){const n=L1(t),r=L1(e),s=+n-V1(n),o=+r-V1(r);return Math.round((s-o)/wG)}function bG(t){const e=c2(t),n=Ka(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Dp(n)}function EG(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function kG(t){if(!EG(t)&&typeof t!="number")return!1;const e=ws(t);return!isNaN(Number(e))}function SG(t){const e=ws(t),n=Ka(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const TG={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},IG=(t,e,n)=>{let r;const s=TG[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Wy(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const CG={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},NG={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},AG={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},PG={date:Wy({formats:CG,defaultWidth:"full"}),time:Wy({formats:NG,defaultWidth:"full"}),dateTime:Wy({formats:AG,defaultWidth:"full"})},RG={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},DG=(t,e,n,r)=>RG[t];function Cu(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const l=t.defaultFormattingWidth||t.defaultWidth,c=n!=null&&n.width?String(n.width):l;s=t.formattingValues[c]||t.formattingValues[l]}else{const l=t.defaultWidth,c=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[c]||t.values[l]}const o=t.argumentCallback?t.argumentCallback(e):e;return s[o]}}const MG={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},jG={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},OG={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},LG={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},VG={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},FG={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},UG=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},BG={ordinalNumber:UG,era:Cu({values:MG,defaultWidth:"wide"}),quarter:Cu({values:jG,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Cu({values:OG,defaultWidth:"wide"}),day:Cu({values:LG,defaultWidth:"wide"}),dayPeriod:Cu({values:VG,defaultWidth:"wide",formattingValues:FG,defaultFormattingWidth:"wide"})};function Nu(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(s);if(!o)return null;const l=o[0],c=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],d=Array.isArray(c)?zG(c,y=>y.test(l)):$G(c,y=>y.test(l));let h;h=t.valueCallback?t.valueCallback(d):d,h=n.valueCallback?n.valueCallback(h):h;const g=e.slice(l.length);return{value:h,rest:g}}}function $G(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function zG(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function HG(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],o=e.match(t.parsePattern);if(!o)return null;let l=t.valueCallback?t.valueCallback(o[0]):o[0];l=n.valueCallback?n.valueCallback(l):l;const c=e.slice(s.length);return{value:l,rest:c}}}const WG=/^(\d+)(th|st|nd|rd)?/i,qG=/\d+/i,KG={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},GG={any:[/^b/i,/^(a|c)/i]},YG={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},QG={any:[/1/i,/2/i,/3/i,/4/i]},XG={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},JG={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ZG={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},eY={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},tY={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},nY={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},rY={ordinalNumber:HG({matchPattern:WG,parsePattern:qG,valueCallback:t=>parseInt(t,10)}),era:Nu({matchPatterns:KG,defaultMatchWidth:"wide",parsePatterns:GG,defaultParseWidth:"any"}),quarter:Nu({matchPatterns:YG,defaultMatchWidth:"wide",parsePatterns:QG,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Nu({matchPatterns:XG,defaultMatchWidth:"wide",parsePatterns:JG,defaultParseWidth:"any"}),day:Nu({matchPatterns:ZG,defaultMatchWidth:"wide",parsePatterns:eY,defaultParseWidth:"any"}),dayPeriod:Nu({matchPatterns:tY,defaultMatchWidth:"any",parsePatterns:nY,defaultParseWidth:"any"})},sY={code:"en-US",formatDistance:IG,formatLong:PG,formatRelative:DG,localize:BG,match:rY,options:{weekStartsOn:0,firstWeekContainsDate:1}};function iY(t){const e=ws(t);return _G(e,SG(e))+1}function oY(t){const e=ws(t),n=+Dp(e)-+bG(e);return Math.round(n/l2)+1}function u2(t,e){var g,y,v,b;const n=ws(t),r=n.getFullYear(),s=Em(),o=(e==null?void 0:e.firstWeekContainsDate)??((y=(g=e==null?void 0:e.locale)==null?void 0:g.options)==null?void 0:y.firstWeekContainsDate)??s.firstWeekContainsDate??((b=(v=s.locale)==null?void 0:v.options)==null?void 0:b.firstWeekContainsDate)??1,l=Ka(t,0);l.setFullYear(r+1,0,o),l.setHours(0,0,0,0);const c=xd(l,e),d=Ka(t,0);d.setFullYear(r,0,o),d.setHours(0,0,0,0);const h=xd(d,e);return n.getTime()>=c.getTime()?r+1:n.getTime()>=h.getTime()?r:r-1}function aY(t,e){var c,d,h,g;const n=Em(),r=(e==null?void 0:e.firstWeekContainsDate)??((d=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??n.firstWeekContainsDate??((g=(h=n.locale)==null?void 0:h.options)==null?void 0:g.firstWeekContainsDate)??1,s=u2(t,e),o=Ka(t,0);return o.setFullYear(s,0,r),o.setHours(0,0,0,0),xd(o,e)}function lY(t,e){const n=ws(t),r=+xd(n,e)-+aY(n,e);return Math.round(r/l2)+1}function ht(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const yo={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return ht(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):ht(n+1,2)},d(t,e){return ht(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return ht(t.getHours()%12||12,e.length)},H(t,e){return ht(t.getHours(),e.length)},m(t,e){return ht(t.getMinutes(),e.length)},s(t,e){return ht(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return ht(s,e.length)}},Hl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},F1={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return yo.y(t,e)},Y:function(t,e,n,r){const s=u2(t,r),o=s>0?s:1-s;if(e==="YY"){const l=o%100;return ht(l,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):ht(o,e.length)},R:function(t,e){const n=c2(t);return ht(n,e.length)},u:function(t,e){const n=t.getFullYear();return ht(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return ht(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return ht(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return yo.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return ht(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=lY(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):ht(s,e.length)},I:function(t,e,n){const r=oY(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):ht(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):yo.d(t,e)},D:function(t,e,n){const r=iY(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):ht(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),o=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return ht(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),o=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return ht(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return ht(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=Hl.noon:r===0?s=Hl.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=Hl.evening:r>=12?s=Hl.afternoon:r>=4?s=Hl.morning:s=Hl.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return yo.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):yo.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):ht(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):ht(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):yo.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):yo.s(t,e)},S:function(t,e){return yo.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return B1(r);case"XXXX":case"XX":return Sa(r);case"XXXXX":case"XXX":default:return Sa(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return B1(r);case"xxxx":case"xx":return Sa(r);case"xxxxx":case"xxx":default:return Sa(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+U1(r,":");case"OOOO":default:return"GMT"+Sa(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+U1(r,":");case"zzzz":default:return"GMT"+Sa(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return ht(r,e.length)},T:function(t,e,n){const r=t.getTime();return ht(r,e.length)}};function U1(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),o=r%60;return o===0?n+String(s):n+String(s)+e+ht(o,2)}function B1(t,e){return t%60===0?(t>0?"-":"+")+ht(Math.abs(t)/60,2):Sa(t,e)}function Sa(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=ht(Math.trunc(r/60),2),o=ht(r%60,2);return n+s+e+o}const $1=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},d2=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},cY=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return $1(t,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",$1(r,e)).replace("{{time}}",d2(s,e))},uY={p:d2,P:cY},dY=/^D+$/,hY=/^Y+$/,fY=["D","DD","YY","YYYY"];function pY(t){return dY.test(t)}function mY(t){return hY.test(t)}function gY(t,e,n){const r=yY(t,e,n);if(console.warn(r),fY.includes(t))throw new RangeError(r)}function yY(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const vY=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,wY=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,xY=/^'([^]*?)'?$/,_Y=/''/g,bY=/[a-zA-Z]/;function Mp(t,e,n){var g,y,v,b;const r=Em(),s=r.locale??sY,o=r.firstWeekContainsDate??((y=(g=r.locale)==null?void 0:g.options)==null?void 0:y.firstWeekContainsDate)??1,l=r.weekStartsOn??((b=(v=r.locale)==null?void 0:v.options)==null?void 0:b.weekStartsOn)??0,c=ws(t);if(!kG(c))throw new RangeError("Invalid time value");let d=e.match(wY).map(S=>{const k=S[0];if(k==="p"||k==="P"){const T=uY[k];return T(S,s.formatLong)}return S}).join("").match(vY).map(S=>{if(S==="''")return{isToken:!1,value:"'"};const k=S[0];if(k==="'")return{isToken:!1,value:EY(S)};if(F1[k])return{isToken:!0,value:S};if(k.match(bY))throw new RangeError("Format string contains an unescaped latin alphabet character `"+k+"`");return{isToken:!1,value:S}});s.localize.preprocessor&&(d=s.localize.preprocessor(c,d));const h={firstWeekContainsDate:o,weekStartsOn:l,locale:s};return d.map(S=>{if(!S.isToken)return S.value;const k=S.value;(mY(k)||pY(k))&&gY(k,e,String(t));const T=F1[k[0]];return T(c,k,s.localize,h)}).join("")}function EY(t){const e=t.match(xY);return e?e[1].replace(_Y,"'"):t}function kY({matchName:t,onConfirm:e,onCancel:n,isSharing:r}){const[s,o]=x.useState({fullName:"",phoneNumber:""}),[l,c]=x.useState("confirm"),[d,h]=x.useState(!1),g=async()=>{var b,S,k,T;if(h(!0),navigator.contacts)try{const C=await navigator.contacts.select(["name","tel"]);if(C&&C.length>0){const P=C[0],R=((S=(b=P.name)==null?void 0:b[0])==null?void 0:S.formatted)||"",L=((T=(k=P.tel)==null?void 0:k[0])==null?void 0:T.value)||"";if(R&&L){o({fullName:R,phoneNumber:L}),v({fullName:R,phoneNumber:L}),h(!1);return}}}catch{console.log("Contact access not available or denied, falling back to manual entry")}c("enter"),h(!1)},y=()=>{!s.fullName.trim()||!s.phoneNumber.trim()||v(s)},v=async b=>{h(!0);try{await e(b),c("success"),setTimeout(()=>{n()},2e3)}catch(S){console.error("Error sharing contact info:",S),alert("Failed to share contact info. Please try again.")}h(!1)};return f.jsx("div",{className:"fixed inset-0 z-[200] bg-black/70 dark:bg-black/80 backdrop-blur-sm flex items-center justify-center p-4",children:f.jsxs(Qs.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white dark:bg-gray-800 rounded-2xl p-6 w-full max-w-sm shadow-2xl relative",children:[f.jsx("button",{onClick:n,className:"absolute top-4 right-4 p-2 text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700","aria-label":"Close",children:f.jsx(yn,{className:"w-5 h-5"})}),l==="confirm"&&f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-4",children:f.jsx(t0,{className:"w-8 h-8 text-white"})}),f.jsx("h3",{className:"font-semibold text-xl mb-2 text-gray-900 dark:text-white",children:"Share Contact Info?"}),f.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-6 leading-relaxed",children:["This will share your name and phone number with ",f.jsx("span",{className:"font-medium",children:t}),". This action cannot be undone."]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx(Re,{onClick:n,variant:"outline",className:"flex-1 border-gray-200 dark:border-gray-600 text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700",disabled:d,children:"Not Yet"}),f.jsx(Re,{onClick:g,className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white",disabled:d,children:d?f.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):"Share"})]})]}),l==="enter"&&f.jsxs("div",{children:[f.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-4",children:f.jsx(Sd,{className:"w-8 h-8 text-white"})}),f.jsx("h3",{className:"font-semibold text-xl mb-2 text-center text-gray-900 dark:text-white",children:"Enter Your Contact Info"}),f.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-6 text-center text-sm",children:["Please enter your details to share with ",t]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx(qt,{htmlFor:"fullName",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Full Name"}),f.jsx(Mn,{id:"fullName",type:"text",placeholder:"Your full name",value:s.fullName,onChange:b=>o(S=>({...S,fullName:b.target.value})),className:"mt-1 rounded-xl border-2 border-gray-200 dark:border-gray-600 focus:border-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",autoFocus:!0})]}),f.jsxs("div",{children:[f.jsx(qt,{htmlFor:"phoneNumber",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Phone Number"}),f.jsx(Mn,{id:"phoneNumber",type:"tel",placeholder:"Your phone number",value:s.phoneNumber,onChange:b=>o(S=>({...S,phoneNumber:b.target.value})),className:"mt-1 rounded-xl border-2 border-gray-200 dark:border-gray-600 focus:border-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-800 text-gray-900 dark:text-white"})]})]}),f.jsxs("div",{className:"flex gap-3 mt-6",children:[f.jsx(Re,{onClick:()=>c("confirm"),variant:"outline",className:"flex-1 border-gray-200 dark:border-gray-600 text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700",children:"Back"}),f.jsx(Re,{onClick:y,disabled:!s.fullName.trim()||!s.phoneNumber.trim()||d,className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white",children:d?f.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):"Confirm Share"})]})]}),l==="success"&&f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-green-500 to-emerald-600 rounded-full flex items-center justify-center mx-auto mb-4",children:f.jsx(Jy,{className:"w-8 h-8 text-white"})}),f.jsx("h3",{className:"font-semibold text-xl mb-2 text-gray-900 dark:text-white",children:"Contact Info Shared!"}),f.jsxs("p",{className:"text-gray-600 dark:text-gray-400 leading-relaxed",children:["Your contact information has been shared with ",t,". They can now see your name and phone number."]})]})]})})}function SY({match:t,onClose:e}){var $;const[n,r]=x.useState([]),[s,o]=x.useState(""),[l,c]=x.useState(!0),[d,h]=x.useState(!1),[g,y]=x.useState(!1),[v,b]=x.useState(null),[S,k]=x.useState(!0),T=x.useRef(null),C=localStorage.getItem("currentSessionId"),P=localStorage.getItem("currentEventId"),R=`${C}_${t.session_id}`.split("").sort().join(""),[L,F]=x.useState(!1);x.useEffect(()=>{F(!1)},[t.session_id]);const q=x.useCallback(async()=>{try{const D=await To.filter({match_id:R,receiver_session_id:C,is_read:!1,event_id:P});D.length>0&&await Promise.all(D.map(se=>To.update(se.id,{is_read:!0})))}catch(D){console.error("Error marking messages as read:",D)}},[R,C,P]),M=x.useCallback(async()=>{try{const D=await To.filter({event_id:P,match_id:R},"created_date");r(D),q()}catch(D){console.error("Error loading messages:",D)}c(!1)},[P,R,q]);x.useEffect(()=>{const D=()=>{k(!document.hidden)};return document.addEventListener("visibilitychange",D),()=>document.removeEventListener("visibilitychange",D)},[]),x.useEffect(()=>{M(),O();const D=setInterval(()=>{S&&(M(),O())},3e4);return()=>clearInterval(D)},[S,M]),x.useEffect(()=>{N()},[n]);const N=()=>{var D;(D=T.current)==null||D.scrollIntoView({behavior:"smooth"})},O=async()=>{try{(await vy.filter({event_id:P,match_id:R,sharer_session_id:C})).length>0&&y(!0);const se=await vy.filter({event_id:P,match_id:R,sharer_session_id:t.session_id,recipient_session_id:C});se.length>0&&b(se[0])}catch(D){console.error("Error loading contact shares:",D)}},V=async D=>{if(D.preventDefault(),!s.trim())return;const se=s.trim();o("");try{const ie={id:`temp_${Date.now()}`,content:se,sender_session_id:C,created_date:new Date().toISOString()};r(ee=>[...ee,ie]),await To.create({event_id:P,sender_session_id:C,receiver_session_id:t.session_id,content:se,match_id:R,is_read:!1})}catch(ie){console.error("Error sending message:",ie),r(ee=>ee.filter(te=>!te.id.startsWith("temp_"))),o(se)}},U=async D=>{try{await vy.create({event_id:P,sharer_session_id:C,recipient_session_id:t.session_id,full_name:D.fullName,phone_number:D.phoneNumber,match_id:R}),y(!0),h(!1),O()}catch(se){throw console.error("Error sharing contact info:",se),se}};return f.jsx(el,{open:!0,onOpenChange:e,children:f.jsx("div",{className:"fixed inset-0 z-50 bg-black/40 dark:bg-black/70 flex items-center justify-center p-4 modal-overlay",children:f.jsxs("div",{className:"modal-content w-full max-w-sm h-[600px] bg-white dark:bg-gray-900 rounded-2xl flex flex-col shadow-2xl",children:[f.jsxs(tl,{className:"p-4 border-b border-gray-200 dark:border-gray-700 bg-gradient-to-r from-pink-50 to-purple-50 dark:from-pink-900/20 dark:to-purple-900/20 rounded-t-2xl",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[t.profile_photo_url&&!L?f.jsx("img",{src:t.profile_photo_url,alt:`${t.first_name}'s avatar`,className:"w-10 h-10 rounded-full object-cover border-2 border-purple-200 dark:border-purple-700",loading:"lazy",onError:()=>F(!0)}):f.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white font-semibold",style:{backgroundColor:t.profile_color},children:t.first_name[0]}),f.jsxs("div",{children:[f.jsx(nl,{className:"text-lg text-gray-900 dark:text-white",children:t.first_name}),f.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[f.jsx(pT,{className:"w-3 h-3 text-gray-400 dark:text-gray-500"}),f.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Expires at midnight"})]})]}),f.jsxs("div",{className:"flex gap-1",children:[!g&&f.jsx(Re,{variant:"ghost",size:"icon",onClick:()=>h(!0),className:"rounded-full text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800",title:"Share contact info",children:f.jsx(cE,{className:"w-4 h-4"})}),f.jsx(Re,{variant:"ghost",size:"icon",onClick:e,className:"rounded-full text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800",children:f.jsx(yn,{className:"w-4 h-4"})})]})]}),f.jsx("div",{className:"flex flex-wrap gap-1 mt-3",children:($=t.interests)==null?void 0:$.map(D=>f.jsx(Yn,{variant:"outline",className:"text-xs rounded-full border-purple-200 dark:border-purple-700 text-purple-600 dark:text-purple-300 bg-white dark:bg-gray-800",children:D},D))}),(g||v)&&f.jsxs("div",{className:"mt-3 space-y-2",children:[g&&f.jsxs("div",{className:"flex items-center gap-2 text-xs text-green-600 dark:text-green-400",children:[f.jsx(cE,{className:"w-3 h-3"}),f.jsx("span",{children:"You shared your contact info"})]}),v&&f.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-3",children:[f.jsxs("div",{className:"flex items-center gap-2 text-xs text-blue-600 dark:text-blue-400 mb-2",children:[f.jsx(t0,{className:"w-3 h-3"}),f.jsxs("span",{children:[t.first_name," shared their contact info"]})]}),f.jsxs("div",{className:"text-sm text-gray-900 dark:text-white",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx(Sd,{className:"w-3 h-3 text-gray-500 dark:text-gray-400"}),f.jsx("span",{className:"font-medium",children:v.full_name})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(t0,{className:"w-3 h-3 text-gray-500 dark:text-gray-400"}),f.jsx("span",{className:"font-mono",children:v.phone_number})]})]})]})]})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 bg-gray-50 dark:bg-gray-800",children:[l?f.jsx("div",{className:"flex justify-center py-8",children:f.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-purple-600"})}):n.length===0?f.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:f.jsxs("p",{className:"text-sm",children:[" You matched! Say hello to ",t.first_name]})}):n.map(D=>f.jsx("div",{className:`flex ${D.sender_session_id===C?"justify-end":"justify-start"}`,children:f.jsxs("div",{className:`max-w-[80%] px-4 py-2 rounded-2xl ${D.sender_session_id===C?"bg-gradient-to-r from-purple-500 to-pink-600 text-white":"bg-white dark:bg-gray-700 text-gray-900 dark:text-white border border-gray-200 dark:border-gray-600"}`,children:[f.jsx("p",{className:"text-sm",children:D.content}),f.jsx("p",{className:`text-xs mt-1 ${D.sender_session_id===C?"text-purple-100":"text-gray-500 dark:text-gray-400"}`,children:Mp(new Date(D.created_date),"HH:mm")})]})},D.id)),f.jsx("div",{ref:T})]}),f.jsx("form",{onSubmit:V,className:"p-4 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 rounded-b-2xl",children:f.jsxs("div",{className:"flex gap-2",children:[f.jsx(Mn,{value:s,onChange:D=>o(D.target.value),placeholder:`Message ${t.first_name}...`,className:"flex-1 rounded-full border-2 border-gray-200 dark:border-gray-600 focus:border-purple-400 dark:focus:border-purple-400 bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder:text-gray-400 dark:placeholder:text-gray-500"}),f.jsx(Re,{type:"submit",disabled:!s.trim(),className:"bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700 text-white rounded-full",size:"icon",children:f.jsx(PO,{className:"w-4 h-4"})})]})}),d&&f.jsx(kY,{matchName:t.first_name,onConfirm:U,onCancel:()=>h(!1)})]})})})}function h2(){const t=Zs(),[e,n]=x.useState([]),[r,s]=x.useState(null),[o,l]=x.useState(null),[c,d]=x.useState(!0),[h,g]=x.useState(!0),y=localStorage.getItem("currentSessionId"),v=localStorage.getItem("currentEventId"),b=x.useCallback(async k=>{if(!y||!v||k.length===0)return;const T=await qn.filter({event_id:v,is_mutual:!0});for(const C of k){const P=T.find(L=>L.liker_session_id===y&&L.liked_session_id===C.session_id);if(P&&!P.liker_notified_of_match)try{await qn.update(P.id,{liker_notified_of_match:!0})}catch(L){console.error("Error updating my like notification status:",L)}const R=T.find(L=>L.liker_session_id===C.session_id&&L.liked_session_id===y);if(R&&!R.liked_notified_of_match)try{await qn.update(R.id,{liked_notified_of_match:!0})}catch(L){console.error("Error updating their like notification status:",L)}}},[y,v]),S=x.useCallback(async()=>{if(!y||!v){d(!1);return}try{const k=await qn.filter({liker_session_id:y,event_id:v,is_mutual:!0}),T=await qn.filter({liked_session_id:y,event_id:v,is_mutual:!0}),C=new Set([...k.map(L=>L.liked_session_id),...T.map(L=>L.liker_session_id)]);if(C.size===0){n([]),d(!1);return}const P=await Ir.filter({session_id:Array.from(C),event_id:v}),R=await Promise.all(P.map(async L=>{const F=[y,L.session_id].sort(),q=`${F[0]}_${F[1]}`,M=await To.filter({match_id:q,receiver_session_id:y,is_read:!1,event_id:v});return{...L,unreadCount:M.length}}));n(R.filter(Boolean)),P.length>0&&b(P)}catch(k){console.error("Error loading matches:",k)}d(!1)},[y,v,b]);return x.useEffect(()=>{const k=()=>{g(!document.hidden)};return document.addEventListener("visibilitychange",k),()=>document.removeEventListener("visibilitychange",k)},[]),x.useEffect(()=>{S();const k=setInterval(()=>{h&&S()},45e3);return()=>clearInterval(k)},[S,h]),x.useEffect(()=>{const T=new URLSearchParams(window.location.search).get("openChat");if(T&&e.length>0){const C=e.find(P=>P.session_id===T);C&&(s(C),window.history.replaceState({},document.title,window.location.pathname))}},[e]),c?f.jsx("div",{className:"min-h-screen flex items-center justify-center pb-20 bg-white dark:bg-gray-900",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-pink-600 mx-auto mb-4"}),f.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Loading your matches..."})]})}):f.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900 pb-20",children:[f.jsxs("div",{className:"max-w-md mx-auto px-4 py-8",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-pink-500 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:f.jsx(Ii,{className:"w-8 h-8 text-white"})}),f.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Your Matches"}),f.jsxs("p",{className:"text-gray-500 dark:text-gray-400",children:[e.length," mutual ",e.length===1?"connection":"connections"," at this event"]})]}),f.jsxs("div",{className:"space-y-4",children:[e.map(k=>{var T,C;return f.jsx(at,{className:"border-0 shadow-lg hover:shadow-xl transition-all duration-300 bg-white dark:bg-gray-800",children:f.jsx(lt,{className:"p-6",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("div",{className:"relative",children:[k.profile_photo_url?f.jsxs(f.Fragment,{children:[f.jsx("img",{src:k.profile_photo_url,alt:`${k.first_name}'s avatar`,className:"w-16 h-16 rounded-full object-cover border-2 border-purple-200 dark:border-purple-700 cursor-pointer hover:opacity-80 transition-opacity",loading:"lazy",onClick:()=>l(k),onError:P=>{P.target.style.display="none";const R=P.target.nextElementSibling;R&&(R.style.display="flex")}}),f.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center text-white font-semibold text-xl cursor-pointer hover:opacity-80 transition-opacity absolute inset-0 border-2 border-purple-200 dark:border-purple-700",style:{backgroundColor:k.profile_color,display:"none"},onClick:()=>l(k),children:k.first_name[0]})]}):f.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center text-white font-semibold text-xl cursor-pointer hover:opacity-80 transition-opacity border-2 border-purple-200 dark:border-purple-700",style:{backgroundColor:k.profile_color},onClick:()=>l(k),children:k.first_name[0]}),f.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-gradient-to-r from-pink-500 to-red-500 rounded-full flex items-center justify-center shadow-md",children:f.jsx(MO,{className:"w-3 h-3 text-white"})})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-semibold text-lg text-gray-900 dark:text-white",children:k.first_name}),f.jsxs("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:[k.age," years old"]}),f.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[(T=k.interests)==null?void 0:T.slice(0,2).map(P=>f.jsx(Yn,{variant:"outline",className:"text-xs rounded-full border-purple-200 dark:border-purple-600 text-purple-600 dark:text-purple-300 bg-purple-50 dark:bg-purple-900/30",children:P},P)),((C=k.interests)==null?void 0:C.length)>2&&f.jsxs(Yn,{variant:"outline",className:"text-xs rounded-full border-gray-200 dark:border-gray-600 text-gray-500 dark:text-gray-400 bg-gray-50 dark:bg-gray-800",children:["+",k.interests.length-2]})]})]})]}),f.jsxs("div",{className:"flex flex-col items-center gap-2",children:[f.jsx(Re,{onClick:()=>s(k),className:"bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700 text-white rounded-full",size:"icon",children:f.jsx(dc,{className:"w-5 h-5"})}),k.unreadCount>0&&f.jsx(Yn,{className:"bg-red-500 text-white rounded-full px-2 py-0.5 text-xs",children:k.unreadCount})]})]})})},k.id)}),e.length===0&&!c&&f.jsx(at,{className:"border-0 shadow-lg bg-white dark:bg-gray-800",children:f.jsxs(lt,{className:"p-8 text-center",children:[f.jsx(Ma,{className:"w-16 h-16 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),f.jsx("h3",{className:"font-semibold text-xl text-gray-900 dark:text-white mb-2",children:"No matches yet"}),f.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"Start liking profiles to find your matches! When someone likes you back, they'll appear here."}),f.jsx(Re,{onClick:()=>t(it("Discovery")),className:"bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700 text-white rounded-xl px-6",children:"Discover Singles"})]})})]})]}),f.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 z-30",children:f.jsx("div",{className:"max-w-md mx-auto px-4 py-3",children:f.jsxs("div",{className:"flex justify-around",children:[f.jsxs("button",{onClick:()=>t(it("Profile")),className:"flex flex-col items-center gap-1 py-2 px-4 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300",children:[f.jsx(Sd,{className:"w-6 h-6"}),f.jsx("span",{className:"text-xs",children:"Profile"})]}),f.jsxs("button",{onClick:()=>t(it("Discovery")),className:"flex flex-col items-center gap-1 py-2 px-4 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300",children:[f.jsx(Ma,{className:"w-6 h-6"}),f.jsx("span",{className:"text-xs",children:"Discover"})]}),f.jsxs("button",{className:"flex flex-col items-center gap-1 py-2 px-4 text-purple-600 dark:text-purple-400",children:[f.jsx(dc,{className:"w-6 h-6"}),f.jsx("span",{className:"text-xs font-medium",children:"Matches"})]})]})})}),r&&f.jsx(SY,{match:r,onClose:()=>{s(null),S()}}),o&&f.jsx(o2,{profile:o,onClose:()=>l(null),onLike:()=>{l(null)},isLiked:!0})]})}const TY="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=";function IY({url:t,fileName:e}){const[n,r]=me.useState(!1),s=`${TY}${encodeURIComponent(t)}`,o=()=>{if(n){Ge.error("Cannot download QR code, image failed to load.");return}const l=new Image;l.crossOrigin="Anonymous",l.onload=()=>{const c=document.createElement("canvas");c.width=l.width,c.height=l.height,c.getContext("2d").drawImage(l,0,0);const h=c.toDataURL("image/png"),g=document.createElement("a");g.href=h,g.download=e,document.body.appendChild(g),g.click(),document.body.removeChild(g)},l.onerror=()=>{Ge.error("Failed to process QR code for download. Please check your network connection.")},l.src=s};return f.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4",children:[f.jsx("div",{className:"bg-white p-2 rounded-lg shadow-sm w-48 h-48 flex items-center justify-center",children:n?f.jsxs("div",{className:"text-center text-red-600",children:[f.jsx(Av,{className:"mx-auto h-8 w-8 mb-2"}),f.jsx("p",{className:"text-xs",children:"Failed to load QR code image."})]}):f.jsx("img",{src:s,alt:"Generated QR Code",className:"w-full h-full object-contain",onError:()=>r(!0)})}),f.jsxs(Re,{onClick:o,variant:"outline",size:"sm",disabled:n,children:[f.jsx(mT,{className:"h-4 w-4 mr-2"}),"Download QR"]})]})}function CY({event:t,isOpen:e,onClose:n,onSuccess:r}){const[s,o]=x.useState({name:"",code:"",location:"",description:"",organizer_email:"",starts_at:"",expires_at:""}),[l,c]=x.useState(!1),[d,h]=x.useState({});x.useEffect(()=>{e&&(o(t?{name:t.name||"",event_code:(t.event_code||"").toUpperCase(),location:t.location||"",description:t.description||"",organizer_email:t.organizer_email||"",starts_at:t.starts_at?Mp(new Date(t.starts_at),"yyyy-MM-dd'T'HH:mm"):"",expires_at:t.expires_at?Mp(new Date(t.expires_at),"yyyy-MM-dd'T'HH:mm"):""}:{name:"",event_code:"",location:"",description:"",organizer_email:"",starts_at:"",expires_at:""}),h({}))},[t,e]);const g=(b,S)=>{let k=S;b==="event_code"&&(k=S.toUpperCase()),o(T=>({...T,[b]:k})),d[b]&&h(T=>({...T,[b]:null}))},y=()=>{const b={};return s.starts_at||(b.starts_at="Start date is required."),s.expires_at||(b.expires_at="End date is required."),s.starts_at&&s.expires_at&&new Date(s.expires_at)<=new Date(s.starts_at)&&(b.expires_at="End date must be after the start date."),h(b),Object.keys(b).length===0},v=async b=>{if(b.preventDefault(),!y()){Ge.error("Please fix the errors before submitting.");return}c(!0);try{const S={...s,starts_at:s.starts_at?new Date(s.starts_at).toISOString():null,expires_at:s.expires_at?new Date(s.expires_at).toISOString():null};t?(await ms.update(t.id,S),Ge.success(`Event "${S.name}" updated successfully.`)):(await ms.create(S),Ge.success(`Event "${S.name}" created successfully.`)),r()}catch(S){console.error("Error submitting event form:",S),Ge.error("Failed to save event. Please try again.")}finally{c(!1)}};return e?f.jsx(el,{open:e,onOpenChange:n,children:f.jsxs(BR,{className:"max-w-2xl max-h-[90vh] overflow-y-auto bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700",children:[f.jsx(tl,{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx(nl,{className:"text-xl font-bold text-gray-900 dark:text-white",children:t?"Edit Event":"Create New Event"}),f.jsx(Re,{variant:"ghost",size:"icon",onClick:n,className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300",children:f.jsx(yn,{className:"w-4 h-4"})})]})}),f.jsxs("form",{onSubmit:v,className:"p-6 space-y-6",children:[f.jsxs("div",{children:[f.jsx(qt,{htmlFor:"name",className:"text-gray-700 dark:text-gray-200",children:"Event Name"}),f.jsx(Mn,{id:"name",value:s.name,onChange:b=>g("name",b.target.value),required:!0,className:"bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder:text-gray-400 dark:placeholder:text-gray-400 border-gray-300 dark:border-gray-600"})]}),f.jsxs("div",{children:[f.jsx(qt,{htmlFor:"code",className:"text-gray-700 dark:text-gray-200",children:"Access Code *"}),f.jsx(Mn,{id:"event_code",value:s.event_code,onChange:b=>g("event_code",b.target.value),required:!0,placeholder:"e.g., PARTY2024",className:`bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder:text-gray-400 dark:placeholder:text-gray-400 border-gray-300 dark:border-gray-600 ${d.event_code?"border-red-500":""}`}),d.event_code&&f.jsx("p",{className:"text-red-500 dark:text-red-400 text-xs mt-1",children:d.event_code})]}),f.jsxs("div",{children:[f.jsx(qt,{htmlFor:"starts_at",className:"text-gray-700 dark:text-gray-200",children:"Starts At"}),f.jsx(Mn,{id:"starts_at",type:"datetime-local",value:s.starts_at,onChange:b=>g("starts_at",b.target.value),className:"bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder:text-gray-400 dark:placeholder:text-gray-400 border-gray-300 dark:border-gray-600"}),d.starts_at&&f.jsx("p",{className:"text-red-500 dark:text-red-400 text-xs mt-1",children:d.starts_at})]}),f.jsxs("div",{children:[f.jsx(qt,{htmlFor:"expires_at",className:"text-gray-700 dark:text-gray-200",children:"Expires At"}),f.jsx(Mn,{id:"expires_at",type:"datetime-local",value:s.expires_at,onChange:b=>g("expires_at",b.target.value),className:"bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder:text-gray-400 dark:placeholder:text-gray-400 border-gray-300 dark:border-gray-600"}),d.expires_at&&f.jsx("p",{className:"text-red-500 dark:text-red-400 text-xs mt-1",children:d.expires_at})]}),f.jsxs("div",{children:[f.jsx(qt,{htmlFor:"location",className:"text-gray-700 dark:text-gray-200",children:"Location"}),f.jsx(Mn,{id:"location",value:s.location,onChange:b=>g("location",b.target.value),className:"bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder:text-gray-400 dark:placeholder:text-gray-400 border-gray-300 dark:border-gray-600"})]}),f.jsxs("div",{children:[f.jsx(qt,{htmlFor:"description",className:"text-gray-700 dark:text-gray-200",children:"Description"}),f.jsx(gd,{id:"description",value:s.description,onChange:b=>g("description",b.target.value),className:"bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder:text-gray-400 dark:placeholder:text-gray-400 border-gray-300 dark:border-gray-600"})]}),f.jsxs("div",{children:[f.jsx(qt,{htmlFor:"organizer_email",className:"text-gray-700 dark:text-gray-200",children:"Organizer Email"}),f.jsx(Mn,{id:"organizer_email",type:"email",value:s.organizer_email,onChange:b=>g("organizer_email",b.target.value),className:"bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder:text-gray-400 dark:placeholder:text-gray-400 border-gray-300 dark:border-gray-600"})]}),f.jsxs("div",{className:"flex gap-3 pt-4",children:[f.jsx(Re,{type:"button",variant:"outline",onClick:n,className:"flex-1 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-800",children:"Cancel"}),f.jsxs(Re,{type:"submit",disabled:l,className:"flex-1 bg-indigo-600 hover:bg-indigo-700 text-white",children:[l?f.jsx(Zy,{className:"h-4 w-4 animate-spin"}):f.jsx(Rf,{className:"h-4 w-4 mr-2"}),t?"Save Changes":"Create Event"]})]})]})]})}):null}function NY({event:t,isOpen:e,onClose:n}){const[r,s]=x.useState({profiles:[],likes:[],messages:[],stats:{totalProfiles:0,totalLikes:0,mutualMatches:0,totalMessages:0,averageAge:0,genderBreakdown:{}}}),[o,l]=x.useState(!0);x.useEffect(()=>{e&&t&&c()},[e,t]);const c=async()=>{l(!0);try{const[h,g,y]=await Promise.all([Ir.filter({event_id:t.id}),qn.filter({event_id:t.id}),To.filter({event_id:t.id})]),v=h.length,b=g.length,S=g.filter(R=>R.is_mutual).length/2,k=y.length,T=h.filter(R=>R.age).map(R=>R.age),C=T.length>0?Math.round(T.reduce((R,L)=>R+L,0)/T.length):0,P=h.reduce((R,L)=>{const F=L.gender_identity||"Unknown";return R[F]=(R[F]||0)+1,R},{});s({profiles:h,likes:g,messages:y,stats:{totalProfiles:v,totalLikes:b,mutualMatches:S,totalMessages:k,averageAge:C,genderBreakdown:P}})}catch(h){console.error("Error loading analytics:",h)}l(!1)},d=h=>{var y,v;const g=r.profiles.find(b=>b.session_id===h);if(g&&g.first_name){const b=((y=h.split("_").pop())==null?void 0:y.substring(0,8))||h.substring(0,8);return`${g.first_name} (${b})`}return((v=h.split("_").pop())==null?void 0:v.substring(0,12))||h.substring(0,12)};return e?f.jsx(el,{open:e,onOpenChange:n,children:f.jsx("div",{className:"fixed inset-0 z-50 bg-black/40 dark:bg-black/70 flex items-center justify-center p-4",children:f.jsxs("div",{className:"w-full max-w-4xl bg-white dark:bg-gray-900 rounded-xl shadow-2xl max-h-[90vh] overflow-hidden",children:[f.jsx(tl,{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs(nl,{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["Analytics: ",t.name]}),f.jsx(Re,{variant:"ghost",size:"icon",onClick:n,className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300",children:f.jsx(yn,{className:"w-5 h-5"})})]})}),f.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:o?f.jsx("div",{className:"flex justify-center items-center h-64",children:f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[f.jsx(at,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:f.jsxs(lt,{className:"p-4 text-center",children:[f.jsx(Ma,{className:"w-8 h-8 text-blue-500 mx-auto mb-2"}),f.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r.stats.totalProfiles}),f.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Profiles"})]})}),f.jsx(at,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:f.jsxs(lt,{className:"p-4 text-center",children:[f.jsx(Ii,{className:"w-8 h-8 text-pink-500 mx-auto mb-2"}),f.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r.stats.mutualMatches}),f.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Mutual Matches"})]})}),f.jsx(at,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:f.jsxs(lt,{className:"p-4 text-center",children:[f.jsx(dc,{className:"w-8 h-8 text-green-500 mx-auto mb-2"}),f.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r.stats.totalMessages}),f.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Messages Sent"})]})}),f.jsx(at,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:f.jsxs(lt,{className:"p-4 text-center",children:[f.jsx(hT,{className:"w-8 h-8 text-purple-500 mx-auto mb-2"}),f.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r.stats.averageAge}),f.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Average Age"})]})})]}),f.jsxs(at,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[f.jsx(gn,{children:f.jsx(cn,{className:"text-lg text-gray-900 dark:text-white",children:"Gender Breakdown"})}),f.jsx(lt,{children:f.jsx("div",{className:"space-y-2",children:Object.entries(r.stats.genderBreakdown).map(([h,g])=>f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"capitalize text-gray-700 dark:text-gray-300",children:h}),f.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:g})]},h))})})]}),f.jsxs(at,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[f.jsx(gn,{children:f.jsxs(cn,{className:"text-lg text-gray-900 dark:text-white",children:["Recent Likes (",r.likes.length,")"]})}),f.jsx(lt,{children:f.jsx("div",{className:"max-h-64 overflow-y-auto",children:f.jsx("div",{className:"space-y-2",children:r.likes.slice(0,50).map(h=>f.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:[f.jsx("span",{className:"font-medium",children:d(h.liker_session_id)}),"  ",f.jsx("span",{className:"font-medium",children:d(h.liked_session_id)})]}),h.is_mutual&&f.jsx("span",{className:"px-2 py-1 text-xs bg-pink-100 dark:bg-pink-900 text-pink-800 dark:text-pink-200 rounded-full",children:"Mutual"})]}),f.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:Mp(new Date(h.created_date),"MMM d, HH:mm")})]},h.id))})})})]})]})})]})})}):null}var f2="AlertDialog",[AY,EQ]=Za(f2,[bR]),Ui=bR(),p2=t=>{const{__scopeAlertDialog:e,...n}=t,r=Ui(e);return f.jsx(VR,{...r,...n,modal:!0})};p2.displayName=f2;var PY="AlertDialogTrigger",RY=x.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Ui(n);return f.jsx(HK,{...s,...r,ref:e})});RY.displayName=PY;var DY="AlertDialogPortal",m2=t=>{const{__scopeAlertDialog:e,...n}=t,r=Ui(e);return f.jsx(FR,{...r,...n})};m2.displayName=DY;var MY="AlertDialogOverlay",g2=x.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Ui(n);return f.jsx(jx,{...s,...r,ref:e})});g2.displayName=MY;var uc="AlertDialogContent",[jY,OY]=AY(uc),LY=_U("AlertDialogContent"),y2=x.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...s}=t,o=Ui(n),l=x.useRef(null),c=ct(e,l),d=x.useRef(null);return f.jsx(UK,{contentName:uc,titleName:v2,docsSlug:"alert-dialog",children:f.jsx(jY,{scope:n,cancelRef:d,children:f.jsxs(Ox,{role:"alertdialog",...o,...s,ref:c,onOpenAutoFocus:st(s.onOpenAutoFocus,h=>{var g;h.preventDefault(),(g=d.current)==null||g.focus({preventScroll:!0})}),onPointerDownOutside:h=>h.preventDefault(),onInteractOutside:h=>h.preventDefault(),children:[f.jsx(LY,{children:r}),f.jsx(FY,{contentRef:l})]})})})});y2.displayName=uc;var v2="AlertDialogTitle",w2=x.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Ui(n);return f.jsx(Lx,{...s,...r,ref:e})});w2.displayName=v2;var x2="AlertDialogDescription",_2=x.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Ui(n);return f.jsx(Vx,{...s,...r,ref:e})});_2.displayName=x2;var VY="AlertDialogAction",b2=x.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Ui(n);return f.jsx(Fx,{...s,...r,ref:e})});b2.displayName=VY;var E2="AlertDialogCancel",k2=x.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:s}=OY(E2,n),o=Ui(n),l=ct(e,s);return f.jsx(Fx,{...o,...r,ref:l})});k2.displayName=E2;var FY=({contentRef:t})=>{const e=`\`${uc}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${uc}\` by passing a \`${x2}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${uc}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},UY=p2,BY=m2,S2=g2,T2=y2,I2=b2,C2=k2,N2=w2,A2=_2;const $Y=UY,zY=BY,P2=x.forwardRef(({className:t,...e},n)=>f.jsx(S2,{className:Fe("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));P2.displayName=S2.displayName;const R2=x.forwardRef(({className:t,...e},n)=>f.jsxs(zY,{children:[f.jsx(P2,{}),f.jsx(T2,{ref:n,className:Fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));R2.displayName=T2.displayName;const D2=({className:t,...e})=>f.jsx("div",{className:Fe("flex flex-col space-y-2 text-center sm:text-left",t),...e});D2.displayName="AlertDialogHeader";const M2=({className:t,...e})=>f.jsx("div",{className:Fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});M2.displayName="AlertDialogFooter";const j2=x.forwardRef(({className:t,...e},n)=>f.jsx(N2,{ref:n,className:Fe("text-lg font-semibold",t),...e}));j2.displayName=N2.displayName;const O2=x.forwardRef(({className:t,...e},n)=>f.jsx(A2,{ref:n,className:Fe("text-sm text-muted-foreground",t),...e}));O2.displayName=A2.displayName;const L2=x.forwardRef(({className:t,...e},n)=>f.jsx(I2,{ref:n,className:Fe(jw(),t),...e}));L2.displayName=I2.displayName;const V2=x.forwardRef(({className:t,...e},n)=>f.jsx(C2,{ref:n,className:Fe(jw({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));V2.displayName=C2.displayName;function HY({isOpen:t,onClose:e,onConfirm:n,eventName:r}){return f.jsx($Y,{open:t,onOpenChange:e,children:f.jsxs(R2,{className:"bg-white dark:bg-gray-900 text-gray-800 dark:text-white rounded-xl shadow-xl p-6 max-w-md w-full border border-gray-200 dark:border-gray-700",children:[f.jsxs(D2,{className:"mb-4",children:[f.jsx(j2,{className:"text-xl font-bold mb-4",children:"Are you absolutely sure?"}),f.jsxs(O2,{className:"text-gray-600 dark:text-gray-300 mb-6",children:["This action cannot be undone. This will permanently delete the event ",f.jsxs("strong",{children:['"',r,'"']})," and all associated data including profiles, likes, and messages."]})]}),f.jsxs(M2,{className:"flex justify-end gap-3",children:[f.jsx(V2,{asChild:!0,children:f.jsx("button",{className:"px-4 py-2 rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",onClick:e,children:"Cancel"})}),f.jsx(L2,{asChild:!0,children:f.jsx("button",{className:"px-4 py-2 rounded-md bg-red-600 text-white font-semibold hover:bg-red-700 transition-colors",onClick:n,children:"Delete Event"})})]})]})})}const F2=x.forwardRef(({className:t,...e},n)=>f.jsx("div",{className:"relative w-full overflow-auto",children:f.jsx("table",{ref:n,className:Fe("w-full caption-bottom text-sm",t),...e})}));F2.displayName="Table";const U2=x.forwardRef(({className:t,...e},n)=>f.jsx("thead",{ref:n,className:Fe("[&_tr]:border-b",t),...e}));U2.displayName="TableHeader";const B2=x.forwardRef(({className:t,...e},n)=>f.jsx("tbody",{ref:n,className:Fe("[&_tr:last-child]:border-0",t),...e}));B2.displayName="TableBody";const WY=x.forwardRef(({className:t,...e},n)=>f.jsx("tfoot",{ref:n,className:Fe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));WY.displayName="TableFooter";const xv=x.forwardRef(({className:t,...e},n)=>f.jsx("tr",{ref:n,className:Fe("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));xv.displayName="TableRow";const Xf=x.forwardRef(({className:t,...e},n)=>f.jsx("th",{ref:n,className:Fe("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e}));Xf.displayName="TableHead";const Jf=x.forwardRef(({className:t,...e},n)=>f.jsx("td",{ref:n,className:Fe("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e}));Jf.displayName="TableCell";const qY=x.forwardRef(({className:t,...e},n)=>f.jsx("caption",{ref:n,className:Fe("mt-4 text-sm text-muted-foreground",t),...e}));qY.displayName="TableCaption";function KY({event:t,isOpen:e,onClose:n}){const[r,s]=x.useState([]),[o,l]=x.useState(!0),[c,d]=x.useState(null);x.useEffect(()=>{e&&t&&h()},[e,t]);const h=async()=>{l(!0);try{const v=await Dw.filter({event_id:t.id});s(v),g(v)}catch(v){console.error("Error loading feedbacks:",v)}finally{l(!1)}},g=v=>{if(v.length===0){d(null);return}const b=v.length,S=v.reduce((F,q)=>F+q.rating_profile_setup,0)/b,k=v.reduce((F,q)=>F+q.rating_interests_helpful,0)/b,T=v.reduce((F,q)=>F+q.rating_social_usefulness,0)/b,C=v.filter(F=>F.met_match_in_person).length,P=b-C,R=v.filter(F=>F.open_to_other_event_types).length,L=b-R;d({totalResponses:b,ratings:{profileSetup:{average:S.toFixed(1),count:b},interestsHelpful:{average:k.toFixed(1),count:b},socialUsefulness:{average:T.toFixed(1),count:b}},booleans:{metInPerson:{yes:C,no:P},openToOtherEvents:{yes:R,no:L}}})},y=({rating:v})=>f.jsxs("div",{className:"flex items-center gap-1",children:[[1,2,3,4,5].map(b=>f.jsx(yT,{className:`w-4 h-4 ${b<=Math.round(v)?"text-yellow-500 fill-current":"text-gray-300 dark:text-gray-600"}`},b)),f.jsx("span",{className:"ml-2 font-semibold text-gray-900 dark:text-white",children:v})]});return e?f.jsx(el,{open:e,onOpenChange:n,children:f.jsx("div",{className:"fixed inset-0 z-50 bg-black/80 dark:bg-black/90 flex items-center justify-center p-4",children:f.jsxs("div",{className:"w-full max-w-4xl bg-white dark:bg-gray-900 rounded-xl shadow-2xl max-h-[90vh] overflow-hidden border border-gray-200 dark:border-gray-700",children:[f.jsx(tl,{className:"p-6 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:f.jsx(e0,{className:"w-5 h-5 text-white"})}),f.jsxs("div",{children:[f.jsx(nl,{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Feedback Insights"}),f.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:t==null?void 0:t.name})]})]}),f.jsx(Re,{variant:"ghost",size:"icon",onClick:n,className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300",children:f.jsx(yn,{className:"w-4 h-4"})})]})}),f.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:o?f.jsx("div",{className:"flex items-center justify-center py-12",children:f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):r.length===0?f.jsx(at,{className:"bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:f.jsxs(lt,{className:"p-8 text-center",children:[f.jsx(e0,{className:"w-12 h-12 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No feedback responses yet"}),f.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Feedback will appear here after the event ends and participants submit their responses."})]})}):f.jsxs("div",{className:"space-y-6",children:[f.jsxs(at,{className:"bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 border-blue-200 dark:border-blue-700",children:[f.jsx(gn,{children:f.jsxs(cn,{className:"flex items-center gap-2 text-gray-900 dark:text-white",children:[f.jsx(Ma,{className:"w-5 h-5"}),"Summary (",c==null?void 0:c.totalResponses," responses)"]})}),f.jsx(lt,{children:f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[f.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-600",children:[f.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Profile Setup"}),f.jsx(y,{rating:parseFloat(c==null?void 0:c.ratings.profileSetup.average)})]}),f.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-600",children:[f.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Interests Helpful"}),f.jsx(y,{rating:parseFloat(c==null?void 0:c.ratings.interestsHelpful.average)})]}),f.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-600",children:[f.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Social Interaction"}),f.jsx(y,{rating:parseFloat(c==null?void 0:c.ratings.socialUsefulness.average)})]})]})})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs(at,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[f.jsx(gn,{children:f.jsx(cn,{className:"text-gray-900 dark:text-white text-base",children:"Met Match in Person"})}),f.jsxs(lt,{children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Jy,{className:"w-4 h-4 text-green-500"}),f.jsx("span",{className:"text-gray-900 dark:text-white",children:"Yes"})]}),f.jsx(Yn,{variant:"outline",className:"border-green-200 dark:border-green-700 text-green-600 dark:text-green-400",children:c==null?void 0:c.booleans.metInPerson.yes})]}),f.jsxs("div",{className:"flex items-center justify-between mt-2",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(lE,{className:"w-4 h-4 text-red-500"}),f.jsx("span",{className:"text-gray-900 dark:text-white",children:"No"})]}),f.jsx(Yn,{variant:"outline",className:"border-red-200 dark:border-red-700 text-red-600 dark:text-red-400",children:c==null?void 0:c.booleans.metInPerson.no})]})]})]}),f.jsxs(at,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[f.jsx(gn,{children:f.jsx(cn,{className:"text-gray-900 dark:text-white text-base",children:"Open to Other Events"})}),f.jsxs(lt,{children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Jy,{className:"w-4 h-4 text-green-500"}),f.jsx("span",{className:"text-gray-900 dark:text-white",children:"Yes"})]}),f.jsx(Yn,{variant:"outline",className:"border-green-200 dark:border-green-700 text-green-600 dark:text-green-400",children:c==null?void 0:c.booleans.openToOtherEvents.yes})]}),f.jsxs("div",{className:"flex items-center justify-between mt-2",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(lE,{className:"w-4 h-4 text-red-500"}),f.jsx("span",{className:"text-gray-900 dark:text-white",children:"No"})]}),f.jsx(Yn,{variant:"outline",className:"border-red-200 dark:border-red-700 text-red-600 dark:text-red-400",children:c==null?void 0:c.booleans.openToOtherEvents.no})]})]})]})]}),f.jsxs(at,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[f.jsx(gn,{children:f.jsx(cn,{className:"text-gray-900 dark:text-white",children:"Detailed Feedback"})}),f.jsx(lt,{children:f.jsx("div",{className:"overflow-x-auto",children:f.jsxs(F2,{children:[f.jsx(U2,{children:f.jsxs(xv,{className:"border-gray-200 dark:border-gray-600",children:[f.jsx(Xf,{className:"text-gray-900 dark:text-white",children:"What to Improve"}),f.jsx(Xf,{className:"text-gray-900 dark:text-white",children:"General Feedback"}),f.jsx(Xf,{className:"text-gray-900 dark:text-white",children:"Ratings"})]})}),f.jsx(B2,{children:r.map((v,b)=>f.jsxs(xv,{className:"border-gray-200 dark:border-gray-600",children:[f.jsx(Jf,{className:"text-gray-900 dark:text-white max-w-xs",children:f.jsx("div",{className:"truncate",title:v.match_experience_feedback,children:v.match_experience_feedback})}),f.jsx(Jf,{className:"text-gray-900 dark:text-white max-w-xs",children:f.jsx("div",{className:"truncate",title:v.general_feedback||"N/A",children:v.general_feedback||"N/A"})}),f.jsx(Jf,{children:f.jsxs("div",{className:"flex flex-col gap-1 text-sm",children:[f.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Profile: ",v.rating_profile_setup,"/5"]}),f.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Interests: ",v.rating_interests_helpful,"/5"]}),f.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Social: ",v.rating_social_usefulness,"/5"]})]})})]},b))})]})})})]})]})})]})})}):null}const Cf=(t,e)=>{const n=e.map(s=>s.displayName).join(","),r=t.map(s=>e.map(o=>{let l=s[o.key];return l==null?"":(Array.isArray(l)&&(l=l.join(";")),`"${String(l).replace(/"/g,'""')}"`)}).join(","));return[n,...r].join(`\r
`)},Nf=(t,e)=>{const n=new Blob([t],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a"),s=URL.createObjectURL(n);r.setAttribute("href",s),r.setAttribute("download",e),document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(s)},GY=async t=>{Ge.info(`Preparing data export for "${t.name}"...`);let e=!1,n=0;try{const[r,s,o]=await Promise.all([Ir.filter({event_id:t.id}),qn.filter({event_id:t.id}),To.filter({event_id:t.id})]),l=t.name.replace(/[^a-z0-9]/gi,"_").toLowerCase(),c=new Date().toISOString().slice(0,16).replace(/[T:]/g,"_");Nf(Cf(r,[{key:"session_id",displayName:"Session ID"},{key:"first_name",displayName:"First Name"},{key:"age",displayName:"Age"},{key:"gender_identity",displayName:"Gender Identity"},{key:"interested_in",displayName:"Interested In"},{key:"interests",displayName:"Interests"},{key:"email",displayName:"Email"},{key:"is_visible",displayName:"Is Visible"},{key:"created_date",displayName:"Created Date"}]),`${l}_profiles_${c}.csv`),await new Promise(v=>setTimeout(v,500)),Nf(Cf(s,[{key:"liker_session_id",displayName:"Liker Session ID"},{key:"liked_session_id",displayName:"Liked Session ID"},{key:"is_mutual",displayName:"Is Mutual Match"},{key:"liker_notified_of_match",displayName:"Liker Notified"},{key:"liked_notified_of_match",displayName:"Liked User Notified"},{key:"created_date",displayName:"Created Date"}]),`${l}_likes_${c}.csv`),await new Promise(v=>setTimeout(v,500)),Nf(Cf(o,[{key:"sender_session_id",displayName:"Sender Session ID"},{key:"receiver_session_id",displayName:"Receiver Session ID"},{key:"content",displayName:"Message Content"},{key:"match_id",displayName:"Match ID"},{key:"is_read",displayName:"Is Read"},{key:"created_date",displayName:"Created Date"}]),`${l}_messages_${c}.csv`);try{const v=await Dw.filter({event_id:t.id});if(v&&v.length>0){const b=[{key:"session_id",displayName:"Session ID"},{key:"rating_profile_setup",displayName:"Rating: Profile Setup"},{key:"rating_interests_helpful",displayName:"Rating: Interests Helpful"},{key:"rating_social_usefulness",displayName:"Rating: Social Usefulness"},{key:"met_match_in_person",displayName:"Met Match In Person"},{key:"open_to_other_event_types",displayName:"Open to Other Event Types"},{key:"match_experience_feedback",displayName:"Match Experience Feedback"},{key:"general_feedback",displayName:"General Feedback"},{key:"created_date",displayName:"Created Date"}];await new Promise(S=>setTimeout(S,500)),Nf(Cf(v,b),`${l}_feedbacks_${c}.csv`),e=!0,n=v.length}}catch(v){console.warn(`Error downloading feedback data for event ${t.id}:`,v)}let y=`Successfully downloaded ${r.length} profiles, ${s.length} likes, and ${o.length} messages for "${t.name}".`;e?y+=` (${n} feedback responses also exported).`:y+=" (No feedback data found or feedback export skipped).",Ge.success(y)}catch(r){console.error(`Error downloading data for event ${t.id}:`,r),Ge.error("Failed to download event data. Please try again.")}},YY="HOOKEDADMIN24",qy=t=>`/${t.startsWith("/")?t.substring(1):t}`;function QY(){const[t,e]=x.useState(""),[n,r]=x.useState(!1),[s,o]=x.useState([]),[l,c]=x.useState(!1),[d,h]=x.useState(null),[g,y]=x.useState({form:!1,analytics:!1,delete:!1,feedbacks:!1}),[v,b]=x.useState(null);x.useEffect(()=>{n&&k()},[n]);const S=L=>{L.preventDefault(),t===YY?(r(!0),Ge.success("Authentication successful!")):Ge.error("Incorrect passcode.")},k=async()=>{c(!0);try{const L=await ms.list("-created_date");o(L)}catch(L){console.error("Error fetching events:",L),Ge.error("Failed to load events.")}c(!1)},T=(L,F=null)=>{b(F),y(q=>({...q,[L]:!0}))},C=()=>{y({form:!1,analytics:!1,delete:!1,feedbacks:!1}),b(null)},P=async()=>{if(v)try{await ms.delete(v.id),Ge.success(`Event "${v.name}" deleted successfully.`),C(),k()}catch(L){Ge.error("Failed to delete event. See console for details."),console.error("Delete error:",L)}},R=async L=>{h(L.id);try{await GY(L)}finally{h(null)}};return n?f.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 p-4 md:p-8",children:[f.jsx(pv,{position:"bottom-right"}),f.jsxs("div",{className:"max-w-7xl mx-auto",children:[f.jsxs("header",{className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Event Management"}),f.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:"Create and manage Hooked events"})]}),f.jsxs(Re,{onClick:()=>T("form"),className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:[f.jsx(aE,{className:"h-4 w-4 mr-2"})," Create Event"]})]}),l?f.jsx("div",{className:"flex justify-center items-center h-64",children:f.jsx(Zy,{className:"h-8 w-8 animate-spin text-purple-600"})}):s.length===0?f.jsxs("div",{className:"text-center py-12",children:[f.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No events yet"}),f.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"Get started by creating your first event."}),f.jsxs(Re,{onClick:()=>T("form"),className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:[f.jsx(aE,{className:"h-4 w-4 mr-2"})," Create Your First Event"]})]}):f.jsx("div",{className:"space-y-6",children:s.map(L=>{var M,N,O;const F=new Date,q=L.starts_at&&L.expires_at&&new Date(L.starts_at)<=F&&F<=new Date(L.expires_at);return f.jsxs(at,{className:"shadow-lg overflow-hidden bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[f.jsx(gn,{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white p-6",children:f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsx(cn,{className:"text-2xl font-bold mb-2",children:L.name}),f.jsxs("div",{className:"flex items-center gap-4 text-blue-100",children:[f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsx(Pv,{className:"h-4 w-4"}),((M=L.event_code)==null?void 0:M.toUpperCase())||"No Code"]}),L.location&&f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsx(wO,{className:"h-4 w-4"}),L.location]})]})]}),f.jsx(Yn,{variant:q?"default":"secondary",className:q?"bg-green-500 text-white":"bg-gray-500 text-white",children:q?"Active":"Inactive"})]})}),f.jsxs(lt,{className:"p-6",children:[f.jsxs("div",{className:"mb-6",children:[f.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Schedule"}),f.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Starts: ",L.starts_at?new Date(L.starts_at).toLocaleString():"Not set"]}),f.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Expires: ",new Date(L.expires_at).toLocaleString()]})]}),f.jsxs("div",{className:"mb-6",children:[f.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Join Link"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Mn,{value:`${window.location.origin}${qy(`join?code=${((N=L.event_code)==null?void 0:N.toUpperCase())||""}`)}`,readOnly:!0,className:"bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white border-gray-300 dark:border-gray-600"}),f.jsx(Re,{onClick:()=>{var V;navigator.clipboard.writeText(`${window.location.origin}${qy(`join?code=${((V=L.event_code)==null?void 0:V.toUpperCase())||""}`)}`),Ge.success("Join link copied to clipboard!")},variant:"outline",size:"icon",className:"border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600",children:f.jsx(nO,{className:"h-4 w-4"})})]})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"QR Code"}),f.jsx(IY,{url:`${window.location.origin}${qy(`join?code=${((O=L.event_code)==null?void 0:O.toUpperCase())||""}`)}`,fileName:`${L.name}_QR.png`})]})]}),f.jsxs(zR,{className:"bg-gray-50 dark:bg-gray-700 p-4 flex flex-wrap gap-2 justify-end border-t border-gray-200 dark:border-gray-600",children:[f.jsxs(Re,{variant:"outline",onClick:()=>T("analytics",L),className:"border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600",children:[f.jsx(Hj,{className:"h-4 w-4 mr-2"})," Analytics"]}),f.jsxs(Re,{variant:"outline",onClick:()=>T("feedbacks",L),className:"border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600",children:[f.jsx(e0,{className:"h-4 w-4 mr-2"})," Feedbacks"]}),f.jsxs(Re,{variant:"outline",onClick:()=>T("form",L),className:"border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600",children:[f.jsx(Df,{className:"h-4 w-4 mr-2"})," Edit"]}),f.jsxs(Re,{onClick:()=>R(L),disabled:d===L.id,className:"bg-blue-600 hover:bg-blue-700 text-white",children:[d===L.id?f.jsx(Zy,{className:"h-4 w-4 animate-spin mr-2"}):f.jsx(mT,{className:"h-4 w-4 mr-2"}),"Download Data"]}),f.jsxs(Re,{variant:"outline",onClick:()=>Ge.info("Coming soon!"),className:"border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600",children:[f.jsx(cO,{className:"h-4 w-4 mr-2"}),"Download QR Sign"]}),f.jsxs(Re,{variant:"destructive",onClick:()=>T("delete",L),className:"bg-red-600 hover:bg-red-700 text-white",children:[f.jsx(vT,{className:"h-4 w-4 mr-2"})," Delete"]})]})]},L.id)})}),g.form&&f.jsx(CY,{event:v,isOpen:!0,onClose:C,onSuccess:()=>{C(),k()}}),g.analytics&&v&&f.jsx(NY,{event:v,isOpen:!0,onClose:C}),g.feedbacks&&v&&f.jsx(KY,{event:v,isOpen:!0,onClose:C}),g.delete&&v&&f.jsx(HY,{isOpen:!0,onClose:C,onConfirm:P,eventName:v.name})]})]}):f.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 flex flex-col items-center justify-center p-4",children:[f.jsx(pv,{richColors:!0,position:"top-center"}),f.jsxs(at,{className:"w-full max-w-md shadow-xl bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[f.jsx(gn,{children:f.jsx(cn,{className:"text-2xl font-bold text-center text-gray-800 dark:text-gray-100",children:"Admin Access"})}),f.jsx(lt,{children:f.jsxs("form",{onSubmit:S,className:"space-y-6",children:[f.jsx(Mn,{id:"password",type:"password",value:t,onChange:L=>e(L.target.value),placeholder:"Enter Passcode",className:"mt-1 block w-full bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white",required:!0,autoFocus:!0}),f.jsx(Re,{type:"submit",className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white",children:"Authenticate"})]})})]})]})}function XY(){const t=Zs(),[e,n]=x.useState(!0),[r,s]=x.useState(null);x.useEffect(()=>{l()},[]);const o=async(d=10,h=500)=>{for(let g=0;g<d;g++){try{const y=await Pa.me();if(y&&y.email)return y}catch{}await new Promise(y=>setTimeout(y,h))}return null},l=async()=>{try{const h=new URLSearchParams(window.location.search).get("code");if(!h){s("No event code provided in the URL."),n(!1);return}const g=await ms.filter({event_code:h.toUpperCase()});if(g.length===0){s("Invalid event code."),n(!1);return}const y=g[0],v=new Date().toISOString();if(!y.starts_at||!y.expires_at){s("This event is not configured correctly. Please contact the organizer."),n(!1);return}const b=y.starts_at<=v&&v<y.expires_at;if(v<y.starts_at){s("This event hasn't started yet. Try again soon!"),n(!1);return}if(v>=y.expires_at){s("This event has ended."),n(!1);return}localStorage.setItem("currentEventId",y.id),localStorage.setItem("currentEventCode",y.event_code);const S=await o();if(S&&S.email){const T=S.email.toLowerCase(),P=(await Ir.list()).filter(R=>R.event_id===y.id&&R.email===T);if(P.length>0){const R=P[0];localStorage.setItem("currentSessionId",R.session_id),localStorage.setItem("currentProfileId",R.id),localStorage.setItem("currentProfileColor",R.profile_color||"#cccccc"),R.profile_photo_url&&localStorage.setItem("currentProfilePhotoUrl",R.profile_photo_url),console.log(`Found existing profile for ${S.email} in event ${y.name}`),t(it("Discovery"));return}}const k=localStorage.getItem("currentSessionId");if(k)try{if((await Ir.filter({session_id:k,event_id:y.id})).length>0){t(it("Discovery"));return}}catch(T){console.warn("Error checking existing profile:",T)}t(it("Consent"))}catch(d){console.error("Error processing event join:",d),s("Unable to process event access. Please try again."),n(!1)}},c=()=>{t(it("Home"))};return e?f.jsx("div",{className:"min-h-screen bg-white dark:bg-gray-900 flex items-center justify-center p-4",children:f.jsx(at,{className:"border-0 shadow-xl max-w-md w-full bg-white dark:bg-gray-800",children:f.jsxs(lt,{className:"p-8 text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-6"}),f.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Joining Event..."}),f.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Please wait while we verify your event access."})]})})}):r?f.jsx("div",{className:"min-h-screen bg-white dark:bg-gray-900 flex items-center justify-center p-4",children:f.jsx(at,{className:"border-0 shadow-xl max-w-md w-full bg-white dark:bg-gray-800",children:f.jsxs(lt,{className:"p-8 text-center",children:[f.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/20 rounded-full flex items-center justify-center mx-auto mb-6",children:f.jsx(Av,{className:"w-8 h-8 text-red-600 dark:text-red-400"})}),f.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Unable to Join Event"}),f.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:r}),f.jsx("div",{className:"flex gap-3",children:f.jsx(Re,{onClick:c,className:"w-full bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700 text-white",children:"Return to Home"})})]})})}):f.jsx("div",{className:"min-h-screen bg-white dark:bg-gray-900 flex items-center justify-center p-4",children:f.jsx(at,{className:"border-0 shadow-xl max-w-md w-full bg-white dark:bg-gray-800",children:f.jsxs(lt,{className:"p-8 text-center",children:[f.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Processing..."}),f.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Redirecting you to the event."})]})})})}var km="Switch",[JY,kQ]=Za(km),[ZY,eQ]=JY(km),$2=x.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:o,required:l,disabled:c,value:d="on",onCheckedChange:h,form:g,...y}=t,[v,b]=x.useState(null),S=ct(e,R=>b(R)),k=x.useRef(!1),T=v?g||!!v.closest("form"):!0,[C,P]=wd({prop:s,defaultProp:o??!1,onChange:h,caller:km});return f.jsxs(ZY,{scope:n,checked:C,disabled:c,children:[f.jsx(nt.button,{type:"button",role:"switch","aria-checked":C,"aria-required":l,"data-state":q2(C),"data-disabled":c?"":void 0,disabled:c,value:d,...y,ref:S,onClick:st(t.onClick,R=>{P(L=>!L),T&&(k.current=R.isPropagationStopped(),k.current||R.stopPropagation())})}),T&&f.jsx(W2,{control:v,bubbles:!k.current,name:r,value:d,checked:C,required:l,disabled:c,form:g,style:{transform:"translateX(-100%)"}})]})});$2.displayName=km;var z2="SwitchThumb",H2=x.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=eQ(z2,n);return f.jsx(nt.span,{"data-state":q2(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});H2.displayName=z2;var tQ="SwitchBubbleInput",W2=x.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...s},o)=>{const l=x.useRef(null),c=ct(l,o),d=Nx(n),h=Sx(e);return x.useEffect(()=>{const g=l.current;if(!g)return;const y=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(y,"checked").set;if(d!==n&&b){const S=new Event("click",{bubbles:r});b.call(g,n),g.dispatchEvent(S)}},[d,n,r]),f.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:c,style:{...s.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});W2.displayName=tQ;function q2(t){return t?"checked":"unchecked"}var K2=$2,nQ=H2;const G2=x.forwardRef(({className:t,...e},n)=>f.jsx(K2,{className:Fe("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:f.jsx(nQ,{className:Fe("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));G2.displayName=K2.displayName;const rQ=["music","tech","food","books","travel","art","fitness","nature","movies","business","photography","dancing","yoga","gaming","comedy","startups","fashion","spirituality","volunteering","crypto","cocktails","politics","hiking","design","podcasts","pets","wellness"];function Y2(){var L;const t=Zs(),[e,n]=x.useState(null),[r,s]=x.useState(null),[o,l]=x.useState({bio:!1,interests:!1,height:!1}),[c,d]=x.useState({bio:"",interests:[],height:""}),[h,g]=x.useState(!0),[y,v]=x.useState(!1),b=x.useCallback(async()=>{g(!0);try{const F=await Pa.me();if(!F){t(it("Home"));return}n(F),d({bio:F.bio||"",interests:F.interests||[],height:F.height||""});const q=localStorage.getItem("currentEventId"),M=localStorage.getItem("currentSessionId");if(q&&M){const N=await Ir.filter({event_id:q,session_id:M});N.length>0&&s(N[0])}}catch(F){console.error("Error loading profile data:",F),Ge.error("Failed to load profile.")}finally{g(!1)}},[t]);x.useEffect(()=>{b()},[b]);const S=F=>{l(q=>({...q,[F]:!q[F]}))},k=F=>{d(q=>{const M=q.interests.includes(F)?q.interests.filter(N=>N!==F):[...q.interests,F];return M.length>3?(Ge.warning("You can select up to 3 interests."),q):{...q,interests:M}})},T=async F=>{try{await Pa.updateMyUserData({[F]:c[F]}),Ge.success(`${F.charAt(0).toUpperCase()+F.slice(1)} updated!`),S(F),await b()}catch(q){console.error(`Error updating ${F}:`,q),Ge.error(`Failed to update ${F}.`)}},C=async F=>{const q=F.target.files[0];if(q){v(!0);try{const{file_url:M}=await $R({file:q});await Pa.updateMyUserData({profile_photo_url:M}),Ge.success("Profile photo updated!"),await b()}catch(M){console.error("Error uploading photo:",M),Ge.error("Failed to upload photo.")}finally{v(!1)}}},P=async()=>{if(r)try{const F=!r.is_visible;await Ir.update(r.id,{is_visible:F}),s(q=>({...q,is_visible:F})),Ge.success(`Profile is now ${F?"visible":"hidden"}.`)}catch(F){console.error("Error updating visibility:",F),Ge.error("Failed to update visibility.")}},R=async()=>{if(!(!r||!confirm("Are you sure you want to leave this event? This will delete your profile for this event and cannot be undone.")))try{await Ir.delete(r.id),localStorage.removeItem("currentEventId"),localStorage.removeItem("currentSessionId"),localStorage.removeItem("currentEventCode"),localStorage.removeItem("currentProfileColor"),localStorage.removeItem("currentProfilePhotoUrl"),Ge.success("You have left the event."),t(it("Home"))}catch(F){console.error("Error leaving event:",F),Ge.error("Failed to leave event.")}};return h?f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white dark:bg-gray-900",children:f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"})}):f.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900 pb-20",children:[f.jsx("style",{children:`
        .visibility-switch[data-state='checked'] {
          background-color: #34D399;
        }
        .visibility-switch[data-state='unchecked'] {
          background-color: #E5E7EB;
        }
        .dark .visibility-switch[data-state='unchecked'] {
          background-color: #4B5563;
        }
        .visibility-switch span {
          background-color: white !important;
        }
      `}),f.jsxs("div",{className:"max-w-md mx-auto px-4 py-8",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsxs("div",{className:"relative w-24 h-24 mx-auto mb-4",children:[f.jsxs("label",{htmlFor:"profile-photo-upload",className:"cursor-pointer group",children:[e.profile_photo_url?f.jsx("img",{src:e.profile_photo_url,alt:"Profile",className:"w-24 h-24 rounded-full object-cover border-4 border-white dark:border-gray-800 shadow-lg"}):f.jsx("div",{className:"w-24 h-24 rounded-full flex items-center justify-center text-white font-semibold text-4xl",style:{backgroundColor:e.profile_color},children:e.full_name?e.full_name[0]:"?"}),f.jsx("div",{className:"absolute inset-0 rounded-full bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:f.jsx(Xy,{className:"w-8 h-8 text-white"})})]}),f.jsx("input",{id:"profile-photo-upload",type:"file",accept:"image/*",onChange:C,className:"hidden",disabled:y}),y&&f.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-full",children:f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-white"})})]}),f.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.full_name}),f.jsxs("p",{className:"text-gray-500 dark:text-gray-400",children:[e.age," years old"]})]}),f.jsxs(at,{className:"border-0 shadow-lg mb-6 bg-white dark:bg-gray-800",children:[f.jsxs(gn,{className:"flex flex-row items-center justify-between",children:[f.jsx(cn,{className:"text-lg text-gray-900 dark:text-white",children:"About Me"}),f.jsx(Re,{variant:"ghost",size:"icon",onClick:()=>S("bio"),className:"text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-gray-100",children:o.bio?f.jsx(yn,{className:"w-4 h-4"}):f.jsx(Df,{className:"w-4 h-4"})})]}),f.jsx(lt,{children:o.bio?f.jsxs("div",{className:"space-y-4",children:[f.jsx(gd,{value:c.bio,onChange:F=>d(q=>({...q,bio:F.target.value})),placeholder:"Tell us a little about yourself...",className:"h-24 bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white placeholder:text-gray-400 dark:placeholder:text-gray-500"}),f.jsxs(Re,{onClick:()=>T("bio"),className:"w-full bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700 text-white rounded-xl py-2",children:[f.jsx(Rf,{className:"w-4 h-4 mr-2"})," Save Bio"]})]}):f.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:e.bio||"No bio yet. Add one!"})})]}),f.jsxs(at,{className:"border-0 shadow-lg mb-6 bg-white dark:bg-gray-800",children:[f.jsxs(gn,{className:"flex flex-row items-center justify-between",children:[f.jsx(cn,{className:"text-lg text-gray-900 dark:text-white",children:"Interests"}),f.jsx(Re,{variant:"ghost",size:"icon",onClick:()=>S("interests"),className:"text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-gray-100",children:o.interests?f.jsx(yn,{className:"w-4 h-4"}):f.jsx(Df,{className:"w-4 h-4"})})]}),f.jsx(lt,{children:o.interests?f.jsxs("div",{className:"space-y-4",children:[f.jsx("div",{className:"flex flex-wrap gap-2",children:rQ.map(F=>f.jsx(Yn,{onClick:()=>k(F),className:`cursor-pointer px-3 py-2 rounded-full transition-all ${c.interests.includes(F)?"interest-chip-selected bg-gradient-to-r from-purple-500 to-pink-600 text-white hover:from-purple-600 hover:to-pink-700":"interest-chip-default border-2 border-gray-200 dark:border-gray-600 hover:border-purple-300 dark:hover:border-purple-400 text-gray-600 dark:text-gray-300 hover:text-purple-600 dark:hover:text-purple-400 bg-white dark:bg-gray-800"}`,children:F},F))}),f.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[c.interests.length," / 3 selected"]}),f.jsxs(Re,{onClick:()=>T("interests"),className:"w-full bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700 text-white rounded-xl py-2",children:[f.jsx(Rf,{className:"w-4 h-4 mr-2"})," Save Interests"]})]}):f.jsx("div",{className:"flex flex-wrap gap-2",children:((L=e.interests)==null?void 0:L.map(F=>f.jsx(Yn,{className:"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300",children:F},F)))||f.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No interests added yet."})})})]}),f.jsxs(at,{className:"border-0 shadow-lg mb-6 bg-white dark:bg-gray-800",children:[f.jsxs(gn,{className:"flex flex-row items-center justify-between",children:[f.jsx(cn,{className:"text-lg text-gray-900 dark:text-white",children:"Height"}),f.jsx(Re,{variant:"ghost",size:"icon",onClick:()=>S("height"),className:"text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-gray-100",children:o.height?f.jsx(yn,{className:"w-4 h-4"}):f.jsx(Df,{className:"w-4 h-4"})})]}),f.jsx(lt,{children:o.height?f.jsxs("div",{className:"space-y-4",children:[f.jsx(Mn,{type:"number",value:c.height,onChange:F=>d(q=>({...q,height:F.target.value})),placeholder:"Height in cm",className:"w-full height-input bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white placeholder:text-gray-400 dark:placeholder:text-gray-500"}),f.jsxs(Re,{onClick:()=>T("height"),className:"w-full bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700 text-white rounded-xl py-2",children:[f.jsx(Rf,{className:"w-4 h-4 mr-2"})," Save Height"]})]}):f.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:e.height?`${e.height} cm`:"Not specified"})})]}),r&&f.jsxs(f.Fragment,{children:[f.jsxs(at,{className:"border-0 shadow-lg mb-6 bg-white dark:bg-gray-800",children:[f.jsxs(gn,{className:"flex flex-row items-center justify-between",children:[f.jsxs(cn,{className:"flex items-center gap-2 text-lg text-gray-900 dark:text-white",children:[r.is_visible?f.jsx(aO,{className:"w-5 h-5 text-green-500"}):f.jsx(iO,{className:"w-5 h-5 text-gray-400 dark:text-gray-500"}),"Event Visibility"]}),f.jsx(G2,{checked:r.is_visible,onCheckedChange:P,className:"visibility-switch"})]}),f.jsx(lt,{children:f.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:r.is_visible?"Your profile is visible to others at the current event.":"You are currently hidden from other attendees."})})]}),f.jsxs(at,{className:"border-0 shadow-lg border-red-100 dark:border-red-900/20 bg-white dark:bg-gray-800",children:[f.jsx(gn,{children:f.jsxs(cn,{className:"flex items-center gap-2 text-lg text-red-600 dark:text-red-400",children:[f.jsx(mO,{className:"w-5 h-5"}),"Leave Event"]})}),f.jsxs(lt,{children:[f.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4",children:"Permanently remove your profile from this event. This action cannot be undone."}),f.jsxs(Re,{onClick:R,variant:"destructive",className:"w-full h-auto whitespace-normal",children:[f.jsx(vT,{className:"w-4 h-4 mr-2"}),"Leave Event & Delete Event Profile"]})]})]})]}),f.jsxs(at,{className:"border-0 shadow-lg mb-6 mt-8 bg-white dark:bg-gray-800",children:[f.jsx(gn,{children:f.jsxs(cn,{className:"flex items-center gap-2 text-lg text-gray-900 dark:text-white",children:[f.jsx(Av,{className:"w-5 h-5 text-orange-500"}),"Safety & Reporting"]})}),f.jsxs(lt,{children:[f.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"If you encounter inappropriate behavior, you can report users to event moderators."}),f.jsx(Re,{variant:"outline",className:"w-full border-orange-200 dark:border-orange-700 text-orange-600 dark:text-orange-400 hover:bg-orange-50 dark:hover:bg-orange-900/20 bg-white dark:bg-gray-800",onClick:()=>{alert("Report functionality will be implemented soon.")},children:"Report a User"})]})]}),f.jsxs(at,{className:"border-0 shadow-lg mb-6 bg-white dark:bg-gray-800",children:[f.jsx(gn,{children:f.jsxs(cn,{className:"flex items-center gap-2 text-lg text-gray-900 dark:text-white",children:[f.jsx(pT,{className:"w-5 h-5 text-blue-500"}),"Automatic Data Expiration"]})}),f.jsxs(lt,{children:[f.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"Your profile, matches, and chat messages will be automatically deleted when this event ends. No data is stored permanently."}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex items-center gap-2 text-blue-600 dark:text-blue-400",children:[f.jsx(Fl,{className:"w-4 h-4"}),f.jsx("span",{className:"text-sm",children:"Profile expires automatically"})]}),f.jsxs("div",{className:"flex items-center gap-2 text-blue-600 dark:text-blue-400",children:[f.jsx(Fl,{className:"w-4 h-4"}),f.jsx("span",{className:"text-sm",children:"Messages deleted at midnight"})]}),f.jsxs("div",{className:"flex items-center gap-2 text-blue-600 dark:text-blue-400",children:[f.jsx(Fl,{className:"w-4 h-4"}),f.jsx("span",{className:"text-sm",children:"No permanent account created"})]})]})]})]}),f.jsxs(at,{className:"border-0 shadow-lg mb-6 bg-white dark:bg-gray-800",children:[f.jsx(gn,{children:f.jsxs(cn,{className:"flex items-center gap-2 text-lg text-gray-900 dark:text-white",children:[f.jsx(yO,{className:"w-5 h-5 text-purple-500"}),"Email Data Usage"]})}),f.jsxs(lt,{children:[f.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"Your email address is only used for post-event feedback surveys and is never visible to other users at this event."}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex items-center gap-2 text-purple-600 dark:text-purple-400",children:[f.jsx(Fl,{className:"w-4 h-4"}),f.jsx("span",{className:"text-sm",children:"Only used for feedback requests"})]}),f.jsxs("div",{className:"flex items-center gap-2 text-purple-600 dark:text-purple-400",children:[f.jsx(Fl,{className:"w-4 h-4"}),f.jsx("span",{className:"text-sm",children:"Never shared with other users"})]}),f.jsxs("div",{className:"flex items-center gap-2 text-purple-600 dark:text-purple-400",children:[f.jsx(Fl,{className:"w-4 h-4"}),f.jsx("span",{className:"text-sm",children:"Not used for marketing purposes"})]})]})]})]})]}),f.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 z-30",children:f.jsx("div",{className:"max-w-md mx-auto px-4 py-3",children:f.jsxs("div",{className:"flex justify-around",children:[f.jsxs("button",{className:"flex flex-col items-center gap-1 py-2 px-4 text-purple-600 dark:text-purple-400",children:[f.jsx(Sd,{className:"w-6 h-6"}),f.jsx("span",{className:"text-xs font-medium",children:"Profile"})]}),f.jsxs("button",{onClick:()=>t(it("Discovery")),className:"flex flex-col items-center gap-1 py-2 px-4 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300",children:[f.jsx(Ma,{className:"w-6 h-6"}),f.jsx("span",{className:"text-xs",children:"Discover"})]}),f.jsxs("button",{onClick:()=>t(it("Matches")),className:"flex flex-col items-center gap-1 py-2 px-4 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300",children:[f.jsx(dc,{className:"w-6 h-6"}),f.jsx("span",{className:"text-xs",children:"Matches"})]})]})})})]})}const z1={Home:mv,Consent:HR,Discovery:a2,Matches:h2,admin:QY,join:XY,Profile:Y2};function sQ(t){t.endsWith("/")&&(t=t.slice(0,-1));let e=t.split("/").pop();return e.includes("?")&&(e=e.split("?")[0]),Object.keys(z1).find(r=>r.toLowerCase()===e.toLowerCase())||Object.keys(z1)[0]}function iQ(){const t=Vi(),e=sQ(t.pathname);return f.jsx(AK,{currentPageName:e,children:f.jsxs(sj,{children:[f.jsx(wi,{path:"/",element:f.jsx(mv,{})}),f.jsx(wi,{path:"/Home",element:f.jsx(mv,{})}),f.jsx(wi,{path:"/Consent",element:f.jsx(HR,{})}),f.jsx(wi,{path:"/Discovery",element:f.jsx(a2,{})}),f.jsx(wi,{path:"/Matches",element:f.jsx(h2,{})}),f.jsx(wi,{path:"/admin",element:f.jsx("admin",{})}),f.jsx(wi,{path:"/join",element:f.jsx("join",{})}),f.jsx(wi,{path:"/Profile",element:f.jsx(Y2,{})})]})})}function oQ(){return f.jsx(Ij,{children:f.jsx(iQ,{})})}const aQ=20,lQ=1e6,bi={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let Ky=0;function cQ(){return Ky=(Ky+1)%Number.MAX_VALUE,Ky.toString()}const Gy=new Map,H1=t=>{if(Gy.has(t))return;const e=setTimeout(()=>{Gy.delete(t),Xu({type:bi.REMOVE_TOAST,toastId:t})},lQ);Gy.set(t,e)},uQ=(t,e)=>{switch(e.type){case bi.ADD_TOAST:return{...t,toasts:[e.toast,...t.toasts].slice(0,aQ)};case bi.UPDATE_TOAST:return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case bi.DISMISS_TOAST:{const{toastId:n}=e;return n?H1(n):t.toasts.forEach(r=>{H1(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case bi.REMOVE_TOAST:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Zf=[];let ep={toasts:[]};function Xu(t){ep=uQ(ep,t),Zf.forEach(e=>{e(ep)})}function dQ({...t}){const e=cQ(),n=s=>Xu({type:bi.UPDATE_TOAST,toast:{...s,id:e}}),r=()=>Xu({type:bi.DISMISS_TOAST,toastId:e});return Xu({type:bi.ADD_TOAST,toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function hQ(){const[t,e]=x.useState(ep);return x.useEffect(()=>(Zf.push(e),()=>{const n=Zf.indexOf(e);n>-1&&Zf.splice(n,1)}),[t]),{...t,toast:dQ,dismiss:n=>Xu({type:bi.DISMISS_TOAST,toastId:n})}}const Q2=x.forwardRef(({...t},e)=>f.jsx("div",{ref:e,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...t}));Q2.displayName="ToastProvider";const X2=x.forwardRef(({...t},e)=>f.jsx("div",{ref:e,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...t}));X2.displayName="ToastViewport";const fQ=lm("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),J2=x.forwardRef(({className:t,variant:e,...n},r)=>f.jsx("div",{ref:r,className:Fe(fQ({variant:e}),t),...n}));J2.displayName="Toast";const pQ=x.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:Fe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));pQ.displayName="ToastAction";const Z2=x.forwardRef(({className:t,...e},n)=>f.jsx("button",{ref:n,className:Fe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:f.jsx(yn,{className:"h-4 w-4"})}));Z2.displayName="ToastClose";const eD=x.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:Fe("text-sm font-semibold",t),...e}));eD.displayName="ToastTitle";const tD=x.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:Fe("text-sm opacity-90",t),...e}));tD.displayName="ToastDescription";function mQ(){const{toasts:t}=hQ();return f.jsxs(Q2,{children:[t.map(function({id:e,title:n,description:r,action:s,...o}){return f.jsxs(J2,{...o,children:[f.jsxs("div",{className:"grid gap-1",children:[n&&f.jsx(eD,{children:n}),r&&f.jsx(tD,{children:r})]}),s,f.jsx(Z2,{})]},e)}),f.jsx(X2,{})]})}function gQ(){return f.jsxs(f.Fragment,{children:[f.jsx(oQ,{}),f.jsx(mQ,{})]})}pM.createRoot(document.getElementById("root")).render(f.jsx(gQ,{}));
